current path: saved_models/model_cifar_Nov.13_08.11.12
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.1 and current epoch is 201
create model done
Poisoned following participants: [17, 33, 77, 11]
We use following environment for graphs:  cifar
----------------------------------Start one training epoch------------------------------------------
Server Epoch:201 choose agents : [37, 53, 39, 11, 57, 63, 48, 50, 72, 88]. Adversary List: []
___Train Local_ResNet_18,  epoch 201, local model 37, internal_epoch   1,  Average loss: 0.0088, Accuracy: 600/725 (82.7586%)
___Train Local_ResNet_18,  epoch 201, local model 37, internal_epoch   2,  Average loss: 0.0172, Accuracy: 523/725 (72.1379%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 16.3412, Accuracy: 2508/10000 (25.0800%)
___Train Local_ResNet_18,  epoch 201, local model 53, internal_epoch   1,  Average loss: 0.0048, Accuracy: 564/625 (90.2400%)
___Train Local_ResNet_18,  epoch 201, local model 53, internal_epoch   2,  Average loss: 0.0037, Accuracy: 581/625 (92.9600%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 5.0808, Accuracy: 2713/10000 (27.1300%)
___Train Local_ResNet_18,  epoch 201, local model 39, internal_epoch   1,  Average loss: 0.0081, Accuracy: 182/217 (83.8710%)
___Train Local_ResNet_18,  epoch 201, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.2916, Accuracy: 3032/10000 (30.3200%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 201, local model 11, internal_epoch   1,  Average loss: 0.0036, Accuracy: 508/546 (93.0403%)
___Train Local_ResNet_18,  epoch 201, local model 11, internal_epoch   2,  Average loss: 0.0023, Accuracy: 519/546 (95.0549%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.2106, Accuracy: 5029/10000 (50.2900%)
___Train Local_ResNet_18,  epoch 201, local model 57, internal_epoch   1,  Average loss: 0.0064, Accuracy: 251/290 (86.5517%)
___Train Local_ResNet_18,  epoch 201, local model 57, internal_epoch   2,  Average loss: 0.0012, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.9001, Accuracy: 3816/10000 (38.1600%)
___Train Local_ResNet_18,  epoch 201, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 703/752 (93.4840%)
___Train Local_ResNet_18,  epoch 201, local model 63, internal_epoch   2,  Average loss: 0.0028, Accuracy: 710/752 (94.4149%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.3912, Accuracy: 4943/10000 (49.4300%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   1,  Average loss: 0.0063, Accuracy: 327/378 (86.5079%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   2,  Average loss: 0.0024, Accuracy: 358/378 (94.7090%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.1192, Accuracy: 3979/10000 (39.7900%)
___Train Local_ResNet_18,  epoch 201, local model 50, internal_epoch   1,  Average loss: 0.0027, Accuracy: 384/401 (95.7606%)
___Train Local_ResNet_18,  epoch 201, local model 50, internal_epoch   2,  Average loss: 0.0022, Accuracy: 391/401 (97.5062%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.6410, Accuracy: 3809/10000 (38.0900%)
___Train Local_ResNet_18,  epoch 201, local model 72, internal_epoch   1,  Average loss: 0.0081, Accuracy: 527/618 (85.2751%)
___Train Local_ResNet_18,  epoch 201, local model 72, internal_epoch   2,  Average loss: 0.0083, Accuracy: 544/618 (88.0259%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 8.9531, Accuracy: 2957/10000 (29.5700%)
___Train Local_ResNet_18,  epoch 201, local model 88, internal_epoch   1,  Average loss: 0.0086, Accuracy: 372/447 (83.2215%)
___Train Local_ResNet_18,  epoch 201, local model 88, internal_epoch   2,  Average loss: 0.0050, Accuracy: 401/447 (89.7092%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.2840, Accuracy: 3031/10000 (30.3100%)
time spent on training: 60.40122985839844
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10922184436887378  data num: [725, 625, 217, 546, 290, 752, 378, 401, 618, 447]
[foolsgold agg] considering poison per batch poison_fraction: 0.008532956591318263
[foolsgold agg] wv: [1. 1. 1. 1. 0. 0. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 201: Average loss: 0.7347, Accuracy: 7598/10000 (75.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 201: Average loss: 6.6324, Accuracy: 200/9000 (2.2222%)
Done in 97.50752234458923 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:202 choose agents : [71, 92, 23, 26, 50, 14, 76, 49, 86, 58]. Adversary List: []
___Train Local_ResNet_18,  epoch 202, local model 71, internal_epoch   1,  Average loss: 0.0054, Accuracy: 1044/1166 (89.5369%)
___Train Local_ResNet_18,  epoch 202, local model 71, internal_epoch   2,  Average loss: 0.0087, Accuracy: 963/1166 (82.5901%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 6.4605, Accuracy: 3298/10000 (32.9800%)
___Train Local_ResNet_18,  epoch 202, local model 92, internal_epoch   1,  Average loss: 0.0080, Accuracy: 690/796 (86.6834%)
___Train Local_ResNet_18,  epoch 202, local model 92, internal_epoch   2,  Average loss: 0.0066, Accuracy: 694/796 (87.1859%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 4.0235, Accuracy: 3285/10000 (32.8500%)
___Train Local_ResNet_18,  epoch 202, local model 23, internal_epoch   1,  Average loss: 0.0051, Accuracy: 218/248 (87.9032%)
___Train Local_ResNet_18,  epoch 202, local model 23, internal_epoch   2,  Average loss: 0.0012, Accuracy: 244/248 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 3.4229, Accuracy: 3441/10000 (34.4100%)
___Train Local_ResNet_18,  epoch 202, local model 26, internal_epoch   1,  Average loss: 0.0061, Accuracy: 417/468 (89.1026%)
___Train Local_ResNet_18,  epoch 202, local model 26, internal_epoch   2,  Average loss: 0.0075, Accuracy: 406/468 (86.7521%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 3.3851, Accuracy: 3837/10000 (38.3700%)
___Train Local_ResNet_18,  epoch 202, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 383/401 (95.5112%)
___Train Local_ResNet_18,  epoch 202, local model 50, internal_epoch   2,  Average loss: 0.0010, Accuracy: 394/401 (98.2544%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.4046, Accuracy: 4950/10000 (49.5000%)
___Train Local_ResNet_18,  epoch 202, local model 14, internal_epoch   1,  Average loss: 0.0091, Accuracy: 259/318 (81.4465%)
___Train Local_ResNet_18,  epoch 202, local model 14, internal_epoch   2,  Average loss: 0.0027, Accuracy: 302/318 (94.9686%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 10.5787, Accuracy: 1811/10000 (18.1100%)
___Train Local_ResNet_18,  epoch 202, local model 76, internal_epoch   1,  Average loss: 0.0462, Accuracy: 57/65 (87.6923%)
___Train Local_ResNet_18,  epoch 202, local model 76, internal_epoch   2,  Average loss: 0.0028, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.4480, Accuracy: 3959/10000 (39.5900%)
___Train Local_ResNet_18,  epoch 202, local model 49, internal_epoch   1,  Average loss: 0.0040, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 202, local model 49, internal_epoch   2,  Average loss: 0.0018, Accuracy: 411/426 (96.4789%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.0035, Accuracy: 5044/10000 (50.4400%)
___Train Local_ResNet_18,  epoch 202, local model 86, internal_epoch   1,  Average loss: 0.0059, Accuracy: 189/212 (89.1509%)
___Train Local_ResNet_18,  epoch 202, local model 86, internal_epoch   2,  Average loss: 0.0023, Accuracy: 208/212 (98.1132%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 1.8401, Accuracy: 5570/10000 (55.7000%)
___Train Local_ResNet_18,  epoch 202, local model 58, internal_epoch   1,  Average loss: 0.0099, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 202, local model 58, internal_epoch   2,  Average loss: 0.0006, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 7.7081, Accuracy: 1681/10000 (16.8100%)
time spent on training: 50.959851026535034
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 796, 248, 468, 401, 318, 65, 426, 212, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.
 0.         1.         1.         0.85523454]
___Test Target_ResNet_18 poisoned: False, epoch: 202: Average loss: 0.7326, Accuracy: 7607/10000 (76.0700%)
___Test Target_ResNet_18 poisoned: True, epoch: 202: Average loss: 6.6434, Accuracy: 200/9000 (2.2222%)
Done in 88.43618297576904 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:203 choose agents : [17, 6, 94, 61, 33, 71, 8, 69, 89, 64]. Adversary List: [17]
poison local model 17 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   1,  Average loss: 0.0179, Accuracy: 443/526 (84.2205%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   2,  Average loss: 0.0174, Accuracy: 417/526 (79.2776%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   3,  Average loss: 0.0086, Accuracy: 452/526 (85.9316%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   4,  Average loss: 0.0052, Accuracy: 500/526 (95.0570%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   5,  Average loss: 0.0046, Accuracy: 505/526 (96.0076%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   6,  Average loss: 0.0020, Accuracy: 514/526 (97.7186%), train_poison_data_count: 45
Global model norm: 37.662595095610946.
Norm before scaling: 39.09547358310806. Distance: 12.031179611198317
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 1.6573, Accuracy: 4955/10000 (49.5500%)
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: 0.5034, Accuracy: 7568/9000 (84.0889%)
Scaling by  100
Scaled Norm after poisoning: 1202.2621906223285, distance: 1203.117824653928
Total norm for 2 adversaries is: 1202.2621906223285. distance: 1203.117824653928
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 478/520 (91.9231%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   2,  Average loss: 0.0037, Accuracy: 486/520 (93.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 2.9998, Accuracy: 4268/10000 (42.6800%)
___Train Local_ResNet_18,  epoch 203, local model 94, internal_epoch   1,  Average loss: 0.0082, Accuracy: 167/203 (82.2660%)
___Train Local_ResNet_18,  epoch 203, local model 94, internal_epoch   2,  Average loss: 0.0053, Accuracy: 189/203 (93.1034%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.8024, Accuracy: 2652/10000 (26.5200%)
___Train Local_ResNet_18,  epoch 203, local model 61, internal_epoch   1,  Average loss: 0.0042, Accuracy: 546/590 (92.5424%)
___Train Local_ResNet_18,  epoch 203, local model 61, internal_epoch   2,  Average loss: 0.0049, Accuracy: 533/590 (90.3390%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 5.6358, Accuracy: 2550/10000 (25.5000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 203, local model 33, internal_epoch   1,  Average loss: 0.0051, Accuracy: 477/527 (90.5123%)
___Train Local_ResNet_18,  epoch 203, local model 33, internal_epoch   2,  Average loss: 0.0045, Accuracy: 485/527 (92.0304%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.5383, Accuracy: 3099/10000 (30.9900%)
___Train Local_ResNet_18,  epoch 203, local model 71, internal_epoch   1,  Average loss: 0.0046, Accuracy: 1063/1166 (91.1664%)
___Train Local_ResNet_18,  epoch 203, local model 71, internal_epoch   2,  Average loss: 0.0070, Accuracy: 998/1166 (85.5918%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.7741, Accuracy: 4176/10000 (41.7600%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   1,  Average loss: 0.0045, Accuracy: 495/534 (92.6966%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   2,  Average loss: 0.0048, Accuracy: 497/534 (93.0712%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 2.1941, Accuracy: 4558/10000 (45.5800%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   1,  Average loss: 0.0072, Accuracy: 186/216 (86.1111%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 8.3881, Accuracy: 1282/10000 (12.8200%)
___Train Local_ResNet_18,  epoch 203, local model 89, internal_epoch   1,  Average loss: 0.0086, Accuracy: 344/413 (83.2930%)
___Train Local_ResNet_18,  epoch 203, local model 89, internal_epoch   2,  Average loss: 0.0044, Accuracy: 385/413 (93.2203%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 5.7097, Accuracy: 2509/10000 (25.0900%)
___Train Local_ResNet_18,  epoch 203, local model 64, internal_epoch   1,  Average loss: 0.0053, Accuracy: 601/686 (87.6093%)
___Train Local_ResNet_18,  epoch 203, local model 64, internal_epoch   2,  Average loss: 0.0057, Accuracy: 608/686 (88.6297%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.4787, Accuracy: 3976/10000 (39.7600%)
time spent on training: 92.2401978969574
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.19568853372979  data num: [526, 520, 203, 590, 527, 1166, 534, 216, 413, 686]
[foolsgold agg] considering poison per batch poison_fraction: 0.015288166697639844
[foolsgold agg] wv: [1.         1.         0.99018579 1.         1.         1.
 0.57809393 1.         0.73536931 0.57809393]
___Test Target_ResNet_18 poisoned: False, epoch: 203: Average loss: 0.7247, Accuracy: 7627/10000 (76.2700%)
___Test Target_ResNet_18 poisoned: True, epoch: 203: Average loss: 6.6199, Accuracy: 208/9000 (2.3111%)
Done in 129.43237733840942 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:204 choose agents : [38, 77, 64, 29, 23, 83, 43, 56, 45, 1]. Adversary List: []
___Train Local_ResNet_18,  epoch 204, local model 38, internal_epoch   1,  Average loss: 0.0035, Accuracy: 707/756 (93.5185%)
___Train Local_ResNet_18,  epoch 204, local model 38, internal_epoch   2,  Average loss: 0.0043, Accuracy: 697/756 (92.1958%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.5422, Accuracy: 4817/10000 (48.1700%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 204, local model 77, internal_epoch   1,  Average loss: 0.0037, Accuracy: 458/496 (92.3387%)
___Train Local_ResNet_18,  epoch 204, local model 77, internal_epoch   2,  Average loss: 0.0023, Accuracy: 476/496 (95.9677%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.4999, Accuracy: 5652/10000 (56.5200%)
___Train Local_ResNet_18,  epoch 204, local model 64, internal_epoch   1,  Average loss: 0.0045, Accuracy: 619/686 (90.2332%)
___Train Local_ResNet_18,  epoch 204, local model 64, internal_epoch   2,  Average loss: 0.0049, Accuracy: 627/686 (91.3994%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 5.0308, Accuracy: 2362/10000 (23.6200%)
___Train Local_ResNet_18,  epoch 204, local model 29, internal_epoch   1,  Average loss: 0.0069, Accuracy: 748/848 (88.2075%)
___Train Local_ResNet_18,  epoch 204, local model 29, internal_epoch   2,  Average loss: 0.0078, Accuracy: 732/848 (86.3208%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 8.5874, Accuracy: 2257/10000 (22.5700%)
___Train Local_ResNet_18,  epoch 204, local model 23, internal_epoch   1,  Average loss: 0.0050, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 204, local model 23, internal_epoch   2,  Average loss: 0.0015, Accuracy: 241/248 (97.1774%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.6553, Accuracy: 4102/10000 (41.0200%)
___Train Local_ResNet_18,  epoch 204, local model 83, internal_epoch   1,  Average loss: 0.0029, Accuracy: 343/366 (93.7158%)
___Train Local_ResNet_18,  epoch 204, local model 83, internal_epoch   2,  Average loss: 0.0010, Accuracy: 360/366 (98.3607%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.1986, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch 204, local model 43, internal_epoch   1,  Average loss: 0.0074, Accuracy: 300/345 (86.9565%)
___Train Local_ResNet_18,  epoch 204, local model 43, internal_epoch   2,  Average loss: 0.0023, Accuracy: 327/345 (94.7826%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 10.2428, Accuracy: 1884/10000 (18.8400%)
___Train Local_ResNet_18,  epoch 204, local model 56, internal_epoch   1,  Average loss: 0.0019, Accuracy: 716/743 (96.3661%)
___Train Local_ResNet_18,  epoch 204, local model 56, internal_epoch   2,  Average loss: 0.0017, Accuracy: 722/743 (97.1736%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.4250, Accuracy: 6084/10000 (60.8400%)
___Train Local_ResNet_18,  epoch 204, local model 45, internal_epoch   1,  Average loss: 0.0090, Accuracy: 451/529 (85.2552%)
___Train Local_ResNet_18,  epoch 204, local model 45, internal_epoch   2,  Average loss: 0.0112, Accuracy: 431/529 (81.4745%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 10.6579, Accuracy: 1266/10000 (12.6600%)
___Train Local_ResNet_18,  epoch 204, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 584/641 (91.1076%)
___Train Local_ResNet_18,  epoch 204, local model 1, internal_epoch   2,  Average loss: 0.0123, Accuracy: 522/641 (81.4353%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 7.5137, Accuracy: 3283/10000 (32.8300%)
time spent on training: 59.72335171699524
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08766348533050548  data num: [756, 496, 686, 848, 248, 366, 345, 743, 529, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.006848709791445741
[foolsgold agg] wv: [1.         1.         0.89099845 1.         1.         1.
 0.89099845 1.         0.98335458 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 204: Average loss: 0.7217, Accuracy: 7639/10000 (76.3900%)
___Test Target_ResNet_18 poisoned: True, epoch: 204: Average loss: 6.6025, Accuracy: 216/9000 (2.4000%)
Done in 98.69129133224487 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:205 choose agents : [33, 50, 16, 12, 44, 86, 20, 49, 43, 28]. Adversary List: [33]
poison local model 33 index 1 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   1,  Average loss: 0.0134, Accuracy: 444/527 (84.2505%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   2,  Average loss: 0.0119, Accuracy: 451/527 (85.5787%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   3,  Average loss: 0.0071, Accuracy: 470/527 (89.1841%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   4,  Average loss: 0.0040, Accuracy: 494/527 (93.7381%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   5,  Average loss: 0.0031, Accuracy: 505/527 (95.8254%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   6,  Average loss: 0.0034, Accuracy: 509/527 (96.5844%), train_poison_data_count: 45
Global model norm: 37.66306668072682.
Norm before scaling: 38.593786373970715. Distance: 10.131708630600794
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.7839, Accuracy: 4992/10000 (49.9200%)
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: 0.1787, Accuracy: 8466/9000 (94.0667%)
Scaling by  100
Scaled Norm after poisoning: 1012.307142126341, distance: 1013.1708271560132
Total norm for 1 adversaries is: 1012.307142126341. distance: 1013.1708271560132
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 205, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 383/401 (95.5112%)
___Train Local_ResNet_18,  epoch 205, local model 50, internal_epoch   2,  Average loss: 0.0016, Accuracy: 390/401 (97.2569%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.3872, Accuracy: 4626/10000 (46.2600%)
___Train Local_ResNet_18,  epoch 205, local model 16, internal_epoch   1,  Average loss: 0.0063, Accuracy: 707/773 (91.4618%)
___Train Local_ResNet_18,  epoch 205, local model 16, internal_epoch   2,  Average loss: 0.0209, Accuracy: 508/773 (65.7180%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 97.9816, Accuracy: 1296/10000 (12.9600%)
___Train Local_ResNet_18,  epoch 205, local model 12, internal_epoch   1,  Average loss: 0.0068, Accuracy: 860/977 (88.0246%)
___Train Local_ResNet_18,  epoch 205, local model 12, internal_epoch   2,  Average loss: 0.0070, Accuracy: 840/977 (85.9775%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 13.3437, Accuracy: 2188/10000 (21.8800%)
___Train Local_ResNet_18,  epoch 205, local model 44, internal_epoch   1,  Average loss: 0.0049, Accuracy: 388/436 (88.9908%)
___Train Local_ResNet_18,  epoch 205, local model 44, internal_epoch   2,  Average loss: 0.0025, Accuracy: 415/436 (95.1835%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 3.0543, Accuracy: 3906/10000 (39.0600%)
___Train Local_ResNet_18,  epoch 205, local model 86, internal_epoch   1,  Average loss: 0.0051, Accuracy: 188/212 (88.6792%)
___Train Local_ResNet_18,  epoch 205, local model 86, internal_epoch   2,  Average loss: 0.0037, Accuracy: 208/212 (98.1132%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.6075, Accuracy: 5721/10000 (57.2100%)
___Train Local_ResNet_18,  epoch 205, local model 20, internal_epoch   1,  Average loss: 0.0080, Accuracy: 307/362 (84.8066%)
___Train Local_ResNet_18,  epoch 205, local model 20, internal_epoch   2,  Average loss: 0.0017, Accuracy: 347/362 (95.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 5.3146, Accuracy: 3087/10000 (30.8700%)
___Train Local_ResNet_18,  epoch 205, local model 49, internal_epoch   1,  Average loss: 0.0037, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 205, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 420/426 (98.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.4825, Accuracy: 4526/10000 (45.2600%)
___Train Local_ResNet_18,  epoch 205, local model 43, internal_epoch   1,  Average loss: 0.0085, Accuracy: 299/345 (86.6667%)
___Train Local_ResNet_18,  epoch 205, local model 43, internal_epoch   2,  Average loss: 0.0048, Accuracy: 325/345 (94.2029%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 4.0430, Accuracy: 3808/10000 (38.0800%)
___Train Local_ResNet_18,  epoch 205, local model 28, internal_epoch   1,  Average loss: 0.0028, Accuracy: 397/423 (93.8534%)
___Train Local_ResNet_18,  epoch 205, local model 28, internal_epoch   2,  Average loss: 0.0018, Accuracy: 412/423 (97.3995%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.6101, Accuracy: 5745/10000 (57.4500%)
time spent on training: 87.17274117469788
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10794756247439574  data num: [527, 401, 773, 977, 436, 212, 362, 426, 345, 423]
[foolsgold agg] considering poison per batch poison_fraction: 0.008433403318312167
[foolsgold agg] wv: [1.        1.        1.        0.        1.        0.5419109 0.
 1.        0.5419109 1.       ]
___Test Target_ResNet_18 poisoned: False, epoch: 205: Average loss: 0.7185, Accuracy: 7643/10000 (76.4300%)
___Test Target_ResNet_18 poisoned: True, epoch: 205: Average loss: 6.5686, Accuracy: 223/9000 (2.4778%)
Done in 124.80225944519043 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:206 choose agents : [51, 4, 97, 85, 17, 59, 13, 57, 76, 80]. Adversary List: []
___Train Local_ResNet_18,  epoch 206, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 444/479 (92.6931%)
___Train Local_ResNet_18,  epoch 206, local model 51, internal_epoch   2,  Average loss: 0.0027, Accuracy: 454/479 (94.7808%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.4834, Accuracy: 3528/10000 (35.2800%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   1,  Average loss: 0.0059, Accuracy: 491/557 (88.1508%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   2,  Average loss: 0.0054, Accuracy: 497/557 (89.2280%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 4.8475, Accuracy: 3490/10000 (34.9000%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   1,  Average loss: 0.0029, Accuracy: 394/418 (94.2584%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   2,  Average loss: 0.0014, Accuracy: 412/418 (98.5646%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.8335, Accuracy: 5465/10000 (54.6500%)
___Train Local_ResNet_18,  epoch 206, local model 85, internal_epoch   1,  Average loss: 0.0085, Accuracy: 294/364 (80.7692%)
___Train Local_ResNet_18,  epoch 206, local model 85, internal_epoch   2,  Average loss: 0.0042, Accuracy: 336/364 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 5.6282, Accuracy: 2307/10000 (23.0700%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 206, local model 17, internal_epoch   1,  Average loss: 0.0030, Accuracy: 498/526 (94.6768%)
___Train Local_ResNet_18,  epoch 206, local model 17, internal_epoch   2,  Average loss: 0.0032, Accuracy: 499/526 (94.8669%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 2.3012, Accuracy: 5090/10000 (50.9000%)
___Train Local_ResNet_18,  epoch 206, local model 59, internal_epoch   1,  Average loss: 0.0037, Accuracy: 594/642 (92.5234%)
___Train Local_ResNet_18,  epoch 206, local model 59, internal_epoch   2,  Average loss: 0.0044, Accuracy: 578/642 (90.0312%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 6.2702, Accuracy: 2831/10000 (28.3100%)
___Train Local_ResNet_18,  epoch 206, local model 13, internal_epoch   1,  Average loss: 0.0049, Accuracy: 564/620 (90.9677%)
___Train Local_ResNet_18,  epoch 206, local model 13, internal_epoch   2,  Average loss: 0.0041, Accuracy: 576/620 (92.9032%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.2080, Accuracy: 3889/10000 (38.8900%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   1,  Average loss: 0.0073, Accuracy: 244/290 (84.1379%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   2,  Average loss: 0.0018, Accuracy: 281/290 (96.8966%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.8857, Accuracy: 3928/10000 (39.2800%)
___Train Local_ResNet_18,  epoch 206, local model 76, internal_epoch   1,  Average loss: 0.0324, Accuracy: 58/65 (89.2308%)
___Train Local_ResNet_18,  epoch 206, local model 76, internal_epoch   2,  Average loss: 0.0523, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.2024, Accuracy: 6334/10000 (63.3400%)
___Train Local_ResNet_18,  epoch 206, local model 80, internal_epoch   1,  Average loss: 0.0063, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 206, local model 80, internal_epoch   2,  Average loss: 0.0016, Accuracy: 353/363 (97.2452%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.7378, Accuracy: 3615/10000 (36.1500%)
time spent on training: 59.05786085128784
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12164662349676225  data num: [479, 557, 418, 364, 526, 642, 620, 290, 65, 363]
[foolsgold agg] considering poison per batch poison_fraction: 0.009503642460684551
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 0. 0. 0. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 206: Average loss: 0.7171, Accuracy: 7647/10000 (76.4700%)
___Test Target_ResNet_18 poisoned: True, epoch: 206: Average loss: 6.5744, Accuracy: 221/9000 (2.4556%)
Done in 97.44546699523926 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:207 choose agents : [77, 85, 90, 24, 63, 1, 52, 31, 59, 67]. Adversary List: [77]
poison local model 77 index 2 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   1,  Average loss: 0.0103, Accuracy: 434/496 (87.5000%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   2,  Average loss: 0.0076, Accuracy: 437/496 (88.1048%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   3,  Average loss: 0.0034, Accuracy: 473/496 (95.3629%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   4,  Average loss: 0.0017, Accuracy: 486/496 (97.9839%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   5,  Average loss: 0.0007, Accuracy: 492/496 (99.1935%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   6,  Average loss: 0.0004, Accuracy: 494/496 (99.5968%), train_poison_data_count: 40
Global model norm: 37.66148174237506.
Norm before scaling: 37.91625904800357. Distance: 6.567288931136599
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 1.0409, Accuracy: 6581/10000 (65.8100%)
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: 0.1860, Accuracy: 8581/9000 (95.3444%)
Scaling by  100
Scaled Norm after poisoning: 655.9907583190483, distance: 656.728872899616
Total norm for 1 adversaries is: 655.9907583190483. distance: 656.728872899616
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 207, local model 85, internal_epoch   1,  Average loss: 0.0079, Accuracy: 306/364 (84.0659%)
___Train Local_ResNet_18,  epoch 207, local model 85, internal_epoch   2,  Average loss: 0.0035, Accuracy: 346/364 (95.0549%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.1697, Accuracy: 2936/10000 (29.3600%)
___Train Local_ResNet_18,  epoch 207, local model 90, internal_epoch   1,  Average loss: 0.0076, Accuracy: 529/578 (91.5225%)
___Train Local_ResNet_18,  epoch 207, local model 90, internal_epoch   2,  Average loss: 0.0307, Accuracy: 362/578 (62.6298%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 11495.9934, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 207, local model 24, internal_epoch   1,  Average loss: 0.0044, Accuracy: 288/320 (90.0000%)
___Train Local_ResNet_18,  epoch 207, local model 24, internal_epoch   2,  Average loss: 0.0010, Accuracy: 313/320 (97.8125%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.5358, Accuracy: 2450/10000 (24.5000%)
___Train Local_ResNet_18,  epoch 207, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 706/752 (93.8830%)
___Train Local_ResNet_18,  epoch 207, local model 63, internal_epoch   2,  Average loss: 0.0033, Accuracy: 697/752 (92.6862%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 2.2617, Accuracy: 4989/10000 (49.8900%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   1,  Average loss: 0.0058, Accuracy: 585/641 (91.2637%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   2,  Average loss: 0.0118, Accuracy: 551/641 (85.9594%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.1911, Accuracy: 4153/10000 (41.5300%)
___Train Local_ResNet_18,  epoch 207, local model 52, internal_epoch   1,  Average loss: 0.0083, Accuracy: 183/214 (85.5140%)
___Train Local_ResNet_18,  epoch 207, local model 52, internal_epoch   2,  Average loss: 0.0035, Accuracy: 202/214 (94.3925%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.9075, Accuracy: 3519/10000 (35.1900%)
___Train Local_ResNet_18,  epoch 207, local model 31, internal_epoch   1,  Average loss: 0.0058, Accuracy: 645/706 (91.3598%)
___Train Local_ResNet_18,  epoch 207, local model 31, internal_epoch   2,  Average loss: 0.0217, Accuracy: 442/706 (62.6062%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 88.9429, Accuracy: 1175/10000 (11.7500%)
___Train Local_ResNet_18,  epoch 207, local model 59, internal_epoch   1,  Average loss: 0.0063, Accuracy: 585/642 (91.1215%)
___Train Local_ResNet_18,  epoch 207, local model 59, internal_epoch   2,  Average loss: 0.0289, Accuracy: 442/642 (68.8474%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 47.2289, Accuracy: 1195/10000 (11.9500%)
___Train Local_ResNet_18,  epoch 207, local model 67, internal_epoch   1,  Average loss: 0.0052, Accuracy: 754/842 (89.5487%)
___Train Local_ResNet_18,  epoch 207, local model 67, internal_epoch   2,  Average loss: 0.0082, Accuracy: 709/842 (84.2043%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 25.6826, Accuracy: 1229/10000 (12.2900%)
time spent on training: 88.9481258392334
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0892889288928893  data num: [496, 364, 578, 320, 752, 641, 214, 706, 642, 842]
[foolsgold agg] considering poison per batch poison_fraction: 0.006975697569756976
[foolsgold agg] wv: [1.         1.         1.         1.         0.76018126 1.
 0.76018126 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 207: Average loss: 0.7076, Accuracy: 7678/10000 (76.7800%)
___Test Target_ResNet_18 poisoned: True, epoch: 207: Average loss: 6.5597, Accuracy: 227/9000 (2.5222%)
Done in 125.70835041999817 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:208 choose agents : [71, 66, 76, 96, 80, 81, 22, 72, 64, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 208, local model 71, internal_epoch   1,  Average loss: 0.0046, Accuracy: 1077/1166 (92.3671%)
___Train Local_ResNet_18,  epoch 208, local model 71, internal_epoch   2,  Average loss: 0.0089, Accuracy: 956/1166 (81.9897%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 5.7990, Accuracy: 3512/10000 (35.1200%)
___Train Local_ResNet_18,  epoch 208, local model 66, internal_epoch   1,  Average loss: 0.0043, Accuracy: 511/555 (92.0721%)
___Train Local_ResNet_18,  epoch 208, local model 66, internal_epoch   2,  Average loss: 0.0028, Accuracy: 528/555 (95.1351%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 7.4108, Accuracy: 2655/10000 (26.5500%)
___Train Local_ResNet_18,  epoch 208, local model 76, internal_epoch   1,  Average loss: 0.0350, Accuracy: 59/65 (90.7692%)
___Train Local_ResNet_18,  epoch 208, local model 76, internal_epoch   2,  Average loss: 0.0024, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 1.4490, Accuracy: 5786/10000 (57.8600%)
___Train Local_ResNet_18,  epoch 208, local model 96, internal_epoch   1,  Average loss: 0.0064, Accuracy: 642/708 (90.6780%)
___Train Local_ResNet_18,  epoch 208, local model 96, internal_epoch   2,  Average loss: 0.0331, Accuracy: 362/708 (51.1299%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 67.2605, Accuracy: 1338/10000 (13.3800%)
___Train Local_ResNet_18,  epoch 208, local model 80, internal_epoch   1,  Average loss: 0.0066, Accuracy: 317/363 (87.3278%)
___Train Local_ResNet_18,  epoch 208, local model 80, internal_epoch   2,  Average loss: 0.0031, Accuracy: 347/363 (95.5923%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 6.7478, Accuracy: 2696/10000 (26.9600%)
___Train Local_ResNet_18,  epoch 208, local model 81, internal_epoch   1,  Average loss: 0.0082, Accuracy: 906/1034 (87.6209%)
___Train Local_ResNet_18,  epoch 208, local model 81, internal_epoch   2,  Average loss: 0.0163, Accuracy: 707/1034 (68.3752%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 47.0577, Accuracy: 1204/10000 (12.0400%)
___Train Local_ResNet_18,  epoch 208, local model 22, internal_epoch   1,  Average loss: 0.0058, Accuracy: 437/494 (88.4615%)
___Train Local_ResNet_18,  epoch 208, local model 22, internal_epoch   2,  Average loss: 0.0024, Accuracy: 469/494 (94.9393%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 4.0593, Accuracy: 3320/10000 (33.2000%)
___Train Local_ResNet_18,  epoch 208, local model 72, internal_epoch   1,  Average loss: 0.0114, Accuracy: 492/618 (79.6117%)
___Train Local_ResNet_18,  epoch 208, local model 72, internal_epoch   2,  Average loss: 0.0083, Accuracy: 522/618 (84.4660%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 10.9019, Accuracy: 2804/10000 (28.0400%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   1,  Average loss: 0.0054, Accuracy: 600/686 (87.4636%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   2,  Average loss: 0.0040, Accuracy: 628/686 (91.5452%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 5.7237, Accuracy: 3010/10000 (30.1000%)
___Train Local_ResNet_18,  epoch 208, local model 45, internal_epoch   1,  Average loss: 0.0081, Accuracy: 453/529 (85.6333%)
___Train Local_ResNet_18,  epoch 208, local model 45, internal_epoch   2,  Average loss: 0.0115, Accuracy: 422/529 (79.7732%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 9.4087, Accuracy: 2184/10000 (21.8400%)
time spent on training: 55.64315676689148
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 555, 65, 708, 363, 1034, 494, 618, 686, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.48150946 1.         0.48150946 1.         1.         1.
 0.63619807 1.         1.         0.63619807]
___Test Target_ResNet_18 poisoned: False, epoch: 208: Average loss: 0.7025, Accuracy: 7688/10000 (76.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 208: Average loss: 6.5846, Accuracy: 222/9000 (2.4667%)
Done in 93.29617309570312 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:209 choose agents : [11, 80, 54, 44, 35, 68, 25, 4, 79, 43]. Adversary List: [11]
poison local model 11 index 3 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   1,  Average loss: 0.0100, Accuracy: 473/546 (86.6300%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   2,  Average loss: 0.0070, Accuracy: 499/546 (91.3919%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   3,  Average loss: 0.0029, Accuracy: 520/546 (95.2381%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   4,  Average loss: 0.0017, Accuracy: 536/546 (98.1685%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   5,  Average loss: 0.0012, Accuracy: 540/546 (98.9011%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   6,  Average loss: 0.0008, Accuracy: 543/546 (99.4505%), train_poison_data_count: 45
Global model norm: 37.6613180588477.
Norm before scaling: 37.96331622640796. Distance: 7.221147675742604
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.2627, Accuracy: 6141/10000 (61.4100%)
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: 0.2811, Accuracy: 8359/9000 (92.8778%)
Scaling by  100
Scaled Norm after poisoning: 721.0669178377275, distance: 722.1148411090857
Total norm for 1 adversaries is: 721.0669178377275. distance: 722.1148411090857
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 209, local model 80, internal_epoch   1,  Average loss: 0.0059, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 209, local model 80, internal_epoch   2,  Average loss: 0.0021, Accuracy: 350/363 (96.4187%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.4389, Accuracy: 4093/10000 (40.9300%)
___Train Local_ResNet_18,  epoch 209, local model 54, internal_epoch   1,  Average loss: 0.0037, Accuracy: 408/440 (92.7273%)
___Train Local_ResNet_18,  epoch 209, local model 54, internal_epoch   2,  Average loss: 0.0014, Accuracy: 431/440 (97.9545%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.1856, Accuracy: 4320/10000 (43.2000%)
___Train Local_ResNet_18,  epoch 209, local model 44, internal_epoch   1,  Average loss: 0.0042, Accuracy: 393/436 (90.1376%)
___Train Local_ResNet_18,  epoch 209, local model 44, internal_epoch   2,  Average loss: 0.0030, Accuracy: 411/436 (94.2661%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.0298, Accuracy: 4050/10000 (40.5000%)
___Train Local_ResNet_18,  epoch 209, local model 35, internal_epoch   1,  Average loss: 0.0069, Accuracy: 364/419 (86.8735%)
___Train Local_ResNet_18,  epoch 209, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 402/419 (95.9427%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.3683, Accuracy: 4145/10000 (41.4500%)
___Train Local_ResNet_18,  epoch 209, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 392/416 (94.2308%)
___Train Local_ResNet_18,  epoch 209, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 409/416 (98.3173%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.6779, Accuracy: 5719/10000 (57.1900%)
___Train Local_ResNet_18,  epoch 209, local model 25, internal_epoch   1,  Average loss: 0.0044, Accuracy: 507/545 (93.0275%)
___Train Local_ResNet_18,  epoch 209, local model 25, internal_epoch   2,  Average loss: 0.0014, Accuracy: 528/545 (96.8807%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.0368, Accuracy: 4204/10000 (42.0400%)
___Train Local_ResNet_18,  epoch 209, local model 4, internal_epoch   1,  Average loss: 0.0053, Accuracy: 495/557 (88.8689%)
___Train Local_ResNet_18,  epoch 209, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 514/557 (92.2801%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.5678, Accuracy: 4213/10000 (42.1300%)
___Train Local_ResNet_18,  epoch 209, local model 79, internal_epoch   1,  Average loss: 0.0087, Accuracy: 128/154 (83.1169%)
___Train Local_ResNet_18,  epoch 209, local model 79, internal_epoch   2,  Average loss: 0.0005, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.0812, Accuracy: 6771/10000 (67.7100%)
___Train Local_ResNet_18,  epoch 209, local model 43, internal_epoch   1,  Average loss: 0.0068, Accuracy: 301/345 (87.2464%)
___Train Local_ResNet_18,  epoch 209, local model 43, internal_epoch   2,  Average loss: 0.0022, Accuracy: 328/345 (95.0725%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 6.9305, Accuracy: 2878/10000 (28.7800%)
time spent on training: 88.63242101669312
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12935323383084577  data num: [546, 363, 440, 436, 419, 416, 545, 557, 154, 345]
[foolsgold agg] considering poison per batch poison_fraction: 0.010105721393034825
[foolsgold agg] wv: [0.82506244 1.         1.         1.         1.         0.82506244
 1.         1.         0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 209: Average loss: 0.7001, Accuracy: 7692/10000 (76.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 209: Average loss: 6.5688, Accuracy: 228/9000 (2.5333%)
Done in 127.01609992980957 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:210 choose agents : [63, 35, 49, 8, 12, 18, 94, 57, 83, 37]. Adversary List: []
___Train Local_ResNet_18,  epoch 210, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 713/752 (94.8138%)
___Train Local_ResNet_18,  epoch 210, local model 63, internal_epoch   2,  Average loss: 0.0025, Accuracy: 711/752 (94.5479%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 1.5563, Accuracy: 5883/10000 (58.8300%)
___Train Local_ResNet_18,  epoch 210, local model 35, internal_epoch   1,  Average loss: 0.0072, Accuracy: 360/419 (85.9189%)
___Train Local_ResNet_18,  epoch 210, local model 35, internal_epoch   2,  Average loss: 0.0035, Accuracy: 392/419 (93.5561%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 4.0231, Accuracy: 3504/10000 (35.0400%)
___Train Local_ResNet_18,  epoch 210, local model 49, internal_epoch   1,  Average loss: 0.0038, Accuracy: 390/426 (91.5493%)
___Train Local_ResNet_18,  epoch 210, local model 49, internal_epoch   2,  Average loss: 0.0013, Accuracy: 414/426 (97.1831%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.1657, Accuracy: 5016/10000 (50.1600%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   1,  Average loss: 0.0046, Accuracy: 481/534 (90.0749%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   2,  Average loss: 0.0037, Accuracy: 494/534 (92.5094%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.4858, Accuracy: 4455/10000 (44.5500%)
___Train Local_ResNet_18,  epoch 210, local model 12, internal_epoch   1,  Average loss: 0.0059, Accuracy: 869/977 (88.9458%)
___Train Local_ResNet_18,  epoch 210, local model 12, internal_epoch   2,  Average loss: 0.0086, Accuracy: 814/977 (83.3163%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 9.1615, Accuracy: 2757/10000 (27.5700%)
___Train Local_ResNet_18,  epoch 210, local model 18, internal_epoch   1,  Average loss: 0.0040, Accuracy: 359/386 (93.0052%)
___Train Local_ResNet_18,  epoch 210, local model 18, internal_epoch   2,  Average loss: 0.0107, Accuracy: 375/386 (97.1503%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.6291, Accuracy: 4374/10000 (43.7400%)
___Train Local_ResNet_18,  epoch 210, local model 94, internal_epoch   1,  Average loss: 0.0126, Accuracy: 168/203 (82.7586%)
___Train Local_ResNet_18,  epoch 210, local model 94, internal_epoch   2,  Average loss: 0.0116, Accuracy: 188/203 (92.6108%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 6.7057, Accuracy: 1761/10000 (17.6100%)
___Train Local_ResNet_18,  epoch 210, local model 57, internal_epoch   1,  Average loss: 0.0062, Accuracy: 249/290 (85.8621%)
___Train Local_ResNet_18,  epoch 210, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 281/290 (96.8966%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.2308, Accuracy: 4344/10000 (43.4400%)
___Train Local_ResNet_18,  epoch 210, local model 83, internal_epoch   1,  Average loss: 0.0033, Accuracy: 338/366 (92.3497%)
___Train Local_ResNet_18,  epoch 210, local model 83, internal_epoch   2,  Average loss: 0.0011, Accuracy: 362/366 (98.9071%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 1.9763, Accuracy: 5253/10000 (52.5300%)
___Train Local_ResNet_18,  epoch 210, local model 37, internal_epoch   1,  Average loss: 0.0073, Accuracy: 623/725 (85.9310%)
___Train Local_ResNet_18,  epoch 210, local model 37, internal_epoch   2,  Average loss: 0.0102, Accuracy: 592/725 (81.6552%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 10.8201, Accuracy: 1424/10000 (14.2400%)
time spent on training: 55.14530634880066
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [752, 419, 426, 534, 977, 386, 203, 290, 366, 725]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.22730746 0.69450501 0.69450501 0.26247409 0.02538614 1.
 0.02538614 0.22730746 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 210: Average loss: 0.6976, Accuracy: 7695/10000 (76.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 210: Average loss: 6.5538, Accuracy: 227/9000 (2.5222%)
Done in 92.78091382980347 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:211 choose agents : [22, 38, 65, 29, 18, 53, 15, 7, 86, 60]. Adversary List: []
___Train Local_ResNet_18,  epoch 211, local model 22, internal_epoch   1,  Average loss: 0.0068, Accuracy: 421/494 (85.2227%)
___Train Local_ResNet_18,  epoch 211, local model 22, internal_epoch   2,  Average loss: 0.0037, Accuracy: 451/494 (91.2955%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 5.4518, Accuracy: 2855/10000 (28.5500%)
___Train Local_ResNet_18,  epoch 211, local model 38, internal_epoch   1,  Average loss: 0.0038, Accuracy: 698/756 (92.3280%)
___Train Local_ResNet_18,  epoch 211, local model 38, internal_epoch   2,  Average loss: 0.0054, Accuracy: 674/756 (89.1534%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.9719, Accuracy: 4682/10000 (46.8200%)
___Train Local_ResNet_18,  epoch 211, local model 65, internal_epoch   1,  Average loss: 0.0042, Accuracy: 289/314 (92.0382%)
___Train Local_ResNet_18,  epoch 211, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 310/314 (98.7261%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 3.2906, Accuracy: 3648/10000 (36.4800%)
___Train Local_ResNet_18,  epoch 211, local model 29, internal_epoch   1,  Average loss: 0.0062, Accuracy: 749/848 (88.3255%)
___Train Local_ResNet_18,  epoch 211, local model 29, internal_epoch   2,  Average loss: 0.0035, Accuracy: 792/848 (93.3962%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 5.6292, Accuracy: 3479/10000 (34.7900%)
___Train Local_ResNet_18,  epoch 211, local model 18, internal_epoch   1,  Average loss: 0.0030, Accuracy: 363/386 (94.0415%)
___Train Local_ResNet_18,  epoch 211, local model 18, internal_epoch   2,  Average loss: 0.0124, Accuracy: 375/386 (97.1503%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 1.9535, Accuracy: 5087/10000 (50.8700%)
___Train Local_ResNet_18,  epoch 211, local model 53, internal_epoch   1,  Average loss: 0.0043, Accuracy: 569/625 (91.0400%)
___Train Local_ResNet_18,  epoch 211, local model 53, internal_epoch   2,  Average loss: 0.0028, Accuracy: 594/625 (95.0400%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.6275, Accuracy: 4632/10000 (46.3200%)
___Train Local_ResNet_18,  epoch 211, local model 15, internal_epoch   1,  Average loss: 0.0090, Accuracy: 292/341 (85.6305%)
___Train Local_ResNet_18,  epoch 211, local model 15, internal_epoch   2,  Average loss: 0.0038, Accuracy: 317/341 (92.9619%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 4.8251, Accuracy: 2940/10000 (29.4000%)
___Train Local_ResNet_18,  epoch 211, local model 7, internal_epoch   1,  Average loss: 0.0027, Accuracy: 328/352 (93.1818%)
___Train Local_ResNet_18,  epoch 211, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 348/352 (98.8636%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.8474, Accuracy: 3747/10000 (37.4700%)
___Train Local_ResNet_18,  epoch 211, local model 86, internal_epoch   1,  Average loss: 0.0052, Accuracy: 195/212 (91.9811%)
___Train Local_ResNet_18,  epoch 211, local model 86, internal_epoch   2,  Average loss: 0.0014, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 1.3923, Accuracy: 6207/10000 (62.0700%)
___Train Local_ResNet_18,  epoch 211, local model 60, internal_epoch   1,  Average loss: 0.0045, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 211, local model 60, internal_epoch   2,  Average loss: 0.0013, Accuracy: 278/284 (97.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.7335, Accuracy: 4174/10000 (41.7400%)
time spent on training: 54.441821336746216
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [494, 756, 314, 848, 386, 625, 341, 352, 212, 284]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.         0.71001231 1.         1.
 1.         1.         1.         0.71001231]
___Test Target_ResNet_18 poisoned: False, epoch: 211: Average loss: 0.6959, Accuracy: 7701/10000 (77.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 211: Average loss: 6.5703, Accuracy: 221/9000 (2.4556%)
Done in 92.69287586212158 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:212 choose agents : [81, 8, 28, 77, 1, 93, 53, 12, 50, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 212, local model 81, internal_epoch   1,  Average loss: 0.0080, Accuracy: 892/1034 (86.2669%)
___Train Local_ResNet_18,  epoch 212, local model 81, internal_epoch   2,  Average loss: 0.0191, Accuracy: 671/1034 (64.8936%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 35.6392, Accuracy: 1023/10000 (10.2300%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   1,  Average loss: 0.0049, Accuracy: 483/534 (90.4494%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   2,  Average loss: 0.0042, Accuracy: 492/534 (92.1348%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 4.4299, Accuracy: 2990/10000 (29.9000%)
___Train Local_ResNet_18,  epoch 212, local model 28, internal_epoch   1,  Average loss: 0.0027, Accuracy: 402/423 (95.0355%)
___Train Local_ResNet_18,  epoch 212, local model 28, internal_epoch   2,  Average loss: 0.0017, Accuracy: 412/423 (97.3995%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.0063, Accuracy: 5167/10000 (51.6700%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 212, local model 77, internal_epoch   1,  Average loss: 0.0032, Accuracy: 461/496 (92.9435%)
___Train Local_ResNet_18,  epoch 212, local model 77, internal_epoch   2,  Average loss: 0.0020, Accuracy: 483/496 (97.3790%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 1.5639, Accuracy: 5510/10000 (55.1000%)
___Train Local_ResNet_18,  epoch 212, local model 1, internal_epoch   1,  Average loss: 0.0066, Accuracy: 594/641 (92.6677%)
___Train Local_ResNet_18,  epoch 212, local model 1, internal_epoch   2,  Average loss: 0.0124, Accuracy: 540/641 (84.2434%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 4.7881, Accuracy: 3499/10000 (34.9900%)
___Train Local_ResNet_18,  epoch 212, local model 93, internal_epoch   1,  Average loss: 0.0042, Accuracy: 539/584 (92.2945%)
___Train Local_ResNet_18,  epoch 212, local model 93, internal_epoch   2,  Average loss: 0.0074, Accuracy: 508/584 (86.9863%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 6.8641, Accuracy: 2351/10000 (23.5100%)
___Train Local_ResNet_18,  epoch 212, local model 53, internal_epoch   1,  Average loss: 0.0038, Accuracy: 576/625 (92.1600%)
___Train Local_ResNet_18,  epoch 212, local model 53, internal_epoch   2,  Average loss: 0.0023, Accuracy: 596/625 (95.3600%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.9684, Accuracy: 4040/10000 (40.4000%)
___Train Local_ResNet_18,  epoch 212, local model 12, internal_epoch   1,  Average loss: 0.0064, Accuracy: 862/977 (88.2293%)
___Train Local_ResNet_18,  epoch 212, local model 12, internal_epoch   2,  Average loss: 0.0099, Accuracy: 781/977 (79.9386%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 11.6473, Accuracy: 1967/10000 (19.6700%)
___Train Local_ResNet_18,  epoch 212, local model 50, internal_epoch   1,  Average loss: 0.0028, Accuracy: 382/401 (95.2618%)
___Train Local_ResNet_18,  epoch 212, local model 50, internal_epoch   2,  Average loss: 0.0021, Accuracy: 388/401 (96.7581%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.3048, Accuracy: 4986/10000 (49.8600%)
___Train Local_ResNet_18,  epoch 212, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 692/752 (92.0213%)
___Train Local_ResNet_18,  epoch 212, local model 10, internal_epoch   2,  Average loss: 0.0032, Accuracy: 705/752 (93.7500%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 4.4053, Accuracy: 3428/10000 (34.2800%)
time spent on training: 60.12322163581848
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0766970774702335  data num: [1034, 534, 423, 496, 641, 584, 625, 977, 401, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.005991959177361991
[foolsgold agg] wv: [0.21436421 0.56314739 1.         0.56314739 1.         1.
 0.85760376 0.21436421 1.         0.85760376]
___Test Target_ResNet_18 poisoned: False, epoch: 212: Average loss: 0.6925, Accuracy: 7705/10000 (77.0500%)
___Test Target_ResNet_18 poisoned: True, epoch: 212: Average loss: 6.5877, Accuracy: 220/9000 (2.4444%)
Done in 100.45283651351929 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:213 choose agents : [18, 39, 62, 65, 87, 12, 74, 4, 7, 35]. Adversary List: []
___Train Local_ResNet_18,  epoch 213, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 357/386 (92.4870%)
___Train Local_ResNet_18,  epoch 213, local model 18, internal_epoch   2,  Average loss: 0.0031, Accuracy: 370/386 (95.8549%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.8802, Accuracy: 5445/10000 (54.4500%)
___Train Local_ResNet_18,  epoch 213, local model 39, internal_epoch   1,  Average loss: 0.0063, Accuracy: 183/217 (84.3318%)
___Train Local_ResNet_18,  epoch 213, local model 39, internal_epoch   2,  Average loss: 0.0011, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.6316, Accuracy: 3582/10000 (35.8200%)
___Train Local_ResNet_18,  epoch 213, local model 62, internal_epoch   1,  Average loss: 0.0025, Accuracy: 341/358 (95.2514%)
___Train Local_ResNet_18,  epoch 213, local model 62, internal_epoch   2,  Average loss: 0.0011, Accuracy: 353/358 (98.6034%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.1131, Accuracy: 6651/10000 (66.5100%)
___Train Local_ResNet_18,  epoch 213, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 289/314 (92.0382%)
___Train Local_ResNet_18,  epoch 213, local model 65, internal_epoch   2,  Average loss: 0.0007, Accuracy: 311/314 (99.0446%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.1553, Accuracy: 3762/10000 (37.6200%)
___Train Local_ResNet_18,  epoch 213, local model 87, internal_epoch   1,  Average loss: 0.0091, Accuracy: 330/397 (83.1234%)
___Train Local_ResNet_18,  epoch 213, local model 87, internal_epoch   2,  Average loss: 0.0083, Accuracy: 344/397 (86.6499%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 6.0244, Accuracy: 2523/10000 (25.2300%)
___Train Local_ResNet_18,  epoch 213, local model 12, internal_epoch   1,  Average loss: 0.0066, Accuracy: 849/977 (86.8987%)
___Train Local_ResNet_18,  epoch 213, local model 12, internal_epoch   2,  Average loss: 0.0102, Accuracy: 789/977 (80.7574%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 4.5986, Accuracy: 3867/10000 (38.6700%)
___Train Local_ResNet_18,  epoch 213, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 426/469 (90.8316%)
___Train Local_ResNet_18,  epoch 213, local model 74, internal_epoch   2,  Average loss: 0.0067, Accuracy: 421/469 (89.7655%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.1287, Accuracy: 3628/10000 (36.2800%)
___Train Local_ResNet_18,  epoch 213, local model 4, internal_epoch   1,  Average loss: 0.0057, Accuracy: 496/557 (89.0485%)
___Train Local_ResNet_18,  epoch 213, local model 4, internal_epoch   2,  Average loss: 0.0040, Accuracy: 506/557 (90.8438%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 2.6355, Accuracy: 4752/10000 (47.5200%)
___Train Local_ResNet_18,  epoch 213, local model 7, internal_epoch   1,  Average loss: 0.0029, Accuracy: 336/352 (95.4545%)
___Train Local_ResNet_18,  epoch 213, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 346/352 (98.2955%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 2.3052, Accuracy: 4530/10000 (45.3000%)
___Train Local_ResNet_18,  epoch 213, local model 35, internal_epoch   1,  Average loss: 0.0079, Accuracy: 366/419 (87.3508%)
___Train Local_ResNet_18,  epoch 213, local model 35, internal_epoch   2,  Average loss: 0.0036, Accuracy: 392/419 (93.5561%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.1792, Accuracy: 4134/10000 (41.3400%)
time spent on training: 53.91471719741821
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [386, 217, 358, 314, 397, 977, 469, 557, 352, 419]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.24037977 1.         0.39241863 1.         1.
 0.24037977 1.         1.         0.39241863]
___Test Target_ResNet_18 poisoned: False, epoch: 213: Average loss: 0.6892, Accuracy: 7719/10000 (77.1900%)
___Test Target_ResNet_18 poisoned: True, epoch: 213: Average loss: 6.5909, Accuracy: 221/9000 (2.4556%)
Done in 91.75252532958984 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:214 choose agents : [17, 30, 72, 51, 63, 46, 54, 95, 26, 2]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 214, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 503/526 (95.6274%)
___Train Local_ResNet_18,  epoch 214, local model 17, internal_epoch   2,  Average loss: 0.0020, Accuracy: 510/526 (96.9582%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.4805, Accuracy: 6017/10000 (60.1700%)
___Train Local_ResNet_18,  epoch 214, local model 30, internal_epoch   1,  Average loss: 0.0059, Accuracy: 298/337 (88.4273%)
___Train Local_ResNet_18,  epoch 214, local model 30, internal_epoch   2,  Average loss: 0.0069, Accuracy: 305/337 (90.5045%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 4.2793, Accuracy: 2955/10000 (29.5500%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   1,  Average loss: 0.0079, Accuracy: 521/618 (84.3042%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   2,  Average loss: 0.0061, Accuracy: 553/618 (89.4822%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 5.4984, Accuracy: 2897/10000 (28.9700%)
___Train Local_ResNet_18,  epoch 214, local model 51, internal_epoch   1,  Average loss: 0.0036, Accuracy: 444/479 (92.6931%)
___Train Local_ResNet_18,  epoch 214, local model 51, internal_epoch   2,  Average loss: 0.0033, Accuracy: 448/479 (93.5282%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 8.1170, Accuracy: 2272/10000 (22.7200%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   1,  Average loss: 0.0025, Accuracy: 720/752 (95.7447%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   2,  Average loss: 0.0014, Accuracy: 733/752 (97.4734%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.1744, Accuracy: 6577/10000 (65.7700%)
___Train Local_ResNet_18,  epoch 214, local model 46, internal_epoch   1,  Average loss: 0.0015, Accuracy: 588/601 (97.8369%)
___Train Local_ResNet_18,  epoch 214, local model 46, internal_epoch   2,  Average loss: 0.0008, Accuracy: 594/601 (98.8353%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.7518, Accuracy: 5575/10000 (55.7500%)
___Train Local_ResNet_18,  epoch 214, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 415/440 (94.3182%)
___Train Local_ResNet_18,  epoch 214, local model 54, internal_epoch   2,  Average loss: 0.0011, Accuracy: 431/440 (97.9545%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 2.9748, Accuracy: 4442/10000 (44.4200%)
___Train Local_ResNet_18,  epoch 214, local model 95, internal_epoch   1,  Average loss: 0.0088, Accuracy: 463/569 (81.3708%)
___Train Local_ResNet_18,  epoch 214, local model 95, internal_epoch   2,  Average loss: 0.0060, Accuracy: 511/569 (89.8067%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 5.4701, Accuracy: 2552/10000 (25.5200%)
___Train Local_ResNet_18,  epoch 214, local model 26, internal_epoch   1,  Average loss: 0.0045, Accuracy: 428/468 (91.4530%)
___Train Local_ResNet_18,  epoch 214, local model 26, internal_epoch   2,  Average loss: 0.0051, Accuracy: 429/468 (91.6667%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.9491, Accuracy: 5151/10000 (51.5100%)
___Train Local_ResNet_18,  epoch 214, local model 2, internal_epoch   1,  Average loss: 0.0101, Accuracy: 389/461 (84.3818%)
___Train Local_ResNet_18,  epoch 214, local model 2, internal_epoch   2,  Average loss: 0.0152, Accuracy: 368/461 (79.8265%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 12.9277, Accuracy: 1344/10000 (13.4400%)
time spent on training: 63.742156744003296
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.1001713959245858  data num: [526, 337, 618, 479, 752, 601, 440, 569, 468, 461]
[foolsgold agg] considering poison per batch poison_fraction: 0.007825890306608265
[foolsgold agg] wv: [0.40702727 1.         0.84993642 1.         0.75028508 1.
 1.         0.75028508 0.40702727 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 214: Average loss: 0.6880, Accuracy: 7723/10000 (77.2300%)
___Test Target_ResNet_18 poisoned: True, epoch: 214: Average loss: 6.5886, Accuracy: 223/9000 (2.4778%)
Done in 101.59207606315613 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:215 choose agents : [95, 82, 45, 0, 34, 62, 66, 10, 12, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 215, local model 95, internal_epoch   1,  Average loss: 0.0104, Accuracy: 450/569 (79.0861%)
___Train Local_ResNet_18,  epoch 215, local model 95, internal_epoch   2,  Average loss: 0.0066, Accuracy: 498/569 (87.5220%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 13.5364, Accuracy: 1985/10000 (19.8500%)
___Train Local_ResNet_18,  epoch 215, local model 82, internal_epoch   1,  Average loss: 0.0024, Accuracy: 574/601 (95.5075%)
___Train Local_ResNet_18,  epoch 215, local model 82, internal_epoch   2,  Average loss: 0.0019, Accuracy: 578/601 (96.1730%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.4012, Accuracy: 4555/10000 (45.5500%)
___Train Local_ResNet_18,  epoch 215, local model 45, internal_epoch   1,  Average loss: 0.0079, Accuracy: 462/529 (87.3346%)
___Train Local_ResNet_18,  epoch 215, local model 45, internal_epoch   2,  Average loss: 0.0086, Accuracy: 438/529 (82.7977%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 6.5044, Accuracy: 2651/10000 (26.5100%)
___Train Local_ResNet_18,  epoch 215, local model 0, internal_epoch   1,  Average loss: 0.0067, Accuracy: 319/367 (86.9210%)
___Train Local_ResNet_18,  epoch 215, local model 0, internal_epoch   2,  Average loss: 0.0024, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 6.6107, Accuracy: 2113/10000 (21.1300%)
___Train Local_ResNet_18,  epoch 215, local model 34, internal_epoch   1,  Average loss: 0.0053, Accuracy: 309/349 (88.5387%)
___Train Local_ResNet_18,  epoch 215, local model 34, internal_epoch   2,  Average loss: 0.0020, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 5.0098, Accuracy: 3301/10000 (33.0100%)
___Train Local_ResNet_18,  epoch 215, local model 62, internal_epoch   1,  Average loss: 0.0018, Accuracy: 343/358 (95.8101%)
___Train Local_ResNet_18,  epoch 215, local model 62, internal_epoch   2,  Average loss: 0.0006, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 1.2011, Accuracy: 6524/10000 (65.2400%)
___Train Local_ResNet_18,  epoch 215, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 510/555 (91.8919%)
___Train Local_ResNet_18,  epoch 215, local model 66, internal_epoch   2,  Average loss: 0.0018, Accuracy: 536/555 (96.5766%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.1247, Accuracy: 3840/10000 (38.4000%)
___Train Local_ResNet_18,  epoch 215, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 696/752 (92.5532%)
___Train Local_ResNet_18,  epoch 215, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 701/752 (93.2181%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.5112, Accuracy: 3478/10000 (34.7800%)
___Train Local_ResNet_18,  epoch 215, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 872/977 (89.2528%)
___Train Local_ResNet_18,  epoch 215, local model 12, internal_epoch   2,  Average loss: 0.0099, Accuracy: 799/977 (81.7810%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 10.2921, Accuracy: 2528/10000 (25.2800%)
___Train Local_ResNet_18,  epoch 215, local model 38, internal_epoch   1,  Average loss: 0.0021, Accuracy: 735/756 (97.2222%)
___Train Local_ResNet_18,  epoch 215, local model 38, internal_epoch   2,  Average loss: 0.0020, Accuracy: 724/756 (95.7672%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.4495, Accuracy: 4747/10000 (47.4700%)
time spent on training: 55.75801134109497
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [569, 601, 529, 367, 349, 358, 555, 752, 977, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.74501648 1.         1.         0.         1.
 1.         1.         0.         0.74501648]
___Test Target_ResNet_18 poisoned: False, epoch: 215: Average loss: 0.6866, Accuracy: 7729/10000 (77.2900%)
___Test Target_ResNet_18 poisoned: True, epoch: 215: Average loss: 6.5752, Accuracy: 226/9000 (2.5111%)
Done in 97.16461372375488 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:216 choose agents : [41, 4, 68, 55, 30, 39, 10, 64, 23, 60]. Adversary List: []
___Train Local_ResNet_18,  epoch 216, local model 41, internal_epoch   1,  Average loss: 0.0096, Accuracy: 421/513 (82.0663%)
___Train Local_ResNet_18,  epoch 216, local model 41, internal_epoch   2,  Average loss: 0.0207, Accuracy: 458/513 (89.2788%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.6390, Accuracy: 2005/10000 (20.0500%)
___Train Local_ResNet_18,  epoch 216, local model 4, internal_epoch   1,  Average loss: 0.0055, Accuracy: 497/557 (89.2280%)
___Train Local_ResNet_18,  epoch 216, local model 4, internal_epoch   2,  Average loss: 0.0041, Accuracy: 508/557 (91.2029%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.6692, Accuracy: 4769/10000 (47.6900%)
___Train Local_ResNet_18,  epoch 216, local model 68, internal_epoch   1,  Average loss: 0.0028, Accuracy: 395/416 (94.9519%)
___Train Local_ResNet_18,  epoch 216, local model 68, internal_epoch   2,  Average loss: 0.0020, Accuracy: 405/416 (97.3558%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 1.5110, Accuracy: 5898/10000 (58.9800%)
___Train Local_ResNet_18,  epoch 216, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 268/299 (89.6321%)
___Train Local_ResNet_18,  epoch 216, local model 55, internal_epoch   2,  Average loss: 0.0015, Accuracy: 292/299 (97.6589%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.5118, Accuracy: 2363/10000 (23.6300%)
___Train Local_ResNet_18,  epoch 216, local model 30, internal_epoch   1,  Average loss: 0.0050, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 216, local model 30, internal_epoch   2,  Average loss: 0.0017, Accuracy: 332/337 (98.5163%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.9283, Accuracy: 3355/10000 (33.5500%)
___Train Local_ResNet_18,  epoch 216, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 185/217 (85.2535%)
___Train Local_ResNet_18,  epoch 216, local model 39, internal_epoch   2,  Average loss: 0.0015, Accuracy: 212/217 (97.6959%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.8576, Accuracy: 3481/10000 (34.8100%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   1,  Average loss: 0.0047, Accuracy: 689/752 (91.6223%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   2,  Average loss: 0.0040, Accuracy: 700/752 (93.0851%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.5780, Accuracy: 2413/10000 (24.1300%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   1,  Average loss: 0.0050, Accuracy: 619/686 (90.2332%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   2,  Average loss: 0.0042, Accuracy: 630/686 (91.8367%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.2700, Accuracy: 3771/10000 (37.7100%)
___Train Local_ResNet_18,  epoch 216, local model 23, internal_epoch   1,  Average loss: 0.0045, Accuracy: 222/248 (89.5161%)
___Train Local_ResNet_18,  epoch 216, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.1372, Accuracy: 4823/10000 (48.2300%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   1,  Average loss: 0.0044, Accuracy: 260/284 (91.5493%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.7664, Accuracy: 4342/10000 (43.4200%)
time spent on training: 55.14559578895569
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [513, 557, 416, 299, 337, 217, 752, 686, 248, 284]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.00000000e+00 1.00000000e+00 1.00000000e+00 4.52379024e-04
 1.00000000e+00 1.43710998e-01 4.52379024e-04 1.00000000e+00
 1.93678444e-01 1.43710998e-01]
___Test Target_ResNet_18 poisoned: False, epoch: 216: Average loss: 0.6843, Accuracy: 7735/10000 (77.3500%)
___Test Target_ResNet_18 poisoned: True, epoch: 216: Average loss: 6.5282, Accuracy: 236/9000 (2.6222%)
Done in 102.06170415878296 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:217 choose agents : [23, 34, 52, 92, 57, 74, 67, 16, 64, 30]. Adversary List: []
___Train Local_ResNet_18,  epoch 217, local model 23, internal_epoch   1,  Average loss: 0.0046, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 217, local model 23, internal_epoch   2,  Average loss: 0.0011, Accuracy: 243/248 (97.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 2.7697, Accuracy: 4056/10000 (40.5600%)
___Train Local_ResNet_18,  epoch 217, local model 34, internal_epoch   1,  Average loss: 0.0054, Accuracy: 307/349 (87.9656%)
___Train Local_ResNet_18,  epoch 217, local model 34, internal_epoch   2,  Average loss: 0.0023, Accuracy: 335/349 (95.9885%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 4.5081, Accuracy: 3386/10000 (33.8600%)
___Train Local_ResNet_18,  epoch 217, local model 52, internal_epoch   1,  Average loss: 0.0071, Accuracy: 184/214 (85.9813%)
___Train Local_ResNet_18,  epoch 217, local model 52, internal_epoch   2,  Average loss: 0.0014, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.9274, Accuracy: 3549/10000 (35.4900%)
___Train Local_ResNet_18,  epoch 217, local model 92, internal_epoch   1,  Average loss: 0.0056, Accuracy: 710/796 (89.1960%)
___Train Local_ResNet_18,  epoch 217, local model 92, internal_epoch   2,  Average loss: 0.0071, Accuracy: 698/796 (87.6884%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.7102, Accuracy: 2692/10000 (26.9200%)
___Train Local_ResNet_18,  epoch 217, local model 57, internal_epoch   1,  Average loss: 0.0059, Accuracy: 254/290 (87.5862%)
___Train Local_ResNet_18,  epoch 217, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.2988, Accuracy: 3241/10000 (32.4100%)
___Train Local_ResNet_18,  epoch 217, local model 74, internal_epoch   1,  Average loss: 0.0046, Accuracy: 427/469 (91.0448%)
___Train Local_ResNet_18,  epoch 217, local model 74, internal_epoch   2,  Average loss: 0.0013, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.0664, Accuracy: 4117/10000 (41.1700%)
___Train Local_ResNet_18,  epoch 217, local model 67, internal_epoch   1,  Average loss: 0.0052, Accuracy: 772/842 (91.6865%)
___Train Local_ResNet_18,  epoch 217, local model 67, internal_epoch   2,  Average loss: 0.0219, Accuracy: 525/842 (62.3515%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 42.7953, Accuracy: 1739/10000 (17.3900%)
___Train Local_ResNet_18,  epoch 217, local model 16, internal_epoch   1,  Average loss: 0.0047, Accuracy: 706/773 (91.3325%)
___Train Local_ResNet_18,  epoch 217, local model 16, internal_epoch   2,  Average loss: 0.0135, Accuracy: 610/773 (78.9133%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 15.5886, Accuracy: 1641/10000 (16.4100%)
___Train Local_ResNet_18,  epoch 217, local model 64, internal_epoch   1,  Average loss: 0.0045, Accuracy: 623/686 (90.8163%)
___Train Local_ResNet_18,  epoch 217, local model 64, internal_epoch   2,  Average loss: 0.0044, Accuracy: 629/686 (91.6910%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.2667, Accuracy: 2957/10000 (29.5700%)
___Train Local_ResNet_18,  epoch 217, local model 30, internal_epoch   1,  Average loss: 0.0063, Accuracy: 303/337 (89.9110%)
___Train Local_ResNet_18,  epoch 217, local model 30, internal_epoch   2,  Average loss: 0.0067, Accuracy: 304/337 (90.2077%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 6.8283, Accuracy: 2306/10000 (23.0600%)
time spent on training: 54.08978319168091
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [248, 349, 214, 796, 290, 469, 842, 773, 686, 337]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.39300912 1.         1.         1.         0.51656899 0.51656899
 1.         0.62882221 0.84666764 0.39300912]
___Test Target_ResNet_18 poisoned: False, epoch: 217: Average loss: 0.6807, Accuracy: 7741/10000 (77.4100%)
___Test Target_ResNet_18 poisoned: True, epoch: 217: Average loss: 6.5297, Accuracy: 235/9000 (2.6111%)
Done in 94.34792232513428 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:218 choose agents : [35, 81, 62, 68, 2, 74, 39, 1, 64, 29]. Adversary List: []
___Train Local_ResNet_18,  epoch 218, local model 35, internal_epoch   1,  Average loss: 0.0070, Accuracy: 362/419 (86.3962%)
___Train Local_ResNet_18,  epoch 218, local model 35, internal_epoch   2,  Average loss: 0.0023, Accuracy: 399/419 (95.2267%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 3.9192, Accuracy: 3583/10000 (35.8300%)
___Train Local_ResNet_18,  epoch 218, local model 81, internal_epoch   1,  Average loss: 0.0074, Accuracy: 904/1034 (87.4275%)
___Train Local_ResNet_18,  epoch 218, local model 81, internal_epoch   2,  Average loss: 0.0110, Accuracy: 828/1034 (80.0774%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 20.6972, Accuracy: 1392/10000 (13.9200%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   1,  Average loss: 0.0021, Accuracy: 343/358 (95.8101%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   2,  Average loss: 0.0006, Accuracy: 357/358 (99.7207%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.1945, Accuracy: 6478/10000 (64.7800%)
___Train Local_ResNet_18,  epoch 218, local model 68, internal_epoch   1,  Average loss: 0.0029, Accuracy: 395/416 (94.9519%)
___Train Local_ResNet_18,  epoch 218, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.5309, Accuracy: 5953/10000 (59.5300%)
___Train Local_ResNet_18,  epoch 218, local model 2, internal_epoch   1,  Average loss: 0.0090, Accuracy: 389/461 (84.3818%)
___Train Local_ResNet_18,  epoch 218, local model 2, internal_epoch   2,  Average loss: 0.0072, Accuracy: 411/461 (89.1540%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 11.4126, Accuracy: 1516/10000 (15.1600%)
___Train Local_ResNet_18,  epoch 218, local model 74, internal_epoch   1,  Average loss: 0.0047, Accuracy: 431/469 (91.8977%)
___Train Local_ResNet_18,  epoch 218, local model 74, internal_epoch   2,  Average loss: 0.0021, Accuracy: 453/469 (96.5885%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.3485, Accuracy: 4612/10000 (46.1200%)
___Train Local_ResNet_18,  epoch 218, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 188/217 (86.6359%)
___Train Local_ResNet_18,  epoch 218, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.5434, Accuracy: 4349/10000 (43.4900%)
___Train Local_ResNet_18,  epoch 218, local model 1, internal_epoch   1,  Average loss: 0.0055, Accuracy: 602/641 (93.9158%)
___Train Local_ResNet_18,  epoch 218, local model 1, internal_epoch   2,  Average loss: 0.0114, Accuracy: 579/641 (90.3276%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 3.6298, Accuracy: 4424/10000 (44.2400%)
___Train Local_ResNet_18,  epoch 218, local model 64, internal_epoch   1,  Average loss: 0.0040, Accuracy: 630/686 (91.8367%)
___Train Local_ResNet_18,  epoch 218, local model 64, internal_epoch   2,  Average loss: 0.0029, Accuracy: 648/686 (94.4606%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.1195, Accuracy: 4850/10000 (48.5000%)
___Train Local_ResNet_18,  epoch 218, local model 29, internal_epoch   1,  Average loss: 0.0047, Accuracy: 770/848 (90.8019%)
___Train Local_ResNet_18,  epoch 218, local model 29, internal_epoch   2,  Average loss: 0.0069, Accuracy: 748/848 (88.2075%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 8.1505, Accuracy: 2561/10000 (25.6100%)
time spent on training: 55.412272214889526
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [419, 1034, 358, 416, 461, 469, 217, 641, 686, 848]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.89213761 0.32366377 1.         0.32366377
 0.33804322 0.89213761 0.         0.33804322]
___Test Target_ResNet_18 poisoned: False, epoch: 218: Average loss: 0.6782, Accuracy: 7744/10000 (77.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 218: Average loss: 6.5245, Accuracy: 240/9000 (2.6667%)
Done in 95.0798716545105 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:219 choose agents : [11, 21, 39, 95, 90, 68, 38, 97, 3, 98]. Adversary List: []
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 219, local model 11, internal_epoch   1,  Average loss: 0.0030, Accuracy: 517/546 (94.6886%)
___Train Local_ResNet_18,  epoch 219, local model 11, internal_epoch   2,  Average loss: 0.0021, Accuracy: 531/546 (97.2527%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.7052, Accuracy: 5664/10000 (56.6400%)
___Train Local_ResNet_18,  epoch 219, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 241/262 (91.9847%)
___Train Local_ResNet_18,  epoch 219, local model 21, internal_epoch   2,  Average loss: 0.0011, Accuracy: 259/262 (98.8550%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 5.1585, Accuracy: 3021/10000 (30.2100%)
___Train Local_ResNet_18,  epoch 219, local model 39, internal_epoch   1,  Average loss: 0.0069, Accuracy: 187/217 (86.1751%)
___Train Local_ResNet_18,  epoch 219, local model 39, internal_epoch   2,  Average loss: 0.0011, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 4.8125, Accuracy: 3109/10000 (31.0900%)
___Train Local_ResNet_18,  epoch 219, local model 95, internal_epoch   1,  Average loss: 0.0102, Accuracy: 452/569 (79.4376%)
___Train Local_ResNet_18,  epoch 219, local model 95, internal_epoch   2,  Average loss: 0.0062, Accuracy: 498/569 (87.5220%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 6.1783, Accuracy: 2896/10000 (28.9600%)
___Train Local_ResNet_18,  epoch 219, local model 90, internal_epoch   1,  Average loss: 0.0052, Accuracy: 529/578 (91.5225%)
___Train Local_ResNet_18,  epoch 219, local model 90, internal_epoch   2,  Average loss: 0.0019, Accuracy: 552/578 (95.5017%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 3.2391, Accuracy: 3799/10000 (37.9900%)
___Train Local_ResNet_18,  epoch 219, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 394/416 (94.7115%)
___Train Local_ResNet_18,  epoch 219, local model 68, internal_epoch   2,  Average loss: 0.0009, Accuracy: 410/416 (98.5577%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.6889, Accuracy: 5785/10000 (57.8500%)
___Train Local_ResNet_18,  epoch 219, local model 38, internal_epoch   1,  Average loss: 0.0026, Accuracy: 725/756 (95.8995%)
___Train Local_ResNet_18,  epoch 219, local model 38, internal_epoch   2,  Average loss: 0.0027, Accuracy: 716/756 (94.7090%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 2.3093, Accuracy: 4894/10000 (48.9400%)
___Train Local_ResNet_18,  epoch 219, local model 97, internal_epoch   1,  Average loss: 0.0035, Accuracy: 388/418 (92.8230%)
___Train Local_ResNet_18,  epoch 219, local model 97, internal_epoch   2,  Average loss: 0.0024, Accuracy: 402/418 (96.1722%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 2.2779, Accuracy: 4960/10000 (49.6000%)
___Train Local_ResNet_18,  epoch 219, local model 3, internal_epoch   1,  Average loss: 0.0067, Accuracy: 677/780 (86.7949%)
___Train Local_ResNet_18,  epoch 219, local model 3, internal_epoch   2,  Average loss: 0.0187, Accuracy: 524/780 (67.1795%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 11.9017, Accuracy: 1393/10000 (13.9300%)
___Train Local_ResNet_18,  epoch 219, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 746/802 (93.0175%)
___Train Local_ResNet_18,  epoch 219, local model 98, internal_epoch   2,  Average loss: 0.0066, Accuracy: 691/802 (86.1596%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 5.6972, Accuracy: 3035/10000 (30.3500%)
time spent on training: 83.3419861793518
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10217065868263472  data num: [546, 262, 217, 569, 578, 416, 756, 418, 780, 802]
[foolsgold agg] considering poison per batch poison_fraction: 0.007982082709580838
[foolsgold agg] wv: [0.99538958 1.         1.         1.         1.         0.99538958
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 219: Average loss: 0.6759, Accuracy: 7755/10000 (77.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 219: Average loss: 6.5264, Accuracy: 242/9000 (2.6889%)
Done in 122.42696619033813 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:220 choose agents : [90, 88, 25, 27, 56, 93, 42, 18, 66, 82]. Adversary List: []
___Train Local_ResNet_18,  epoch 220, local model 90, internal_epoch   1,  Average loss: 0.0079, Accuracy: 517/578 (89.4464%)
___Train Local_ResNet_18,  epoch 220, local model 90, internal_epoch   2,  Average loss: 0.0103, Accuracy: 471/578 (81.4879%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 110.6732, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 220, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 372/447 (83.2215%)
___Train Local_ResNet_18,  epoch 220, local model 88, internal_epoch   2,  Average loss: 0.0040, Accuracy: 411/447 (91.9463%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 7.7232, Accuracy: 2009/10000 (20.0900%)
___Train Local_ResNet_18,  epoch 220, local model 25, internal_epoch   1,  Average loss: 0.0036, Accuracy: 508/545 (93.2110%)
___Train Local_ResNet_18,  epoch 220, local model 25, internal_epoch   2,  Average loss: 0.0018, Accuracy: 532/545 (97.6147%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 4.8204, Accuracy: 3581/10000 (35.8100%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   1,  Average loss: 0.0018, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   2,  Average loss: 0.0004, Accuracy: 396/397 (99.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.4696, Accuracy: 6107/10000 (61.0700%)
___Train Local_ResNet_18,  epoch 220, local model 56, internal_epoch   1,  Average loss: 0.0023, Accuracy: 714/743 (96.0969%)
___Train Local_ResNet_18,  epoch 220, local model 56, internal_epoch   2,  Average loss: 0.0014, Accuracy: 718/743 (96.6353%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.7347, Accuracy: 5721/10000 (57.2100%)
___Train Local_ResNet_18,  epoch 220, local model 93, internal_epoch   1,  Average loss: 0.0033, Accuracy: 550/584 (94.1781%)
___Train Local_ResNet_18,  epoch 220, local model 93, internal_epoch   2,  Average loss: 0.0060, Accuracy: 529/584 (90.5822%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 7.5431, Accuracy: 2662/10000 (26.6200%)
___Train Local_ResNet_18,  epoch 220, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 177/198 (89.3939%)
___Train Local_ResNet_18,  epoch 220, local model 42, internal_epoch   2,  Average loss: 0.0005, Accuracy: 198/198 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 3.5930, Accuracy: 3597/10000 (35.9700%)
___Train Local_ResNet_18,  epoch 220, local model 18, internal_epoch   1,  Average loss: 0.0039, Accuracy: 365/386 (94.5596%)
___Train Local_ResNet_18,  epoch 220, local model 18, internal_epoch   2,  Average loss: 0.0199, Accuracy: 337/386 (87.3057%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 10.3272, Accuracy: 1248/10000 (12.4800%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   1,  Average loss: 0.0043, Accuracy: 505/555 (90.9910%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   2,  Average loss: 0.0013, Accuracy: 541/555 (97.4775%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 4.4746, Accuracy: 3656/10000 (36.5600%)
___Train Local_ResNet_18,  epoch 220, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 575/601 (95.6739%)
___Train Local_ResNet_18,  epoch 220, local model 82, internal_epoch   2,  Average loss: 0.0026, Accuracy: 572/601 (95.1747%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 2.0284, Accuracy: 5067/10000 (50.6700%)
time spent on training: 55.64676642417908
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [578, 447, 545, 397, 743, 584, 198, 386, 555, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.         0.         0.59133892 0.61282462
 0.         0.0369855  0.59133892 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 220: Average loss: 0.6751, Accuracy: 7759/10000 (77.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 220: Average loss: 6.5412, Accuracy: 241/9000 (2.6778%)
Done in 96.18509578704834 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:221 choose agents : [86, 67, 38, 29, 30, 96, 0, 3, 8, 68]. Adversary List: []
___Train Local_ResNet_18,  epoch 221, local model 86, internal_epoch   1,  Average loss: 0.0044, Accuracy: 195/212 (91.9811%)
___Train Local_ResNet_18,  epoch 221, local model 86, internal_epoch   2,  Average loss: 0.0009, Accuracy: 211/212 (99.5283%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.4184, Accuracy: 6181/10000 (61.8100%)
___Train Local_ResNet_18,  epoch 221, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 787/842 (93.4679%)
___Train Local_ResNet_18,  epoch 221, local model 67, internal_epoch   2,  Average loss: 0.0130, Accuracy: 688/842 (81.7102%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 13.8895, Accuracy: 2699/10000 (26.9900%)
___Train Local_ResNet_18,  epoch 221, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 719/756 (95.1058%)
___Train Local_ResNet_18,  epoch 221, local model 38, internal_epoch   2,  Average loss: 0.0021, Accuracy: 717/756 (94.8413%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.7968, Accuracy: 5568/10000 (55.6800%)
___Train Local_ResNet_18,  epoch 221, local model 29, internal_epoch   1,  Average loss: 0.0060, Accuracy: 753/848 (88.7972%)
___Train Local_ResNet_18,  epoch 221, local model 29, internal_epoch   2,  Average loss: 0.0057, Accuracy: 764/848 (90.0943%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 4.6153, Accuracy: 2783/10000 (27.8300%)
___Train Local_ResNet_18,  epoch 221, local model 30, internal_epoch   1,  Average loss: 0.0062, Accuracy: 299/337 (88.7240%)
___Train Local_ResNet_18,  epoch 221, local model 30, internal_epoch   2,  Average loss: 0.0029, Accuracy: 321/337 (95.2522%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 3.7197, Accuracy: 3199/10000 (31.9900%)
___Train Local_ResNet_18,  epoch 221, local model 96, internal_epoch   1,  Average loss: 0.0043, Accuracy: 641/708 (90.5367%)
___Train Local_ResNet_18,  epoch 221, local model 96, internal_epoch   2,  Average loss: 0.0099, Accuracy: 590/708 (83.3333%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 8.7782, Accuracy: 2138/10000 (21.3800%)
___Train Local_ResNet_18,  epoch 221, local model 0, internal_epoch   1,  Average loss: 0.0073, Accuracy: 315/367 (85.8311%)
___Train Local_ResNet_18,  epoch 221, local model 0, internal_epoch   2,  Average loss: 0.0023, Accuracy: 350/367 (95.3678%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 5.3142, Accuracy: 2642/10000 (26.4200%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   1,  Average loss: 0.0078, Accuracy: 670/780 (85.8974%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   2,  Average loss: 0.0125, Accuracy: 613/780 (78.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 8.4566, Accuracy: 2383/10000 (23.8300%)
___Train Local_ResNet_18,  epoch 221, local model 8, internal_epoch   1,  Average loss: 0.0040, Accuracy: 492/534 (92.1348%)
___Train Local_ResNet_18,  epoch 221, local model 8, internal_epoch   2,  Average loss: 0.0050, Accuracy: 485/534 (90.8240%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 3.1939, Accuracy: 3599/10000 (35.9900%)
___Train Local_ResNet_18,  epoch 221, local model 68, internal_epoch   1,  Average loss: 0.0026, Accuracy: 396/416 (95.1923%)
___Train Local_ResNet_18,  epoch 221, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.4629, Accuracy: 5956/10000 (59.5600%)
time spent on training: 58.66408085823059
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 842, 756, 848, 337, 708, 367, 780, 534, 416]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.37632618 1.         1.         1.         0.37003388 1.
 0.53731328 1.         0.37003388 0.37632618]
___Test Target_ResNet_18 poisoned: False, epoch: 221: Average loss: 0.6736, Accuracy: 7762/10000 (77.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 221: Average loss: 6.5088, Accuracy: 252/9000 (2.8000%)
Done in 97.18988108634949 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:222 choose agents : [79, 90, 21, 25, 53, 14, 6, 12, 7, 58]. Adversary List: []
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   1,  Average loss: 0.0068, Accuracy: 134/154 (87.0130%)
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.2405, Accuracy: 6496/10000 (64.9600%)
___Train Local_ResNet_18,  epoch 222, local model 90, internal_epoch   1,  Average loss: 0.0132, Accuracy: 533/578 (92.2145%)
___Train Local_ResNet_18,  epoch 222, local model 90, internal_epoch   2,  Average loss: 0.0292, Accuracy: 357/578 (61.7647%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 789.9326, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 222, local model 21, internal_epoch   1,  Average loss: 0.0046, Accuracy: 242/262 (92.3664%)
___Train Local_ResNet_18,  epoch 222, local model 21, internal_epoch   2,  Average loss: 0.0071, Accuracy: 244/262 (93.1298%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 6.4647, Accuracy: 2136/10000 (21.3600%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   1,  Average loss: 0.0040, Accuracy: 505/545 (92.6606%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   2,  Average loss: 0.0018, Accuracy: 526/545 (96.5138%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.2628, Accuracy: 4186/10000 (41.8600%)
___Train Local_ResNet_18,  epoch 222, local model 53, internal_epoch   1,  Average loss: 0.0044, Accuracy: 564/625 (90.2400%)
___Train Local_ResNet_18,  epoch 222, local model 53, internal_epoch   2,  Average loss: 0.0032, Accuracy: 583/625 (93.2800%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.4722, Accuracy: 3918/10000 (39.1800%)
___Train Local_ResNet_18,  epoch 222, local model 14, internal_epoch   1,  Average loss: 0.0084, Accuracy: 267/318 (83.9623%)
___Train Local_ResNet_18,  epoch 222, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 296/318 (93.0818%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 9.6729, Accuracy: 1889/10000 (18.8900%)
___Train Local_ResNet_18,  epoch 222, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 477/520 (91.7308%)
___Train Local_ResNet_18,  epoch 222, local model 6, internal_epoch   2,  Average loss: 0.0041, Accuracy: 483/520 (92.8846%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.6110, Accuracy: 3628/10000 (36.2800%)
___Train Local_ResNet_18,  epoch 222, local model 12, internal_epoch   1,  Average loss: 0.0065, Accuracy: 854/977 (87.4104%)
___Train Local_ResNet_18,  epoch 222, local model 12, internal_epoch   2,  Average loss: 0.0082, Accuracy: 822/977 (84.1351%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 5.1409, Accuracy: 3527/10000 (35.2700%)
___Train Local_ResNet_18,  epoch 222, local model 7, internal_epoch   1,  Average loss: 0.0028, Accuracy: 332/352 (94.3182%)
___Train Local_ResNet_18,  epoch 222, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 347/352 (98.5795%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.9396, Accuracy: 5200/10000 (52.0000%)
___Train Local_ResNet_18,  epoch 222, local model 58, internal_epoch   1,  Average loss: 0.0083, Accuracy: 197/234 (84.1880%)
___Train Local_ResNet_18,  epoch 222, local model 58, internal_epoch   2,  Average loss: 0.0006, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 7.1652, Accuracy: 1833/10000 (18.3300%)
time spent on training: 52.92065095901489
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [154, 578, 262, 545, 625, 318, 520, 977, 352, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.85178604 0.         1.         0.
 0.06104105 1.         0.94312105 0.344107  ]
___Test Target_ResNet_18 poisoned: False, epoch: 222: Average loss: 0.6708, Accuracy: 7767/10000 (77.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 222: Average loss: 6.4871, Accuracy: 263/9000 (2.9222%)
Done in 91.85169196128845 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:223 choose agents : [65, 0, 98, 20, 45, 82, 88, 17, 11, 46]. Adversary List: []
___Train Local_ResNet_18,  epoch 223, local model 65, internal_epoch   1,  Average loss: 0.0046, Accuracy: 287/314 (91.4013%)
___Train Local_ResNet_18,  epoch 223, local model 65, internal_epoch   2,  Average loss: 0.0007, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 4.4726, Accuracy: 2765/10000 (27.6500%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   1,  Average loss: 0.0078, Accuracy: 309/367 (84.1962%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   2,  Average loss: 0.0020, Accuracy: 349/367 (95.0954%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.6538, Accuracy: 2728/10000 (27.2800%)
___Train Local_ResNet_18,  epoch 223, local model 98, internal_epoch   1,  Average loss: 0.0040, Accuracy: 743/802 (92.6434%)
___Train Local_ResNet_18,  epoch 223, local model 98, internal_epoch   2,  Average loss: 0.0046, Accuracy: 727/802 (90.6484%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.6066, Accuracy: 4767/10000 (47.6700%)
___Train Local_ResNet_18,  epoch 223, local model 20, internal_epoch   1,  Average loss: 0.0074, Accuracy: 303/362 (83.7017%)
___Train Local_ResNet_18,  epoch 223, local model 20, internal_epoch   2,  Average loss: 0.0034, Accuracy: 339/362 (93.6464%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 4.9277, Accuracy: 3688/10000 (36.8800%)
___Train Local_ResNet_18,  epoch 223, local model 45, internal_epoch   1,  Average loss: 0.0065, Accuracy: 461/529 (87.1456%)
___Train Local_ResNet_18,  epoch 223, local model 45, internal_epoch   2,  Average loss: 0.0081, Accuracy: 457/529 (86.3894%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 9.5774, Accuracy: 1990/10000 (19.9000%)
___Train Local_ResNet_18,  epoch 223, local model 82, internal_epoch   1,  Average loss: 0.0022, Accuracy: 581/601 (96.6722%)
___Train Local_ResNet_18,  epoch 223, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 562/601 (93.5108%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.4918, Accuracy: 4790/10000 (47.9000%)
___Train Local_ResNet_18,  epoch 223, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 375/447 (83.8926%)
___Train Local_ResNet_18,  epoch 223, local model 88, internal_epoch   2,  Average loss: 0.0037, Accuracy: 415/447 (92.8412%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.1649, Accuracy: 3024/10000 (30.2400%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 223, local model 17, internal_epoch   1,  Average loss: 0.0026, Accuracy: 502/526 (95.4373%)
___Train Local_ResNet_18,  epoch 223, local model 17, internal_epoch   2,  Average loss: 0.0018, Accuracy: 512/526 (97.3384%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.7453, Accuracy: 5779/10000 (57.7900%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 223, local model 11, internal_epoch   1,  Average loss: 0.0032, Accuracy: 512/546 (93.7729%)
___Train Local_ResNet_18,  epoch 223, local model 11, internal_epoch   2,  Average loss: 0.0033, Accuracy: 510/546 (93.4066%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.4162, Accuracy: 4836/10000 (48.3600%)
___Train Local_ResNet_18,  epoch 223, local model 46, internal_epoch   1,  Average loss: 0.0017, Accuracy: 588/601 (97.8369%)
___Train Local_ResNet_18,  epoch 223, local model 46, internal_epoch   2,  Average loss: 0.0010, Accuracy: 594/601 (98.8353%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.4322, Accuracy: 6075/10000 (60.7500%)
time spent on training: 66.43766450881958
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21040235525024534  data num: [314, 367, 802, 362, 529, 601, 447, 526, 546, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.016437684003925417
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 223: Average loss: 0.6691, Accuracy: 7768/10000 (77.6800%)
___Test Target_ResNet_18 poisoned: True, epoch: 223: Average loss: 6.4810, Accuracy: 263/9000 (2.9222%)
Done in 105.73630785942078 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:224 choose agents : [85, 42, 29, 8, 63, 48, 69, 96, 88, 17]. Adversary List: []
___Train Local_ResNet_18,  epoch 224, local model 85, internal_epoch   1,  Average loss: 0.0066, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 224, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 352/364 (96.7033%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.1628, Accuracy: 2893/10000 (28.9300%)
___Train Local_ResNet_18,  epoch 224, local model 42, internal_epoch   1,  Average loss: 0.0044, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 224, local model 42, internal_epoch   2,  Average loss: 0.0076, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.5984, Accuracy: 4188/10000 (41.8800%)
___Train Local_ResNet_18,  epoch 224, local model 29, internal_epoch   1,  Average loss: 0.0041, Accuracy: 777/848 (91.6274%)
___Train Local_ResNet_18,  epoch 224, local model 29, internal_epoch   2,  Average loss: 0.0054, Accuracy: 766/848 (90.3302%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 5.6186, Accuracy: 3263/10000 (32.6300%)
___Train Local_ResNet_18,  epoch 224, local model 8, internal_epoch   1,  Average loss: 0.0039, Accuracy: 502/534 (94.0075%)
___Train Local_ResNet_18,  epoch 224, local model 8, internal_epoch   2,  Average loss: 0.0032, Accuracy: 499/534 (93.4457%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.9259, Accuracy: 4105/10000 (41.0500%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 703/752 (93.4840%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   2,  Average loss: 0.0022, Accuracy: 727/752 (96.6755%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 1.9542, Accuracy: 5463/10000 (54.6300%)
___Train Local_ResNet_18,  epoch 224, local model 48, internal_epoch   1,  Average loss: 0.0058, Accuracy: 340/378 (89.9471%)
___Train Local_ResNet_18,  epoch 224, local model 48, internal_epoch   2,  Average loss: 0.0020, Accuracy: 364/378 (96.2963%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.2362, Accuracy: 3898/10000 (38.9800%)
___Train Local_ResNet_18,  epoch 224, local model 69, internal_epoch   1,  Average loss: 0.0074, Accuracy: 188/216 (87.0370%)
___Train Local_ResNet_18,  epoch 224, local model 69, internal_epoch   2,  Average loss: 0.0008, Accuracy: 214/216 (99.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 12.5163, Accuracy: 1016/10000 (10.1600%)
___Train Local_ResNet_18,  epoch 224, local model 96, internal_epoch   1,  Average loss: 0.0052, Accuracy: 653/708 (92.2316%)
___Train Local_ResNet_18,  epoch 224, local model 96, internal_epoch   2,  Average loss: 0.0165, Accuracy: 517/708 (73.0226%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 13.7818, Accuracy: 2536/10000 (25.3600%)
___Train Local_ResNet_18,  epoch 224, local model 88, internal_epoch   1,  Average loss: 0.0065, Accuracy: 395/447 (88.3669%)
___Train Local_ResNet_18,  epoch 224, local model 88, internal_epoch   2,  Average loss: 0.0033, Accuracy: 416/447 (93.0649%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.3602, Accuracy: 3468/10000 (34.6800%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 224, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 504/526 (95.8175%)
___Train Local_ResNet_18,  epoch 224, local model 17, internal_epoch   2,  Average loss: 0.0029, Accuracy: 509/526 (96.7681%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 1.6227, Accuracy: 5651/10000 (56.5100%)
time spent on training: 61.0902054309845
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10581371957352645  data num: [364, 198, 848, 534, 752, 378, 216, 708, 447, 526]
[foolsgold agg] considering poison per batch poison_fraction: 0.008266696841681754
[foolsgold agg] wv: [0.2519455  0.         1.         0.83369674 1.         1.
 0.         1.         0.2519455  1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 224: Average loss: 0.6675, Accuracy: 7769/10000 (77.6900%)
___Test Target_ResNet_18 poisoned: True, epoch: 224: Average loss: 6.4758, Accuracy: 265/9000 (2.9444%)
Done in 103.793048620224 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:225 choose agents : [20, 71, 51, 95, 80, 24, 55, 13, 63, 61]. Adversary List: []
___Train Local_ResNet_18,  epoch 225, local model 20, internal_epoch   1,  Average loss: 0.0071, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 225, local model 20, internal_epoch   2,  Average loss: 0.0016, Accuracy: 349/362 (96.4088%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.2054, Accuracy: 2665/10000 (26.6500%)
___Train Local_ResNet_18,  epoch 225, local model 71, internal_epoch   1,  Average loss: 0.0044, Accuracy: 1069/1166 (91.6810%)
___Train Local_ResNet_18,  epoch 225, local model 71, internal_epoch   2,  Average loss: 0.0083, Accuracy: 974/1166 (83.5334%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.5743, Accuracy: 2719/10000 (27.1900%)
___Train Local_ResNet_18,  epoch 225, local model 51, internal_epoch   1,  Average loss: 0.0032, Accuracy: 448/479 (93.5282%)
___Train Local_ResNet_18,  epoch 225, local model 51, internal_epoch   2,  Average loss: 0.0019, Accuracy: 463/479 (96.6597%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 2.7013, Accuracy: 4090/10000 (40.9000%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   1,  Average loss: 0.0075, Accuracy: 491/569 (86.2917%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   2,  Average loss: 0.0054, Accuracy: 507/569 (89.1037%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.0926, Accuracy: 2574/10000 (25.7400%)
___Train Local_ResNet_18,  epoch 225, local model 80, internal_epoch   1,  Average loss: 0.0067, Accuracy: 311/363 (85.6749%)
___Train Local_ResNet_18,  epoch 225, local model 80, internal_epoch   2,  Average loss: 0.0018, Accuracy: 351/363 (96.6942%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 2.9609, Accuracy: 4053/10000 (40.5300%)
___Train Local_ResNet_18,  epoch 225, local model 24, internal_epoch   1,  Average loss: 0.0039, Accuracy: 290/320 (90.6250%)
___Train Local_ResNet_18,  epoch 225, local model 24, internal_epoch   2,  Average loss: 0.0006, Accuracy: 317/320 (99.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 3.2893, Accuracy: 3463/10000 (34.6300%)
___Train Local_ResNet_18,  epoch 225, local model 55, internal_epoch   1,  Average loss: 0.0049, Accuracy: 271/299 (90.6355%)
___Train Local_ResNet_18,  epoch 225, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.6249, Accuracy: 2117/10000 (21.1700%)
___Train Local_ResNet_18,  epoch 225, local model 13, internal_epoch   1,  Average loss: 0.0057, Accuracy: 547/620 (88.2258%)
___Train Local_ResNet_18,  epoch 225, local model 13, internal_epoch   2,  Average loss: 0.0030, Accuracy: 583/620 (94.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 4.9743, Accuracy: 3237/10000 (32.3700%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   1,  Average loss: 0.0028, Accuracy: 707/752 (94.0160%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   2,  Average loss: 0.0022, Accuracy: 723/752 (96.1436%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.5605, Accuracy: 5805/10000 (58.0500%)
___Train Local_ResNet_18,  epoch 225, local model 61, internal_epoch   1,  Average loss: 0.0048, Accuracy: 539/590 (91.3559%)
___Train Local_ResNet_18,  epoch 225, local model 61, internal_epoch   2,  Average loss: 0.0088, Accuracy: 497/590 (84.2373%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 9.3571, Accuracy: 2503/10000 (25.0300%)
time spent on training: 56.12054395675659
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [362, 1166, 479, 569, 363, 320, 299, 620, 752, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.81408494 0.         1.         0.29802709 0.81408494
 0.         0.29802709 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 225: Average loss: 0.6661, Accuracy: 7776/10000 (77.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 225: Average loss: 6.4875, Accuracy: 266/9000 (2.9556%)
Done in 96.42133975028992 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:226 choose agents : [41, 90, 74, 85, 14, 21, 78, 1, 2, 9]. Adversary List: []
___Train Local_ResNet_18,  epoch 226, local model 41, internal_epoch   1,  Average loss: 0.0232, Accuracy: 421/513 (82.0663%)
___Train Local_ResNet_18,  epoch 226, local model 41, internal_epoch   2,  Average loss: 0.0119, Accuracy: 409/513 (79.7271%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.6416, Accuracy: 2783/10000 (27.8300%)
___Train Local_ResNet_18,  epoch 226, local model 90, internal_epoch   1,  Average loss: 0.0060, Accuracy: 534/578 (92.3875%)
___Train Local_ResNet_18,  epoch 226, local model 90, internal_epoch   2,  Average loss: 0.0278, Accuracy: 333/578 (57.6125%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 1094.2479, Accuracy: 1046/10000 (10.4600%)
___Train Local_ResNet_18,  epoch 226, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 434/469 (92.5373%)
___Train Local_ResNet_18,  epoch 226, local model 74, internal_epoch   2,  Average loss: 0.0017, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 2.8315, Accuracy: 4503/10000 (45.0300%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   1,  Average loss: 0.0067, Accuracy: 314/364 (86.2637%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   2,  Average loss: 0.0028, Accuracy: 344/364 (94.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.9423, Accuracy: 3019/10000 (30.1900%)
___Train Local_ResNet_18,  epoch 226, local model 14, internal_epoch   1,  Average loss: 0.0068, Accuracy: 277/318 (87.1069%)
___Train Local_ResNet_18,  epoch 226, local model 14, internal_epoch   2,  Average loss: 0.0015, Accuracy: 308/318 (96.8553%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 12.2677, Accuracy: 1716/10000 (17.1600%)
___Train Local_ResNet_18,  epoch 226, local model 21, internal_epoch   1,  Average loss: 0.0042, Accuracy: 241/262 (91.9847%)
___Train Local_ResNet_18,  epoch 226, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 252/262 (96.1832%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.3116, Accuracy: 3586/10000 (35.8600%)
___Train Local_ResNet_18,  epoch 226, local model 78, internal_epoch   1,  Average loss: 0.0055, Accuracy: 225/255 (88.2353%)
___Train Local_ResNet_18,  epoch 226, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.0930, Accuracy: 3938/10000 (39.3800%)
___Train Local_ResNet_18,  epoch 226, local model 1, internal_epoch   1,  Average loss: 0.0080, Accuracy: 609/641 (95.0078%)
___Train Local_ResNet_18,  epoch 226, local model 1, internal_epoch   2,  Average loss: 0.0145, Accuracy: 531/641 (82.8393%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 4.2725, Accuracy: 3739/10000 (37.3900%)
___Train Local_ResNet_18,  epoch 226, local model 2, internal_epoch   1,  Average loss: 0.0082, Accuracy: 393/461 (85.2495%)
___Train Local_ResNet_18,  epoch 226, local model 2, internal_epoch   2,  Average loss: 0.0054, Accuracy: 422/461 (91.5401%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 4.2258, Accuracy: 3580/10000 (35.8000%)
___Train Local_ResNet_18,  epoch 226, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 338/368 (91.8478%)
___Train Local_ResNet_18,  epoch 226, local model 9, internal_epoch   2,  Average loss: 0.0013, Accuracy: 362/368 (98.3696%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 7.3580, Accuracy: 2250/10000 (22.5000%)
time spent on training: 52.707813024520874
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [513, 578, 469, 364, 318, 262, 255, 641, 461, 368]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.07535463 1.         1.         1.         0.07535463 1.
 1.         1.         0.79964496 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 226: Average loss: 0.6678, Accuracy: 7785/10000 (77.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 226: Average loss: 6.5429, Accuracy: 253/9000 (2.8111%)
Done in 91.1205792427063 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:227 choose agents : [9, 5, 16, 36, 94, 57, 63, 92, 28, 56]. Adversary List: []
___Train Local_ResNet_18,  epoch 227, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 332/368 (90.2174%)
___Train Local_ResNet_18,  epoch 227, local model 9, internal_epoch   2,  Average loss: 0.0018, Accuracy: 354/368 (96.1957%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.6461, Accuracy: 2824/10000 (28.2400%)
___Train Local_ResNet_18,  epoch 227, local model 5, internal_epoch   1,  Average loss: 0.0020, Accuracy: 350/365 (95.8904%)
___Train Local_ResNet_18,  epoch 227, local model 5, internal_epoch   2,  Average loss: 0.0007, Accuracy: 362/365 (99.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.5930, Accuracy: 6024/10000 (60.2400%)
___Train Local_ResNet_18,  epoch 227, local model 16, internal_epoch   1,  Average loss: 0.0040, Accuracy: 718/773 (92.8849%)
___Train Local_ResNet_18,  epoch 227, local model 16, internal_epoch   2,  Average loss: 0.0096, Accuracy: 689/773 (89.1332%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 6.2964, Accuracy: 2382/10000 (23.8200%)
___Train Local_ResNet_18,  epoch 227, local model 36, internal_epoch   1,  Average loss: 0.0076, Accuracy: 738/849 (86.9258%)
___Train Local_ResNet_18,  epoch 227, local model 36, internal_epoch   2,  Average loss: 0.0165, Accuracy: 591/849 (69.6113%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 27.4084, Accuracy: 1662/10000 (16.6200%)
___Train Local_ResNet_18,  epoch 227, local model 94, internal_epoch   1,  Average loss: 0.0080, Accuracy: 170/203 (83.7438%)
___Train Local_ResNet_18,  epoch 227, local model 94, internal_epoch   2,  Average loss: 0.0020, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.6064, Accuracy: 2753/10000 (27.5300%)
___Train Local_ResNet_18,  epoch 227, local model 57, internal_epoch   1,  Average loss: 0.0053, Accuracy: 262/290 (90.3448%)
___Train Local_ResNet_18,  epoch 227, local model 57, internal_epoch   2,  Average loss: 0.0012, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 3.1233, Accuracy: 4613/10000 (46.1300%)
___Train Local_ResNet_18,  epoch 227, local model 63, internal_epoch   1,  Average loss: 0.0026, Accuracy: 713/752 (94.8138%)
___Train Local_ResNet_18,  epoch 227, local model 63, internal_epoch   2,  Average loss: 0.0022, Accuracy: 713/752 (94.8138%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.5580, Accuracy: 5792/10000 (57.9200%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   1,  Average loss: 0.0053, Accuracy: 719/796 (90.3266%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   2,  Average loss: 0.0074, Accuracy: 693/796 (87.0603%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 5.5641, Accuracy: 2335/10000 (23.3500%)
___Train Local_ResNet_18,  epoch 227, local model 28, internal_epoch   1,  Average loss: 0.0031, Accuracy: 398/423 (94.0898%)
___Train Local_ResNet_18,  epoch 227, local model 28, internal_epoch   2,  Average loss: 0.0015, Accuracy: 412/423 (97.3995%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.9663, Accuracy: 5200/10000 (52.0000%)
___Train Local_ResNet_18,  epoch 227, local model 56, internal_epoch   1,  Average loss: 0.0022, Accuracy: 716/743 (96.3661%)
___Train Local_ResNet_18,  epoch 227, local model 56, internal_epoch   2,  Average loss: 0.0010, Accuracy: 728/743 (97.9812%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.3996, Accuracy: 6331/10000 (63.3100%)
time spent on training: 55.39300298690796
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [368, 365, 773, 849, 203, 290, 752, 796, 423, 743]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.87295068 0.30239761 1.         0.78739841 0.30239761
 0.51795064 1.         0.87295068 0.78739841]
___Test Target_ResNet_18 poisoned: False, epoch: 227: Average loss: 0.6660, Accuracy: 7798/10000 (77.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 227: Average loss: 6.5509, Accuracy: 253/9000 (2.8111%)
Done in 94.4840316772461 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:228 choose agents : [44, 40, 74, 85, 2, 99, 35, 70, 88, 50]. Adversary List: []
___Train Local_ResNet_18,  epoch 228, local model 44, internal_epoch   1,  Average loss: 0.0043, Accuracy: 401/436 (91.9725%)
___Train Local_ResNet_18,  epoch 228, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 1.5065, Accuracy: 5733/10000 (57.3300%)
___Train Local_ResNet_18,  epoch 228, local model 40, internal_epoch   1,  Average loss: 0.0089, Accuracy: 568/652 (87.1166%)
___Train Local_ResNet_18,  epoch 228, local model 40, internal_epoch   2,  Average loss: 0.0082, Accuracy: 552/652 (84.6626%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 5.4894, Accuracy: 2578/10000 (25.7800%)
___Train Local_ResNet_18,  epoch 228, local model 74, internal_epoch   1,  Average loss: 0.0047, Accuracy: 437/469 (93.1770%)
___Train Local_ResNet_18,  epoch 228, local model 74, internal_epoch   2,  Average loss: 0.0032, Accuracy: 446/469 (95.0959%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.2858, Accuracy: 3727/10000 (37.2700%)
___Train Local_ResNet_18,  epoch 228, local model 85, internal_epoch   1,  Average loss: 0.0074, Accuracy: 316/364 (86.8132%)
___Train Local_ResNet_18,  epoch 228, local model 85, internal_epoch   2,  Average loss: 0.0027, Accuracy: 347/364 (95.3297%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.3620, Accuracy: 3404/10000 (34.0400%)
___Train Local_ResNet_18,  epoch 228, local model 2, internal_epoch   1,  Average loss: 0.0077, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 228, local model 2, internal_epoch   2,  Average loss: 0.0075, Accuracy: 406/461 (88.0694%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 7.6996, Accuracy: 2325/10000 (23.2500%)
___Train Local_ResNet_18,  epoch 228, local model 99, internal_epoch   1,  Average loss: 0.0049, Accuracy: 359/391 (91.8159%)
___Train Local_ResNet_18,  epoch 228, local model 99, internal_epoch   2,  Average loss: 0.0084, Accuracy: 354/391 (90.5371%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 4.1478, Accuracy: 3548/10000 (35.4800%)
___Train Local_ResNet_18,  epoch 228, local model 35, internal_epoch   1,  Average loss: 0.0068, Accuracy: 366/419 (87.3508%)
___Train Local_ResNet_18,  epoch 228, local model 35, internal_epoch   2,  Average loss: 0.0019, Accuracy: 404/419 (96.4200%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 4.0302, Accuracy: 2853/10000 (28.5300%)
___Train Local_ResNet_18,  epoch 228, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 578/610 (94.7541%)
___Train Local_ResNet_18,  epoch 228, local model 70, internal_epoch   2,  Average loss: 0.0041, Accuracy: 566/610 (92.7869%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.0011, Accuracy: 4147/10000 (41.4700%)
___Train Local_ResNet_18,  epoch 228, local model 88, internal_epoch   1,  Average loss: 0.0064, Accuracy: 392/447 (87.6957%)
___Train Local_ResNet_18,  epoch 228, local model 88, internal_epoch   2,  Average loss: 0.0025, Accuracy: 422/447 (94.4072%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.9692, Accuracy: 3475/10000 (34.7500%)
___Train Local_ResNet_18,  epoch 228, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 386/401 (96.2594%)
___Train Local_ResNet_18,  epoch 228, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 2.8720, Accuracy: 4453/10000 (44.5300%)
time spent on training: 53.677032709121704
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [436, 652, 469, 364, 461, 391, 419, 610, 447, 401]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.38776375 0.03300853 0.70828998 0.2273455  0.03300853 0.82107007
 1.         0.38776375 0.2273455  0.82107007]
___Test Target_ResNet_18 poisoned: False, epoch: 228: Average loss: 0.6654, Accuracy: 7793/10000 (77.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 228: Average loss: 6.5649, Accuracy: 252/9000 (2.8000%)
Done in 92.70544171333313 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:229 choose agents : [86, 60, 41, 79, 76, 67, 9, 40, 72, 44]. Adversary List: []
___Train Local_ResNet_18,  epoch 229, local model 86, internal_epoch   1,  Average loss: 0.0051, Accuracy: 203/212 (95.7547%)
___Train Local_ResNet_18,  epoch 229, local model 86, internal_epoch   2,  Average loss: 0.0026, Accuracy: 206/212 (97.1698%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 2.6192, Accuracy: 4601/10000 (46.0100%)
___Train Local_ResNet_18,  epoch 229, local model 60, internal_epoch   1,  Average loss: 0.0044, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 229, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 281/284 (98.9437%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 3.0634, Accuracy: 4268/10000 (42.6800%)
___Train Local_ResNet_18,  epoch 229, local model 41, internal_epoch   1,  Average loss: 0.0084, Accuracy: 426/513 (83.0409%)
___Train Local_ResNet_18,  epoch 229, local model 41, internal_epoch   2,  Average loss: 0.0242, Accuracy: 463/513 (90.2534%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 5.2269, Accuracy: 3079/10000 (30.7900%)
___Train Local_ResNet_18,  epoch 229, local model 79, internal_epoch   1,  Average loss: 0.0065, Accuracy: 133/154 (86.3636%)
___Train Local_ResNet_18,  epoch 229, local model 79, internal_epoch   2,  Average loss: 0.0009, Accuracy: 153/154 (99.3506%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.0657, Accuracy: 6782/10000 (67.8200%)
___Train Local_ResNet_18,  epoch 229, local model 76, internal_epoch   1,  Average loss: 0.0404, Accuracy: 60/65 (92.3077%)
___Train Local_ResNet_18,  epoch 229, local model 76, internal_epoch   2,  Average loss: 0.0456, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.1932, Accuracy: 6572/10000 (65.7200%)
___Train Local_ResNet_18,  epoch 229, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 789/842 (93.7055%)
___Train Local_ResNet_18,  epoch 229, local model 67, internal_epoch   2,  Average loss: 0.0150, Accuracy: 642/842 (76.2470%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 18.1931, Accuracy: 1605/10000 (16.0500%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   1,  Average loss: 0.0037, Accuracy: 337/368 (91.5761%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 359/368 (97.5543%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 4.1073, Accuracy: 3406/10000 (34.0600%)
___Train Local_ResNet_18,  epoch 229, local model 40, internal_epoch   1,  Average loss: 0.0057, Accuracy: 570/652 (87.4233%)
___Train Local_ResNet_18,  epoch 229, local model 40, internal_epoch   2,  Average loss: 0.0054, Accuracy: 587/652 (90.0307%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 6.8752, Accuracy: 2820/10000 (28.2000%)
___Train Local_ResNet_18,  epoch 229, local model 72, internal_epoch   1,  Average loss: 0.0082, Accuracy: 512/618 (82.8479%)
___Train Local_ResNet_18,  epoch 229, local model 72, internal_epoch   2,  Average loss: 0.0070, Accuracy: 537/618 (86.8932%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 9.5339, Accuracy: 2088/10000 (20.8800%)
___Train Local_ResNet_18,  epoch 229, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 408/436 (93.5780%)
___Train Local_ResNet_18,  epoch 229, local model 44, internal_epoch   2,  Average loss: 0.0011, Accuracy: 427/436 (97.9358%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.8606, Accuracy: 5341/10000 (53.4100%)
time spent on training: 55.93657660484314
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 284, 513, 154, 65, 842, 368, 652, 618, 436]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         0.77345017 1.         0.         1.
 1.         0.42799643 0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 229: Average loss: 0.6635, Accuracy: 7801/10000 (78.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 229: Average loss: 6.5656, Accuracy: 253/9000 (2.8111%)
Done in 95.15431761741638 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:230 choose agents : [46, 96, 54, 39, 67, 82, 21, 80, 11, 33]. Adversary List: []
___Train Local_ResNet_18,  epoch 230, local model 46, internal_epoch   1,  Average loss: 0.0018, Accuracy: 585/601 (97.3378%)
___Train Local_ResNet_18,  epoch 230, local model 46, internal_epoch   2,  Average loss: 0.0011, Accuracy: 590/601 (98.1697%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 1.8303, Accuracy: 5523/10000 (55.2300%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   1,  Average loss: 0.0038, Accuracy: 656/708 (92.6554%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   2,  Average loss: 0.0049, Accuracy: 649/708 (91.6667%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 5.3605, Accuracy: 3248/10000 (32.4800%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   1,  Average loss: 0.0034, Accuracy: 407/440 (92.5000%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   2,  Average loss: 0.0012, Accuracy: 430/440 (97.7273%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.3056, Accuracy: 4309/10000 (43.0900%)
___Train Local_ResNet_18,  epoch 230, local model 39, internal_epoch   1,  Average loss: 0.0057, Accuracy: 193/217 (88.9401%)
___Train Local_ResNet_18,  epoch 230, local model 39, internal_epoch   2,  Average loss: 0.0009, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.1176, Accuracy: 3927/10000 (39.2700%)
___Train Local_ResNet_18,  epoch 230, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 790/842 (93.8242%)
___Train Local_ResNet_18,  epoch 230, local model 67, internal_epoch   2,  Average loss: 0.0222, Accuracy: 539/842 (64.0143%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 79.6452, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   1,  Average loss: 0.0022, Accuracy: 580/601 (96.5058%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   2,  Average loss: 0.0019, Accuracy: 582/601 (96.8386%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 1.9402, Accuracy: 5238/10000 (52.3800%)
___Train Local_ResNet_18,  epoch 230, local model 21, internal_epoch   1,  Average loss: 0.0111, Accuracy: 238/262 (90.8397%)
___Train Local_ResNet_18,  epoch 230, local model 21, internal_epoch   2,  Average loss: 0.0237, Accuracy: 203/262 (77.4809%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 30.0669, Accuracy: 1424/10000 (14.2400%)
___Train Local_ResNet_18,  epoch 230, local model 80, internal_epoch   1,  Average loss: 0.0056, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 230, local model 80, internal_epoch   2,  Average loss: 0.0014, Accuracy: 354/363 (97.5207%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 4.4216, Accuracy: 3541/10000 (35.4100%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 230, local model 11, internal_epoch   1,  Average loss: 0.0031, Accuracy: 509/546 (93.2234%)
___Train Local_ResNet_18,  epoch 230, local model 11, internal_epoch   2,  Average loss: 0.0030, Accuracy: 514/546 (94.1392%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.8573, Accuracy: 4437/10000 (44.3700%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 230, local model 33, internal_epoch   1,  Average loss: 0.0046, Accuracy: 489/527 (92.7894%)
___Train Local_ResNet_18,  epoch 230, local model 33, internal_epoch   2,  Average loss: 0.0037, Accuracy: 494/527 (93.7381%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.1071, Accuracy: 4912/10000 (49.1200%)
time spent on training: 69.56783819198608
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21010377912668887  data num: [601, 708, 440, 217, 842, 601, 262, 363, 546, 527]
[foolsgold agg] considering poison per batch poison_fraction: 0.016414357744272568
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.47550373
 0.47550373 1.         0.97319121 0.97319121]
___Test Target_ResNet_18 poisoned: False, epoch: 230: Average loss: 0.6637, Accuracy: 7802/10000 (78.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 230: Average loss: 6.5480, Accuracy: 258/9000 (2.8667%)
Done in 108.39985752105713 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:231 choose agents : [91, 23, 65, 69, 44, 38, 93, 2, 16, 36]. Adversary List: []
___Train Local_ResNet_18,  epoch 231, local model 91, internal_epoch   1,  Average loss: 0.0035, Accuracy: 214/234 (91.4530%)
___Train Local_ResNet_18,  epoch 231, local model 91, internal_epoch   2,  Average loss: 0.0005, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 1.7441, Accuracy: 5603/10000 (56.0300%)
___Train Local_ResNet_18,  epoch 231, local model 23, internal_epoch   1,  Average loss: 0.0043, Accuracy: 220/248 (88.7097%)
___Train Local_ResNet_18,  epoch 231, local model 23, internal_epoch   2,  Average loss: 0.0007, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.4633, Accuracy: 4339/10000 (43.3900%)
___Train Local_ResNet_18,  epoch 231, local model 65, internal_epoch   1,  Average loss: 0.0039, Accuracy: 291/314 (92.6752%)
___Train Local_ResNet_18,  epoch 231, local model 65, internal_epoch   2,  Average loss: 0.0006, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 5.2323, Accuracy: 2619/10000 (26.1900%)
___Train Local_ResNet_18,  epoch 231, local model 69, internal_epoch   1,  Average loss: 0.0075, Accuracy: 192/216 (88.8889%)
___Train Local_ResNet_18,  epoch 231, local model 69, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 8.1740, Accuracy: 1354/10000 (13.5400%)
___Train Local_ResNet_18,  epoch 231, local model 44, internal_epoch   1,  Average loss: 0.0042, Accuracy: 397/436 (91.0550%)
___Train Local_ResNet_18,  epoch 231, local model 44, internal_epoch   2,  Average loss: 0.0013, Accuracy: 424/436 (97.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 3.0761, Accuracy: 3969/10000 (39.6900%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   1,  Average loss: 0.0029, Accuracy: 707/756 (93.5185%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   2,  Average loss: 0.0032, Accuracy: 704/756 (93.1217%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.6736, Accuracy: 4819/10000 (48.1900%)
___Train Local_ResNet_18,  epoch 231, local model 93, internal_epoch   1,  Average loss: 0.0032, Accuracy: 548/584 (93.8356%)
___Train Local_ResNet_18,  epoch 231, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 543/584 (92.9795%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 5.2972, Accuracy: 3010/10000 (30.1000%)
___Train Local_ResNet_18,  epoch 231, local model 2, internal_epoch   1,  Average loss: 0.0081, Accuracy: 395/461 (85.6833%)
___Train Local_ResNet_18,  epoch 231, local model 2, internal_epoch   2,  Average loss: 0.0076, Accuracy: 404/461 (87.6356%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 11.9840, Accuracy: 1575/10000 (15.7500%)
___Train Local_ResNet_18,  epoch 231, local model 16, internal_epoch   1,  Average loss: 0.0083, Accuracy: 693/773 (89.6507%)
___Train Local_ResNet_18,  epoch 231, local model 16, internal_epoch   2,  Average loss: 0.0236, Accuracy: 483/773 (62.4838%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 326.6685, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 231, local model 36, internal_epoch   1,  Average loss: 0.0069, Accuracy: 732/849 (86.2191%)
___Train Local_ResNet_18,  epoch 231, local model 36, internal_epoch   2,  Average loss: 0.0105, Accuracy: 664/849 (78.2097%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 6.2404, Accuracy: 3103/10000 (31.0300%)
time spent on training: 54.96504807472229
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [234, 248, 314, 216, 436, 756, 584, 461, 773, 849]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.26442367 0.20518551 1.         1.         0.20518551 1.
 0.26442367 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 231: Average loss: 0.6624, Accuracy: 7804/10000 (78.0400%)
___Test Target_ResNet_18 poisoned: True, epoch: 231: Average loss: 6.6040, Accuracy: 246/9000 (2.7333%)
Done in 95.94110918045044 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:232 choose agents : [36, 26, 95, 49, 48, 27, 74, 94, 29, 76]. Adversary List: []
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   1,  Average loss: 0.0062, Accuracy: 763/849 (89.8704%)
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   2,  Average loss: 0.0145, Accuracy: 637/849 (75.0294%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 19.8449, Accuracy: 1793/10000 (17.9300%)
___Train Local_ResNet_18,  epoch 232, local model 26, internal_epoch   1,  Average loss: 0.0039, Accuracy: 436/468 (93.1624%)
___Train Local_ResNet_18,  epoch 232, local model 26, internal_epoch   2,  Average loss: 0.0027, Accuracy: 445/468 (95.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 1.6195, Accuracy: 5937/10000 (59.3700%)
___Train Local_ResNet_18,  epoch 232, local model 95, internal_epoch   1,  Average loss: 0.0077, Accuracy: 482/569 (84.7100%)
___Train Local_ResNet_18,  epoch 232, local model 95, internal_epoch   2,  Average loss: 0.0042, Accuracy: 524/569 (92.0914%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 6.7797, Accuracy: 2681/10000 (26.8100%)
___Train Local_ResNet_18,  epoch 232, local model 49, internal_epoch   1,  Average loss: 0.0037, Accuracy: 393/426 (92.2535%)
___Train Local_ResNet_18,  epoch 232, local model 49, internal_epoch   2,  Average loss: 0.0028, Accuracy: 408/426 (95.7746%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.2076, Accuracy: 5075/10000 (50.7500%)
___Train Local_ResNet_18,  epoch 232, local model 48, internal_epoch   1,  Average loss: 0.0056, Accuracy: 328/378 (86.7725%)
___Train Local_ResNet_18,  epoch 232, local model 48, internal_epoch   2,  Average loss: 0.0021, Accuracy: 364/378 (96.2963%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.8055, Accuracy: 4073/10000 (40.7300%)
___Train Local_ResNet_18,  epoch 232, local model 27, internal_epoch   1,  Average loss: 0.0018, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 232, local model 27, internal_epoch   2,  Average loss: 0.0010, Accuracy: 393/397 (98.9924%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.2961, Accuracy: 5304/10000 (53.0400%)
___Train Local_ResNet_18,  epoch 232, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 434/469 (92.5373%)
___Train Local_ResNet_18,  epoch 232, local model 74, internal_epoch   2,  Average loss: 0.0018, Accuracy: 452/469 (96.3753%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.9015, Accuracy: 4243/10000 (42.4300%)
___Train Local_ResNet_18,  epoch 232, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 171/203 (84.2365%)
___Train Local_ResNet_18,  epoch 232, local model 94, internal_epoch   2,  Average loss: 0.0015, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 3.3010, Accuracy: 3634/10000 (36.3400%)
___Train Local_ResNet_18,  epoch 232, local model 29, internal_epoch   1,  Average loss: 0.0057, Accuracy: 762/848 (89.8585%)
___Train Local_ResNet_18,  epoch 232, local model 29, internal_epoch   2,  Average loss: 0.0067, Accuracy: 745/848 (87.8538%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 5.2344, Accuracy: 2559/10000 (25.5900%)
___Train Local_ResNet_18,  epoch 232, local model 76, internal_epoch   1,  Average loss: 0.0322, Accuracy: 61/65 (93.8462%)
___Train Local_ResNet_18,  epoch 232, local model 76, internal_epoch   2,  Average loss: 0.0427, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 1.3320, Accuracy: 6191/10000 (61.9100%)
time spent on training: 54.41482973098755
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [849, 468, 569, 426, 378, 397, 469, 203, 848, 65]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.86831849 0.86831849 1.
 0.         1.         0.81808793 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 232: Average loss: 0.6601, Accuracy: 7814/10000 (78.1400%)
___Test Target_ResNet_18 poisoned: True, epoch: 232: Average loss: 6.5892, Accuracy: 256/9000 (2.8444%)
Done in 92.0703432559967 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:233 choose agents : [70, 99, 76, 10, 58, 65, 75, 17, 11, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 233, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 562/610 (92.1311%)
___Train Local_ResNet_18,  epoch 233, local model 70, internal_epoch   2,  Average loss: 0.0018, Accuracy: 586/610 (96.0656%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.4784, Accuracy: 4273/10000 (42.7300%)
___Train Local_ResNet_18,  epoch 233, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 360/391 (92.0716%)
___Train Local_ResNet_18,  epoch 233, local model 99, internal_epoch   2,  Average loss: 0.0055, Accuracy: 363/391 (92.8389%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.0855, Accuracy: 3408/10000 (34.0800%)
___Train Local_ResNet_18,  epoch 233, local model 76, internal_epoch   1,  Average loss: 0.0398, Accuracy: 62/65 (95.3846%)
___Train Local_ResNet_18,  epoch 233, local model 76, internal_epoch   2,  Average loss: 0.0478, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.2240, Accuracy: 4764/10000 (47.6400%)
___Train Local_ResNet_18,  epoch 233, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 703/752 (93.4840%)
___Train Local_ResNet_18,  epoch 233, local model 10, internal_epoch   2,  Average loss: 0.0026, Accuracy: 716/752 (95.2128%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.4486, Accuracy: 3832/10000 (38.3200%)
___Train Local_ResNet_18,  epoch 233, local model 58, internal_epoch   1,  Average loss: 0.0087, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 233, local model 58, internal_epoch   2,  Average loss: 0.0009, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 7.5629, Accuracy: 1729/10000 (17.2900%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   1,  Average loss: 0.0038, Accuracy: 292/314 (92.9936%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.0475, Accuracy: 4063/10000 (40.6300%)
___Train Local_ResNet_18,  epoch 233, local model 75, internal_epoch   1,  Average loss: 0.0112, Accuracy: 543/578 (93.9446%)
___Train Local_ResNet_18,  epoch 233, local model 75, internal_epoch   2,  Average loss: 0.0270, Accuracy: 323/578 (55.8824%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 206.0822, Accuracy: 1241/10000 (12.4100%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 233, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 511/526 (97.1483%)
___Train Local_ResNet_18,  epoch 233, local model 17, internal_epoch   2,  Average loss: 0.0013, Accuracy: 513/526 (97.5285%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.4475, Accuracy: 5095/10000 (50.9500%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 233, local model 11, internal_epoch   1,  Average loss: 0.0035, Accuracy: 505/546 (92.4908%)
___Train Local_ResNet_18,  epoch 233, local model 11, internal_epoch   2,  Average loss: 0.0025, Accuracy: 515/546 (94.3223%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.4346, Accuracy: 3763/10000 (37.6300%)
___Train Local_ResNet_18,  epoch 233, local model 48, internal_epoch   1,  Average loss: 0.0045, Accuracy: 344/378 (91.0053%)
___Train Local_ResNet_18,  epoch 233, local model 48, internal_epoch   2,  Average loss: 0.0012, Accuracy: 369/378 (97.6190%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.4092, Accuracy: 2795/10000 (27.9500%)
time spent on training: 65.54527187347412
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.24396904870277653  data num: [610, 391, 65, 752, 234, 314, 578, 526, 546, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.019060081929904417
[foolsgold agg] wv: [1.         0.85898318 0.         1.         0.         0.
 1.         1.         0.85898318 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 233: Average loss: 0.6615, Accuracy: 7819/10000 (78.1900%)
___Test Target_ResNet_18 poisoned: True, epoch: 233: Average loss: 6.6248, Accuracy: 242/9000 (2.6889%)
Done in 105.87395668029785 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:234 choose agents : [64, 16, 97, 52, 24, 10, 34, 27, 49, 56]. Adversary List: []
___Train Local_ResNet_18,  epoch 234, local model 64, internal_epoch   1,  Average loss: 0.0033, Accuracy: 636/686 (92.7114%)
___Train Local_ResNet_18,  epoch 234, local model 64, internal_epoch   2,  Average loss: 0.0026, Accuracy: 651/686 (94.8980%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.5598, Accuracy: 3925/10000 (39.2500%)
___Train Local_ResNet_18,  epoch 234, local model 16, internal_epoch   1,  Average loss: 0.0043, Accuracy: 725/773 (93.7904%)
___Train Local_ResNet_18,  epoch 234, local model 16, internal_epoch   2,  Average loss: 0.0263, Accuracy: 443/773 (57.3092%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 382.1947, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 234, local model 97, internal_epoch   1,  Average loss: 0.0027, Accuracy: 393/418 (94.0191%)
___Train Local_ResNet_18,  epoch 234, local model 97, internal_epoch   2,  Average loss: 0.0010, Accuracy: 413/418 (98.8038%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.0669, Accuracy: 5397/10000 (53.9700%)
___Train Local_ResNet_18,  epoch 234, local model 52, internal_epoch   1,  Average loss: 0.0072, Accuracy: 183/214 (85.5140%)
___Train Local_ResNet_18,  epoch 234, local model 52, internal_epoch   2,  Average loss: 0.0017, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.9686, Accuracy: 3412/10000 (34.1200%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   1,  Average loss: 0.0038, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   2,  Average loss: 0.0012, Accuracy: 314/320 (98.1250%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.6161, Accuracy: 4252/10000 (42.5200%)
___Train Local_ResNet_18,  epoch 234, local model 10, internal_epoch   1,  Average loss: 0.0039, Accuracy: 695/752 (92.4202%)
___Train Local_ResNet_18,  epoch 234, local model 10, internal_epoch   2,  Average loss: 0.0027, Accuracy: 718/752 (95.4787%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 4.6299, Accuracy: 2793/10000 (27.9300%)
___Train Local_ResNet_18,  epoch 234, local model 34, internal_epoch   1,  Average loss: 0.0052, Accuracy: 315/349 (90.2579%)
___Train Local_ResNet_18,  epoch 234, local model 34, internal_epoch   2,  Average loss: 0.0016, Accuracy: 341/349 (97.7077%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.4751, Accuracy: 4007/10000 (40.0700%)
___Train Local_ResNet_18,  epoch 234, local model 27, internal_epoch   1,  Average loss: 0.0039, Accuracy: 381/397 (95.9698%)
___Train Local_ResNet_18,  epoch 234, local model 27, internal_epoch   2,  Average loss: 0.0020, Accuracy: 387/397 (97.4811%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.7204, Accuracy: 5503/10000 (55.0300%)
___Train Local_ResNet_18,  epoch 234, local model 49, internal_epoch   1,  Average loss: 0.0031, Accuracy: 399/426 (93.6620%)
___Train Local_ResNet_18,  epoch 234, local model 49, internal_epoch   2,  Average loss: 0.0015, Accuracy: 413/426 (96.9484%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.3044, Accuracy: 4868/10000 (48.6800%)
___Train Local_ResNet_18,  epoch 234, local model 56, internal_epoch   1,  Average loss: 0.0019, Accuracy: 718/743 (96.6353%)
___Train Local_ResNet_18,  epoch 234, local model 56, internal_epoch   2,  Average loss: 0.0015, Accuracy: 725/743 (97.5774%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.4061, Accuracy: 6373/10000 (63.7300%)
time spent on training: 54.51524877548218
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [686, 773, 418, 214, 320, 752, 349, 397, 426, 743]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.04463897 1.         1.         1.
 1.         0.04463897 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 234: Average loss: 0.6598, Accuracy: 7817/10000 (78.1700%)
___Test Target_ResNet_18 poisoned: True, epoch: 234: Average loss: 6.6312, Accuracy: 243/9000 (2.7000%)
Done in 91.8609049320221 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:235 choose agents : [48, 14, 45, 65, 37, 38, 24, 99, 56, 20]. Adversary List: []
___Train Local_ResNet_18,  epoch 235, local model 48, internal_epoch   1,  Average loss: 0.0054, Accuracy: 331/378 (87.5661%)
___Train Local_ResNet_18,  epoch 235, local model 48, internal_epoch   2,  Average loss: 0.0018, Accuracy: 367/378 (97.0899%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.2823, Accuracy: 4699/10000 (46.9900%)
___Train Local_ResNet_18,  epoch 235, local model 14, internal_epoch   1,  Average loss: 0.0080, Accuracy: 272/318 (85.5346%)
___Train Local_ResNet_18,  epoch 235, local model 14, internal_epoch   2,  Average loss: 0.0012, Accuracy: 307/318 (96.5409%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 8.0885, Accuracy: 2018/10000 (20.1800%)
___Train Local_ResNet_18,  epoch 235, local model 45, internal_epoch   1,  Average loss: 0.0074, Accuracy: 468/529 (88.4688%)
___Train Local_ResNet_18,  epoch 235, local model 45, internal_epoch   2,  Average loss: 0.0136, Accuracy: 408/529 (77.1267%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 10.1957, Accuracy: 1749/10000 (17.4900%)
___Train Local_ResNet_18,  epoch 235, local model 65, internal_epoch   1,  Average loss: 0.0049, Accuracy: 286/314 (91.0828%)
___Train Local_ResNet_18,  epoch 235, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 310/314 (98.7261%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 3.3428, Accuracy: 3498/10000 (34.9800%)
___Train Local_ResNet_18,  epoch 235, local model 37, internal_epoch   1,  Average loss: 0.0073, Accuracy: 625/725 (86.2069%)
___Train Local_ResNet_18,  epoch 235, local model 37, internal_epoch   2,  Average loss: 0.0166, Accuracy: 540/725 (74.4828%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 6.3557, Accuracy: 2420/10000 (24.2000%)
___Train Local_ResNet_18,  epoch 235, local model 38, internal_epoch   1,  Average loss: 0.0028, Accuracy: 723/756 (95.6349%)
___Train Local_ResNet_18,  epoch 235, local model 38, internal_epoch   2,  Average loss: 0.0028, Accuracy: 714/756 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.5731, Accuracy: 4893/10000 (48.9300%)
___Train Local_ResNet_18,  epoch 235, local model 24, internal_epoch   1,  Average loss: 0.0037, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 235, local model 24, internal_epoch   2,  Average loss: 0.0007, Accuracy: 317/320 (99.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.8544, Accuracy: 4001/10000 (40.0100%)
___Train Local_ResNet_18,  epoch 235, local model 99, internal_epoch   1,  Average loss: 0.0069, Accuracy: 353/391 (90.2813%)
___Train Local_ResNet_18,  epoch 235, local model 99, internal_epoch   2,  Average loss: 0.0089, Accuracy: 339/391 (86.7008%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 7.5108, Accuracy: 2004/10000 (20.0400%)
___Train Local_ResNet_18,  epoch 235, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 731/743 (98.3849%)
___Train Local_ResNet_18,  epoch 235, local model 56, internal_epoch   2,  Average loss: 0.0007, Accuracy: 734/743 (98.7887%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 1.2260, Accuracy: 6545/10000 (65.4500%)
___Train Local_ResNet_18,  epoch 235, local model 20, internal_epoch   1,  Average loss: 0.0071, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 235, local model 20, internal_epoch   2,  Average loss: 0.0022, Accuracy: 349/362 (96.4088%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 6.0112, Accuracy: 2953/10000 (29.5300%)
time spent on training: 54.450300216674805
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [378, 318, 529, 314, 725, 756, 320, 391, 743, 362]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.09598214 1.         1.         0.09598214 1.         1.
 1.         1.         0.60667677 0.60667677]
___Test Target_ResNet_18 poisoned: False, epoch: 235: Average loss: 0.6590, Accuracy: 7829/10000 (78.2900%)
___Test Target_ResNet_18 poisoned: True, epoch: 235: Average loss: 6.6228, Accuracy: 245/9000 (2.7222%)
Done in 91.8907208442688 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:236 choose agents : [0, 86, 37, 20, 36, 50, 78, 63, 83, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 236, local model 0, internal_epoch   1,  Average loss: 0.0062, Accuracy: 319/367 (86.9210%)
___Train Local_ResNet_18,  epoch 236, local model 0, internal_epoch   2,  Average loss: 0.0033, Accuracy: 344/367 (93.7330%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.3958, Accuracy: 3486/10000 (34.8600%)
___Train Local_ResNet_18,  epoch 236, local model 86, internal_epoch   1,  Average loss: 0.0050, Accuracy: 195/212 (91.9811%)
___Train Local_ResNet_18,  epoch 236, local model 86, internal_epoch   2,  Average loss: 0.0030, Accuracy: 204/212 (96.2264%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.5565, Accuracy: 5899/10000 (58.9900%)
___Train Local_ResNet_18,  epoch 236, local model 37, internal_epoch   1,  Average loss: 0.0073, Accuracy: 631/725 (87.0345%)
___Train Local_ResNet_18,  epoch 236, local model 37, internal_epoch   2,  Average loss: 0.0116, Accuracy: 591/725 (81.5172%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 6.0906, Accuracy: 2965/10000 (29.6500%)
___Train Local_ResNet_18,  epoch 236, local model 20, internal_epoch   1,  Average loss: 0.0083, Accuracy: 303/362 (83.7017%)
___Train Local_ResNet_18,  epoch 236, local model 20, internal_epoch   2,  Average loss: 0.0029, Accuracy: 343/362 (94.7514%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 5.7549, Accuracy: 2784/10000 (27.8400%)
___Train Local_ResNet_18,  epoch 236, local model 36, internal_epoch   1,  Average loss: 0.0066, Accuracy: 739/849 (87.0436%)
___Train Local_ResNet_18,  epoch 236, local model 36, internal_epoch   2,  Average loss: 0.0151, Accuracy: 620/849 (73.0271%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 24.1652, Accuracy: 2180/10000 (21.8000%)
___Train Local_ResNet_18,  epoch 236, local model 50, internal_epoch   1,  Average loss: 0.0025, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 236, local model 50, internal_epoch   2,  Average loss: 0.0015, Accuracy: 391/401 (97.5062%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 2.0651, Accuracy: 5010/10000 (50.1000%)
___Train Local_ResNet_18,  epoch 236, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 227/255 (89.0196%)
___Train Local_ResNet_18,  epoch 236, local model 78, internal_epoch   2,  Average loss: 0.0010, Accuracy: 252/255 (98.8235%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.1318, Accuracy: 4017/10000 (40.1700%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 709/752 (94.2819%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   2,  Average loss: 0.0028, Accuracy: 703/752 (93.4840%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.7560, Accuracy: 5854/10000 (58.5400%)
___Train Local_ResNet_18,  epoch 236, local model 83, internal_epoch   1,  Average loss: 0.0024, Accuracy: 348/366 (95.0820%)
___Train Local_ResNet_18,  epoch 236, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 364/366 (99.4536%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.6599, Accuracy: 5805/10000 (58.0500%)
___Train Local_ResNet_18,  epoch 236, local model 4, internal_epoch   1,  Average loss: 0.0043, Accuracy: 499/557 (89.5871%)
___Train Local_ResNet_18,  epoch 236, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 517/557 (92.8187%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 2.7550, Accuracy: 5043/10000 (50.4300%)
time spent on training: 54.524982213974
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [367, 212, 725, 362, 849, 401, 255, 752, 366, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.23664474 0.810407   1.
 0.23664474 1.         1.         0.810407  ]
___Test Target_ResNet_18 poisoned: False, epoch: 236: Average loss: 0.6580, Accuracy: 7833/10000 (78.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 236: Average loss: 6.6130, Accuracy: 248/9000 (2.7556%)
Done in 92.78902673721313 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:237 choose agents : [1, 0, 37, 91, 77, 21, 13, 70, 54, 57]. Adversary List: []
___Train Local_ResNet_18,  epoch 237, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 599/641 (93.4477%)
___Train Local_ResNet_18,  epoch 237, local model 1, internal_epoch   2,  Average loss: 0.0129, Accuracy: 576/641 (89.8596%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 2.8532, Accuracy: 3946/10000 (39.4600%)
___Train Local_ResNet_18,  epoch 237, local model 0, internal_epoch   1,  Average loss: 0.0059, Accuracy: 329/367 (89.6458%)
___Train Local_ResNet_18,  epoch 237, local model 0, internal_epoch   2,  Average loss: 0.0027, Accuracy: 346/367 (94.2779%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 8.7096, Accuracy: 1873/10000 (18.7300%)
___Train Local_ResNet_18,  epoch 237, local model 37, internal_epoch   1,  Average loss: 0.0070, Accuracy: 631/725 (87.0345%)
___Train Local_ResNet_18,  epoch 237, local model 37, internal_epoch   2,  Average loss: 0.0111, Accuracy: 580/725 (80.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 29.5050, Accuracy: 1252/10000 (12.5200%)
___Train Local_ResNet_18,  epoch 237, local model 91, internal_epoch   1,  Average loss: 0.0041, Accuracy: 214/234 (91.4530%)
___Train Local_ResNet_18,  epoch 237, local model 91, internal_epoch   2,  Average loss: 0.0007, Accuracy: 230/234 (98.2906%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 1.6703, Accuracy: 5595/10000 (55.9500%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 237, local model 77, internal_epoch   1,  Average loss: 0.0026, Accuracy: 470/496 (94.7581%)
___Train Local_ResNet_18,  epoch 237, local model 77, internal_epoch   2,  Average loss: 0.0013, Accuracy: 486/496 (97.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 1.3662, Accuracy: 6133/10000 (61.3300%)
___Train Local_ResNet_18,  epoch 237, local model 21, internal_epoch   1,  Average loss: 0.0051, Accuracy: 243/262 (92.7481%)
___Train Local_ResNet_18,  epoch 237, local model 21, internal_epoch   2,  Average loss: 0.0091, Accuracy: 252/262 (96.1832%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.8900, Accuracy: 2751/10000 (27.5100%)
___Train Local_ResNet_18,  epoch 237, local model 13, internal_epoch   1,  Average loss: 0.0047, Accuracy: 559/620 (90.1613%)
___Train Local_ResNet_18,  epoch 237, local model 13, internal_epoch   2,  Average loss: 0.0036, Accuracy: 578/620 (93.2258%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 3.6153, Accuracy: 3966/10000 (39.6600%)
___Train Local_ResNet_18,  epoch 237, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 569/610 (93.2787%)
___Train Local_ResNet_18,  epoch 237, local model 70, internal_epoch   2,  Average loss: 0.0027, Accuracy: 575/610 (94.2623%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 3.7603, Accuracy: 3276/10000 (32.7600%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   1,  Average loss: 0.0030, Accuracy: 416/440 (94.5455%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   2,  Average loss: 0.0015, Accuracy: 428/440 (97.2727%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.4509, Accuracy: 3658/10000 (36.5800%)
___Train Local_ResNet_18,  epoch 237, local model 57, internal_epoch   1,  Average loss: 0.0055, Accuracy: 251/290 (86.5517%)
___Train Local_ResNet_18,  epoch 237, local model 57, internal_epoch   2,  Average loss: 0.0013, Accuracy: 283/290 (97.5862%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 3.3846, Accuracy: 4228/10000 (42.2800%)
time spent on training: 58.60888743400574
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10586979722518676  data num: [641, 367, 725, 234, 496, 262, 620, 610, 440, 290]
[foolsgold agg] considering poison per batch poison_fraction: 0.008271077908217716
[foolsgold agg] wv: [0.61079072 0.         1.         1.         0.         1.
 0.32867619 0.61079072 0.32867619 0.05676928]
___Test Target_ResNet_18 poisoned: False, epoch: 237: Average loss: 0.6566, Accuracy: 7835/10000 (78.3500%)
___Test Target_ResNet_18 poisoned: True, epoch: 237: Average loss: 6.6093, Accuracy: 251/9000 (2.7889%)
Done in 97.93313264846802 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:238 choose agents : [41, 28, 85, 59, 89, 31, 33, 42, 82, 68]. Adversary List: []
___Train Local_ResNet_18,  epoch 238, local model 41, internal_epoch   1,  Average loss: 0.0071, Accuracy: 443/513 (86.3548%)
___Train Local_ResNet_18,  epoch 238, local model 41, internal_epoch   2,  Average loss: 0.0046, Accuracy: 466/513 (90.8382%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.6295, Accuracy: 2977/10000 (29.7700%)
___Train Local_ResNet_18,  epoch 238, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 238, local model 28, internal_epoch   2,  Average loss: 0.0009, Accuracy: 419/423 (99.0544%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 2.0813, Accuracy: 5369/10000 (53.6900%)
___Train Local_ResNet_18,  epoch 238, local model 85, internal_epoch   1,  Average loss: 0.0069, Accuracy: 317/364 (87.0879%)
___Train Local_ResNet_18,  epoch 238, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 343/364 (94.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.7371, Accuracy: 2485/10000 (24.8500%)
___Train Local_ResNet_18,  epoch 238, local model 59, internal_epoch   1,  Average loss: 0.0031, Accuracy: 602/642 (93.7695%)
___Train Local_ResNet_18,  epoch 238, local model 59, internal_epoch   2,  Average loss: 0.0053, Accuracy: 619/642 (96.4174%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 12.9968, Accuracy: 1741/10000 (17.4100%)
___Train Local_ResNet_18,  epoch 238, local model 89, internal_epoch   1,  Average loss: 0.0065, Accuracy: 358/413 (86.6828%)
___Train Local_ResNet_18,  epoch 238, local model 89, internal_epoch   2,  Average loss: 0.0038, Accuracy: 383/413 (92.7361%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 5.5937, Accuracy: 2677/10000 (26.7700%)
___Train Local_ResNet_18,  epoch 238, local model 31, internal_epoch   1,  Average loss: 0.0069, Accuracy: 662/706 (93.7677%)
___Train Local_ResNet_18,  epoch 238, local model 31, internal_epoch   2,  Average loss: 0.0182, Accuracy: 510/706 (72.2380%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 17.8521, Accuracy: 1050/10000 (10.5000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 238, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 488/527 (92.5996%)
___Train Local_ResNet_18,  epoch 238, local model 33, internal_epoch   2,  Average loss: 0.0046, Accuracy: 489/527 (92.7894%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 3.0102, Accuracy: 4021/10000 (40.2100%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   1,  Average loss: 0.0057, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   2,  Average loss: 0.0041, Accuracy: 194/198 (97.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 7.1530, Accuracy: 2127/10000 (21.2700%)
___Train Local_ResNet_18,  epoch 238, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 574/601 (95.5075%)
___Train Local_ResNet_18,  epoch 238, local model 82, internal_epoch   2,  Average loss: 0.0031, Accuracy: 566/601 (94.1764%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 3.0187, Accuracy: 3880/10000 (38.8000%)
___Train Local_ResNet_18,  epoch 238, local model 68, internal_epoch   1,  Average loss: 0.0025, Accuracy: 397/416 (95.4327%)
___Train Local_ResNet_18,  epoch 238, local model 68, internal_epoch   2,  Average loss: 0.0014, Accuracy: 406/416 (97.5962%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 1.3063, Accuracy: 6179/10000 (61.7900%)
time spent on training: 57.08994936943054
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10972308973558192  data num: [513, 423, 364, 642, 413, 706, 527, 198, 601, 416]
[foolsgold agg] considering poison per batch poison_fraction: 0.008572116385592337
[foolsgold agg] wv: [0.29606906 0.12862167 0.         1.         0.39594297 0.39594297
 0.         0.29606906 1.         0.22476665]
___Test Target_ResNet_18 poisoned: False, epoch: 238: Average loss: 0.6560, Accuracy: 7842/10000 (78.4200%)
___Test Target_ResNet_18 poisoned: True, epoch: 238: Average loss: 6.6063, Accuracy: 251/9000 (2.7889%)
Done in 97.26104521751404 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:239 choose agents : [37, 47, 73, 15, 90, 9, 71, 78, 77, 69]. Adversary List: []
___Train Local_ResNet_18,  epoch 239, local model 37, internal_epoch   1,  Average loss: 0.0066, Accuracy: 638/725 (88.0000%)
___Train Local_ResNet_18,  epoch 239, local model 37, internal_epoch   2,  Average loss: 0.0103, Accuracy: 595/725 (82.0690%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 12.8904, Accuracy: 1544/10000 (15.4400%)
___Train Local_ResNet_18,  epoch 239, local model 47, internal_epoch   1,  Average loss: 0.0032, Accuracy: 611/654 (93.4251%)
___Train Local_ResNet_18,  epoch 239, local model 47, internal_epoch   2,  Average loss: 0.0038, Accuracy: 616/654 (94.1896%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 1.5405, Accuracy: 5905/10000 (59.0500%)
___Train Local_ResNet_18,  epoch 239, local model 73, internal_epoch   1,  Average loss: 0.0122, Accuracy: 393/500 (78.6000%)
___Train Local_ResNet_18,  epoch 239, local model 73, internal_epoch   2,  Average loss: 0.0047, Accuracy: 465/500 (93.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 10.5529, Accuracy: 1353/10000 (13.5300%)
___Train Local_ResNet_18,  epoch 239, local model 15, internal_epoch   1,  Average loss: 0.0084, Accuracy: 289/341 (84.7507%)
___Train Local_ResNet_18,  epoch 239, local model 15, internal_epoch   2,  Average loss: 0.0038, Accuracy: 326/341 (95.6012%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 4.3477, Accuracy: 3051/10000 (30.5100%)
___Train Local_ResNet_18,  epoch 239, local model 90, internal_epoch   1,  Average loss: 0.0087, Accuracy: 530/578 (91.6955%)
___Train Local_ResNet_18,  epoch 239, local model 90, internal_epoch   2,  Average loss: 0.0111, Accuracy: 482/578 (83.3910%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 198.0838, Accuracy: 1016/10000 (10.1600%)
___Train Local_ResNet_18,  epoch 239, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 338/368 (91.8478%)
___Train Local_ResNet_18,  epoch 239, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 6.2115, Accuracy: 2306/10000 (23.0600%)
___Train Local_ResNet_18,  epoch 239, local model 71, internal_epoch   1,  Average loss: 0.0043, Accuracy: 1068/1166 (91.5952%)
___Train Local_ResNet_18,  epoch 239, local model 71, internal_epoch   2,  Average loss: 0.0110, Accuracy: 937/1166 (80.3602%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 6.5032, Accuracy: 3332/10000 (33.3200%)
___Train Local_ResNet_18,  epoch 239, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 229/255 (89.8039%)
___Train Local_ResNet_18,  epoch 239, local model 78, internal_epoch   2,  Average loss: 0.0006, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.5381, Accuracy: 4560/10000 (45.6000%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 239, local model 77, internal_epoch   1,  Average loss: 0.0027, Accuracy: 471/496 (94.9597%)
___Train Local_ResNet_18,  epoch 239, local model 77, internal_epoch   2,  Average loss: 0.0017, Accuracy: 477/496 (96.1694%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.1300, Accuracy: 4937/10000 (49.3700%)
___Train Local_ResNet_18,  epoch 239, local model 69, internal_epoch   1,  Average loss: 0.0070, Accuracy: 187/216 (86.5741%)
___Train Local_ResNet_18,  epoch 239, local model 69, internal_epoch   2,  Average loss: 0.0009, Accuracy: 214/216 (99.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 7.0022, Accuracy: 1489/10000 (14.8900%)
time spent on training: 59.362037897109985
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09360256652198529  data num: [725, 654, 500, 341, 578, 368, 1166, 255, 496, 216]
[foolsgold agg] considering poison per batch poison_fraction: 0.0073127005095301005
[foolsgold agg] wv: [1.         0.27769278 1.         1.         0.72971481 1.
 1.         0.27769278 1.         0.72971481]
___Test Target_ResNet_18 poisoned: False, epoch: 239: Average loss: 0.6548, Accuracy: 7849/10000 (78.4900%)
___Test Target_ResNet_18 poisoned: True, epoch: 239: Average loss: 6.6250, Accuracy: 252/9000 (2.8000%)
Done in 101.19144868850708 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:240 choose agents : [28, 33, 87, 46, 26, 67, 13, 69, 54, 34]. Adversary List: []
___Train Local_ResNet_18,  epoch 240, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 404/423 (95.5083%)
___Train Local_ResNet_18,  epoch 240, local model 28, internal_epoch   2,  Average loss: 0.0012, Accuracy: 415/423 (98.1087%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.2059, Accuracy: 5096/10000 (50.9600%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 240, local model 33, internal_epoch   1,  Average loss: 0.0056, Accuracy: 472/527 (89.5636%)
___Train Local_ResNet_18,  epoch 240, local model 33, internal_epoch   2,  Average loss: 0.0082, Accuracy: 465/527 (88.2353%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 7.0462, Accuracy: 3084/10000 (30.8400%)
___Train Local_ResNet_18,  epoch 240, local model 87, internal_epoch   1,  Average loss: 0.0078, Accuracy: 336/397 (84.6348%)
___Train Local_ResNet_18,  epoch 240, local model 87, internal_epoch   2,  Average loss: 0.0083, Accuracy: 357/397 (89.9244%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 4.7437, Accuracy: 3055/10000 (30.5500%)
___Train Local_ResNet_18,  epoch 240, local model 46, internal_epoch   1,  Average loss: 0.0015, Accuracy: 588/601 (97.8369%)
___Train Local_ResNet_18,  epoch 240, local model 46, internal_epoch   2,  Average loss: 0.0016, Accuracy: 589/601 (98.0033%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 1.9302, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 240, local model 26, internal_epoch   1,  Average loss: 0.0040, Accuracy: 438/468 (93.5897%)
___Train Local_ResNet_18,  epoch 240, local model 26, internal_epoch   2,  Average loss: 0.0045, Accuracy: 437/468 (93.3761%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.9265, Accuracy: 4466/10000 (44.6600%)
___Train Local_ResNet_18,  epoch 240, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 782/842 (92.8741%)
___Train Local_ResNet_18,  epoch 240, local model 67, internal_epoch   2,  Average loss: 0.0115, Accuracy: 671/842 (79.6912%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 135.8922, Accuracy: 1003/10000 (10.0300%)
___Train Local_ResNet_18,  epoch 240, local model 13, internal_epoch   1,  Average loss: 0.0050, Accuracy: 556/620 (89.6774%)
___Train Local_ResNet_18,  epoch 240, local model 13, internal_epoch   2,  Average loss: 0.0026, Accuracy: 584/620 (94.1935%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 3.0835, Accuracy: 4273/10000 (42.7300%)
___Train Local_ResNet_18,  epoch 240, local model 69, internal_epoch   1,  Average loss: 0.0066, Accuracy: 191/216 (88.4259%)
___Train Local_ResNet_18,  epoch 240, local model 69, internal_epoch   2,  Average loss: 0.0005, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 5.4511, Accuracy: 2039/10000 (20.3900%)
___Train Local_ResNet_18,  epoch 240, local model 54, internal_epoch   1,  Average loss: 0.0037, Accuracy: 412/440 (93.6364%)
___Train Local_ResNet_18,  epoch 240, local model 54, internal_epoch   2,  Average loss: 0.0010, Accuracy: 433/440 (98.4091%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 3.4947, Accuracy: 4035/10000 (40.3500%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   1,  Average loss: 0.0045, Accuracy: 318/349 (91.1175%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   2,  Average loss: 0.0015, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.7653, Accuracy: 4328/10000 (43.2800%)
time spent on training: 59.606953620910645
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10792545566250256  data num: [423, 527, 397, 601, 468, 842, 620, 216, 440, 349]
[foolsgold agg] considering poison per batch poison_fraction: 0.008431676223633012
[foolsgold agg] wv: [1.         1.         0.28386422 1.         0.28386422 1.
 0.56796767 1.         0.96372323 0.56796767]
___Test Target_ResNet_18 poisoned: False, epoch: 240: Average loss: 0.6535, Accuracy: 7844/10000 (78.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 240: Average loss: 6.6272, Accuracy: 257/9000 (2.8556%)
Done in 97.37875127792358 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:241 choose agents : [78, 91, 57, 30, 75, 17, 28, 31, 85, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 241, local model 78, internal_epoch   1,  Average loss: 0.0053, Accuracy: 223/255 (87.4510%)
___Train Local_ResNet_18,  epoch 241, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 252/255 (98.8235%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 2.9794, Accuracy: 4370/10000 (43.7000%)
___Train Local_ResNet_18,  epoch 241, local model 91, internal_epoch   1,  Average loss: 0.0042, Accuracy: 215/234 (91.8803%)
___Train Local_ResNet_18,  epoch 241, local model 91, internal_epoch   2,  Average loss: 0.0011, Accuracy: 231/234 (98.7179%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.4619, Accuracy: 5923/10000 (59.2300%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   1,  Average loss: 0.0056, Accuracy: 252/290 (86.8966%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 283/290 (97.5862%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.7184, Accuracy: 4073/10000 (40.7300%)
___Train Local_ResNet_18,  epoch 241, local model 30, internal_epoch   1,  Average loss: 0.0055, Accuracy: 300/337 (89.0208%)
___Train Local_ResNet_18,  epoch 241, local model 30, internal_epoch   2,  Average loss: 0.0048, Accuracy: 314/337 (93.1751%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.6892, Accuracy: 3167/10000 (31.6700%)
___Train Local_ResNet_18,  epoch 241, local model 75, internal_epoch   1,  Average loss: 0.0027, Accuracy: 555/578 (96.0208%)
___Train Local_ResNet_18,  epoch 241, local model 75, internal_epoch   2,  Average loss: 0.0103, Accuracy: 532/578 (92.0415%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 2.2878, Accuracy: 4636/10000 (46.3600%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 241, local model 17, internal_epoch   1,  Average loss: 0.0022, Accuracy: 505/526 (96.0076%)
___Train Local_ResNet_18,  epoch 241, local model 17, internal_epoch   2,  Average loss: 0.0016, Accuracy: 515/526 (97.9087%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.7084, Accuracy: 5685/10000 (56.8500%)
___Train Local_ResNet_18,  epoch 241, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 241, local model 28, internal_epoch   2,  Average loss: 0.0011, Accuracy: 416/423 (98.3452%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 2.0249, Accuracy: 5540/10000 (55.4000%)
___Train Local_ResNet_18,  epoch 241, local model 31, internal_epoch   1,  Average loss: 0.0046, Accuracy: 661/706 (93.6261%)
___Train Local_ResNet_18,  epoch 241, local model 31, internal_epoch   2,  Average loss: 0.0202, Accuracy: 497/706 (70.3966%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 30.0566, Accuracy: 1168/10000 (11.6800%)
___Train Local_ResNet_18,  epoch 241, local model 85, internal_epoch   1,  Average loss: 0.0069, Accuracy: 317/364 (87.0879%)
___Train Local_ResNet_18,  epoch 241, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 342/364 (93.9560%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 6.4669, Accuracy: 2404/10000 (24.0400%)
___Train Local_ResNet_18,  epoch 241, local model 45, internal_epoch   1,  Average loss: 0.0074, Accuracy: 464/529 (87.7127%)
___Train Local_ResNet_18,  epoch 241, local model 45, internal_epoch   2,  Average loss: 0.0091, Accuracy: 436/529 (82.4197%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 5.7348, Accuracy: 2428/10000 (24.2800%)
time spent on training: 58.69847655296326
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.123998114097124  data num: [255, 234, 290, 337, 578, 526, 423, 706, 364, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.009687352663837813
[foolsgold agg] wv: [0.45822314 1.         1.         1.         1.         0.45822314
 0.05123775 1.         0.05123775 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 241: Average loss: 0.6521, Accuracy: 7843/10000 (78.4300%)
___Test Target_ResNet_18 poisoned: True, epoch: 241: Average loss: 6.5977, Accuracy: 260/9000 (2.8889%)
Done in 96.79311871528625 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:242 choose agents : [96, 51, 32, 66, 85, 8, 2, 40, 10, 91]. Adversary List: []
___Train Local_ResNet_18,  epoch 242, local model 96, internal_epoch   1,  Average loss: 0.0041, Accuracy: 660/708 (93.2203%)
___Train Local_ResNet_18,  epoch 242, local model 96, internal_epoch   2,  Average loss: 0.0181, Accuracy: 517/708 (73.0226%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 171.3847, Accuracy: 1007/10000 (10.0700%)
___Train Local_ResNet_18,  epoch 242, local model 51, internal_epoch   1,  Average loss: 0.0031, Accuracy: 452/479 (94.3633%)
___Train Local_ResNet_18,  epoch 242, local model 51, internal_epoch   2,  Average loss: 0.0017, Accuracy: 467/479 (97.4948%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 5.3168, Accuracy: 3132/10000 (31.3200%)
___Train Local_ResNet_18,  epoch 242, local model 32, internal_epoch   1,  Average loss: 0.0025, Accuracy: 787/824 (95.5097%)
___Train Local_ResNet_18,  epoch 242, local model 32, internal_epoch   2,  Average loss: 0.0019, Accuracy: 787/824 (95.5097%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 2.1532, Accuracy: 5123/10000 (51.2300%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   1,  Average loss: 0.0031, Accuracy: 521/555 (93.8739%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   2,  Average loss: 0.0011, Accuracy: 540/555 (97.2973%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 2.8921, Accuracy: 4340/10000 (43.4000%)
___Train Local_ResNet_18,  epoch 242, local model 85, internal_epoch   1,  Average loss: 0.0065, Accuracy: 313/364 (85.9890%)
___Train Local_ResNet_18,  epoch 242, local model 85, internal_epoch   2,  Average loss: 0.0030, Accuracy: 346/364 (95.0549%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 3.9395, Accuracy: 3201/10000 (32.0100%)
___Train Local_ResNet_18,  epoch 242, local model 8, internal_epoch   1,  Average loss: 0.0035, Accuracy: 497/534 (93.0712%)
___Train Local_ResNet_18,  epoch 242, local model 8, internal_epoch   2,  Average loss: 0.0046, Accuracy: 487/534 (91.1985%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.4031, Accuracy: 3165/10000 (31.6500%)
___Train Local_ResNet_18,  epoch 242, local model 2, internal_epoch   1,  Average loss: 0.0067, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 242, local model 2, internal_epoch   2,  Average loss: 0.0070, Accuracy: 414/461 (89.8048%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 3.8077, Accuracy: 3411/10000 (34.1100%)
___Train Local_ResNet_18,  epoch 242, local model 40, internal_epoch   1,  Average loss: 0.0063, Accuracy: 570/652 (87.4233%)
___Train Local_ResNet_18,  epoch 242, local model 40, internal_epoch   2,  Average loss: 0.0104, Accuracy: 544/652 (83.4356%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 14.8031, Accuracy: 1224/10000 (12.2400%)
___Train Local_ResNet_18,  epoch 242, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 702/752 (93.3511%)
___Train Local_ResNet_18,  epoch 242, local model 10, internal_epoch   2,  Average loss: 0.0030, Accuracy: 716/752 (95.2128%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.7586, Accuracy: 3525/10000 (35.2500%)
___Train Local_ResNet_18,  epoch 242, local model 91, internal_epoch   1,  Average loss: 0.0036, Accuracy: 216/234 (92.3077%)
___Train Local_ResNet_18,  epoch 242, local model 91, internal_epoch   2,  Average loss: 0.0004, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 1.3942, Accuracy: 5991/10000 (59.9100%)
time spent on training: 53.15107488632202
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [708, 479, 824, 555, 364, 534, 461, 652, 752, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.84394809 0.         1.         1.         1.         0.99213953
 0.         0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 242: Average loss: 0.6518, Accuracy: 7844/10000 (78.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 242: Average loss: 6.6053, Accuracy: 258/9000 (2.8667%)
Done in 94.3008885383606 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:243 choose agents : [59, 80, 32, 77, 16, 83, 57, 96, 3, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 243, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 600/642 (93.4579%)
___Train Local_ResNet_18,  epoch 243, local model 59, internal_epoch   2,  Average loss: 0.0026, Accuracy: 623/642 (97.0405%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.2426, Accuracy: 3914/10000 (39.1400%)
___Train Local_ResNet_18,  epoch 243, local model 80, internal_epoch   1,  Average loss: 0.0058, Accuracy: 318/363 (87.6033%)
___Train Local_ResNet_18,  epoch 243, local model 80, internal_epoch   2,  Average loss: 0.0013, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.3410, Accuracy: 4054/10000 (40.5400%)
___Train Local_ResNet_18,  epoch 243, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 789/824 (95.7524%)
___Train Local_ResNet_18,  epoch 243, local model 32, internal_epoch   2,  Average loss: 0.0026, Accuracy: 781/824 (94.7816%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 2.4894, Accuracy: 4811/10000 (48.1100%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 243, local model 77, internal_epoch   1,  Average loss: 0.0027, Accuracy: 472/496 (95.1613%)
___Train Local_ResNet_18,  epoch 243, local model 77, internal_epoch   2,  Average loss: 0.0020, Accuracy: 474/496 (95.5645%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 1.4465, Accuracy: 5828/10000 (58.2800%)
___Train Local_ResNet_18,  epoch 243, local model 16, internal_epoch   1,  Average loss: 0.0045, Accuracy: 696/773 (90.0388%)
___Train Local_ResNet_18,  epoch 243, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 715/773 (92.4968%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 5.3864, Accuracy: 2859/10000 (28.5900%)
___Train Local_ResNet_18,  epoch 243, local model 83, internal_epoch   1,  Average loss: 0.0024, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 243, local model 83, internal_epoch   2,  Average loss: 0.0003, Accuracy: 365/366 (99.7268%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 2.0835, Accuracy: 5162/10000 (51.6200%)
___Train Local_ResNet_18,  epoch 243, local model 57, internal_epoch   1,  Average loss: 0.0054, Accuracy: 258/290 (88.9655%)
___Train Local_ResNet_18,  epoch 243, local model 57, internal_epoch   2,  Average loss: 0.0009, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.7129, Accuracy: 4183/10000 (41.8300%)
___Train Local_ResNet_18,  epoch 243, local model 96, internal_epoch   1,  Average loss: 0.0048, Accuracy: 652/708 (92.0904%)
___Train Local_ResNet_18,  epoch 243, local model 96, internal_epoch   2,  Average loss: 0.0200, Accuracy: 501/708 (70.7627%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 21.6506, Accuracy: 1182/10000 (11.8200%)
___Train Local_ResNet_18,  epoch 243, local model 3, internal_epoch   1,  Average loss: 0.0054, Accuracy: 694/780 (88.9744%)
___Train Local_ResNet_18,  epoch 243, local model 3, internal_epoch   2,  Average loss: 0.0101, Accuracy: 635/780 (81.4103%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 11.9884, Accuracy: 1850/10000 (18.5000%)
___Train Local_ResNet_18,  epoch 243, local model 10, internal_epoch   1,  Average loss: 0.0046, Accuracy: 682/752 (90.6915%)
___Train Local_ResNet_18,  epoch 243, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 698/752 (92.8191%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 10.2542, Accuracy: 2285/10000 (22.8500%)
time spent on training: 58.556278228759766
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08274941608274941  data num: [642, 363, 824, 496, 773, 366, 290, 708, 780, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.006464798131464798
[foolsgold agg] wv: [0.71556996 0.25923756 1.         0.12566937 0.41572003 1.
 0.12566937 1.         0.25923756 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 243: Average loss: 0.6506, Accuracy: 7844/10000 (78.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 243: Average loss: 6.5978, Accuracy: 265/9000 (2.9444%)
Done in 99.61882305145264 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:244 choose agents : [15, 14, 29, 50, 17, 36, 2, 0, 94, 1]. Adversary List: []
___Train Local_ResNet_18,  epoch 244, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 281/341 (82.4047%)
___Train Local_ResNet_18,  epoch 244, local model 15, internal_epoch   2,  Average loss: 0.0038, Accuracy: 318/341 (93.2551%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 5.1344, Accuracy: 2609/10000 (26.0900%)
___Train Local_ResNet_18,  epoch 244, local model 14, internal_epoch   1,  Average loss: 0.0071, Accuracy: 270/318 (84.9057%)
___Train Local_ResNet_18,  epoch 244, local model 14, internal_epoch   2,  Average loss: 0.0016, Accuracy: 308/318 (96.8553%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 10.6756, Accuracy: 1734/10000 (17.3400%)
___Train Local_ResNet_18,  epoch 244, local model 29, internal_epoch   1,  Average loss: 0.0046, Accuracy: 768/848 (90.5660%)
___Train Local_ResNet_18,  epoch 244, local model 29, internal_epoch   2,  Average loss: 0.0049, Accuracy: 775/848 (91.3915%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 12.4510, Accuracy: 1936/10000 (19.3600%)
___Train Local_ResNet_18,  epoch 244, local model 50, internal_epoch   1,  Average loss: 0.0020, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 244, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 396/401 (98.7531%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 2.2055, Accuracy: 5145/10000 (51.4500%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 244, local model 17, internal_epoch   1,  Average loss: 0.0030, Accuracy: 502/526 (95.4373%)
___Train Local_ResNet_18,  epoch 244, local model 17, internal_epoch   2,  Average loss: 0.0040, Accuracy: 492/526 (93.5361%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.1810, Accuracy: 3934/10000 (39.3400%)
___Train Local_ResNet_18,  epoch 244, local model 36, internal_epoch   1,  Average loss: 0.0060, Accuracy: 744/849 (87.6325%)
___Train Local_ResNet_18,  epoch 244, local model 36, internal_epoch   2,  Average loss: 0.0160, Accuracy: 604/849 (71.1425%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 26.7797, Accuracy: 1527/10000 (15.2700%)
___Train Local_ResNet_18,  epoch 244, local model 2, internal_epoch   1,  Average loss: 0.0068, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 244, local model 2, internal_epoch   2,  Average loss: 0.0068, Accuracy: 419/461 (90.8894%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.2373, Accuracy: 4425/10000 (44.2500%)
___Train Local_ResNet_18,  epoch 244, local model 0, internal_epoch   1,  Average loss: 0.0061, Accuracy: 324/367 (88.2834%)
___Train Local_ResNet_18,  epoch 244, local model 0, internal_epoch   2,  Average loss: 0.0019, Accuracy: 355/367 (96.7302%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.6786, Accuracy: 3015/10000 (30.1500%)
___Train Local_ResNet_18,  epoch 244, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 175/203 (86.2069%)
___Train Local_ResNet_18,  epoch 244, local model 94, internal_epoch   2,  Average loss: 0.0023, Accuracy: 198/203 (97.5369%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.5962, Accuracy: 3229/10000 (32.2900%)
___Train Local_ResNet_18,  epoch 244, local model 1, internal_epoch   1,  Average loss: 0.0052, Accuracy: 607/641 (94.6958%)
___Train Local_ResNet_18,  epoch 244, local model 1, internal_epoch   2,  Average loss: 0.0110, Accuracy: 587/641 (91.5757%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.3664, Accuracy: 4727/10000 (47.2700%)
time spent on training: 61.29174447059631
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10615539858728557  data num: [341, 318, 848, 401, 526, 849, 461, 367, 203, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.008293390514631686
[foolsgold agg] wv: [0.         0.60373071 0.61095837 0.         1.         1.
 0.60373071 0.64731034 0.64731034 0.61095837]
___Test Target_ResNet_18 poisoned: False, epoch: 244: Average loss: 0.6489, Accuracy: 7854/10000 (78.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 244: Average loss: 6.5774, Accuracy: 275/9000 (3.0556%)
Done in 100.19924521446228 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:245 choose agents : [38, 41, 82, 49, 74, 23, 97, 83, 22, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 245, local model 38, internal_epoch   1,  Average loss: 0.0027, Accuracy: 719/756 (95.1058%)
___Train Local_ResNet_18,  epoch 245, local model 38, internal_epoch   2,  Average loss: 0.0020, Accuracy: 728/756 (96.2963%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.2992, Accuracy: 5057/10000 (50.5700%)
___Train Local_ResNet_18,  epoch 245, local model 41, internal_epoch   1,  Average loss: 0.0069, Accuracy: 440/513 (85.7700%)
___Train Local_ResNet_18,  epoch 245, local model 41, internal_epoch   2,  Average loss: 0.0044, Accuracy: 470/513 (91.6179%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 10.0594, Accuracy: 2091/10000 (20.9100%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 567/601 (94.3428%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   2,  Average loss: 0.0020, Accuracy: 579/601 (96.3394%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 3.4344, Accuracy: 4344/10000 (43.4400%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   1,  Average loss: 0.0031, Accuracy: 399/426 (93.6620%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   2,  Average loss: 0.0012, Accuracy: 416/426 (97.6526%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.5245, Accuracy: 4699/10000 (46.9900%)
___Train Local_ResNet_18,  epoch 245, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 431/469 (91.8977%)
___Train Local_ResNet_18,  epoch 245, local model 74, internal_epoch   2,  Average loss: 0.0020, Accuracy: 455/469 (97.0149%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.4810, Accuracy: 4536/10000 (45.3600%)
___Train Local_ResNet_18,  epoch 245, local model 23, internal_epoch   1,  Average loss: 0.0039, Accuracy: 224/248 (90.3226%)
___Train Local_ResNet_18,  epoch 245, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.8521, Accuracy: 5063/10000 (50.6300%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   1,  Average loss: 0.0027, Accuracy: 395/418 (94.4976%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   2,  Average loss: 0.0016, Accuracy: 408/418 (97.6077%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.9966, Accuracy: 5224/10000 (52.2400%)
___Train Local_ResNet_18,  epoch 245, local model 83, internal_epoch   1,  Average loss: 0.0023, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 245, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 362/366 (98.9071%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.3396, Accuracy: 6229/10000 (62.2900%)
___Train Local_ResNet_18,  epoch 245, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 443/494 (89.6761%)
___Train Local_ResNet_18,  epoch 245, local model 22, internal_epoch   2,  Average loss: 0.0020, Accuracy: 470/494 (95.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 3.2568, Accuracy: 3793/10000 (37.9300%)
___Train Local_ResNet_18,  epoch 245, local model 4, internal_epoch   1,  Average loss: 0.0049, Accuracy: 500/557 (89.7666%)
___Train Local_ResNet_18,  epoch 245, local model 4, internal_epoch   2,  Average loss: 0.0036, Accuracy: 517/557 (92.8187%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 4.3448, Accuracy: 3540/10000 (35.4000%)
time spent on training: 52.47595167160034
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [756, 513, 601, 426, 469, 248, 418, 366, 494, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 0. 1. 1. 1. 0. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 245: Average loss: 0.6484, Accuracy: 7854/10000 (78.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 245: Average loss: 6.5706, Accuracy: 276/9000 (3.0667%)
Done in 90.31958222389221 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:246 choose agents : [43, 92, 33, 62, 59, 26, 11, 93, 86, 90]. Adversary List: []
___Train Local_ResNet_18,  epoch 246, local model 43, internal_epoch   1,  Average loss: 0.0070, Accuracy: 295/345 (85.5072%)
___Train Local_ResNet_18,  epoch 246, local model 43, internal_epoch   2,  Average loss: 0.0014, Accuracy: 336/345 (97.3913%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 4.3073, Accuracy: 3603/10000 (36.0300%)
___Train Local_ResNet_18,  epoch 246, local model 92, internal_epoch   1,  Average loss: 0.0057, Accuracy: 713/796 (89.5729%)
___Train Local_ResNet_18,  epoch 246, local model 92, internal_epoch   2,  Average loss: 0.0076, Accuracy: 688/796 (86.4322%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 3.1781, Accuracy: 3341/10000 (33.4100%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 246, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 488/527 (92.5996%)
___Train Local_ResNet_18,  epoch 246, local model 33, internal_epoch   2,  Average loss: 0.0050, Accuracy: 486/527 (92.2201%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 3.0456, Accuracy: 4172/10000 (41.7200%)
___Train Local_ResNet_18,  epoch 246, local model 62, internal_epoch   1,  Average loss: 0.0015, Accuracy: 348/358 (97.2067%)
___Train Local_ResNet_18,  epoch 246, local model 62, internal_epoch   2,  Average loss: 0.0005, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.0557, Accuracy: 6847/10000 (68.4700%)
___Train Local_ResNet_18,  epoch 246, local model 59, internal_epoch   1,  Average loss: 0.0046, Accuracy: 604/642 (94.0810%)
___Train Local_ResNet_18,  epoch 246, local model 59, internal_epoch   2,  Average loss: 0.0263, Accuracy: 439/642 (68.3801%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 409.0305, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 246, local model 26, internal_epoch   1,  Average loss: 0.0054, Accuracy: 424/468 (90.5983%)
___Train Local_ResNet_18,  epoch 246, local model 26, internal_epoch   2,  Average loss: 0.0047, Accuracy: 434/468 (92.7350%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 2.5599, Accuracy: 4536/10000 (45.3600%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 246, local model 11, internal_epoch   1,  Average loss: 0.0024, Accuracy: 526/546 (96.3370%)
___Train Local_ResNet_18,  epoch 246, local model 11, internal_epoch   2,  Average loss: 0.0016, Accuracy: 533/546 (97.6190%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.8622, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch 246, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 551/584 (94.3493%)
___Train Local_ResNet_18,  epoch 246, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 554/584 (94.8630%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 2.7958, Accuracy: 4383/10000 (43.8300%)
___Train Local_ResNet_18,  epoch 246, local model 86, internal_epoch   1,  Average loss: 0.0040, Accuracy: 198/212 (93.3962%)
___Train Local_ResNet_18,  epoch 246, local model 86, internal_epoch   2,  Average loss: 0.0019, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.8152, Accuracy: 5484/10000 (54.8400%)
___Train Local_ResNet_18,  epoch 246, local model 90, internal_epoch   1,  Average loss: 0.0068, Accuracy: 522/578 (90.3114%)
___Train Local_ResNet_18,  epoch 246, local model 90, internal_epoch   2,  Average loss: 0.0125, Accuracy: 474/578 (82.0069%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 53.7858, Accuracy: 1002/10000 (10.0200%)
time spent on training: 68.36102819442749
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21222310126582278  data num: [345, 796, 527, 358, 642, 468, 546, 584, 212, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.016579929786392403
[foolsgold agg] wv: [1.         1.         0.5112877  1.         1.         1.
 0.33071444 1.         0.33071444 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 246: Average loss: 0.6485, Accuracy: 7859/10000 (78.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 246: Average loss: 6.5640, Accuracy: 276/9000 (3.0667%)
Done in 104.18250131607056 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:247 choose agents : [80, 12, 53, 55, 18, 42, 52, 31, 29, 13]. Adversary List: []
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   1,  Average loss: 0.0049, Accuracy: 327/363 (90.0826%)
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   2,  Average loss: 0.0021, Accuracy: 355/363 (97.7961%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.7692, Accuracy: 3256/10000 (32.5600%)
___Train Local_ResNet_18,  epoch 247, local model 12, internal_epoch   1,  Average loss: 0.0044, Accuracy: 900/977 (92.1187%)
___Train Local_ResNet_18,  epoch 247, local model 12, internal_epoch   2,  Average loss: 0.0058, Accuracy: 878/977 (89.8669%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 6.0309, Accuracy: 3198/10000 (31.9800%)
___Train Local_ResNet_18,  epoch 247, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 586/625 (93.7600%)
___Train Local_ResNet_18,  epoch 247, local model 53, internal_epoch   2,  Average loss: 0.0032, Accuracy: 586/625 (93.7600%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 3.1344, Accuracy: 3748/10000 (37.4800%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   1,  Average loss: 0.0051, Accuracy: 277/299 (92.6421%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   2,  Average loss: 0.0004, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 5.2832, Accuracy: 2798/10000 (27.9800%)
___Train Local_ResNet_18,  epoch 247, local model 18, internal_epoch   1,  Average loss: 0.0067, Accuracy: 358/386 (92.7461%)
___Train Local_ResNet_18,  epoch 247, local model 18, internal_epoch   2,  Average loss: 0.0199, Accuracy: 255/386 (66.0622%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 18.0806, Accuracy: 1636/10000 (16.3600%)
___Train Local_ResNet_18,  epoch 247, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 179/198 (90.4040%)
___Train Local_ResNet_18,  epoch 247, local model 42, internal_epoch   2,  Average loss: 0.0007, Accuracy: 197/198 (99.4949%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 3.2976, Accuracy: 3301/10000 (33.0100%)
___Train Local_ResNet_18,  epoch 247, local model 52, internal_epoch   1,  Average loss: 0.0070, Accuracy: 185/214 (86.4486%)
___Train Local_ResNet_18,  epoch 247, local model 52, internal_epoch   2,  Average loss: 0.0017, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.8442, Accuracy: 2841/10000 (28.4100%)
___Train Local_ResNet_18,  epoch 247, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 671/706 (95.0425%)
___Train Local_ResNet_18,  epoch 247, local model 31, internal_epoch   2,  Average loss: 0.0023, Accuracy: 672/706 (95.1841%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 1.4601, Accuracy: 6053/10000 (60.5300%)
___Train Local_ResNet_18,  epoch 247, local model 29, internal_epoch   1,  Average loss: 0.0050, Accuracy: 774/848 (91.2736%)
___Train Local_ResNet_18,  epoch 247, local model 29, internal_epoch   2,  Average loss: 0.0051, Accuracy: 770/848 (90.8019%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 6.8760, Accuracy: 2423/10000 (24.2300%)
___Train Local_ResNet_18,  epoch 247, local model 13, internal_epoch   1,  Average loss: 0.0056, Accuracy: 552/620 (89.0323%)
___Train Local_ResNet_18,  epoch 247, local model 13, internal_epoch   2,  Average loss: 0.0035, Accuracy: 578/620 (93.2258%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.6947, Accuracy: 3576/10000 (35.7600%)
time spent on training: 52.85194444656372
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [363, 977, 625, 299, 386, 198, 214, 706, 848, 620]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.45006199 1.         0.         0.         0.         1.
 0.87333587 1.         1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 247: Average loss: 0.6476, Accuracy: 7866/10000 (78.6600%)
___Test Target_ResNet_18 poisoned: True, epoch: 247: Average loss: 6.5612, Accuracy: 278/9000 (3.0889%)
Done in 90.1440589427948 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:248 choose agents : [28, 59, 11, 20, 4, 19, 50, 93, 13, 55]. Adversary List: []
___Train Local_ResNet_18,  epoch 248, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 399/423 (94.3262%)
___Train Local_ResNet_18,  epoch 248, local model 28, internal_epoch   2,  Average loss: 0.0013, Accuracy: 415/423 (98.1087%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.6085, Accuracy: 5879/10000 (58.7900%)
___Train Local_ResNet_18,  epoch 248, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 604/642 (94.0810%)
___Train Local_ResNet_18,  epoch 248, local model 59, internal_epoch   2,  Average loss: 0.0026, Accuracy: 621/642 (96.7290%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 4.7867, Accuracy: 3265/10000 (32.6500%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 248, local model 11, internal_epoch   1,  Average loss: 0.0026, Accuracy: 519/546 (95.0549%)
___Train Local_ResNet_18,  epoch 248, local model 11, internal_epoch   2,  Average loss: 0.0015, Accuracy: 532/546 (97.4359%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.7211, Accuracy: 4297/10000 (42.9700%)
___Train Local_ResNet_18,  epoch 248, local model 20, internal_epoch   1,  Average loss: 0.0072, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 248, local model 20, internal_epoch   2,  Average loss: 0.0035, Accuracy: 344/362 (95.0276%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 7.2593, Accuracy: 2326/10000 (23.2600%)
___Train Local_ResNet_18,  epoch 248, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 503/557 (90.3052%)
___Train Local_ResNet_18,  epoch 248, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 520/557 (93.3573%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.9267, Accuracy: 4514/10000 (45.1400%)
___Train Local_ResNet_18,  epoch 248, local model 19, internal_epoch   1,  Average loss: 0.0138, Accuracy: 130/173 (75.1445%)
___Train Local_ResNet_18,  epoch 248, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 5.0052, Accuracy: 3527/10000 (35.2700%)
___Train Local_ResNet_18,  epoch 248, local model 50, internal_epoch   1,  Average loss: 0.0018, Accuracy: 389/401 (97.0075%)
___Train Local_ResNet_18,  epoch 248, local model 50, internal_epoch   2,  Average loss: 0.0005, Accuracy: 400/401 (99.7506%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.7898, Accuracy: 5676/10000 (56.7600%)
___Train Local_ResNet_18,  epoch 248, local model 93, internal_epoch   1,  Average loss: 0.0025, Accuracy: 560/584 (95.8904%)
___Train Local_ResNet_18,  epoch 248, local model 93, internal_epoch   2,  Average loss: 0.0045, Accuracy: 550/584 (94.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.2417, Accuracy: 4789/10000 (47.8900%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   1,  Average loss: 0.0042, Accuracy: 566/620 (91.2903%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   2,  Average loss: 0.0027, Accuracy: 585/620 (94.3548%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.6344, Accuracy: 4414/10000 (44.1400%)
___Train Local_ResNet_18,  epoch 248, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 269/299 (89.9666%)
___Train Local_ResNet_18,  epoch 248, local model 55, internal_epoch   2,  Average loss: 0.0011, Accuracy: 294/299 (98.3278%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 6.8312, Accuracy: 2149/10000 (21.4900%)
time spent on training: 58.20486879348755
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11851530280008682  data num: [423, 642, 546, 362, 557, 173, 401, 584, 620, 299]
[foolsgold agg] considering poison per batch poison_fraction: 0.009259008031256783
[foolsgold agg] wv: [1. 0. 1. 0. 1. 0. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 248: Average loss: 0.6477, Accuracy: 7863/10000 (78.6300%)
___Test Target_ResNet_18 poisoned: True, epoch: 248: Average loss: 6.5619, Accuracy: 277/9000 (3.0778%)
Done in 98.35366654396057 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:249 choose agents : [13, 33, 16, 5, 8, 3, 39, 27, 19, 93]. Adversary List: []
___Train Local_ResNet_18,  epoch 249, local model 13, internal_epoch   1,  Average loss: 0.0042, Accuracy: 570/620 (91.9355%)
___Train Local_ResNet_18,  epoch 249, local model 13, internal_epoch   2,  Average loss: 0.0029, Accuracy: 584/620 (94.1935%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 3.3586, Accuracy: 3827/10000 (38.2700%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 249, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 483/527 (91.6509%)
___Train Local_ResNet_18,  epoch 249, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 480/527 (91.0816%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.8970, Accuracy: 4520/10000 (45.2000%)
___Train Local_ResNet_18,  epoch 249, local model 16, internal_epoch   1,  Average loss: 0.0054, Accuracy: 725/773 (93.7904%)
___Train Local_ResNet_18,  epoch 249, local model 16, internal_epoch   2,  Average loss: 0.0230, Accuracy: 490/773 (63.3894%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 87.5808, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 249, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 352/365 (96.4384%)
___Train Local_ResNet_18,  epoch 249, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 362/365 (99.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 1.2870, Accuracy: 6429/10000 (64.2900%)
___Train Local_ResNet_18,  epoch 249, local model 8, internal_epoch   1,  Average loss: 0.0037, Accuracy: 500/534 (93.6330%)
___Train Local_ResNet_18,  epoch 249, local model 8, internal_epoch   2,  Average loss: 0.0024, Accuracy: 511/534 (95.6929%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 4.0208, Accuracy: 3311/10000 (33.1100%)
___Train Local_ResNet_18,  epoch 249, local model 3, internal_epoch   1,  Average loss: 0.0058, Accuracy: 688/780 (88.2051%)
___Train Local_ResNet_18,  epoch 249, local model 3, internal_epoch   2,  Average loss: 0.0082, Accuracy: 665/780 (85.2564%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 4.7507, Accuracy: 3422/10000 (34.2200%)
___Train Local_ResNet_18,  epoch 249, local model 39, internal_epoch   1,  Average loss: 0.0053, Accuracy: 192/217 (88.4793%)
___Train Local_ResNet_18,  epoch 249, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.3157, Accuracy: 4520/10000 (45.2000%)
___Train Local_ResNet_18,  epoch 249, local model 27, internal_epoch   1,  Average loss: 0.0037, Accuracy: 378/397 (95.2141%)
___Train Local_ResNet_18,  epoch 249, local model 27, internal_epoch   2,  Average loss: 0.0040, Accuracy: 382/397 (96.2217%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.3206, Accuracy: 4427/10000 (44.2700%)
___Train Local_ResNet_18,  epoch 249, local model 19, internal_epoch   1,  Average loss: 0.0131, Accuracy: 133/173 (76.8786%)
___Train Local_ResNet_18,  epoch 249, local model 19, internal_epoch   2,  Average loss: 0.0017, Accuracy: 167/173 (96.5318%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 6.1650, Accuracy: 3109/10000 (31.0900%)
___Train Local_ResNet_18,  epoch 249, local model 93, internal_epoch   1,  Average loss: 0.0026, Accuracy: 549/584 (94.0068%)
___Train Local_ResNet_18,  epoch 249, local model 93, internal_epoch   2,  Average loss: 0.0016, Accuracy: 572/584 (97.9452%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.4121, Accuracy: 4664/10000 (46.6400%)
time spent on training: 60.81221270561218
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10603621730382294  data num: [620, 527, 773, 365, 534, 780, 217, 397, 173, 584]
[foolsgold agg] considering poison per batch poison_fraction: 0.008284079476861167
[foolsgold agg] wv: [0.         0.65775295 1.         0.65775295 1.         1.
 0.         0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 249: Average loss: 0.6481, Accuracy: 7868/10000 (78.6800%)
___Test Target_ResNet_18 poisoned: True, epoch: 249: Average loss: 6.5526, Accuracy: 283/9000 (3.1444%)
Done in 100.00995993614197 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:250 choose agents : [92, 14, 74, 41, 87, 44, 60, 80, 2, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 250, local model 92, internal_epoch   1,  Average loss: 0.0047, Accuracy: 720/796 (90.4523%)
___Train Local_ResNet_18,  epoch 250, local model 92, internal_epoch   2,  Average loss: 0.0080, Accuracy: 670/796 (84.1709%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 6.6001, Accuracy: 2343/10000 (23.4300%)
___Train Local_ResNet_18,  epoch 250, local model 14, internal_epoch   1,  Average loss: 0.0068, Accuracy: 273/318 (85.8491%)
___Train Local_ResNet_18,  epoch 250, local model 14, internal_epoch   2,  Average loss: 0.0011, Accuracy: 311/318 (97.7987%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 6.4158, Accuracy: 2543/10000 (25.4300%)
___Train Local_ResNet_18,  epoch 250, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 438/469 (93.3902%)
___Train Local_ResNet_18,  epoch 250, local model 74, internal_epoch   2,  Average loss: 0.0016, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.7285, Accuracy: 5281/10000 (52.8100%)
___Train Local_ResNet_18,  epoch 250, local model 41, internal_epoch   1,  Average loss: 0.0256, Accuracy: 421/513 (82.0663%)
___Train Local_ResNet_18,  epoch 250, local model 41, internal_epoch   2,  Average loss: 0.0126, Accuracy: 417/513 (81.2865%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 5.3853, Accuracy: 3326/10000 (33.2600%)
___Train Local_ResNet_18,  epoch 250, local model 87, internal_epoch   1,  Average loss: 0.0086, Accuracy: 335/397 (84.3829%)
___Train Local_ResNet_18,  epoch 250, local model 87, internal_epoch   2,  Average loss: 0.0066, Accuracy: 355/397 (89.4207%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 2.9393, Accuracy: 3740/10000 (37.4000%)
___Train Local_ResNet_18,  epoch 250, local model 44, internal_epoch   1,  Average loss: 0.0038, Accuracy: 401/436 (91.9725%)
___Train Local_ResNet_18,  epoch 250, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 427/436 (97.9358%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.8778, Accuracy: 5403/10000 (54.0300%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 261/284 (91.9014%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   2,  Average loss: 0.0015, Accuracy: 280/284 (98.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.9959, Accuracy: 5072/10000 (50.7200%)
___Train Local_ResNet_18,  epoch 250, local model 80, internal_epoch   1,  Average loss: 0.0057, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 250, local model 80, internal_epoch   2,  Average loss: 0.0016, Accuracy: 353/363 (97.2452%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 4.1258, Accuracy: 3881/10000 (38.8100%)
___Train Local_ResNet_18,  epoch 250, local model 2, internal_epoch   1,  Average loss: 0.0078, Accuracy: 390/461 (84.5987%)
___Train Local_ResNet_18,  epoch 250, local model 2, internal_epoch   2,  Average loss: 0.0090, Accuracy: 410/461 (88.9371%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 3.9358, Accuracy: 3331/10000 (33.3100%)
___Train Local_ResNet_18,  epoch 250, local model 45, internal_epoch   1,  Average loss: 0.0065, Accuracy: 462/529 (87.3346%)
___Train Local_ResNet_18,  epoch 250, local model 45, internal_epoch   2,  Average loss: 0.0062, Accuracy: 472/529 (89.2250%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 6.5023, Accuracy: 2840/10000 (28.4000%)
time spent on training: 56.8181586265564
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [796, 318, 469, 513, 397, 436, 284, 363, 461, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.42874783 0.         1.         0.76675758 0.         0.
 0.         1.         0.         0.42874783]
___Test Target_ResNet_18 poisoned: False, epoch: 250: Average loss: 0.6479, Accuracy: 7866/10000 (78.6600%)
___Test Target_ResNet_18 poisoned: True, epoch: 250: Average loss: 6.5482, Accuracy: 282/9000 (3.1333%)
Done in 96.97052121162415 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:251 choose agents : [67, 9, 92, 47, 24, 79, 63, 14, 87, 2]. Adversary List: []
___Train Local_ResNet_18,  epoch 251, local model 67, internal_epoch   1,  Average loss: 0.0028, Accuracy: 801/842 (95.1306%)
___Train Local_ResNet_18,  epoch 251, local model 67, internal_epoch   2,  Average loss: 0.0076, Accuracy: 737/842 (87.5297%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 8.0756, Accuracy: 2116/10000 (21.1600%)
___Train Local_ResNet_18,  epoch 251, local model 9, internal_epoch   1,  Average loss: 0.0047, Accuracy: 327/368 (88.8587%)
___Train Local_ResNet_18,  epoch 251, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 358/368 (97.2826%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 4.0546, Accuracy: 3410/10000 (34.1000%)
___Train Local_ResNet_18,  epoch 251, local model 92, internal_epoch   1,  Average loss: 0.0057, Accuracy: 707/796 (88.8191%)
___Train Local_ResNet_18,  epoch 251, local model 92, internal_epoch   2,  Average loss: 0.0074, Accuracy: 695/796 (87.3116%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 4.5495, Accuracy: 3488/10000 (34.8800%)
___Train Local_ResNet_18,  epoch 251, local model 47, internal_epoch   1,  Average loss: 0.0029, Accuracy: 623/654 (95.2599%)
___Train Local_ResNet_18,  epoch 251, local model 47, internal_epoch   2,  Average loss: 0.0031, Accuracy: 614/654 (93.8838%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.5565, Accuracy: 4568/10000 (45.6800%)
___Train Local_ResNet_18,  epoch 251, local model 24, internal_epoch   1,  Average loss: 0.0035, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 251, local model 24, internal_epoch   2,  Average loss: 0.0009, Accuracy: 315/320 (98.4375%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.4771, Accuracy: 4458/10000 (44.5800%)
___Train Local_ResNet_18,  epoch 251, local model 79, internal_epoch   1,  Average loss: 0.0060, Accuracy: 130/154 (84.4156%)
___Train Local_ResNet_18,  epoch 251, local model 79, internal_epoch   2,  Average loss: 0.0006, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.1247, Accuracy: 6751/10000 (67.5100%)
___Train Local_ResNet_18,  epoch 251, local model 63, internal_epoch   1,  Average loss: 0.0023, Accuracy: 715/752 (95.0798%)
___Train Local_ResNet_18,  epoch 251, local model 63, internal_epoch   2,  Average loss: 0.0019, Accuracy: 724/752 (96.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.8059, Accuracy: 5578/10000 (55.7800%)
___Train Local_ResNet_18,  epoch 251, local model 14, internal_epoch   1,  Average loss: 0.0070, Accuracy: 271/318 (85.2201%)
___Train Local_ResNet_18,  epoch 251, local model 14, internal_epoch   2,  Average loss: 0.0013, Accuracy: 308/318 (96.8553%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 10.2995, Accuracy: 1950/10000 (19.5000%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   1,  Average loss: 0.0094, Accuracy: 334/397 (84.1310%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   2,  Average loss: 0.0105, Accuracy: 333/397 (83.8791%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 19.4548, Accuracy: 1296/10000 (12.9600%)
___Train Local_ResNet_18,  epoch 251, local model 2, internal_epoch   1,  Average loss: 0.0104, Accuracy: 393/461 (85.2495%)
___Train Local_ResNet_18,  epoch 251, local model 2, internal_epoch   2,  Average loss: 0.0142, Accuracy: 379/461 (82.2126%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 11.7082, Accuracy: 1884/10000 (18.8400%)
time spent on training: 54.38956952095032
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [842, 368, 796, 654, 320, 154, 752, 318, 397, 461]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.
 0.         0.         0.         0.15465896]
___Test Target_ResNet_18 poisoned: False, epoch: 251: Average loss: 0.6473, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 251: Average loss: 6.5557, Accuracy: 283/9000 (3.1444%)
Done in 93.41104793548584 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:252 choose agents : [64, 12, 61, 1, 84, 9, 0, 14, 88, 16]. Adversary List: []
___Train Local_ResNet_18,  epoch 252, local model 64, internal_epoch   1,  Average loss: 0.0035, Accuracy: 637/686 (92.8571%)
___Train Local_ResNet_18,  epoch 252, local model 64, internal_epoch   2,  Average loss: 0.0031, Accuracy: 640/686 (93.2945%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.4921, Accuracy: 4672/10000 (46.7200%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 876/977 (89.6622%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   2,  Average loss: 0.0085, Accuracy: 810/977 (82.9069%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 19.3316, Accuracy: 1562/10000 (15.6200%)
___Train Local_ResNet_18,  epoch 252, local model 61, internal_epoch   1,  Average loss: 0.0045, Accuracy: 533/590 (90.3390%)
___Train Local_ResNet_18,  epoch 252, local model 61, internal_epoch   2,  Average loss: 0.0049, Accuracy: 541/590 (91.6949%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.1691, Accuracy: 2653/10000 (26.5300%)
___Train Local_ResNet_18,  epoch 252, local model 1, internal_epoch   1,  Average loss: 0.0054, Accuracy: 599/641 (93.4477%)
___Train Local_ResNet_18,  epoch 252, local model 1, internal_epoch   2,  Average loss: 0.0115, Accuracy: 589/641 (91.8877%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 3.1091, Accuracy: 4530/10000 (45.3000%)
___Train Local_ResNet_18,  epoch 252, local model 84, internal_epoch   1,  Average loss: 0.0029, Accuracy: 998/1053 (94.7768%)
___Train Local_ResNet_18,  epoch 252, local model 84, internal_epoch   2,  Average loss: 0.0059, Accuracy: 937/1053 (88.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.2925, Accuracy: 5051/10000 (50.5100%)
___Train Local_ResNet_18,  epoch 252, local model 9, internal_epoch   1,  Average loss: 0.0041, Accuracy: 340/368 (92.3913%)
___Train Local_ResNet_18,  epoch 252, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 360/368 (97.8261%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 6.9323, Accuracy: 2313/10000 (23.1300%)
___Train Local_ResNet_18,  epoch 252, local model 0, internal_epoch   1,  Average loss: 0.0064, Accuracy: 321/367 (87.4659%)
___Train Local_ResNet_18,  epoch 252, local model 0, internal_epoch   2,  Average loss: 0.0023, Accuracy: 349/367 (95.0954%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.1778, Accuracy: 2659/10000 (26.5900%)
___Train Local_ResNet_18,  epoch 252, local model 14, internal_epoch   1,  Average loss: 0.0062, Accuracy: 280/318 (88.0503%)
___Train Local_ResNet_18,  epoch 252, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 310/318 (97.4843%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 10.3078, Accuracy: 1850/10000 (18.5000%)
___Train Local_ResNet_18,  epoch 252, local model 88, internal_epoch   1,  Average loss: 0.0067, Accuracy: 386/447 (86.3535%)
___Train Local_ResNet_18,  epoch 252, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 411/447 (91.9463%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 6.2739, Accuracy: 2292/10000 (22.9200%)
___Train Local_ResNet_18,  epoch 252, local model 16, internal_epoch   1,  Average loss: 0.0038, Accuracy: 727/773 (94.0492%)
___Train Local_ResNet_18,  epoch 252, local model 16, internal_epoch   2,  Average loss: 0.0103, Accuracy: 637/773 (82.4062%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 8.2493, Accuracy: 2707/10000 (27.0700%)
time spent on training: 55.94268751144409
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [686, 977, 590, 641, 1053, 368, 367, 318, 447, 773]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.90240653 1.         1.         0.90240653 1.         1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 252: Average loss: 0.6443, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 252: Average loss: 6.5152, Accuracy: 299/9000 (3.3222%)
Done in 94.47510766983032 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:253 choose agents : [48, 44, 4, 45, 1, 58, 22, 13, 52, 20]. Adversary List: []
___Train Local_ResNet_18,  epoch 253, local model 48, internal_epoch   1,  Average loss: 0.0045, Accuracy: 344/378 (91.0053%)
___Train Local_ResNet_18,  epoch 253, local model 48, internal_epoch   2,  Average loss: 0.0009, Accuracy: 373/378 (98.6772%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.7062, Accuracy: 3264/10000 (32.6400%)
___Train Local_ResNet_18,  epoch 253, local model 44, internal_epoch   1,  Average loss: 0.0032, Accuracy: 406/436 (93.1193%)
___Train Local_ResNet_18,  epoch 253, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 424/436 (97.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 1.3596, Accuracy: 6117/10000 (61.1700%)
___Train Local_ResNet_18,  epoch 253, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 503/557 (90.3052%)
___Train Local_ResNet_18,  epoch 253, local model 4, internal_epoch   2,  Average loss: 0.0025, Accuracy: 527/557 (94.6140%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.1591, Accuracy: 4435/10000 (44.3500%)
___Train Local_ResNet_18,  epoch 253, local model 45, internal_epoch   1,  Average loss: 0.0064, Accuracy: 472/529 (89.2250%)
___Train Local_ResNet_18,  epoch 253, local model 45, internal_epoch   2,  Average loss: 0.0116, Accuracy: 448/529 (84.6881%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 5.2076, Accuracy: 3021/10000 (30.2100%)
___Train Local_ResNet_18,  epoch 253, local model 1, internal_epoch   1,  Average loss: 0.0063, Accuracy: 613/641 (95.6318%)
___Train Local_ResNet_18,  epoch 253, local model 1, internal_epoch   2,  Average loss: 0.0104, Accuracy: 568/641 (88.6115%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.7311, Accuracy: 2964/10000 (29.6400%)
___Train Local_ResNet_18,  epoch 253, local model 58, internal_epoch   1,  Average loss: 0.0079, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 253, local model 58, internal_epoch   2,  Average loss: 0.0009, Accuracy: 231/234 (98.7179%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.1702, Accuracy: 1996/10000 (19.9600%)
___Train Local_ResNet_18,  epoch 253, local model 22, internal_epoch   1,  Average loss: 0.0050, Accuracy: 439/494 (88.8664%)
___Train Local_ResNet_18,  epoch 253, local model 22, internal_epoch   2,  Average loss: 0.0025, Accuracy: 470/494 (95.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.0626, Accuracy: 3844/10000 (38.4400%)
___Train Local_ResNet_18,  epoch 253, local model 13, internal_epoch   1,  Average loss: 0.0050, Accuracy: 555/620 (89.5161%)
___Train Local_ResNet_18,  epoch 253, local model 13, internal_epoch   2,  Average loss: 0.0039, Accuracy: 572/620 (92.2581%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.7619, Accuracy: 3854/10000 (38.5400%)
___Train Local_ResNet_18,  epoch 253, local model 52, internal_epoch   1,  Average loss: 0.0059, Accuracy: 185/214 (86.4486%)
___Train Local_ResNet_18,  epoch 253, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 213/214 (99.5327%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 2.8808, Accuracy: 4298/10000 (42.9800%)
___Train Local_ResNet_18,  epoch 253, local model 20, internal_epoch   1,  Average loss: 0.0065, Accuracy: 311/362 (85.9116%)
___Train Local_ResNet_18,  epoch 253, local model 20, internal_epoch   2,  Average loss: 0.0020, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 5.0659, Accuracy: 3363/10000 (33.6300%)
time spent on training: 54.84303092956543
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [378, 436, 557, 529, 641, 234, 494, 620, 214, 362]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.51389143 0.         0.99511063 0.7685233  1.         0.
 0.51389143 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 253: Average loss: 0.6451, Accuracy: 7872/10000 (78.7200%)
___Test Target_ResNet_18 poisoned: True, epoch: 253: Average loss: 6.5194, Accuracy: 295/9000 (3.2778%)
Done in 94.72194838523865 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:254 choose agents : [95, 47, 93, 56, 5, 31, 75, 13, 77, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 254, local model 95, internal_epoch   1,  Average loss: 0.0080, Accuracy: 479/569 (84.1828%)
___Train Local_ResNet_18,  epoch 254, local model 95, internal_epoch   2,  Average loss: 0.0040, Accuracy: 517/569 (90.8612%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 5.1537, Accuracy: 3064/10000 (30.6400%)
___Train Local_ResNet_18,  epoch 254, local model 47, internal_epoch   1,  Average loss: 0.0024, Accuracy: 618/654 (94.4954%)
___Train Local_ResNet_18,  epoch 254, local model 47, internal_epoch   2,  Average loss: 0.0021, Accuracy: 621/654 (94.9541%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.2891, Accuracy: 6267/10000 (62.6700%)
___Train Local_ResNet_18,  epoch 254, local model 93, internal_epoch   1,  Average loss: 0.0033, Accuracy: 546/584 (93.4932%)
___Train Local_ResNet_18,  epoch 254, local model 93, internal_epoch   2,  Average loss: 0.0055, Accuracy: 542/584 (92.8082%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 3.5017, Accuracy: 3923/10000 (39.2300%)
___Train Local_ResNet_18,  epoch 254, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 726/743 (97.7120%)
___Train Local_ResNet_18,  epoch 254, local model 56, internal_epoch   2,  Average loss: 0.0009, Accuracy: 734/743 (98.7887%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.1786, Accuracy: 6621/10000 (66.2100%)
___Train Local_ResNet_18,  epoch 254, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 351/365 (96.1644%)
___Train Local_ResNet_18,  epoch 254, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 364/365 (99.7260%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.4469, Accuracy: 6090/10000 (60.9000%)
___Train Local_ResNet_18,  epoch 254, local model 31, internal_epoch   1,  Average loss: 0.0028, Accuracy: 669/706 (94.7592%)
___Train Local_ResNet_18,  epoch 254, local model 31, internal_epoch   2,  Average loss: 0.0026, Accuracy: 669/706 (94.7592%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.1833, Accuracy: 4789/10000 (47.8900%)
___Train Local_ResNet_18,  epoch 254, local model 75, internal_epoch   1,  Average loss: 0.0044, Accuracy: 553/578 (95.6747%)
___Train Local_ResNet_18,  epoch 254, local model 75, internal_epoch   2,  Average loss: 0.0299, Accuracy: 342/578 (59.1696%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2341.2287, Accuracy: 1373/10000 (13.7300%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   1,  Average loss: 0.0052, Accuracy: 551/620 (88.8710%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   2,  Average loss: 0.0031, Accuracy: 583/620 (94.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 3.7285, Accuracy: 3499/10000 (34.9900%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 254, local model 77, internal_epoch   1,  Average loss: 0.0024, Accuracy: 471/496 (94.9597%)
___Train Local_ResNet_18,  epoch 254, local model 77, internal_epoch   2,  Average loss: 0.0012, Accuracy: 486/496 (97.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.5894, Accuracy: 5595/10000 (55.9500%)
___Train Local_ResNet_18,  epoch 254, local model 4, internal_epoch   1,  Average loss: 0.0042, Accuracy: 514/557 (92.2801%)
___Train Local_ResNet_18,  epoch 254, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 526/557 (94.4345%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.4371, Accuracy: 4957/10000 (49.5700%)
time spent on training: 59.77778887748718
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08446866485013624  data num: [569, 654, 584, 743, 365, 706, 578, 620, 496, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.006599114441416894
[foolsgold agg] wv: [0.12511941 0.         0.89886932 0.89718047 0.89718047 1.
 1.         0.         0.12511941 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 254: Average loss: 0.6460, Accuracy: 7874/10000 (78.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 254: Average loss: 6.5177, Accuracy: 293/9000 (3.2556%)
Done in 98.97866630554199 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:255 choose agents : [17, 65, 22, 0, 49, 14, 87, 55, 30, 92]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 255, local model 17, internal_epoch   1,  Average loss: 0.0019, Accuracy: 511/526 (97.1483%)
___Train Local_ResNet_18,  epoch 255, local model 17, internal_epoch   2,  Average loss: 0.0013, Accuracy: 517/526 (98.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 1.1557, Accuracy: 6564/10000 (65.6400%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   1,  Average loss: 0.0034, Accuracy: 295/314 (93.9490%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.7243, Accuracy: 4142/10000 (41.4200%)
___Train Local_ResNet_18,  epoch 255, local model 22, internal_epoch   1,  Average loss: 0.0052, Accuracy: 444/494 (89.8785%)
___Train Local_ResNet_18,  epoch 255, local model 22, internal_epoch   2,  Average loss: 0.0020, Accuracy: 474/494 (95.9514%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.6813, Accuracy: 4386/10000 (43.8600%)
___Train Local_ResNet_18,  epoch 255, local model 0, internal_epoch   1,  Average loss: 0.0050, Accuracy: 333/367 (90.7357%)
___Train Local_ResNet_18,  epoch 255, local model 0, internal_epoch   2,  Average loss: 0.0015, Accuracy: 359/367 (97.8202%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 5.2431, Accuracy: 2543/10000 (25.4300%)
___Train Local_ResNet_18,  epoch 255, local model 49, internal_epoch   1,  Average loss: 0.0033, Accuracy: 402/426 (94.3662%)
___Train Local_ResNet_18,  epoch 255, local model 49, internal_epoch   2,  Average loss: 0.0012, Accuracy: 414/426 (97.1831%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.1963, Accuracy: 4006/10000 (40.0600%)
___Train Local_ResNet_18,  epoch 255, local model 14, internal_epoch   1,  Average loss: 0.0068, Accuracy: 273/318 (85.8491%)
___Train Local_ResNet_18,  epoch 255, local model 14, internal_epoch   2,  Average loss: 0.0024, Accuracy: 301/318 (94.6541%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 10.1473, Accuracy: 1792/10000 (17.9200%)
___Train Local_ResNet_18,  epoch 255, local model 87, internal_epoch   1,  Average loss: 0.0089, Accuracy: 337/397 (84.8866%)
___Train Local_ResNet_18,  epoch 255, local model 87, internal_epoch   2,  Average loss: 0.0054, Accuracy: 353/397 (88.9169%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.0420, Accuracy: 3466/10000 (34.6600%)
___Train Local_ResNet_18,  epoch 255, local model 55, internal_epoch   1,  Average loss: 0.0043, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 255, local model 55, internal_epoch   2,  Average loss: 0.0005, Accuracy: 298/299 (99.6656%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 5.9867, Accuracy: 2610/10000 (26.1000%)
___Train Local_ResNet_18,  epoch 255, local model 30, internal_epoch   1,  Average loss: 0.0047, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 255, local model 30, internal_epoch   2,  Average loss: 0.0021, Accuracy: 326/337 (96.7359%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.4108, Accuracy: 3596/10000 (35.9600%)
___Train Local_ResNet_18,  epoch 255, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 720/796 (90.4523%)
___Train Local_ResNet_18,  epoch 255, local model 92, internal_epoch   2,  Average loss: 0.0054, Accuracy: 709/796 (89.0704%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.3456, Accuracy: 3513/10000 (35.1300%)
time spent on training: 57.138885498046875
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12306972391202621  data num: [526, 314, 494, 367, 426, 318, 397, 299, 337, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.009614822180627048
[foolsgold agg] wv: [1.         0.         0.         1.         0.35364304 0.
 0.         1.         1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 255: Average loss: 0.6450, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 255: Average loss: 6.4806, Accuracy: 302/9000 (3.3556%)
Done in 95.8093957901001 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:256 choose agents : [89, 69, 73, 15, 31, 36, 22, 1, 0, 96]. Adversary List: []
___Train Local_ResNet_18,  epoch 256, local model 89, internal_epoch   1,  Average loss: 0.0068, Accuracy: 355/413 (85.9564%)
___Train Local_ResNet_18,  epoch 256, local model 89, internal_epoch   2,  Average loss: 0.0035, Accuracy: 384/413 (92.9782%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.4865, Accuracy: 1925/10000 (19.2500%)
___Train Local_ResNet_18,  epoch 256, local model 69, internal_epoch   1,  Average loss: 0.0065, Accuracy: 192/216 (88.8889%)
___Train Local_ResNet_18,  epoch 256, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 216/216 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.6290, Accuracy: 1497/10000 (14.9700%)
___Train Local_ResNet_18,  epoch 256, local model 73, internal_epoch   1,  Average loss: 0.0117, Accuracy: 392/500 (78.4000%)
___Train Local_ResNet_18,  epoch 256, local model 73, internal_epoch   2,  Average loss: 0.0040, Accuracy: 464/500 (92.8000%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.5993, Accuracy: 2595/10000 (25.9500%)
___Train Local_ResNet_18,  epoch 256, local model 15, internal_epoch   1,  Average loss: 0.0077, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 256, local model 15, internal_epoch   2,  Average loss: 0.0033, Accuracy: 321/341 (94.1349%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 4.9569, Accuracy: 2491/10000 (24.9100%)
___Train Local_ResNet_18,  epoch 256, local model 31, internal_epoch   1,  Average loss: 0.0044, Accuracy: 652/706 (92.3513%)
___Train Local_ResNet_18,  epoch 256, local model 31, internal_epoch   2,  Average loss: 0.0194, Accuracy: 509/706 (72.0963%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 114.2864, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 256, local model 36, internal_epoch   1,  Average loss: 0.0064, Accuracy: 746/849 (87.8681%)
___Train Local_ResNet_18,  epoch 256, local model 36, internal_epoch   2,  Average loss: 0.0169, Accuracy: 599/849 (70.5536%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 9.4234, Accuracy: 2308/10000 (23.0800%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 449/494 (90.8907%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   2,  Average loss: 0.0028, Accuracy: 470/494 (95.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 3.1622, Accuracy: 4211/10000 (42.1100%)
___Train Local_ResNet_18,  epoch 256, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 606/641 (94.5398%)
___Train Local_ResNet_18,  epoch 256, local model 1, internal_epoch   2,  Average loss: 0.0093, Accuracy: 619/641 (96.5679%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.8035, Accuracy: 4247/10000 (42.4700%)
___Train Local_ResNet_18,  epoch 256, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 326/367 (88.8283%)
___Train Local_ResNet_18,  epoch 256, local model 0, internal_epoch   2,  Average loss: 0.0023, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.5863, Accuracy: 2167/10000 (21.6700%)
___Train Local_ResNet_18,  epoch 256, local model 96, internal_epoch   1,  Average loss: 0.0027, Accuracy: 673/708 (95.0565%)
___Train Local_ResNet_18,  epoch 256, local model 96, internal_epoch   2,  Average loss: 0.0030, Accuracy: 665/708 (93.9266%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.7540, Accuracy: 4575/10000 (45.7500%)
time spent on training: 53.15330410003662
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [413, 216, 500, 341, 706, 849, 494, 641, 367, 708]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 0. 1. 0. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 256: Average loss: 0.6451, Accuracy: 7884/10000 (78.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 256: Average loss: 6.4670, Accuracy: 302/9000 (3.3556%)
Done in 91.00660347938538 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:257 choose agents : [54, 37, 60, 30, 4, 36, 19, 95, 47, 88]. Adversary List: []
___Train Local_ResNet_18,  epoch 257, local model 54, internal_epoch   1,  Average loss: 0.0032, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 257, local model 54, internal_epoch   2,  Average loss: 0.0007, Accuracy: 435/440 (98.8636%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 2.2788, Accuracy: 4931/10000 (49.3100%)
___Train Local_ResNet_18,  epoch 257, local model 37, internal_epoch   1,  Average loss: 0.0054, Accuracy: 655/725 (90.3448%)
___Train Local_ResNet_18,  epoch 257, local model 37, internal_epoch   2,  Average loss: 0.0161, Accuracy: 553/725 (76.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 12.2418, Accuracy: 1753/10000 (17.5300%)
___Train Local_ResNet_18,  epoch 257, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 258/284 (90.8451%)
___Train Local_ResNet_18,  epoch 257, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.8744, Accuracy: 5130/10000 (51.3000%)
___Train Local_ResNet_18,  epoch 257, local model 30, internal_epoch   1,  Average loss: 0.0058, Accuracy: 308/337 (91.3947%)
___Train Local_ResNet_18,  epoch 257, local model 30, internal_epoch   2,  Average loss: 0.0022, Accuracy: 319/337 (94.6588%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 4.2421, Accuracy: 3139/10000 (31.3900%)
___Train Local_ResNet_18,  epoch 257, local model 4, internal_epoch   1,  Average loss: 0.0038, Accuracy: 509/557 (91.3824%)
___Train Local_ResNet_18,  epoch 257, local model 4, internal_epoch   2,  Average loss: 0.0020, Accuracy: 535/557 (96.0503%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 3.4964, Accuracy: 4275/10000 (42.7500%)
___Train Local_ResNet_18,  epoch 257, local model 36, internal_epoch   1,  Average loss: 0.0076, Accuracy: 745/849 (87.7503%)
___Train Local_ResNet_18,  epoch 257, local model 36, internal_epoch   2,  Average loss: 0.0202, Accuracy: 531/849 (62.5442%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 29.3458, Accuracy: 1641/10000 (16.4100%)
___Train Local_ResNet_18,  epoch 257, local model 19, internal_epoch   1,  Average loss: 0.0150, Accuracy: 129/173 (74.5665%)
___Train Local_ResNet_18,  epoch 257, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 172/173 (99.4220%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 7.2532, Accuracy: 2888/10000 (28.8800%)
___Train Local_ResNet_18,  epoch 257, local model 95, internal_epoch   1,  Average loss: 0.0082, Accuracy: 472/569 (82.9525%)
___Train Local_ResNet_18,  epoch 257, local model 95, internal_epoch   2,  Average loss: 0.0049, Accuracy: 516/569 (90.6854%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 4.5472, Accuracy: 3382/10000 (33.8200%)
___Train Local_ResNet_18,  epoch 257, local model 47, internal_epoch   1,  Average loss: 0.0024, Accuracy: 627/654 (95.8716%)
___Train Local_ResNet_18,  epoch 257, local model 47, internal_epoch   2,  Average loss: 0.0023, Accuracy: 629/654 (96.1774%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.3955, Accuracy: 6407/10000 (64.0700%)
___Train Local_ResNet_18,  epoch 257, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 384/447 (85.9060%)
___Train Local_ResNet_18,  epoch 257, local model 88, internal_epoch   2,  Average loss: 0.0039, Accuracy: 412/447 (92.1700%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 4.1864, Accuracy: 3727/10000 (37.2700%)
time spent on training: 54.15738010406494
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [440, 725, 284, 337, 557, 849, 173, 569, 654, 447]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 1. 1. 1. 1. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 257: Average loss: 0.6449, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 257: Average loss: 6.4775, Accuracy: 303/9000 (3.3667%)
Done in 91.68225932121277 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:258 choose agents : [8, 66, 49, 58, 44, 26, 21, 79, 98, 32]. Adversary List: []
___Train Local_ResNet_18,  epoch 258, local model 8, internal_epoch   1,  Average loss: 0.0034, Accuracy: 502/534 (94.0075%)
___Train Local_ResNet_18,  epoch 258, local model 8, internal_epoch   2,  Average loss: 0.0027, Accuracy: 508/534 (95.1311%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.1233, Accuracy: 4659/10000 (46.5900%)
___Train Local_ResNet_18,  epoch 258, local model 66, internal_epoch   1,  Average loss: 0.0037, Accuracy: 517/555 (93.1532%)
___Train Local_ResNet_18,  epoch 258, local model 66, internal_epoch   2,  Average loss: 0.0015, Accuracy: 537/555 (96.7568%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.8787, Accuracy: 4507/10000 (45.0700%)
___Train Local_ResNet_18,  epoch 258, local model 49, internal_epoch   1,  Average loss: 0.0033, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 258, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 416/426 (97.6526%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.7565, Accuracy: 5594/10000 (55.9400%)
___Train Local_ResNet_18,  epoch 258, local model 58, internal_epoch   1,  Average loss: 0.0095, Accuracy: 195/234 (83.3333%)
___Train Local_ResNet_18,  epoch 258, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 5.9903, Accuracy: 2055/10000 (20.5500%)
___Train Local_ResNet_18,  epoch 258, local model 44, internal_epoch   1,  Average loss: 0.0035, Accuracy: 403/436 (92.4312%)
___Train Local_ResNet_18,  epoch 258, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 423/436 (97.0183%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.5860, Accuracy: 5638/10000 (56.3800%)
___Train Local_ResNet_18,  epoch 258, local model 26, internal_epoch   1,  Average loss: 0.0036, Accuracy: 440/468 (94.0171%)
___Train Local_ResNet_18,  epoch 258, local model 26, internal_epoch   2,  Average loss: 0.0029, Accuracy: 447/468 (95.5128%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.6660, Accuracy: 5526/10000 (55.2600%)
___Train Local_ResNet_18,  epoch 258, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 258, local model 21, internal_epoch   2,  Average loss: 0.0014, Accuracy: 255/262 (97.3282%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 3.0711, Accuracy: 4006/10000 (40.0600%)
___Train Local_ResNet_18,  epoch 258, local model 79, internal_epoch   1,  Average loss: 0.0059, Accuracy: 135/154 (87.6623%)
___Train Local_ResNet_18,  epoch 258, local model 79, internal_epoch   2,  Average loss: 0.0004, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.0834, Accuracy: 6780/10000 (67.8000%)
___Train Local_ResNet_18,  epoch 258, local model 98, internal_epoch   1,  Average loss: 0.0035, Accuracy: 748/802 (93.2668%)
___Train Local_ResNet_18,  epoch 258, local model 98, internal_epoch   2,  Average loss: 0.0046, Accuracy: 730/802 (91.0224%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 3.1481, Accuracy: 4231/10000 (42.3100%)
___Train Local_ResNet_18,  epoch 258, local model 32, internal_epoch   1,  Average loss: 0.0020, Accuracy: 797/824 (96.7233%)
___Train Local_ResNet_18,  epoch 258, local model 32, internal_epoch   2,  Average loss: 0.0023, Accuracy: 789/824 (95.7524%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.2589, Accuracy: 5076/10000 (50.7600%)
time spent on training: 57.941298961639404
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [534, 555, 426, 234, 436, 468, 262, 154, 802, 824]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.76298742 1.         1.         0.         0.         0.87780566
 1.         0.64802445 0.64802445 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 258: Average loss: 0.6442, Accuracy: 7889/10000 (78.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 258: Average loss: 6.4749, Accuracy: 304/9000 (3.3778%)
Done in 98.63696789741516 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:259 choose agents : [81, 15, 55, 12, 47, 26, 82, 33, 64, 70]. Adversary List: []
___Train Local_ResNet_18,  epoch 259, local model 81, internal_epoch   1,  Average loss: 0.0059, Accuracy: 929/1034 (89.8453%)
___Train Local_ResNet_18,  epoch 259, local model 81, internal_epoch   2,  Average loss: 0.0085, Accuracy: 868/1034 (83.9458%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 5.7228, Accuracy: 2988/10000 (29.8800%)
___Train Local_ResNet_18,  epoch 259, local model 15, internal_epoch   1,  Average loss: 0.0092, Accuracy: 287/341 (84.1642%)
___Train Local_ResNet_18,  epoch 259, local model 15, internal_epoch   2,  Average loss: 0.0052, Accuracy: 317/341 (92.9619%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 8.1940, Accuracy: 1749/10000 (17.4900%)
___Train Local_ResNet_18,  epoch 259, local model 55, internal_epoch   1,  Average loss: 0.0047, Accuracy: 272/299 (90.9699%)
___Train Local_ResNet_18,  epoch 259, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 7.1963, Accuracy: 2239/10000 (22.3900%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   1,  Average loss: 0.0067, Accuracy: 861/977 (88.1269%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   2,  Average loss: 0.0122, Accuracy: 766/977 (78.4033%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 8.2789, Accuracy: 1724/10000 (17.2400%)
___Train Local_ResNet_18,  epoch 259, local model 47, internal_epoch   1,  Average loss: 0.0029, Accuracy: 614/654 (93.8838%)
___Train Local_ResNet_18,  epoch 259, local model 47, internal_epoch   2,  Average loss: 0.0036, Accuracy: 626/654 (95.7187%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 1.8529, Accuracy: 5494/10000 (54.9400%)
___Train Local_ResNet_18,  epoch 259, local model 26, internal_epoch   1,  Average loss: 0.0038, Accuracy: 439/468 (93.8034%)
___Train Local_ResNet_18,  epoch 259, local model 26, internal_epoch   2,  Average loss: 0.0060, Accuracy: 428/468 (91.4530%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.6186, Accuracy: 4790/10000 (47.9000%)
___Train Local_ResNet_18,  epoch 259, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 580/601 (96.5058%)
___Train Local_ResNet_18,  epoch 259, local model 82, internal_epoch   2,  Average loss: 0.0015, Accuracy: 583/601 (97.0050%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 1.9197, Accuracy: 5509/10000 (55.0900%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 259, local model 33, internal_epoch   1,  Average loss: 0.0058, Accuracy: 483/527 (91.6509%)
___Train Local_ResNet_18,  epoch 259, local model 33, internal_epoch   2,  Average loss: 0.0055, Accuracy: 480/527 (91.0816%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 7.5590, Accuracy: 2632/10000 (26.3200%)
___Train Local_ResNet_18,  epoch 259, local model 64, internal_epoch   1,  Average loss: 0.0037, Accuracy: 640/686 (93.2945%)
___Train Local_ResNet_18,  epoch 259, local model 64, internal_epoch   2,  Average loss: 0.0035, Accuracy: 636/686 (92.7114%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.5846, Accuracy: 4683/10000 (46.8300%)
___Train Local_ResNet_18,  epoch 259, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 564/610 (92.4590%)
___Train Local_ResNet_18,  epoch 259, local model 70, internal_epoch   2,  Average loss: 0.0015, Accuracy: 591/610 (96.8852%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.9172, Accuracy: 3690/10000 (36.9000%)
time spent on training: 67.93758893013
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08504114894303695  data num: [1034, 341, 299, 977, 654, 468, 601, 527, 686, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.006643839761174762
[foolsgold agg] wv: [0.         0.41720021 1.         0.         1.         1.
 0.41720021 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 259: Average loss: 0.6435, Accuracy: 7884/10000 (78.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 259: Average loss: 6.4808, Accuracy: 302/9000 (3.3556%)
Done in 106.96010494232178 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:260 choose agents : [62, 25, 12, 16, 22, 72, 58, 28, 15, 29]. Adversary List: []
___Train Local_ResNet_18,  epoch 260, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 348/358 (97.2067%)
___Train Local_ResNet_18,  epoch 260, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 357/358 (99.7207%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 1.1144, Accuracy: 6680/10000 (66.8000%)
___Train Local_ResNet_18,  epoch 260, local model 25, internal_epoch   1,  Average loss: 0.0037, Accuracy: 510/545 (93.5780%)
___Train Local_ResNet_18,  epoch 260, local model 25, internal_epoch   2,  Average loss: 0.0014, Accuracy: 534/545 (97.9817%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 2.6946, Accuracy: 4422/10000 (44.2200%)
___Train Local_ResNet_18,  epoch 260, local model 12, internal_epoch   1,  Average loss: 0.0064, Accuracy: 874/977 (89.4575%)
___Train Local_ResNet_18,  epoch 260, local model 12, internal_epoch   2,  Average loss: 0.0113, Accuracy: 775/977 (79.3245%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 12.3052, Accuracy: 1863/10000 (18.6300%)
___Train Local_ResNet_18,  epoch 260, local model 16, internal_epoch   1,  Average loss: 0.0037, Accuracy: 719/773 (93.0142%)
___Train Local_ResNet_18,  epoch 260, local model 16, internal_epoch   2,  Average loss: 0.0064, Accuracy: 675/773 (87.3221%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 3.3011, Accuracy: 4097/10000 (40.9700%)
___Train Local_ResNet_18,  epoch 260, local model 22, internal_epoch   1,  Average loss: 0.0043, Accuracy: 448/494 (90.6883%)
___Train Local_ResNet_18,  epoch 260, local model 22, internal_epoch   2,  Average loss: 0.0016, Accuracy: 479/494 (96.9636%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 4.2024, Accuracy: 3097/10000 (30.9700%)
___Train Local_ResNet_18,  epoch 260, local model 72, internal_epoch   1,  Average loss: 0.0086, Accuracy: 520/618 (84.1424%)
___Train Local_ResNet_18,  epoch 260, local model 72, internal_epoch   2,  Average loss: 0.0070, Accuracy: 533/618 (86.2460%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 11.4472, Accuracy: 2137/10000 (21.3700%)
___Train Local_ResNet_18,  epoch 260, local model 58, internal_epoch   1,  Average loss: 0.0085, Accuracy: 192/234 (82.0513%)
___Train Local_ResNet_18,  epoch 260, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 7.0127, Accuracy: 1893/10000 (18.9300%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 410/423 (96.9267%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   2,  Average loss: 0.0004, Accuracy: 423/423 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 1.7557, Accuracy: 5782/10000 (57.8200%)
___Train Local_ResNet_18,  epoch 260, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 260, local model 15, internal_epoch   2,  Average loss: 0.0023, Accuracy: 321/341 (94.1349%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 2.8863, Accuracy: 4277/10000 (42.7700%)
___Train Local_ResNet_18,  epoch 260, local model 29, internal_epoch   1,  Average loss: 0.0045, Accuracy: 777/848 (91.6274%)
___Train Local_ResNet_18,  epoch 260, local model 29, internal_epoch   2,  Average loss: 0.0083, Accuracy: 731/848 (86.2028%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 5.8614, Accuracy: 2811/10000 (28.1100%)
time spent on training: 53.152247190475464
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [358, 545, 977, 773, 494, 618, 234, 423, 341, 848]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         1.         0.67891512 0.
 0.         0.67891512 0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 260: Average loss: 0.6428, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 260: Average loss: 6.4680, Accuracy: 307/9000 (3.4111%)
Done in 94.02300786972046 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:261 choose agents : [61, 83, 69, 20, 34, 8, 28, 50, 93, 92]. Adversary List: []
___Train Local_ResNet_18,  epoch 261, local model 61, internal_epoch   1,  Average loss: 0.0043, Accuracy: 546/590 (92.5424%)
___Train Local_ResNet_18,  epoch 261, local model 61, internal_epoch   2,  Average loss: 0.0107, Accuracy: 492/590 (83.3898%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.4795, Accuracy: 2550/10000 (25.5000%)
___Train Local_ResNet_18,  epoch 261, local model 83, internal_epoch   1,  Average loss: 0.0020, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 261, local model 83, internal_epoch   2,  Average loss: 0.0005, Accuracy: 365/366 (99.7268%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 1.5210, Accuracy: 6013/10000 (60.1300%)
___Train Local_ResNet_18,  epoch 261, local model 69, internal_epoch   1,  Average loss: 0.0062, Accuracy: 194/216 (89.8148%)
___Train Local_ResNet_18,  epoch 261, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 6.7383, Accuracy: 1759/10000 (17.5900%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   1,  Average loss: 0.0072, Accuracy: 299/362 (82.5967%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 9.1245, Accuracy: 1705/10000 (17.0500%)
___Train Local_ResNet_18,  epoch 261, local model 34, internal_epoch   1,  Average loss: 0.0051, Accuracy: 313/349 (89.6848%)
___Train Local_ResNet_18,  epoch 261, local model 34, internal_epoch   2,  Average loss: 0.0022, Accuracy: 337/349 (96.5616%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 3.9643, Accuracy: 3631/10000 (36.3100%)
___Train Local_ResNet_18,  epoch 261, local model 8, internal_epoch   1,  Average loss: 0.0033, Accuracy: 503/534 (94.1948%)
___Train Local_ResNet_18,  epoch 261, local model 8, internal_epoch   2,  Average loss: 0.0031, Accuracy: 512/534 (95.8801%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.6773, Accuracy: 4321/10000 (43.2100%)
___Train Local_ResNet_18,  epoch 261, local model 28, internal_epoch   1,  Average loss: 0.0018, Accuracy: 411/423 (97.1631%)
___Train Local_ResNet_18,  epoch 261, local model 28, internal_epoch   2,  Average loss: 0.0005, Accuracy: 421/423 (99.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 1.5368, Accuracy: 5996/10000 (59.9600%)
___Train Local_ResNet_18,  epoch 261, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 385/401 (96.0100%)
___Train Local_ResNet_18,  epoch 261, local model 50, internal_epoch   2,  Average loss: 0.0009, Accuracy: 392/401 (97.7556%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.0450, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 261, local model 93, internal_epoch   1,  Average loss: 0.0034, Accuracy: 552/584 (94.5205%)
___Train Local_ResNet_18,  epoch 261, local model 93, internal_epoch   2,  Average loss: 0.0077, Accuracy: 520/584 (89.0411%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.8933, Accuracy: 2716/10000 (27.1600%)
___Train Local_ResNet_18,  epoch 261, local model 92, internal_epoch   1,  Average loss: 0.0053, Accuracy: 714/796 (89.6985%)
___Train Local_ResNet_18,  epoch 261, local model 92, internal_epoch   2,  Average loss: 0.0059, Accuracy: 702/796 (88.1910%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 3.3457, Accuracy: 3848/10000 (38.4800%)
time spent on training: 52.52648878097534
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [590, 366, 216, 362, 349, 534, 423, 401, 584, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.47667879 0.         0.         1.
 1.         0.47667879 0.5011563  0.5011563 ]
___Test Target_ResNet_18 poisoned: False, epoch: 261: Average loss: 0.6420, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 261: Average loss: 6.4605, Accuracy: 308/9000 (3.4222%)
Done in 90.41249895095825 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:262 choose agents : [60, 95, 5, 2, 44, 0, 6, 41, 19, 53]. Adversary List: []
___Train Local_ResNet_18,  epoch 262, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 262, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.7138, Accuracy: 5449/10000 (54.4900%)
___Train Local_ResNet_18,  epoch 262, local model 95, internal_epoch   1,  Average loss: 0.0084, Accuracy: 480/569 (84.3585%)
___Train Local_ResNet_18,  epoch 262, local model 95, internal_epoch   2,  Average loss: 0.0052, Accuracy: 512/569 (89.9824%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 8.7717, Accuracy: 2059/10000 (20.5900%)
___Train Local_ResNet_18,  epoch 262, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 349/365 (95.6164%)
___Train Local_ResNet_18,  epoch 262, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 362/365 (99.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.1923, Accuracy: 6594/10000 (65.9400%)
___Train Local_ResNet_18,  epoch 262, local model 2, internal_epoch   1,  Average loss: 0.0083, Accuracy: 392/461 (85.0325%)
___Train Local_ResNet_18,  epoch 262, local model 2, internal_epoch   2,  Average loss: 0.0108, Accuracy: 377/461 (81.7787%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 8.0052, Accuracy: 2243/10000 (22.4300%)
___Train Local_ResNet_18,  epoch 262, local model 44, internal_epoch   1,  Average loss: 0.0034, Accuracy: 408/436 (93.5780%)
___Train Local_ResNet_18,  epoch 262, local model 44, internal_epoch   2,  Average loss: 0.0013, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.3006, Accuracy: 6257/10000 (62.5700%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   1,  Average loss: 0.0054, Accuracy: 325/367 (88.5559%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   2,  Average loss: 0.0027, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 5.1028, Accuracy: 2498/10000 (24.9800%)
___Train Local_ResNet_18,  epoch 262, local model 6, internal_epoch   1,  Average loss: 0.0032, Accuracy: 490/520 (94.2308%)
___Train Local_ResNet_18,  epoch 262, local model 6, internal_epoch   2,  Average loss: 0.0026, Accuracy: 496/520 (95.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 2.4126, Accuracy: 4610/10000 (46.1000%)
___Train Local_ResNet_18,  epoch 262, local model 41, internal_epoch   1,  Average loss: 0.0064, Accuracy: 447/513 (87.1345%)
___Train Local_ResNet_18,  epoch 262, local model 41, internal_epoch   2,  Average loss: 0.0034, Accuracy: 473/513 (92.2027%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 3.1627, Accuracy: 3780/10000 (37.8000%)
___Train Local_ResNet_18,  epoch 262, local model 19, internal_epoch   1,  Average loss: 0.0130, Accuracy: 132/173 (76.3006%)
___Train Local_ResNet_18,  epoch 262, local model 19, internal_epoch   2,  Average loss: 0.0019, Accuracy: 168/173 (97.1098%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 4.9328, Accuracy: 3573/10000 (35.7300%)
___Train Local_ResNet_18,  epoch 262, local model 53, internal_epoch   1,  Average loss: 0.0027, Accuracy: 593/625 (94.8800%)
___Train Local_ResNet_18,  epoch 262, local model 53, internal_epoch   2,  Average loss: 0.0018, Accuracy: 603/625 (96.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 3.2592, Accuracy: 3936/10000 (39.3600%)
time spent on training: 51.36527132987976
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [284, 569, 365, 461, 436, 367, 520, 513, 173, 625]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         1.         0.36476705 0.         0.1818194
 0.36476705 0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 262: Average loss: 0.6419, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 262: Average loss: 6.4432, Accuracy: 308/9000 (3.4222%)
Done in 90.2848219871521 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:263 choose agents : [33, 50, 21, 14, 79, 18, 71, 99, 97, 72]. Adversary List: []
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 263, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 494/527 (93.7381%)
___Train Local_ResNet_18,  epoch 263, local model 33, internal_epoch   2,  Average loss: 0.0105, Accuracy: 446/527 (84.6300%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 3.3117, Accuracy: 4198/10000 (41.9800%)
___Train Local_ResNet_18,  epoch 263, local model 50, internal_epoch   1,  Average loss: 0.0021, Accuracy: 389/401 (97.0075%)
___Train Local_ResNet_18,  epoch 263, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 396/401 (98.7531%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 2.2919, Accuracy: 4999/10000 (49.9900%)
___Train Local_ResNet_18,  epoch 263, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 263, local model 21, internal_epoch   2,  Average loss: 0.0038, Accuracy: 255/262 (97.3282%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 4.6125, Accuracy: 3245/10000 (32.4500%)
___Train Local_ResNet_18,  epoch 263, local model 14, internal_epoch   1,  Average loss: 0.0070, Accuracy: 273/318 (85.8491%)
___Train Local_ResNet_18,  epoch 263, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 307/318 (96.5409%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 12.4775, Accuracy: 1699/10000 (16.9900%)
___Train Local_ResNet_18,  epoch 263, local model 79, internal_epoch   1,  Average loss: 0.0052, Accuracy: 141/154 (91.5584%)
___Train Local_ResNet_18,  epoch 263, local model 79, internal_epoch   2,  Average loss: 0.0004, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 1.0140, Accuracy: 7001/10000 (70.0100%)
___Train Local_ResNet_18,  epoch 263, local model 18, internal_epoch   1,  Average loss: 0.0059, Accuracy: 368/386 (95.3368%)
___Train Local_ResNet_18,  epoch 263, local model 18, internal_epoch   2,  Average loss: 0.0102, Accuracy: 327/386 (84.7150%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 22.3886, Accuracy: 1038/10000 (10.3800%)
___Train Local_ResNet_18,  epoch 263, local model 71, internal_epoch   1,  Average loss: 0.0040, Accuracy: 1076/1166 (92.2813%)
___Train Local_ResNet_18,  epoch 263, local model 71, internal_epoch   2,  Average loss: 0.0073, Accuracy: 1014/1166 (86.9640%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 10.8026, Accuracy: 2704/10000 (27.0400%)
___Train Local_ResNet_18,  epoch 263, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 359/391 (91.8159%)
___Train Local_ResNet_18,  epoch 263, local model 99, internal_epoch   2,  Average loss: 0.0017, Accuracy: 381/391 (97.4425%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 4.1352, Accuracy: 3178/10000 (31.7800%)
___Train Local_ResNet_18,  epoch 263, local model 97, internal_epoch   1,  Average loss: 0.0030, Accuracy: 389/418 (93.0622%)
___Train Local_ResNet_18,  epoch 263, local model 97, internal_epoch   2,  Average loss: 0.0021, Accuracy: 404/418 (96.6507%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 2.4424, Accuracy: 4792/10000 (47.9200%)
___Train Local_ResNet_18,  epoch 263, local model 72, internal_epoch   1,  Average loss: 0.0103, Accuracy: 505/618 (81.7152%)
___Train Local_ResNet_18,  epoch 263, local model 72, internal_epoch   2,  Average loss: 0.0057, Accuracy: 553/618 (89.4822%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 33.2890, Accuracy: 1087/10000 (10.8700%)
time spent on training: 62.329184770584106
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11355311355311355  data num: [527, 401, 262, 318, 154, 386, 1166, 391, 418, 618]
[foolsgold agg] considering poison per batch poison_fraction: 0.008871336996336996
[foolsgold agg] wv: [1.         0.         0.29583216 1.         1.         1.
 0.43676516 0.09049349 0.         0.09049349]
___Test Target_ResNet_18 poisoned: False, epoch: 263: Average loss: 0.6424, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 263: Average loss: 6.4592, Accuracy: 308/9000 (3.4222%)
Done in 102.44842219352722 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:264 choose agents : [42, 71, 89, 16, 50, 15, 3, 85, 25, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 264, local model 42, internal_epoch   1,  Average loss: 0.0040, Accuracy: 183/198 (92.4242%)
___Train Local_ResNet_18,  epoch 264, local model 42, internal_epoch   2,  Average loss: 0.0013, Accuracy: 198/198 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 2.4056, Accuracy: 4567/10000 (45.6700%)
___Train Local_ResNet_18,  epoch 264, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 1074/1166 (92.1098%)
___Train Local_ResNet_18,  epoch 264, local model 71, internal_epoch   2,  Average loss: 0.0078, Accuracy: 977/1166 (83.7907%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 7.5081, Accuracy: 2866/10000 (28.6600%)
___Train Local_ResNet_18,  epoch 264, local model 89, internal_epoch   1,  Average loss: 0.0070, Accuracy: 359/413 (86.9249%)
___Train Local_ResNet_18,  epoch 264, local model 89, internal_epoch   2,  Average loss: 0.0035, Accuracy: 388/413 (93.9467%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 3.9532, Accuracy: 3119/10000 (31.1900%)
___Train Local_ResNet_18,  epoch 264, local model 16, internal_epoch   1,  Average loss: 0.0034, Accuracy: 730/773 (94.4373%)
___Train Local_ResNet_18,  epoch 264, local model 16, internal_epoch   2,  Average loss: 0.0168, Accuracy: 608/773 (78.6546%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 62.4713, Accuracy: 1461/10000 (14.6100%)
___Train Local_ResNet_18,  epoch 264, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 264, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 1.8752, Accuracy: 5476/10000 (54.7600%)
___Train Local_ResNet_18,  epoch 264, local model 15, internal_epoch   1,  Average loss: 0.0095, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 264, local model 15, internal_epoch   2,  Average loss: 0.0068, Accuracy: 316/341 (92.6686%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 8.0735, Accuracy: 1770/10000 (17.7000%)
___Train Local_ResNet_18,  epoch 264, local model 3, internal_epoch   1,  Average loss: 0.0049, Accuracy: 704/780 (90.2564%)
___Train Local_ResNet_18,  epoch 264, local model 3, internal_epoch   2,  Average loss: 0.0094, Accuracy: 644/780 (82.5641%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 8.5817, Accuracy: 2716/10000 (27.1600%)
___Train Local_ResNet_18,  epoch 264, local model 85, internal_epoch   1,  Average loss: 0.0061, Accuracy: 321/364 (88.1868%)
___Train Local_ResNet_18,  epoch 264, local model 85, internal_epoch   2,  Average loss: 0.0022, Accuracy: 348/364 (95.6044%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 4.4422, Accuracy: 2995/10000 (29.9500%)
___Train Local_ResNet_18,  epoch 264, local model 25, internal_epoch   1,  Average loss: 0.0034, Accuracy: 508/545 (93.2110%)
___Train Local_ResNet_18,  epoch 264, local model 25, internal_epoch   2,  Average loss: 0.0021, Accuracy: 525/545 (96.3303%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 3.8132, Accuracy: 3933/10000 (39.3300%)
___Train Local_ResNet_18,  epoch 264, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 717/756 (94.8413%)
___Train Local_ResNet_18,  epoch 264, local model 38, internal_epoch   2,  Average loss: 0.0032, Accuracy: 711/756 (94.0476%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 2.0850, Accuracy: 5133/10000 (51.3300%)
time spent on training: 56.71312665939331
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [198, 1166, 413, 773, 401, 341, 780, 364, 545, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 1. 0. 0. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 264: Average loss: 0.6420, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 264: Average loss: 6.4799, Accuracy: 310/9000 (3.4444%)
Done in 97.37751579284668 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:265 choose agents : [60, 76, 30, 77, 54, 52, 84, 88, 82, 96]. Adversary List: []
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   1,  Average loss: 0.0034, Accuracy: 266/284 (93.6620%)
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   2,  Average loss: 0.0006, Accuracy: 284/284 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.6137, Accuracy: 4557/10000 (45.5700%)
___Train Local_ResNet_18,  epoch 265, local model 76, internal_epoch   1,  Average loss: 0.0349, Accuracy: 62/65 (95.3846%)
___Train Local_ResNet_18,  epoch 265, local model 76, internal_epoch   2,  Average loss: 0.0055, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.4769, Accuracy: 6030/10000 (60.3000%)
___Train Local_ResNet_18,  epoch 265, local model 30, internal_epoch   1,  Average loss: 0.0050, Accuracy: 317/337 (94.0653%)
___Train Local_ResNet_18,  epoch 265, local model 30, internal_epoch   2,  Average loss: 0.0042, Accuracy: 317/337 (94.0653%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.3073, Accuracy: 3445/10000 (34.4500%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 265, local model 77, internal_epoch   1,  Average loss: 0.0022, Accuracy: 480/496 (96.7742%)
___Train Local_ResNet_18,  epoch 265, local model 77, internal_epoch   2,  Average loss: 0.0009, Accuracy: 491/496 (98.9919%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.3610, Accuracy: 6067/10000 (60.6700%)
___Train Local_ResNet_18,  epoch 265, local model 54, internal_epoch   1,  Average loss: 0.0033, Accuracy: 413/440 (93.8636%)
___Train Local_ResNet_18,  epoch 265, local model 54, internal_epoch   2,  Average loss: 0.0013, Accuracy: 427/440 (97.0455%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.3781, Accuracy: 4019/10000 (40.1900%)
___Train Local_ResNet_18,  epoch 265, local model 52, internal_epoch   1,  Average loss: 0.0060, Accuracy: 188/214 (87.8505%)
___Train Local_ResNet_18,  epoch 265, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 213/214 (99.5327%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.5318, Accuracy: 3790/10000 (37.9000%)
___Train Local_ResNet_18,  epoch 265, local model 84, internal_epoch   1,  Average loss: 0.0021, Accuracy: 1011/1053 (96.0114%)
___Train Local_ResNet_18,  epoch 265, local model 84, internal_epoch   2,  Average loss: 0.0029, Accuracy: 996/1053 (94.5869%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.5147, Accuracy: 4695/10000 (46.9500%)
___Train Local_ResNet_18,  epoch 265, local model 88, internal_epoch   1,  Average loss: 0.0068, Accuracy: 383/447 (85.6823%)
___Train Local_ResNet_18,  epoch 265, local model 88, internal_epoch   2,  Average loss: 0.0030, Accuracy: 414/447 (92.6174%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 4.0940, Accuracy: 3230/10000 (32.3000%)
___Train Local_ResNet_18,  epoch 265, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 583/601 (97.0050%)
___Train Local_ResNet_18,  epoch 265, local model 82, internal_epoch   2,  Average loss: 0.0015, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.7716, Accuracy: 5604/10000 (56.0400%)
___Train Local_ResNet_18,  epoch 265, local model 96, internal_epoch   1,  Average loss: 0.0029, Accuracy: 667/708 (94.2090%)
___Train Local_ResNet_18,  epoch 265, local model 96, internal_epoch   2,  Average loss: 0.0032, Accuracy: 672/708 (94.9153%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 5.0586, Accuracy: 3175/10000 (31.7500%)
time spent on training: 59.732348680496216
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10678148546824542  data num: [284, 65, 337, 496, 440, 214, 1053, 447, 601, 708]
[foolsgold agg] considering poison per batch poison_fraction: 0.008342303552206673
[foolsgold agg] wv: [0.         0.         0.         1.         1.         0.67840181
 0.67840181 0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 265: Average loss: 0.6432, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 265: Average loss: 6.4715, Accuracy: 309/9000 (3.4333%)
Done in 99.83832907676697 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:266 choose agents : [84, 78, 54, 95, 6, 36, 46, 81, 13, 55]. Adversary List: []
___Train Local_ResNet_18,  epoch 266, local model 84, internal_epoch   1,  Average loss: 0.0027, Accuracy: 1001/1053 (95.0617%)
___Train Local_ResNet_18,  epoch 266, local model 84, internal_epoch   2,  Average loss: 0.0043, Accuracy: 960/1053 (91.1681%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.2394, Accuracy: 5270/10000 (52.7000%)
___Train Local_ResNet_18,  epoch 266, local model 78, internal_epoch   1,  Average loss: 0.0044, Accuracy: 230/255 (90.1961%)
___Train Local_ResNet_18,  epoch 266, local model 78, internal_epoch   2,  Average loss: 0.0006, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.2556, Accuracy: 4856/10000 (48.5600%)
___Train Local_ResNet_18,  epoch 266, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 409/440 (92.9545%)
___Train Local_ResNet_18,  epoch 266, local model 54, internal_epoch   2,  Average loss: 0.0010, Accuracy: 430/440 (97.7273%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.4127, Accuracy: 3974/10000 (39.7400%)
___Train Local_ResNet_18,  epoch 266, local model 95, internal_epoch   1,  Average loss: 0.0084, Accuracy: 470/569 (82.6011%)
___Train Local_ResNet_18,  epoch 266, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 510/569 (89.6309%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 7.7221, Accuracy: 2249/10000 (22.4900%)
___Train Local_ResNet_18,  epoch 266, local model 6, internal_epoch   1,  Average loss: 0.0046, Accuracy: 478/520 (91.9231%)
___Train Local_ResNet_18,  epoch 266, local model 6, internal_epoch   2,  Average loss: 0.0113, Accuracy: 437/520 (84.0385%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 6.0915, Accuracy: 2087/10000 (20.8700%)
___Train Local_ResNet_18,  epoch 266, local model 36, internal_epoch   1,  Average loss: 0.0050, Accuracy: 775/849 (91.2839%)
___Train Local_ResNet_18,  epoch 266, local model 36, internal_epoch   2,  Average loss: 0.0119, Accuracy: 665/849 (78.3274%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 18.5138, Accuracy: 1350/10000 (13.5000%)
___Train Local_ResNet_18,  epoch 266, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 591/601 (98.3361%)
___Train Local_ResNet_18,  epoch 266, local model 46, internal_epoch   2,  Average loss: 0.0021, Accuracy: 582/601 (96.8386%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 1.9220, Accuracy: 5215/10000 (52.1500%)
___Train Local_ResNet_18,  epoch 266, local model 81, internal_epoch   1,  Average loss: 0.0063, Accuracy: 921/1034 (89.0716%)
___Train Local_ResNet_18,  epoch 266, local model 81, internal_epoch   2,  Average loss: 0.0119, Accuracy: 796/1034 (76.9826%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 44.1299, Accuracy: 1877/10000 (18.7700%)
___Train Local_ResNet_18,  epoch 266, local model 13, internal_epoch   1,  Average loss: 0.0051, Accuracy: 550/620 (88.7097%)
___Train Local_ResNet_18,  epoch 266, local model 13, internal_epoch   2,  Average loss: 0.0033, Accuracy: 582/620 (93.8710%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.8840, Accuracy: 4261/10000 (42.6100%)
___Train Local_ResNet_18,  epoch 266, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 266, local model 55, internal_epoch   2,  Average loss: 0.0004, Accuracy: 299/299 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 8.7467, Accuracy: 2004/10000 (20.0400%)
time spent on training: 54.54600763320923
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1053, 255, 440, 569, 520, 849, 601, 1034, 620, 299]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.68547314 1.         1.         1.
 1.         1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 266: Average loss: 0.6433, Accuracy: 7884/10000 (78.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 266: Average loss: 6.4774, Accuracy: 310/9000 (3.4444%)
Done in 92.6470115184784 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:267 choose agents : [67, 80, 33, 13, 16, 30, 47, 50, 87, 61]. Adversary List: []
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   1,  Average loss: 0.0033, Accuracy: 792/842 (94.0618%)
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   2,  Average loss: 0.0117, Accuracy: 682/842 (80.9976%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 16.6543, Accuracy: 1923/10000 (19.2300%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   1,  Average loss: 0.0052, Accuracy: 323/363 (88.9807%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.7089, Accuracy: 3549/10000 (35.4900%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 267, local model 33, internal_epoch   1,  Average loss: 0.0047, Accuracy: 487/527 (92.4099%)
___Train Local_ResNet_18,  epoch 267, local model 33, internal_epoch   2,  Average loss: 0.0039, Accuracy: 485/527 (92.0304%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.5897, Accuracy: 2840/10000 (28.4000%)
___Train Local_ResNet_18,  epoch 267, local model 13, internal_epoch   1,  Average loss: 0.0065, Accuracy: 546/620 (88.0645%)
___Train Local_ResNet_18,  epoch 267, local model 13, internal_epoch   2,  Average loss: 0.0039, Accuracy: 570/620 (91.9355%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 5.9053, Accuracy: 2822/10000 (28.2200%)
___Train Local_ResNet_18,  epoch 267, local model 16, internal_epoch   1,  Average loss: 0.0030, Accuracy: 729/773 (94.3079%)
___Train Local_ResNet_18,  epoch 267, local model 16, internal_epoch   2,  Average loss: 0.0075, Accuracy: 696/773 (90.0388%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 5.5935, Accuracy: 2702/10000 (27.0200%)
___Train Local_ResNet_18,  epoch 267, local model 30, internal_epoch   1,  Average loss: 0.0047, Accuracy: 308/337 (91.3947%)
___Train Local_ResNet_18,  epoch 267, local model 30, internal_epoch   2,  Average loss: 0.0021, Accuracy: 330/337 (97.9228%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 2.9137, Accuracy: 3804/10000 (38.0400%)
___Train Local_ResNet_18,  epoch 267, local model 47, internal_epoch   1,  Average loss: 0.0030, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 267, local model 47, internal_epoch   2,  Average loss: 0.0041, Accuracy: 614/654 (93.8838%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 2.5054, Accuracy: 4840/10000 (48.4000%)
___Train Local_ResNet_18,  epoch 267, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 385/401 (96.0100%)
___Train Local_ResNet_18,  epoch 267, local model 50, internal_epoch   2,  Average loss: 0.0021, Accuracy: 388/401 (96.7581%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 1.9416, Accuracy: 5181/10000 (51.8100%)
___Train Local_ResNet_18,  epoch 267, local model 87, internal_epoch   1,  Average loss: 0.0084, Accuracy: 340/397 (85.6423%)
___Train Local_ResNet_18,  epoch 267, local model 87, internal_epoch   2,  Average loss: 0.0071, Accuracy: 352/397 (88.6650%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 3.1987, Accuracy: 3786/10000 (37.8600%)
___Train Local_ResNet_18,  epoch 267, local model 61, internal_epoch   1,  Average loss: 0.0037, Accuracy: 554/590 (93.8983%)
___Train Local_ResNet_18,  epoch 267, local model 61, internal_epoch   2,  Average loss: 0.0056, Accuracy: 544/590 (92.2034%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.4872, Accuracy: 2900/10000 (29.0000%)
time spent on training: 60.61167883872986
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09574854651162791  data num: [842, 363, 527, 620, 773, 337, 654, 401, 397, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.00748035519622093
[foolsgold agg] wv: [0.60999518 0.         1.         0.08609343 1.         0.82058491
 0.         1.         0.82058491 0.60999518]
___Test Target_ResNet_18 poisoned: False, epoch: 267: Average loss: 0.6416, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 267: Average loss: 6.4587, Accuracy: 314/9000 (3.4889%)
Done in 99.0906982421875 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:268 choose agents : [42, 8, 37, 58, 30, 34, 82, 0, 53, 74]. Adversary List: []
___Train Local_ResNet_18,  epoch 268, local model 42, internal_epoch   1,  Average loss: 0.0052, Accuracy: 183/198 (92.4242%)
___Train Local_ResNet_18,  epoch 268, local model 42, internal_epoch   2,  Average loss: 0.0155, Accuracy: 187/198 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 4.5187, Accuracy: 3295/10000 (32.9500%)
___Train Local_ResNet_18,  epoch 268, local model 8, internal_epoch   1,  Average loss: 0.0027, Accuracy: 511/534 (95.6929%)
___Train Local_ResNet_18,  epoch 268, local model 8, internal_epoch   2,  Average loss: 0.0014, Accuracy: 520/534 (97.3783%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.2930, Accuracy: 4619/10000 (46.1900%)
___Train Local_ResNet_18,  epoch 268, local model 37, internal_epoch   1,  Average loss: 0.0066, Accuracy: 631/725 (87.0345%)
___Train Local_ResNet_18,  epoch 268, local model 37, internal_epoch   2,  Average loss: 0.0127, Accuracy: 581/725 (80.1379%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.7985, Accuracy: 2749/10000 (27.4900%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   1,  Average loss: 0.0084, Accuracy: 194/234 (82.9060%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.3382, Accuracy: 2100/10000 (21.0000%)
___Train Local_ResNet_18,  epoch 268, local model 30, internal_epoch   1,  Average loss: 0.0046, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 268, local model 30, internal_epoch   2,  Average loss: 0.0039, Accuracy: 325/337 (96.4392%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.2730, Accuracy: 3607/10000 (36.0700%)
___Train Local_ResNet_18,  epoch 268, local model 34, internal_epoch   1,  Average loss: 0.0046, Accuracy: 318/349 (91.1175%)
___Train Local_ResNet_18,  epoch 268, local model 34, internal_epoch   2,  Average loss: 0.0018, Accuracy: 341/349 (97.7077%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.9209, Accuracy: 3882/10000 (38.8200%)
___Train Local_ResNet_18,  epoch 268, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 579/601 (96.3394%)
___Train Local_ResNet_18,  epoch 268, local model 82, internal_epoch   2,  Average loss: 0.0012, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 1.9107, Accuracy: 5469/10000 (54.6900%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   1,  Average loss: 0.0050, Accuracy: 329/367 (89.6458%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   2,  Average loss: 0.0015, Accuracy: 358/367 (97.5477%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.4220, Accuracy: 2341/10000 (23.4100%)
___Train Local_ResNet_18,  epoch 268, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 575/625 (92.0000%)
___Train Local_ResNet_18,  epoch 268, local model 53, internal_epoch   2,  Average loss: 0.0035, Accuracy: 579/625 (92.6400%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.2017, Accuracy: 4876/10000 (48.7600%)
___Train Local_ResNet_18,  epoch 268, local model 74, internal_epoch   1,  Average loss: 0.0045, Accuracy: 425/469 (90.6183%)
___Train Local_ResNet_18,  epoch 268, local model 74, internal_epoch   2,  Average loss: 0.0019, Accuracy: 454/469 (96.8017%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.6055, Accuracy: 4473/10000 (44.7300%)
time spent on training: 55.889243602752686
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [198, 534, 725, 234, 337, 349, 601, 367, 625, 469]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         0.76663708 0.28471587 0.83073994
 1.         0.72175787 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 268: Average loss: 0.6412, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 268: Average loss: 6.4390, Accuracy: 321/9000 (3.5667%)
Done in 94.39062857627869 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:269 choose agents : [63, 59, 29, 16, 50, 97, 34, 65, 4, 86]. Adversary List: []
___Train Local_ResNet_18,  epoch 269, local model 63, internal_epoch   1,  Average loss: 0.0018, Accuracy: 727/752 (96.6755%)
___Train Local_ResNet_18,  epoch 269, local model 63, internal_epoch   2,  Average loss: 0.0014, Accuracy: 730/752 (97.0745%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 1.4074, Accuracy: 6137/10000 (61.3700%)
___Train Local_ResNet_18,  epoch 269, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 607/642 (94.5483%)
___Train Local_ResNet_18,  epoch 269, local model 59, internal_epoch   2,  Average loss: 0.0103, Accuracy: 543/642 (84.5794%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 16.9802, Accuracy: 1310/10000 (13.1000%)
___Train Local_ResNet_18,  epoch 269, local model 29, internal_epoch   1,  Average loss: 0.0051, Accuracy: 771/848 (90.9198%)
___Train Local_ResNet_18,  epoch 269, local model 29, internal_epoch   2,  Average loss: 0.0083, Accuracy: 740/848 (87.2642%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 14.9803, Accuracy: 1365/10000 (13.6500%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   1,  Average loss: 0.0042, Accuracy: 732/773 (94.6960%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   2,  Average loss: 0.0174, Accuracy: 527/773 (68.1759%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 24.9706, Accuracy: 999/10000 (9.9900%)
___Train Local_ResNet_18,  epoch 269, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 390/401 (97.2569%)
___Train Local_ResNet_18,  epoch 269, local model 50, internal_epoch   2,  Average loss: 0.0029, Accuracy: 382/401 (95.2618%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.9238, Accuracy: 4389/10000 (43.8900%)
___Train Local_ResNet_18,  epoch 269, local model 97, internal_epoch   1,  Average loss: 0.0028, Accuracy: 392/418 (93.7799%)
___Train Local_ResNet_18,  epoch 269, local model 97, internal_epoch   2,  Average loss: 0.0014, Accuracy: 411/418 (98.3254%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.2550, Accuracy: 4933/10000 (49.3300%)
___Train Local_ResNet_18,  epoch 269, local model 34, internal_epoch   1,  Average loss: 0.0050, Accuracy: 316/349 (90.5444%)
___Train Local_ResNet_18,  epoch 269, local model 34, internal_epoch   2,  Average loss: 0.0012, Accuracy: 341/349 (97.7077%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 3.3365, Accuracy: 3854/10000 (38.5400%)
___Train Local_ResNet_18,  epoch 269, local model 65, internal_epoch   1,  Average loss: 0.0033, Accuracy: 295/314 (93.9490%)
___Train Local_ResNet_18,  epoch 269, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 314/314 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.4342, Accuracy: 4496/10000 (44.9600%)
___Train Local_ResNet_18,  epoch 269, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 502/557 (90.1257%)
___Train Local_ResNet_18,  epoch 269, local model 4, internal_epoch   2,  Average loss: 0.0031, Accuracy: 520/557 (93.3573%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 3.0011, Accuracy: 4548/10000 (45.4800%)
___Train Local_ResNet_18,  epoch 269, local model 86, internal_epoch   1,  Average loss: 0.0041, Accuracy: 199/212 (93.8679%)
___Train Local_ResNet_18,  epoch 269, local model 86, internal_epoch   2,  Average loss: 0.0023, Accuracy: 203/212 (95.7547%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 1.9761, Accuracy: 5472/10000 (54.7200%)
time spent on training: 54.022093534469604
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [752, 642, 848, 773, 401, 418, 349, 314, 557, 212]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.9646169  1.         1.         0.         0.
 0.9646169  1.         0.71966447 0.71966447]
___Test Target_ResNet_18 poisoned: False, epoch: 269: Average loss: 0.6407, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 269: Average loss: 6.4622, Accuracy: 319/9000 (3.5444%)
Done in 92.93193316459656 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:270 choose agents : [12, 45, 87, 95, 26, 42, 46, 88, 92, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 270, local model 12, internal_epoch   1,  Average loss: 0.0066, Accuracy: 862/977 (88.2293%)
___Train Local_ResNet_18,  epoch 270, local model 12, internal_epoch   2,  Average loss: 0.0097, Accuracy: 797/977 (81.5763%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 10.0996, Accuracy: 2484/10000 (24.8400%)
___Train Local_ResNet_18,  epoch 270, local model 45, internal_epoch   1,  Average loss: 0.0049, Accuracy: 479/529 (90.5482%)
___Train Local_ResNet_18,  epoch 270, local model 45, internal_epoch   2,  Average loss: 0.0039, Accuracy: 491/529 (92.8166%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 5.4151, Accuracy: 2769/10000 (27.6900%)
___Train Local_ResNet_18,  epoch 270, local model 87, internal_epoch   1,  Average loss: 0.0088, Accuracy: 334/397 (84.1310%)
___Train Local_ResNet_18,  epoch 270, local model 87, internal_epoch   2,  Average loss: 0.0043, Accuracy: 365/397 (91.9395%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 2.9739, Accuracy: 3764/10000 (37.6400%)
___Train Local_ResNet_18,  epoch 270, local model 95, internal_epoch   1,  Average loss: 0.0076, Accuracy: 485/569 (85.2373%)
___Train Local_ResNet_18,  epoch 270, local model 95, internal_epoch   2,  Average loss: 0.0055, Accuracy: 515/569 (90.5097%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 5.3605, Accuracy: 2834/10000 (28.3400%)
___Train Local_ResNet_18,  epoch 270, local model 26, internal_epoch   1,  Average loss: 0.0036, Accuracy: 436/468 (93.1624%)
___Train Local_ResNet_18,  epoch 270, local model 26, internal_epoch   2,  Average loss: 0.0037, Accuracy: 445/468 (95.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 4.7436, Accuracy: 3044/10000 (30.4400%)
___Train Local_ResNet_18,  epoch 270, local model 42, internal_epoch   1,  Average loss: 0.0059, Accuracy: 181/198 (91.4141%)
___Train Local_ResNet_18,  epoch 270, local model 42, internal_epoch   2,  Average loss: 0.0021, Accuracy: 192/198 (96.9697%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 10.0120, Accuracy: 2882/10000 (28.8200%)
___Train Local_ResNet_18,  epoch 270, local model 46, internal_epoch   1,  Average loss: 0.0011, Accuracy: 596/601 (99.1681%)
___Train Local_ResNet_18,  epoch 270, local model 46, internal_epoch   2,  Average loss: 0.0002, Accuracy: 600/601 (99.8336%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 1.3461, Accuracy: 6168/10000 (61.6800%)
___Train Local_ResNet_18,  epoch 270, local model 88, internal_epoch   1,  Average loss: 0.0069, Accuracy: 386/447 (86.3535%)
___Train Local_ResNet_18,  epoch 270, local model 88, internal_epoch   2,  Average loss: 0.0028, Accuracy: 418/447 (93.5123%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.9590, Accuracy: 3492/10000 (34.9200%)
___Train Local_ResNet_18,  epoch 270, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 733/796 (92.0854%)
___Train Local_ResNet_18,  epoch 270, local model 92, internal_epoch   2,  Average loss: 0.0091, Accuracy: 678/796 (85.1759%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 8.6199, Accuracy: 2279/10000 (22.7900%)
___Train Local_ResNet_18,  epoch 270, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 714/756 (94.4444%)
___Train Local_ResNet_18,  epoch 270, local model 38, internal_epoch   2,  Average loss: 0.0027, Accuracy: 717/756 (94.8413%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.2565, Accuracy: 4403/10000 (44.0300%)
time spent on training: 59.13053774833679
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [977, 529, 397, 569, 468, 198, 601, 447, 796, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.74664986 0.         1.         0.         1.
 1.         1.         0.74664986 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 270: Average loss: 0.6393, Accuracy: 7888/10000 (78.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 270: Average loss: 6.4246, Accuracy: 327/9000 (3.6333%)
Done in 99.31427764892578 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:271 choose agents : [53, 41, 66, 33, 0, 84, 78, 6, 8, 67]. Adversary List: []
___Train Local_ResNet_18,  epoch 271, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 578/625 (92.4800%)
___Train Local_ResNet_18,  epoch 271, local model 53, internal_epoch   2,  Average loss: 0.0029, Accuracy: 594/625 (95.0400%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.5698, Accuracy: 4467/10000 (44.6700%)
___Train Local_ResNet_18,  epoch 271, local model 41, internal_epoch   1,  Average loss: 0.0203, Accuracy: 431/513 (84.0156%)
___Train Local_ResNet_18,  epoch 271, local model 41, internal_epoch   2,  Average loss: 0.0120, Accuracy: 398/513 (77.5828%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 18.6967, Accuracy: 1714/10000 (17.1400%)
___Train Local_ResNet_18,  epoch 271, local model 66, internal_epoch   1,  Average loss: 0.0026, Accuracy: 530/555 (95.4955%)
___Train Local_ResNet_18,  epoch 271, local model 66, internal_epoch   2,  Average loss: 0.0007, Accuracy: 546/555 (98.3784%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.3638, Accuracy: 4069/10000 (40.6900%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 271, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 488/527 (92.5996%)
___Train Local_ResNet_18,  epoch 271, local model 33, internal_epoch   2,  Average loss: 0.0068, Accuracy: 458/527 (86.9070%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 6.5640, Accuracy: 3078/10000 (30.7800%)
___Train Local_ResNet_18,  epoch 271, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 326/367 (88.8283%)
___Train Local_ResNet_18,  epoch 271, local model 0, internal_epoch   2,  Average loss: 0.0016, Accuracy: 359/367 (97.8202%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 5.3043, Accuracy: 2590/10000 (25.9000%)
___Train Local_ResNet_18,  epoch 271, local model 84, internal_epoch   1,  Average loss: 0.0021, Accuracy: 1016/1053 (96.4862%)
___Train Local_ResNet_18,  epoch 271, local model 84, internal_epoch   2,  Average loss: 0.0029, Accuracy: 992/1053 (94.2070%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.7726, Accuracy: 4776/10000 (47.7600%)
___Train Local_ResNet_18,  epoch 271, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 224/255 (87.8431%)
___Train Local_ResNet_18,  epoch 271, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.9629, Accuracy: 4323/10000 (43.2300%)
___Train Local_ResNet_18,  epoch 271, local model 6, internal_epoch   1,  Average loss: 0.0026, Accuracy: 494/520 (95.0000%)
___Train Local_ResNet_18,  epoch 271, local model 6, internal_epoch   2,  Average loss: 0.0030, Accuracy: 496/520 (95.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.5952, Accuracy: 3986/10000 (39.8600%)
___Train Local_ResNet_18,  epoch 271, local model 8, internal_epoch   1,  Average loss: 0.0027, Accuracy: 503/534 (94.1948%)
___Train Local_ResNet_18,  epoch 271, local model 8, internal_epoch   2,  Average loss: 0.0026, Accuracy: 514/534 (96.2547%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.2354, Accuracy: 4597/10000 (45.9700%)
___Train Local_ResNet_18,  epoch 271, local model 67, internal_epoch   1,  Average loss: 0.0037, Accuracy: 786/842 (93.3492%)
___Train Local_ResNet_18,  epoch 271, local model 67, internal_epoch   2,  Average loss: 0.0117, Accuracy: 684/842 (81.2352%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 65.4994, Accuracy: 1021/10000 (10.2100%)
time spent on training: 62.03873348236084
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09100328095320324  data num: [625, 513, 555, 527, 367, 1053, 255, 520, 534, 842]
[foolsgold agg] considering poison per batch poison_fraction: 0.007109631324469004
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.97741087
 0.97741087 0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 271: Average loss: 0.6394, Accuracy: 7878/10000 (78.7800%)
___Test Target_ResNet_18 poisoned: True, epoch: 271: Average loss: 6.4437, Accuracy: 323/9000 (3.5889%)
Done in 101.51141500473022 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:272 choose agents : [70, 2, 35, 42, 1, 56, 66, 71, 57, 80]. Adversary List: []
___Train Local_ResNet_18,  epoch 272, local model 70, internal_epoch   1,  Average loss: 0.0029, Accuracy: 582/610 (95.4098%)
___Train Local_ResNet_18,  epoch 272, local model 70, internal_epoch   2,  Average loss: 0.0023, Accuracy: 583/610 (95.5738%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.9246, Accuracy: 5099/10000 (50.9900%)
___Train Local_ResNet_18,  epoch 272, local model 2, internal_epoch   1,  Average loss: 0.0069, Accuracy: 405/461 (87.8525%)
___Train Local_ResNet_18,  epoch 272, local model 2, internal_epoch   2,  Average loss: 0.0107, Accuracy: 388/461 (84.1649%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 5.5524, Accuracy: 2658/10000 (26.5800%)
___Train Local_ResNet_18,  epoch 272, local model 35, internal_epoch   1,  Average loss: 0.0055, Accuracy: 371/419 (88.5442%)
___Train Local_ResNet_18,  epoch 272, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 405/419 (96.6587%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.7587, Accuracy: 4233/10000 (42.3300%)
___Train Local_ResNet_18,  epoch 272, local model 42, internal_epoch   1,  Average loss: 0.0178, Accuracy: 181/198 (91.4141%)
___Train Local_ResNet_18,  epoch 272, local model 42, internal_epoch   2,  Average loss: 0.0055, Accuracy: 183/198 (92.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 9.8885, Accuracy: 1439/10000 (14.3900%)
___Train Local_ResNet_18,  epoch 272, local model 1, internal_epoch   1,  Average loss: 0.0048, Accuracy: 607/641 (94.6958%)
___Train Local_ResNet_18,  epoch 272, local model 1, internal_epoch   2,  Average loss: 0.0124, Accuracy: 577/641 (90.0156%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 5.1165, Accuracy: 3316/10000 (33.1600%)
___Train Local_ResNet_18,  epoch 272, local model 56, internal_epoch   1,  Average loss: 0.0015, Accuracy: 728/743 (97.9812%)
___Train Local_ResNet_18,  epoch 272, local model 56, internal_epoch   2,  Average loss: 0.0010, Accuracy: 733/743 (98.6541%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.6939, Accuracy: 5753/10000 (57.5300%)
___Train Local_ResNet_18,  epoch 272, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 519/555 (93.5135%)
___Train Local_ResNet_18,  epoch 272, local model 66, internal_epoch   2,  Average loss: 0.0010, Accuracy: 544/555 (98.0180%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.0339, Accuracy: 3736/10000 (37.3600%)
___Train Local_ResNet_18,  epoch 272, local model 71, internal_epoch   1,  Average loss: 0.0042, Accuracy: 1078/1166 (92.4528%)
___Train Local_ResNet_18,  epoch 272, local model 71, internal_epoch   2,  Average loss: 0.0128, Accuracy: 890/1166 (76.3293%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 7.4749, Accuracy: 2505/10000 (25.0500%)
___Train Local_ResNet_18,  epoch 272, local model 57, internal_epoch   1,  Average loss: 0.0048, Accuracy: 261/290 (90.0000%)
___Train Local_ResNet_18,  epoch 272, local model 57, internal_epoch   2,  Average loss: 0.0007, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.9115, Accuracy: 4722/10000 (47.2200%)
___Train Local_ResNet_18,  epoch 272, local model 80, internal_epoch   1,  Average loss: 0.0050, Accuracy: 322/363 (88.7052%)
___Train Local_ResNet_18,  epoch 272, local model 80, internal_epoch   2,  Average loss: 0.0009, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 3.9515, Accuracy: 3876/10000 (38.7600%)
time spent on training: 55.59851408004761
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [610, 461, 419, 198, 641, 743, 555, 1166, 290, 363]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.99898806 1.         0.7586181  0.61650766 0.74528421
 0.61650766 1.         0.99898806 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 272: Average loss: 0.6388, Accuracy: 7887/10000 (78.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 272: Average loss: 6.4515, Accuracy: 325/9000 (3.6111%)
Done in 95.1167106628418 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:273 choose agents : [17, 62, 81, 52, 9, 7, 60, 39, 47, 77]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 273, local model 17, internal_epoch   1,  Average loss: 0.0028, Accuracy: 504/526 (95.8175%)
___Train Local_ResNet_18,  epoch 273, local model 17, internal_epoch   2,  Average loss: 0.0055, Accuracy: 478/526 (90.8745%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 3.9768, Accuracy: 3460/10000 (34.6000%)
___Train Local_ResNet_18,  epoch 273, local model 62, internal_epoch   1,  Average loss: 0.0018, Accuracy: 347/358 (96.9274%)
___Train Local_ResNet_18,  epoch 273, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.0423, Accuracy: 6809/10000 (68.0900%)
___Train Local_ResNet_18,  epoch 273, local model 81, internal_epoch   1,  Average loss: 0.0051, Accuracy: 932/1034 (90.1354%)
___Train Local_ResNet_18,  epoch 273, local model 81, internal_epoch   2,  Average loss: 0.0089, Accuracy: 867/1034 (83.8491%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 8.2141, Accuracy: 2868/10000 (28.6800%)
___Train Local_ResNet_18,  epoch 273, local model 52, internal_epoch   1,  Average loss: 0.0056, Accuracy: 195/214 (91.1215%)
___Train Local_ResNet_18,  epoch 273, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 210/214 (98.1308%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.8634, Accuracy: 4436/10000 (44.3600%)
___Train Local_ResNet_18,  epoch 273, local model 9, internal_epoch   1,  Average loss: 0.0036, Accuracy: 337/368 (91.5761%)
___Train Local_ResNet_18,  epoch 273, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 3.4733, Accuracy: 3590/10000 (35.9000%)
___Train Local_ResNet_18,  epoch 273, local model 7, internal_epoch   1,  Average loss: 0.0025, Accuracy: 337/352 (95.7386%)
___Train Local_ResNet_18,  epoch 273, local model 7, internal_epoch   2,  Average loss: 0.0007, Accuracy: 350/352 (99.4318%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.5993, Accuracy: 5633/10000 (56.3300%)
___Train Local_ResNet_18,  epoch 273, local model 60, internal_epoch   1,  Average loss: 0.0039, Accuracy: 264/284 (92.9577%)
___Train Local_ResNet_18,  epoch 273, local model 60, internal_epoch   2,  Average loss: 0.0012, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.3010, Accuracy: 4548/10000 (45.4800%)
___Train Local_ResNet_18,  epoch 273, local model 39, internal_epoch   1,  Average loss: 0.0048, Accuracy: 196/217 (90.3226%)
___Train Local_ResNet_18,  epoch 273, local model 39, internal_epoch   2,  Average loss: 0.0006, Accuracy: 216/217 (99.5392%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.2174, Accuracy: 4926/10000 (49.2600%)
___Train Local_ResNet_18,  epoch 273, local model 47, internal_epoch   1,  Average loss: 0.0033, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 273, local model 47, internal_epoch   2,  Average loss: 0.0060, Accuracy: 591/654 (90.3670%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.9512, Accuracy: 4227/10000 (42.2700%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   1,  Average loss: 0.0024, Accuracy: 473/496 (95.3629%)
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 488/496 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.2932, Accuracy: 6113/10000 (61.1300%)
time spent on training: 67.35440182685852
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.22695980457472795  data num: [526, 358, 1034, 214, 368, 352, 284, 217, 654, 496]
[foolsgold agg] considering poison per batch poison_fraction: 0.01773123473240062
[foolsgold agg] wv: [0.         1.         1.         1.         1.         0.99768759
 0.         0.         0.         0.99768759]
___Test Target_ResNet_18 poisoned: False, epoch: 273: Average loss: 0.6397, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 273: Average loss: 6.4594, Accuracy: 327/9000 (3.6333%)
Done in 108.22138047218323 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:274 choose agents : [86, 75, 23, 20, 40, 58, 9, 59, 19, 79]. Adversary List: []
___Train Local_ResNet_18,  epoch 274, local model 86, internal_epoch   1,  Average loss: 0.0038, Accuracy: 201/212 (94.8113%)
___Train Local_ResNet_18,  epoch 274, local model 86, internal_epoch   2,  Average loss: 0.0014, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.1585, Accuracy: 6723/10000 (67.2300%)
___Train Local_ResNet_18,  epoch 274, local model 75, internal_epoch   1,  Average loss: 0.0077, Accuracy: 546/578 (94.4637%)
___Train Local_ResNet_18,  epoch 274, local model 75, internal_epoch   2,  Average loss: 0.0267, Accuracy: 330/578 (57.0934%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 80.6125, Accuracy: 1007/10000 (10.0700%)
___Train Local_ResNet_18,  epoch 274, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 233/248 (93.9516%)
___Train Local_ResNet_18,  epoch 274, local model 23, internal_epoch   2,  Average loss: 0.0004, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.6068, Accuracy: 5510/10000 (55.1000%)
___Train Local_ResNet_18,  epoch 274, local model 20, internal_epoch   1,  Average loss: 0.0067, Accuracy: 314/362 (86.7403%)
___Train Local_ResNet_18,  epoch 274, local model 20, internal_epoch   2,  Average loss: 0.0018, Accuracy: 350/362 (96.6851%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 6.6373, Accuracy: 2539/10000 (25.3900%)
___Train Local_ResNet_18,  epoch 274, local model 40, internal_epoch   1,  Average loss: 0.0048, Accuracy: 598/652 (91.7178%)
___Train Local_ResNet_18,  epoch 274, local model 40, internal_epoch   2,  Average loss: 0.0098, Accuracy: 543/652 (83.2822%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 11.5750, Accuracy: 2132/10000 (21.3200%)
___Train Local_ResNet_18,  epoch 274, local model 58, internal_epoch   1,  Average loss: 0.0075, Accuracy: 200/234 (85.4701%)
___Train Local_ResNet_18,  epoch 274, local model 58, internal_epoch   2,  Average loss: 0.0008, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.6887, Accuracy: 2310/10000 (23.1000%)
___Train Local_ResNet_18,  epoch 274, local model 9, internal_epoch   1,  Average loss: 0.0037, Accuracy: 342/368 (92.9348%)
___Train Local_ResNet_18,  epoch 274, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 8.6352, Accuracy: 1965/10000 (19.6500%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   1,  Average loss: 0.0039, Accuracy: 612/642 (95.3271%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   2,  Average loss: 0.0122, Accuracy: 516/642 (80.3738%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 26.4290, Accuracy: 1704/10000 (17.0400%)
___Train Local_ResNet_18,  epoch 274, local model 19, internal_epoch   1,  Average loss: 0.0127, Accuracy: 130/173 (75.1445%)
___Train Local_ResNet_18,  epoch 274, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 169/173 (97.6879%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.9494, Accuracy: 3286/10000 (32.8600%)
___Train Local_ResNet_18,  epoch 274, local model 79, internal_epoch   1,  Average loss: 0.0060, Accuracy: 137/154 (88.9610%)
___Train Local_ResNet_18,  epoch 274, local model 79, internal_epoch   2,  Average loss: 0.0009, Accuracy: 152/154 (98.7013%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.1409, Accuracy: 6737/10000 (67.3700%)
time spent on training: 52.864609241485596
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 578, 248, 362, 652, 234, 368, 642, 173, 154]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 1. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 274: Average loss: 0.6384, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 274: Average loss: 6.4913, Accuracy: 322/9000 (3.5778%)
Done in 92.17944073677063 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:275 choose agents : [68, 60, 87, 9, 57, 40, 20, 39, 73, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 275, local model 68, internal_epoch   1,  Average loss: 0.0026, Accuracy: 399/416 (95.9135%)
___Train Local_ResNet_18,  epoch 275, local model 68, internal_epoch   2,  Average loss: 0.0009, Accuracy: 414/416 (99.5192%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 1.4635, Accuracy: 6146/10000 (61.4600%)
___Train Local_ResNet_18,  epoch 275, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 275, local model 60, internal_epoch   2,  Average loss: 0.0006, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.2467, Accuracy: 4666/10000 (46.6600%)
___Train Local_ResNet_18,  epoch 275, local model 87, internal_epoch   1,  Average loss: 0.0076, Accuracy: 342/397 (86.1461%)
___Train Local_ResNet_18,  epoch 275, local model 87, internal_epoch   2,  Average loss: 0.0045, Accuracy: 364/397 (91.6877%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.1939, Accuracy: 4879/10000 (48.7900%)
___Train Local_ResNet_18,  epoch 275, local model 9, internal_epoch   1,  Average loss: 0.0039, Accuracy: 338/368 (91.8478%)
___Train Local_ResNet_18,  epoch 275, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 3.1029, Accuracy: 3915/10000 (39.1500%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   1,  Average loss: 0.0051, Accuracy: 260/290 (89.6552%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.7950, Accuracy: 4652/10000 (46.5200%)
___Train Local_ResNet_18,  epoch 275, local model 40, internal_epoch   1,  Average loss: 0.0052, Accuracy: 600/652 (92.0245%)
___Train Local_ResNet_18,  epoch 275, local model 40, internal_epoch   2,  Average loss: 0.0114, Accuracy: 538/652 (82.5153%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 8.9257, Accuracy: 1788/10000 (17.8800%)
___Train Local_ResNet_18,  epoch 275, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 319/362 (88.1215%)
___Train Local_ResNet_18,  epoch 275, local model 20, internal_epoch   2,  Average loss: 0.0023, Accuracy: 345/362 (95.3039%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 4.4378, Accuracy: 3547/10000 (35.4700%)
___Train Local_ResNet_18,  epoch 275, local model 39, internal_epoch   1,  Average loss: 0.0056, Accuracy: 192/217 (88.4793%)
___Train Local_ResNet_18,  epoch 275, local model 39, internal_epoch   2,  Average loss: 0.0016, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.5473, Accuracy: 4434/10000 (44.3400%)
___Train Local_ResNet_18,  epoch 275, local model 73, internal_epoch   1,  Average loss: 0.0094, Accuracy: 418/500 (83.6000%)
___Train Local_ResNet_18,  epoch 275, local model 73, internal_epoch   2,  Average loss: 0.0036, Accuracy: 464/500 (92.8000%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.7964, Accuracy: 4079/10000 (40.7900%)
___Train Local_ResNet_18,  epoch 275, local model 48, internal_epoch   1,  Average loss: 0.0048, Accuracy: 338/378 (89.4180%)
___Train Local_ResNet_18,  epoch 275, local model 48, internal_epoch   2,  Average loss: 0.0015, Accuracy: 370/378 (97.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.6372, Accuracy: 4295/10000 (42.9500%)
time spent on training: 51.62452054023743
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [416, 284, 397, 368, 290, 652, 362, 217, 500, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.         1.         1.         0.
 0.75873767 0.         0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 275: Average loss: 0.6384, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 275: Average loss: 6.4828, Accuracy: 325/9000 (3.6111%)
Done in 90.61333560943604 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:276 choose agents : [20, 11, 42, 73, 76, 87, 74, 85, 23, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 276, local model 20, internal_epoch   1,  Average loss: 0.0073, Accuracy: 315/362 (87.0166%)
___Train Local_ResNet_18,  epoch 276, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 4.1846, Accuracy: 3974/10000 (39.7400%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   1,  Average loss: 0.0026, Accuracy: 521/546 (95.4212%)
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   2,  Average loss: 0.0032, Accuracy: 511/546 (93.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.3161, Accuracy: 4777/10000 (47.7700%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   1,  Average loss: 0.0062, Accuracy: 188/198 (94.9495%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   2,  Average loss: 0.0044, Accuracy: 183/198 (92.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 6.0689, Accuracy: 2552/10000 (25.5200%)
___Train Local_ResNet_18,  epoch 276, local model 73, internal_epoch   1,  Average loss: 0.0081, Accuracy: 425/500 (85.0000%)
___Train Local_ResNet_18,  epoch 276, local model 73, internal_epoch   2,  Average loss: 0.0043, Accuracy: 453/500 (90.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.2877, Accuracy: 4040/10000 (40.4000%)
___Train Local_ResNet_18,  epoch 276, local model 76, internal_epoch   1,  Average loss: 0.0323, Accuracy: 63/65 (96.9231%)
___Train Local_ResNet_18,  epoch 276, local model 76, internal_epoch   2,  Average loss: 0.0473, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 0.8246, Accuracy: 7404/10000 (74.0400%)
___Train Local_ResNet_18,  epoch 276, local model 87, internal_epoch   1,  Average loss: 0.0078, Accuracy: 347/397 (87.4055%)
___Train Local_ResNet_18,  epoch 276, local model 87, internal_epoch   2,  Average loss: 0.0072, Accuracy: 349/397 (87.9093%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 5.9827, Accuracy: 1971/10000 (19.7100%)
___Train Local_ResNet_18,  epoch 276, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 432/469 (92.1109%)
___Train Local_ResNet_18,  epoch 276, local model 74, internal_epoch   2,  Average loss: 0.0029, Accuracy: 449/469 (95.7356%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.4536, Accuracy: 4434/10000 (44.3400%)
___Train Local_ResNet_18,  epoch 276, local model 85, internal_epoch   1,  Average loss: 0.0061, Accuracy: 316/364 (86.8132%)
___Train Local_ResNet_18,  epoch 276, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 347/364 (95.3297%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.3924, Accuracy: 3448/10000 (34.4800%)
___Train Local_ResNet_18,  epoch 276, local model 23, internal_epoch   1,  Average loss: 0.0038, Accuracy: 230/248 (92.7419%)
___Train Local_ResNet_18,  epoch 276, local model 23, internal_epoch   2,  Average loss: 0.0008, Accuracy: 246/248 (99.1935%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 1.8163, Accuracy: 5163/10000 (51.6300%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   1,  Average loss: 0.0050, Accuracy: 339/378 (89.6825%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   2,  Average loss: 0.0012, Accuracy: 370/378 (97.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.2008, Accuracy: 3665/10000 (36.6500%)
time spent on training: 58.81991672515869
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.15480578395236744  data num: [362, 546, 198, 500, 65, 397, 469, 364, 248, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.012094201871278706
[foolsgold agg] wv: [1.         1.         1.         0.         0.32862467 1.
 0.32862467 0.74027202 0.74027202 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 276: Average loss: 0.6386, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 276: Average loss: 6.4568, Accuracy: 329/9000 (3.6556%)
Done in 100.58694553375244 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:277 choose agents : [41, 48, 71, 70, 84, 28, 96, 77, 17, 87]. Adversary List: []
___Train Local_ResNet_18,  epoch 277, local model 41, internal_epoch   1,  Average loss: 0.0187, Accuracy: 440/513 (85.7700%)
___Train Local_ResNet_18,  epoch 277, local model 41, internal_epoch   2,  Average loss: 0.0128, Accuracy: 410/513 (79.9220%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 5.1251, Accuracy: 2409/10000 (24.0900%)
___Train Local_ResNet_18,  epoch 277, local model 48, internal_epoch   1,  Average loss: 0.0054, Accuracy: 336/378 (88.8889%)
___Train Local_ResNet_18,  epoch 277, local model 48, internal_epoch   2,  Average loss: 0.0019, Accuracy: 366/378 (96.8254%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 4.0645, Accuracy: 3140/10000 (31.4000%)
___Train Local_ResNet_18,  epoch 277, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 1083/1166 (92.8816%)
___Train Local_ResNet_18,  epoch 277, local model 71, internal_epoch   2,  Average loss: 0.0078, Accuracy: 989/1166 (84.8199%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 10.3499, Accuracy: 1966/10000 (19.6600%)
___Train Local_ResNet_18,  epoch 277, local model 70, internal_epoch   1,  Average loss: 0.0024, Accuracy: 582/610 (95.4098%)
___Train Local_ResNet_18,  epoch 277, local model 70, internal_epoch   2,  Average loss: 0.0017, Accuracy: 588/610 (96.3934%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 3.2302, Accuracy: 3970/10000 (39.7000%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   1,  Average loss: 0.0024, Accuracy: 1008/1053 (95.7265%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   2,  Average loss: 0.0025, Accuracy: 1000/1053 (94.9668%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.4450, Accuracy: 4682/10000 (46.8200%)
___Train Local_ResNet_18,  epoch 277, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 277, local model 28, internal_epoch   2,  Average loss: 0.0009, Accuracy: 417/423 (98.5816%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.0148, Accuracy: 5457/10000 (54.5700%)
___Train Local_ResNet_18,  epoch 277, local model 96, internal_epoch   1,  Average loss: 0.0042, Accuracy: 674/708 (95.1977%)
___Train Local_ResNet_18,  epoch 277, local model 96, internal_epoch   2,  Average loss: 0.0213, Accuracy: 456/708 (64.4068%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 83.4252, Accuracy: 1002/10000 (10.0200%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 277, local model 77, internal_epoch   1,  Average loss: 0.0025, Accuracy: 476/496 (95.9677%)
___Train Local_ResNet_18,  epoch 277, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 491/496 (98.9919%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 1.4004, Accuracy: 6065/10000 (60.6500%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 277, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 508/526 (96.5779%)
___Train Local_ResNet_18,  epoch 277, local model 17, internal_epoch   2,  Average loss: 0.0030, Accuracy: 505/526 (96.0076%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.4214, Accuracy: 4805/10000 (48.0500%)
___Train Local_ResNet_18,  epoch 277, local model 87, internal_epoch   1,  Average loss: 0.0097, Accuracy: 329/397 (82.8715%)
___Train Local_ResNet_18,  epoch 277, local model 87, internal_epoch   2,  Average loss: 0.0105, Accuracy: 349/397 (87.9093%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 4.2778, Accuracy: 3552/10000 (35.5200%)
time spent on training: 68.22983431816101
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.16299840510366825  data num: [513, 378, 1166, 610, 1053, 423, 708, 496, 526, 397]
[foolsgold agg] considering poison per batch poison_fraction: 0.012734250398724082
[foolsgold agg] wv: [0.92160162 0.96291016 1.         1.         1.         1.
 1.         0.92160162 1.         0.96291016]
___Test Target_ResNet_18 poisoned: False, epoch: 277: Average loss: 0.6389, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 277: Average loss: 6.4618, Accuracy: 326/9000 (3.6222%)
Done in 106.831547498703 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:278 choose agents : [70, 47, 40, 19, 26, 10, 32, 75, 93, 24]. Adversary List: []
___Train Local_ResNet_18,  epoch 278, local model 70, internal_epoch   1,  Average loss: 0.0029, Accuracy: 577/610 (94.5902%)
___Train Local_ResNet_18,  epoch 278, local model 70, internal_epoch   2,  Average loss: 0.0016, Accuracy: 589/610 (96.5574%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.3468, Accuracy: 4427/10000 (44.2700%)
___Train Local_ResNet_18,  epoch 278, local model 47, internal_epoch   1,  Average loss: 0.0023, Accuracy: 625/654 (95.5657%)
___Train Local_ResNet_18,  epoch 278, local model 47, internal_epoch   2,  Average loss: 0.0022, Accuracy: 626/654 (95.7187%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.8367, Accuracy: 5591/10000 (55.9100%)
___Train Local_ResNet_18,  epoch 278, local model 40, internal_epoch   1,  Average loss: 0.0057, Accuracy: 593/652 (90.9509%)
___Train Local_ResNet_18,  epoch 278, local model 40, internal_epoch   2,  Average loss: 0.0098, Accuracy: 554/652 (84.9693%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 9.1984, Accuracy: 2011/10000 (20.1100%)
___Train Local_ResNet_18,  epoch 278, local model 19, internal_epoch   1,  Average loss: 0.0136, Accuracy: 134/173 (77.4566%)
___Train Local_ResNet_18,  epoch 278, local model 19, internal_epoch   2,  Average loss: 0.0010, Accuracy: 173/173 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 6.1178, Accuracy: 3129/10000 (31.2900%)
___Train Local_ResNet_18,  epoch 278, local model 26, internal_epoch   1,  Average loss: 0.0036, Accuracy: 436/468 (93.1624%)
___Train Local_ResNet_18,  epoch 278, local model 26, internal_epoch   2,  Average loss: 0.0039, Accuracy: 433/468 (92.5214%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 3.4909, Accuracy: 4308/10000 (43.0800%)
___Train Local_ResNet_18,  epoch 278, local model 10, internal_epoch   1,  Average loss: 0.0040, Accuracy: 694/752 (92.2872%)
___Train Local_ResNet_18,  epoch 278, local model 10, internal_epoch   2,  Average loss: 0.0024, Accuracy: 717/752 (95.3457%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 4.4648, Accuracy: 3462/10000 (34.6200%)
___Train Local_ResNet_18,  epoch 278, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 792/824 (96.1165%)
___Train Local_ResNet_18,  epoch 278, local model 32, internal_epoch   2,  Average loss: 0.0023, Accuracy: 788/824 (95.6311%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 3.1017, Accuracy: 4673/10000 (46.7300%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   1,  Average loss: 0.0033, Accuracy: 556/578 (96.1938%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   2,  Average loss: 0.0133, Accuracy: 474/578 (82.0069%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 17.7731, Accuracy: 1631/10000 (16.3100%)
___Train Local_ResNet_18,  epoch 278, local model 93, internal_epoch   1,  Average loss: 0.0021, Accuracy: 560/584 (95.8904%)
___Train Local_ResNet_18,  epoch 278, local model 93, internal_epoch   2,  Average loss: 0.0010, Accuracy: 575/584 (98.4589%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.7665, Accuracy: 5608/10000 (56.0800%)
___Train Local_ResNet_18,  epoch 278, local model 24, internal_epoch   1,  Average loss: 0.0033, Accuracy: 300/320 (93.7500%)
___Train Local_ResNet_18,  epoch 278, local model 24, internal_epoch   2,  Average loss: 0.0003, Accuracy: 319/320 (99.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.8705, Accuracy: 4138/10000 (41.3800%)
time spent on training: 61.03593993186951
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [610, 654, 652, 173, 468, 752, 824, 578, 584, 320]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.53965146 0.88514882 0.13912214 1.         0.13912214 1.
 0.46962177 0.88514882 1.         0.46962177]
___Test Target_ResNet_18 poisoned: False, epoch: 278: Average loss: 0.6397, Accuracy: 7877/10000 (78.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 278: Average loss: 6.4749, Accuracy: 321/9000 (3.5667%)
Done in 102.00233745574951 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:279 choose agents : [43, 60, 3, 89, 87, 20, 66, 54, 27, 90]. Adversary List: []
___Train Local_ResNet_18,  epoch 279, local model 43, internal_epoch   1,  Average loss: 0.0060, Accuracy: 311/345 (90.1449%)
___Train Local_ResNet_18,  epoch 279, local model 43, internal_epoch   2,  Average loss: 0.0027, Accuracy: 335/345 (97.1014%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.9402, Accuracy: 4138/10000 (41.3800%)
___Train Local_ResNet_18,  epoch 279, local model 60, internal_epoch   1,  Average loss: 0.0038, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 279, local model 60, internal_epoch   2,  Average loss: 0.0005, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.9743, Accuracy: 5101/10000 (51.0100%)
___Train Local_ResNet_18,  epoch 279, local model 3, internal_epoch   1,  Average loss: 0.0054, Accuracy: 713/780 (91.4103%)
___Train Local_ResNet_18,  epoch 279, local model 3, internal_epoch   2,  Average loss: 0.0128, Accuracy: 618/780 (79.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 51.1055, Accuracy: 1313/10000 (13.1300%)
___Train Local_ResNet_18,  epoch 279, local model 89, internal_epoch   1,  Average loss: 0.0076, Accuracy: 348/413 (84.2615%)
___Train Local_ResNet_18,  epoch 279, local model 89, internal_epoch   2,  Average loss: 0.0064, Accuracy: 375/413 (90.7990%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 4.7921, Accuracy: 3038/10000 (30.3800%)
___Train Local_ResNet_18,  epoch 279, local model 87, internal_epoch   1,  Average loss: 0.0091, Accuracy: 336/397 (84.6348%)
___Train Local_ResNet_18,  epoch 279, local model 87, internal_epoch   2,  Average loss: 0.0052, Accuracy: 358/397 (90.1763%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 2.5601, Accuracy: 4164/10000 (41.6400%)
___Train Local_ResNet_18,  epoch 279, local model 20, internal_epoch   1,  Average loss: 0.0067, Accuracy: 312/362 (86.1878%)
___Train Local_ResNet_18,  epoch 279, local model 20, internal_epoch   2,  Average loss: 0.0016, Accuracy: 352/362 (97.2376%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 6.4648, Accuracy: 2818/10000 (28.1800%)
___Train Local_ResNet_18,  epoch 279, local model 66, internal_epoch   1,  Average loss: 0.0029, Accuracy: 528/555 (95.1351%)
___Train Local_ResNet_18,  epoch 279, local model 66, internal_epoch   2,  Average loss: 0.0010, Accuracy: 545/555 (98.1982%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.1460, Accuracy: 4256/10000 (42.5600%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   1,  Average loss: 0.0030, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   2,  Average loss: 0.0008, Accuracy: 434/440 (98.6364%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.1399, Accuracy: 4499/10000 (44.9900%)
___Train Local_ResNet_18,  epoch 279, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 388/397 (97.7330%)
___Train Local_ResNet_18,  epoch 279, local model 27, internal_epoch   2,  Average loss: 0.0009, Accuracy: 392/397 (98.7406%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.7299, Accuracy: 5841/10000 (58.4100%)
___Train Local_ResNet_18,  epoch 279, local model 90, internal_epoch   1,  Average loss: 0.0050, Accuracy: 526/578 (91.0035%)
___Train Local_ResNet_18,  epoch 279, local model 90, internal_epoch   2,  Average loss: 0.0137, Accuracy: 541/578 (93.5986%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 11.6406, Accuracy: 1571/10000 (15.7100%)
time spent on training: 53.30021071434021
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [345, 284, 780, 413, 397, 362, 555, 440, 397, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.52702042 0.24415114 0.24415114 1.
 1.         0.52702042 0.94065499 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 279: Average loss: 0.6415, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 279: Average loss: 6.4741, Accuracy: 324/9000 (3.6000%)
Done in 93.64957427978516 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:280 choose agents : [37, 13, 78, 67, 65, 16, 82, 33, 3, 46]. Adversary List: []
___Train Local_ResNet_18,  epoch 280, local model 37, internal_epoch   1,  Average loss: 0.0059, Accuracy: 645/725 (88.9655%)
___Train Local_ResNet_18,  epoch 280, local model 37, internal_epoch   2,  Average loss: 0.0115, Accuracy: 590/725 (81.3793%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 4.6787, Accuracy: 2481/10000 (24.8100%)
___Train Local_ResNet_18,  epoch 280, local model 13, internal_epoch   1,  Average loss: 0.0057, Accuracy: 553/620 (89.1935%)
___Train Local_ResNet_18,  epoch 280, local model 13, internal_epoch   2,  Average loss: 0.0037, Accuracy: 576/620 (92.9032%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.7984, Accuracy: 3529/10000 (35.2900%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   1,  Average loss: 0.0042, Accuracy: 236/255 (92.5490%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 253/255 (99.2157%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.4755, Accuracy: 4941/10000 (49.4100%)
___Train Local_ResNet_18,  epoch 280, local model 67, internal_epoch   1,  Average loss: 0.0027, Accuracy: 787/842 (93.4679%)
___Train Local_ResNet_18,  epoch 280, local model 67, internal_epoch   2,  Average loss: 0.0054, Accuracy: 754/842 (89.5487%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 6.3977, Accuracy: 2711/10000 (27.1100%)
___Train Local_ResNet_18,  epoch 280, local model 65, internal_epoch   1,  Average loss: 0.0035, Accuracy: 295/314 (93.9490%)
___Train Local_ResNet_18,  epoch 280, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 314/314 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.7492, Accuracy: 3661/10000 (36.6100%)
___Train Local_ResNet_18,  epoch 280, local model 16, internal_epoch   1,  Average loss: 0.0033, Accuracy: 731/773 (94.5666%)
___Train Local_ResNet_18,  epoch 280, local model 16, internal_epoch   2,  Average loss: 0.0093, Accuracy: 642/773 (83.0530%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 5.5367, Accuracy: 2992/10000 (29.9200%)
___Train Local_ResNet_18,  epoch 280, local model 82, internal_epoch   1,  Average loss: 0.0019, Accuracy: 579/601 (96.3394%)
___Train Local_ResNet_18,  epoch 280, local model 82, internal_epoch   2,  Average loss: 0.0014, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.1334, Accuracy: 4990/10000 (49.9000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 280, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 501/527 (95.0664%)
___Train Local_ResNet_18,  epoch 280, local model 33, internal_epoch   2,  Average loss: 0.0038, Accuracy: 497/527 (94.3074%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.1263, Accuracy: 3998/10000 (39.9800%)
___Train Local_ResNet_18,  epoch 280, local model 3, internal_epoch   1,  Average loss: 0.0069, Accuracy: 697/780 (89.3590%)
___Train Local_ResNet_18,  epoch 280, local model 3, internal_epoch   2,  Average loss: 0.0115, Accuracy: 635/780 (81.4103%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 11.3774, Accuracy: 1421/10000 (14.2100%)
___Train Local_ResNet_18,  epoch 280, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 590/601 (98.1697%)
___Train Local_ResNet_18,  epoch 280, local model 46, internal_epoch   2,  Average loss: 0.0009, Accuracy: 592/601 (98.5025%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 1.5140, Accuracy: 5919/10000 (59.1900%)
time spent on training: 59.316730976104736
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08728055647565419  data num: [725, 620, 255, 842, 314, 773, 601, 527, 780, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.006818793474660484
[foolsgold agg] wv: [0.90155212 0.         0.         0.97453339 1.         0.90155212
 0.89810415 1.         1.         0.89810415]
___Test Target_ResNet_18 poisoned: False, epoch: 280: Average loss: 0.6389, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 280: Average loss: 6.4214, Accuracy: 337/9000 (3.7444%)
Done in 97.54035687446594 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:281 choose agents : [35, 74, 98, 38, 82, 6, 15, 71, 65, 57]. Adversary List: []
___Train Local_ResNet_18,  epoch 281, local model 35, internal_epoch   1,  Average loss: 0.0064, Accuracy: 370/419 (88.3055%)
___Train Local_ResNet_18,  epoch 281, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 398/419 (94.9881%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.9196, Accuracy: 3030/10000 (30.3000%)
___Train Local_ResNet_18,  epoch 281, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 438/469 (93.3902%)
___Train Local_ResNet_18,  epoch 281, local model 74, internal_epoch   2,  Average loss: 0.0019, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 1.8229, Accuracy: 5219/10000 (52.1900%)
___Train Local_ResNet_18,  epoch 281, local model 98, internal_epoch   1,  Average loss: 0.0037, Accuracy: 742/802 (92.5187%)
___Train Local_ResNet_18,  epoch 281, local model 98, internal_epoch   2,  Average loss: 0.0064, Accuracy: 696/802 (86.7830%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 4.0852, Accuracy: 3350/10000 (33.5000%)
___Train Local_ResNet_18,  epoch 281, local model 38, internal_epoch   1,  Average loss: 0.0028, Accuracy: 714/756 (94.4444%)
___Train Local_ResNet_18,  epoch 281, local model 38, internal_epoch   2,  Average loss: 0.0042, Accuracy: 696/756 (92.0635%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.6792, Accuracy: 4189/10000 (41.8900%)
___Train Local_ResNet_18,  epoch 281, local model 82, internal_epoch   1,  Average loss: 0.0020, Accuracy: 582/601 (96.8386%)
___Train Local_ResNet_18,  epoch 281, local model 82, internal_epoch   2,  Average loss: 0.0013, Accuracy: 583/601 (97.0050%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.2258, Accuracy: 4991/10000 (49.9100%)
___Train Local_ResNet_18,  epoch 281, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 486/520 (93.4615%)
___Train Local_ResNet_18,  epoch 281, local model 6, internal_epoch   2,  Average loss: 0.0098, Accuracy: 427/520 (82.1154%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 14.5052, Accuracy: 1231/10000 (12.3100%)
___Train Local_ResNet_18,  epoch 281, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 281, local model 15, internal_epoch   2,  Average loss: 0.0077, Accuracy: 304/341 (89.1496%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 4.4795, Accuracy: 3163/10000 (31.6300%)
___Train Local_ResNet_18,  epoch 281, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 1095/1166 (93.9108%)
___Train Local_ResNet_18,  epoch 281, local model 71, internal_epoch   2,  Average loss: 0.0112, Accuracy: 911/1166 (78.1304%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 19.0400, Accuracy: 1969/10000 (19.6900%)
___Train Local_ResNet_18,  epoch 281, local model 65, internal_epoch   1,  Average loss: 0.0034, Accuracy: 294/314 (93.6306%)
___Train Local_ResNet_18,  epoch 281, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.4112, Accuracy: 4642/10000 (46.4200%)
___Train Local_ResNet_18,  epoch 281, local model 57, internal_epoch   1,  Average loss: 0.0043, Accuracy: 266/290 (91.7241%)
___Train Local_ResNet_18,  epoch 281, local model 57, internal_epoch   2,  Average loss: 0.0006, Accuracy: 289/290 (99.6552%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.2855, Accuracy: 4334/10000 (43.3400%)
time spent on training: 55.92666578292847
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [419, 469, 802, 756, 601, 520, 341, 1166, 314, 290]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.346097   0.55571389 1.         0.26673447 0.26673447 1.
 0.79754094 1.         0.346097   0.55571389]
___Test Target_ResNet_18 poisoned: False, epoch: 281: Average loss: 0.6392, Accuracy: 7877/10000 (78.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 281: Average loss: 6.4153, Accuracy: 339/9000 (3.7667%)
Done in 96.23287582397461 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:282 choose agents : [43, 72, 83, 9, 7, 27, 11, 15, 20, 26]. Adversary List: []
___Train Local_ResNet_18,  epoch 282, local model 43, internal_epoch   1,  Average loss: 0.0058, Accuracy: 304/345 (88.1159%)
___Train Local_ResNet_18,  epoch 282, local model 43, internal_epoch   2,  Average loss: 0.0026, Accuracy: 335/345 (97.1014%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 3.6693, Accuracy: 4499/10000 (44.9900%)
___Train Local_ResNet_18,  epoch 282, local model 72, internal_epoch   1,  Average loss: 0.0072, Accuracy: 530/618 (85.7605%)
___Train Local_ResNet_18,  epoch 282, local model 72, internal_epoch   2,  Average loss: 0.0061, Accuracy: 552/618 (89.3204%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 8.6945, Accuracy: 2362/10000 (23.6200%)
___Train Local_ResNet_18,  epoch 282, local model 83, internal_epoch   1,  Average loss: 0.0022, Accuracy: 351/366 (95.9016%)
___Train Local_ResNet_18,  epoch 282, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 363/366 (99.1803%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.6057, Accuracy: 5826/10000 (58.2600%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   1,  Average loss: 0.0033, Accuracy: 346/368 (94.0217%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 3.6047, Accuracy: 3863/10000 (38.6300%)
___Train Local_ResNet_18,  epoch 282, local model 7, internal_epoch   1,  Average loss: 0.0022, Accuracy: 341/352 (96.8750%)
___Train Local_ResNet_18,  epoch 282, local model 7, internal_epoch   2,  Average loss: 0.0004, Accuracy: 351/352 (99.7159%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.7143, Accuracy: 5361/10000 (53.6100%)
___Train Local_ResNet_18,  epoch 282, local model 27, internal_epoch   1,  Average loss: 0.0017, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 282, local model 27, internal_epoch   2,  Average loss: 0.0008, Accuracy: 395/397 (99.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.4186, Accuracy: 6237/10000 (62.3700%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 282, local model 11, internal_epoch   1,  Average loss: 0.0027, Accuracy: 524/546 (95.9707%)
___Train Local_ResNet_18,  epoch 282, local model 11, internal_epoch   2,  Average loss: 0.0021, Accuracy: 525/546 (96.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.8478, Accuracy: 5252/10000 (52.5200%)
___Train Local_ResNet_18,  epoch 282, local model 15, internal_epoch   1,  Average loss: 0.0077, Accuracy: 293/341 (85.9238%)
___Train Local_ResNet_18,  epoch 282, local model 15, internal_epoch   2,  Average loss: 0.0025, Accuracy: 326/341 (95.6012%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 7.4956, Accuracy: 1730/10000 (17.3000%)
___Train Local_ResNet_18,  epoch 282, local model 20, internal_epoch   1,  Average loss: 0.0068, Accuracy: 316/362 (87.2928%)
___Train Local_ResNet_18,  epoch 282, local model 20, internal_epoch   2,  Average loss: 0.0012, Accuracy: 352/362 (97.2376%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 6.6921, Accuracy: 2665/10000 (26.6500%)
___Train Local_ResNet_18,  epoch 282, local model 26, internal_epoch   1,  Average loss: 0.0030, Accuracy: 442/468 (94.4444%)
___Train Local_ResNet_18,  epoch 282, local model 26, internal_epoch   2,  Average loss: 0.0015, Accuracy: 456/468 (97.4359%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.6308, Accuracy: 5902/10000 (59.0200%)
time spent on training: 58.96020293235779
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13115541676675474  data num: [345, 618, 366, 368, 352, 397, 546, 341, 362, 468]
[foolsgold agg] considering poison per batch poison_fraction: 0.010246516934902715
[foolsgold agg] wv: [1.         0.         0.16192419 1.         1.         1.
 1.         0.         1.         0.16192419]
___Test Target_ResNet_18 poisoned: False, epoch: 282: Average loss: 0.6401, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 282: Average loss: 6.4094, Accuracy: 339/9000 (3.7667%)
Done in 97.1866283416748 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:283 choose agents : [71, 99, 72, 0, 21, 93, 62, 8, 3, 49]. Adversary List: []
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 1087/1166 (93.2247%)
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   2,  Average loss: 0.0094, Accuracy: 952/1166 (81.6467%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 7.7685, Accuracy: 2695/10000 (26.9500%)
___Train Local_ResNet_18,  epoch 283, local model 99, internal_epoch   1,  Average loss: 0.0043, Accuracy: 358/391 (91.5601%)
___Train Local_ResNet_18,  epoch 283, local model 99, internal_epoch   2,  Average loss: 0.0024, Accuracy: 377/391 (96.4194%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 3.5244, Accuracy: 3897/10000 (38.9700%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   1,  Average loss: 0.0101, Accuracy: 515/618 (83.3333%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   2,  Average loss: 0.0052, Accuracy: 550/618 (88.9968%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 7.1995, Accuracy: 2867/10000 (28.6700%)
___Train Local_ResNet_18,  epoch 283, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 334/367 (91.0082%)
___Train Local_ResNet_18,  epoch 283, local model 0, internal_epoch   2,  Average loss: 0.0018, Accuracy: 356/367 (97.0027%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 6.5431, Accuracy: 2294/10000 (22.9400%)
___Train Local_ResNet_18,  epoch 283, local model 21, internal_epoch   1,  Average loss: 0.0035, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 283, local model 21, internal_epoch   2,  Average loss: 0.0051, Accuracy: 259/262 (98.8550%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 3.9632, Accuracy: 2953/10000 (29.5300%)
___Train Local_ResNet_18,  epoch 283, local model 93, internal_epoch   1,  Average loss: 0.0022, Accuracy: 561/584 (96.0616%)
___Train Local_ResNet_18,  epoch 283, local model 93, internal_epoch   2,  Average loss: 0.0017, Accuracy: 569/584 (97.4315%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.5048, Accuracy: 5867/10000 (58.6700%)
___Train Local_ResNet_18,  epoch 283, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 347/358 (96.9274%)
___Train Local_ResNet_18,  epoch 283, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.0686, Accuracy: 6841/10000 (68.4100%)
___Train Local_ResNet_18,  epoch 283, local model 8, internal_epoch   1,  Average loss: 0.0028, Accuracy: 505/534 (94.5693%)
___Train Local_ResNet_18,  epoch 283, local model 8, internal_epoch   2,  Average loss: 0.0019, Accuracy: 518/534 (97.0037%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 2.8934, Accuracy: 3596/10000 (35.9600%)
___Train Local_ResNet_18,  epoch 283, local model 3, internal_epoch   1,  Average loss: 0.0055, Accuracy: 700/780 (89.7436%)
___Train Local_ResNet_18,  epoch 283, local model 3, internal_epoch   2,  Average loss: 0.0090, Accuracy: 662/780 (84.8718%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.6110, Accuracy: 3084/10000 (30.8400%)
___Train Local_ResNet_18,  epoch 283, local model 49, internal_epoch   1,  Average loss: 0.0034, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 283, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/426 (97.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.8607, Accuracy: 5334/10000 (53.3400%)
time spent on training: 66.07738733291626
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 391, 618, 367, 262, 584, 358, 534, 780, 426]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.58036394 0.58036394 1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 283: Average loss: 0.6397, Accuracy: 7871/10000 (78.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 283: Average loss: 6.4048, Accuracy: 345/9000 (3.8333%)
Done in 106.53063368797302 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:284 choose agents : [96, 95, 79, 42, 86, 36, 44, 73, 62, 27]. Adversary List: []
___Train Local_ResNet_18,  epoch 284, local model 96, internal_epoch   1,  Average loss: 0.0031, Accuracy: 674/708 (95.1977%)
___Train Local_ResNet_18,  epoch 284, local model 96, internal_epoch   2,  Average loss: 0.0169, Accuracy: 513/708 (72.4576%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 44.3053, Accuracy: 1149/10000 (11.4900%)
___Train Local_ResNet_18,  epoch 284, local model 95, internal_epoch   1,  Average loss: 0.0074, Accuracy: 484/569 (85.0615%)
___Train Local_ResNet_18,  epoch 284, local model 95, internal_epoch   2,  Average loss: 0.0048, Accuracy: 513/569 (90.1582%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 17.3606, Accuracy: 1289/10000 (12.8900%)
___Train Local_ResNet_18,  epoch 284, local model 79, internal_epoch   1,  Average loss: 0.0058, Accuracy: 138/154 (89.6104%)
___Train Local_ResNet_18,  epoch 284, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.0253, Accuracy: 6968/10000 (69.6800%)
___Train Local_ResNet_18,  epoch 284, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 284, local model 42, internal_epoch   2,  Average loss: 0.0015, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 3.0811, Accuracy: 3661/10000 (36.6100%)
___Train Local_ResNet_18,  epoch 284, local model 86, internal_epoch   1,  Average loss: 0.0035, Accuracy: 201/212 (94.8113%)
___Train Local_ResNet_18,  epoch 284, local model 86, internal_epoch   2,  Average loss: 0.0017, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.0800, Accuracy: 6894/10000 (68.9400%)
___Train Local_ResNet_18,  epoch 284, local model 36, internal_epoch   1,  Average loss: 0.0048, Accuracy: 774/849 (91.1661%)
___Train Local_ResNet_18,  epoch 284, local model 36, internal_epoch   2,  Average loss: 0.0101, Accuracy: 685/849 (80.6832%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 6.8340, Accuracy: 2879/10000 (28.7900%)
___Train Local_ResNet_18,  epoch 284, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 407/436 (93.3486%)
___Train Local_ResNet_18,  epoch 284, local model 44, internal_epoch   2,  Average loss: 0.0019, Accuracy: 421/436 (96.5596%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.6982, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 284, local model 73, internal_epoch   1,  Average loss: 0.0107, Accuracy: 396/500 (79.2000%)
___Train Local_ResNet_18,  epoch 284, local model 73, internal_epoch   2,  Average loss: 0.0039, Accuracy: 461/500 (92.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 6.4352, Accuracy: 2730/10000 (27.3000%)
___Train Local_ResNet_18,  epoch 284, local model 62, internal_epoch   1,  Average loss: 0.0015, Accuracy: 352/358 (98.3240%)
___Train Local_ResNet_18,  epoch 284, local model 62, internal_epoch   2,  Average loss: 0.0004, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 0.9383, Accuracy: 7089/10000 (70.8900%)
___Train Local_ResNet_18,  epoch 284, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 385/397 (96.9773%)
___Train Local_ResNet_18,  epoch 284, local model 27, internal_epoch   2,  Average loss: 0.0004, Accuracy: 396/397 (99.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.9814, Accuracy: 5437/10000 (54.3700%)
time spent on training: 58.10028696060181
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [708, 569, 154, 198, 212, 849, 436, 500, 358, 397]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.43909499 0.39270052 0.39270052 0.43909499 0.9847239  1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 284: Average loss: 0.6400, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 284: Average loss: 6.4090, Accuracy: 346/9000 (3.8444%)
Done in 96.38740086555481 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:285 choose agents : [44, 71, 61, 88, 23, 50, 20, 47, 67, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 404/436 (92.6606%)
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   2,  Average loss: 0.0015, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.4548, Accuracy: 5936/10000 (59.3600%)
___Train Local_ResNet_18,  epoch 285, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 1101/1166 (94.4254%)
___Train Local_ResNet_18,  epoch 285, local model 71, internal_epoch   2,  Average loss: 0.0071, Accuracy: 1016/1166 (87.1355%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 6.7693, Accuracy: 3072/10000 (30.7200%)
___Train Local_ResNet_18,  epoch 285, local model 61, internal_epoch   1,  Average loss: 0.0045, Accuracy: 545/590 (92.3729%)
___Train Local_ResNet_18,  epoch 285, local model 61, internal_epoch   2,  Average loss: 0.0065, Accuracy: 517/590 (87.6271%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 5.9166, Accuracy: 2507/10000 (25.0700%)
___Train Local_ResNet_18,  epoch 285, local model 88, internal_epoch   1,  Average loss: 0.0057, Accuracy: 388/447 (86.8009%)
___Train Local_ResNet_18,  epoch 285, local model 88, internal_epoch   2,  Average loss: 0.0019, Accuracy: 427/447 (95.5257%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 4.6031, Accuracy: 3156/10000 (31.5600%)
___Train Local_ResNet_18,  epoch 285, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 231/248 (93.1452%)
___Train Local_ResNet_18,  epoch 285, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.3477, Accuracy: 6044/10000 (60.4400%)
___Train Local_ResNet_18,  epoch 285, local model 50, internal_epoch   1,  Average loss: 0.0018, Accuracy: 390/401 (97.2569%)
___Train Local_ResNet_18,  epoch 285, local model 50, internal_epoch   2,  Average loss: 0.0005, Accuracy: 399/401 (99.5012%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 2.1855, Accuracy: 5445/10000 (54.4500%)
___Train Local_ResNet_18,  epoch 285, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 317/362 (87.5691%)
___Train Local_ResNet_18,  epoch 285, local model 20, internal_epoch   2,  Average loss: 0.0009, Accuracy: 358/362 (98.8950%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 5.0780, Accuracy: 3187/10000 (31.8700%)
___Train Local_ResNet_18,  epoch 285, local model 47, internal_epoch   1,  Average loss: 0.0023, Accuracy: 623/654 (95.2599%)
___Train Local_ResNet_18,  epoch 285, local model 47, internal_epoch   2,  Average loss: 0.0022, Accuracy: 636/654 (97.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.8134, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch 285, local model 67, internal_epoch   1,  Average loss: 0.0028, Accuracy: 806/842 (95.7245%)
___Train Local_ResNet_18,  epoch 285, local model 67, internal_epoch   2,  Average loss: 0.0134, Accuracy: 659/842 (78.2660%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 18.8036, Accuracy: 1727/10000 (17.2700%)
___Train Local_ResNet_18,  epoch 285, local model 48, internal_epoch   1,  Average loss: 0.0043, Accuracy: 346/378 (91.5344%)
___Train Local_ResNet_18,  epoch 285, local model 48, internal_epoch   2,  Average loss: 0.0010, Accuracy: 375/378 (99.2063%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 3.7974, Accuracy: 3147/10000 (31.4700%)
time spent on training: 60.24190545082092
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [436, 1166, 590, 447, 248, 401, 362, 654, 842, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.28191433 1.         0.42008687 0.30654103 0.28191433 1.
 1.         1.         0.42008687 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 285: Average loss: 0.6397, Accuracy: 7874/10000 (78.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 285: Average loss: 6.4046, Accuracy: 350/9000 (3.8889%)
Done in 102.01144337654114 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:286 choose agents : [85, 82, 19, 56, 41, 95, 18, 55, 21, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 286, local model 85, internal_epoch   1,  Average loss: 0.0058, Accuracy: 321/364 (88.1868%)
___Train Local_ResNet_18,  epoch 286, local model 85, internal_epoch   2,  Average loss: 0.0023, Accuracy: 350/364 (96.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.6664, Accuracy: 3300/10000 (33.0000%)
___Train Local_ResNet_18,  epoch 286, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 582/601 (96.8386%)
___Train Local_ResNet_18,  epoch 286, local model 82, internal_epoch   2,  Average loss: 0.0017, Accuracy: 592/601 (98.5025%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.8913, Accuracy: 5426/10000 (54.2600%)
___Train Local_ResNet_18,  epoch 286, local model 19, internal_epoch   1,  Average loss: 0.0117, Accuracy: 136/173 (78.6127%)
___Train Local_ResNet_18,  epoch 286, local model 19, internal_epoch   2,  Average loss: 0.0017, Accuracy: 169/173 (97.6879%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.4173, Accuracy: 3765/10000 (37.6500%)
___Train Local_ResNet_18,  epoch 286, local model 56, internal_epoch   1,  Average loss: 0.0013, Accuracy: 729/743 (98.1157%)
___Train Local_ResNet_18,  epoch 286, local model 56, internal_epoch   2,  Average loss: 0.0006, Accuracy: 737/743 (99.1925%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.1687, Accuracy: 6731/10000 (67.3100%)
___Train Local_ResNet_18,  epoch 286, local model 41, internal_epoch   1,  Average loss: 0.0081, Accuracy: 439/513 (85.5750%)
___Train Local_ResNet_18,  epoch 286, local model 41, internal_epoch   2,  Average loss: 0.0039, Accuracy: 469/513 (91.4230%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 5.7777, Accuracy: 3295/10000 (32.9500%)
___Train Local_ResNet_18,  epoch 286, local model 95, internal_epoch   1,  Average loss: 0.0069, Accuracy: 489/569 (85.9402%)
___Train Local_ResNet_18,  epoch 286, local model 95, internal_epoch   2,  Average loss: 0.0041, Accuracy: 526/569 (92.4429%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.1016, Accuracy: 3361/10000 (33.6100%)
___Train Local_ResNet_18,  epoch 286, local model 18, internal_epoch   1,  Average loss: 0.0037, Accuracy: 361/386 (93.5233%)
___Train Local_ResNet_18,  epoch 286, local model 18, internal_epoch   2,  Average loss: 0.0152, Accuracy: 359/386 (93.0052%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.8549, Accuracy: 3389/10000 (33.8900%)
___Train Local_ResNet_18,  epoch 286, local model 55, internal_epoch   1,  Average loss: 0.0046, Accuracy: 274/299 (91.6388%)
___Train Local_ResNet_18,  epoch 286, local model 55, internal_epoch   2,  Average loss: 0.0007, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 7.9833, Accuracy: 2089/10000 (20.8900%)
___Train Local_ResNet_18,  epoch 286, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 243/262 (92.7481%)
___Train Local_ResNet_18,  epoch 286, local model 21, internal_epoch   2,  Average loss: 0.0024, Accuracy: 256/262 (97.7099%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.7556, Accuracy: 3492/10000 (34.9200%)
___Train Local_ResNet_18,  epoch 286, local model 10, internal_epoch   1,  Average loss: 0.0029, Accuracy: 707/752 (94.0160%)
___Train Local_ResNet_18,  epoch 286, local model 10, internal_epoch   2,  Average loss: 0.0020, Accuracy: 726/752 (96.5426%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.2825, Accuracy: 4029/10000 (40.2900%)
time spent on training: 56.77801561355591
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [364, 601, 173, 743, 513, 569, 386, 299, 262, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.36192962 0.         0.45778334 0.         1.
 1.         0.         0.36192962 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 286: Average loss: 0.6399, Accuracy: 7871/10000 (78.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 286: Average loss: 6.3740, Accuracy: 352/9000 (3.9111%)
Done in 93.4430603981018 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:287 choose agents : [57, 72, 11, 86, 1, 99, 5, 80, 42, 26]. Adversary List: []
___Train Local_ResNet_18,  epoch 287, local model 57, internal_epoch   1,  Average loss: 0.0051, Accuracy: 261/290 (90.0000%)
___Train Local_ResNet_18,  epoch 287, local model 57, internal_epoch   2,  Average loss: 0.0008, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.7084, Accuracy: 4400/10000 (44.0000%)
___Train Local_ResNet_18,  epoch 287, local model 72, internal_epoch   1,  Average loss: 0.0080, Accuracy: 524/618 (84.7896%)
___Train Local_ResNet_18,  epoch 287, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 546/618 (88.3495%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 3.9931, Accuracy: 3277/10000 (32.7700%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 287, local model 11, internal_epoch   1,  Average loss: 0.0029, Accuracy: 520/546 (95.2381%)
___Train Local_ResNet_18,  epoch 287, local model 11, internal_epoch   2,  Average loss: 0.0023, Accuracy: 522/546 (95.6044%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.4969, Accuracy: 4422/10000 (44.2200%)
___Train Local_ResNet_18,  epoch 287, local model 86, internal_epoch   1,  Average loss: 0.0035, Accuracy: 199/212 (93.8679%)
___Train Local_ResNet_18,  epoch 287, local model 86, internal_epoch   2,  Average loss: 0.0007, Accuracy: 212/212 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.1928, Accuracy: 6703/10000 (67.0300%)
___Train Local_ResNet_18,  epoch 287, local model 1, internal_epoch   1,  Average loss: 0.0060, Accuracy: 605/641 (94.3838%)
___Train Local_ResNet_18,  epoch 287, local model 1, internal_epoch   2,  Average loss: 0.0040, Accuracy: 580/641 (90.4836%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 3.4639, Accuracy: 4297/10000 (42.9700%)
___Train Local_ResNet_18,  epoch 287, local model 99, internal_epoch   1,  Average loss: 0.0057, Accuracy: 357/391 (91.3043%)
___Train Local_ResNet_18,  epoch 287, local model 99, internal_epoch   2,  Average loss: 0.0154, Accuracy: 301/391 (76.9821%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 18.7155, Accuracy: 1237/10000 (12.3700%)
___Train Local_ResNet_18,  epoch 287, local model 5, internal_epoch   1,  Average loss: 0.0022, Accuracy: 348/365 (95.3425%)
___Train Local_ResNet_18,  epoch 287, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.5895, Accuracy: 6032/10000 (60.3200%)
___Train Local_ResNet_18,  epoch 287, local model 80, internal_epoch   1,  Average loss: 0.0049, Accuracy: 325/363 (89.5317%)
___Train Local_ResNet_18,  epoch 287, local model 80, internal_epoch   2,  Average loss: 0.0011, Accuracy: 358/363 (98.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 4.2055, Accuracy: 3718/10000 (37.1800%)
___Train Local_ResNet_18,  epoch 287, local model 42, internal_epoch   1,  Average loss: 0.0034, Accuracy: 186/198 (93.9394%)
___Train Local_ResNet_18,  epoch 287, local model 42, internal_epoch   2,  Average loss: 0.0007, Accuracy: 198/198 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.6016, Accuracy: 5768/10000 (57.6800%)
___Train Local_ResNet_18,  epoch 287, local model 26, internal_epoch   1,  Average loss: 0.0031, Accuracy: 444/468 (94.8718%)
___Train Local_ResNet_18,  epoch 287, local model 26, internal_epoch   2,  Average loss: 0.0022, Accuracy: 449/468 (95.9402%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.2920, Accuracy: 4969/10000 (49.6900%)
time spent on training: 59.61349868774414
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13343108504398826  data num: [290, 618, 546, 212, 641, 391, 365, 363, 198, 468]
[foolsgold agg] considering poison per batch poison_fraction: 0.010424303519061583
[foolsgold agg] wv: [1.         0.36372319 0.47418139 0.36372319 0.60886076 0.39291192
 1.         1.         0.60886076 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 287: Average loss: 0.6403, Accuracy: 7868/10000 (78.6800%)
___Test Target_ResNet_18 poisoned: True, epoch: 287: Average loss: 6.3579, Accuracy: 358/9000 (3.9778%)
Done in 97.93219327926636 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:288 choose agents : [17, 31, 21, 57, 8, 87, 64, 12, 42, 65]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 288, local model 17, internal_epoch   1,  Average loss: 0.0030, Accuracy: 495/526 (94.1065%)
___Train Local_ResNet_18,  epoch 288, local model 17, internal_epoch   2,  Average loss: 0.0044, Accuracy: 488/526 (92.7757%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.1395, Accuracy: 4978/10000 (49.7800%)
___Train Local_ResNet_18,  epoch 288, local model 31, internal_epoch   1,  Average loss: 0.0026, Accuracy: 670/706 (94.9008%)
___Train Local_ResNet_18,  epoch 288, local model 31, internal_epoch   2,  Average loss: 0.0071, Accuracy: 668/706 (94.6176%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 4.1024, Accuracy: 2983/10000 (29.8300%)
___Train Local_ResNet_18,  epoch 288, local model 21, internal_epoch   1,  Average loss: 0.0052, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 288, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 247/262 (94.2748%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 3.6677, Accuracy: 3301/10000 (33.0100%)
___Train Local_ResNet_18,  epoch 288, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 260/290 (89.6552%)
___Train Local_ResNet_18,  epoch 288, local model 57, internal_epoch   2,  Average loss: 0.0009, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.8216, Accuracy: 4530/10000 (45.3000%)
___Train Local_ResNet_18,  epoch 288, local model 8, internal_epoch   1,  Average loss: 0.0024, Accuracy: 508/534 (95.1311%)
___Train Local_ResNet_18,  epoch 288, local model 8, internal_epoch   2,  Average loss: 0.0016, Accuracy: 521/534 (97.5655%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.2360, Accuracy: 4713/10000 (47.1300%)
___Train Local_ResNet_18,  epoch 288, local model 87, internal_epoch   1,  Average loss: 0.0084, Accuracy: 339/397 (85.3904%)
___Train Local_ResNet_18,  epoch 288, local model 87, internal_epoch   2,  Average loss: 0.0104, Accuracy: 352/397 (88.6650%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 3.8470, Accuracy: 3090/10000 (30.9000%)
___Train Local_ResNet_18,  epoch 288, local model 64, internal_epoch   1,  Average loss: 0.0034, Accuracy: 632/686 (92.1283%)
___Train Local_ResNet_18,  epoch 288, local model 64, internal_epoch   2,  Average loss: 0.0021, Accuracy: 659/686 (96.0641%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.7946, Accuracy: 4349/10000 (43.4900%)
___Train Local_ResNet_18,  epoch 288, local model 12, internal_epoch   1,  Average loss: 0.0035, Accuracy: 908/977 (92.9376%)
___Train Local_ResNet_18,  epoch 288, local model 12, internal_epoch   2,  Average loss: 0.0071, Accuracy: 861/977 (88.1269%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 9.1224, Accuracy: 1897/10000 (18.9700%)
___Train Local_ResNet_18,  epoch 288, local model 42, internal_epoch   1,  Average loss: 0.0041, Accuracy: 187/198 (94.4444%)
___Train Local_ResNet_18,  epoch 288, local model 42, internal_epoch   2,  Average loss: 0.0023, Accuracy: 194/198 (97.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.1590, Accuracy: 4746/10000 (47.4600%)
___Train Local_ResNet_18,  epoch 288, local model 65, internal_epoch   1,  Average loss: 0.0032, Accuracy: 300/314 (95.5414%)
___Train Local_ResNet_18,  epoch 288, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.9259, Accuracy: 4033/10000 (40.3300%)
time spent on training: 63.557429790496826
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10756646216768916  data num: [526, 706, 262, 290, 534, 397, 686, 977, 198, 314]
[foolsgold agg] considering poison per batch poison_fraction: 0.008403629856850715
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 288: Average loss: 0.6395, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 288: Average loss: 6.3374, Accuracy: 363/9000 (4.0333%)
Done in 102.6821517944336 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:289 choose agents : [14, 42, 13, 92, 5, 34, 33, 74, 94, 15]. Adversary List: []
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   1,  Average loss: 0.0059, Accuracy: 278/318 (87.4214%)
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   2,  Average loss: 0.0010, Accuracy: 310/318 (97.4843%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 8.0396, Accuracy: 2067/10000 (20.6700%)
___Train Local_ResNet_18,  epoch 289, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 185/198 (93.4343%)
___Train Local_ResNet_18,  epoch 289, local model 42, internal_epoch   2,  Average loss: 0.0017, Accuracy: 194/198 (97.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 1.9682, Accuracy: 4988/10000 (49.8800%)
___Train Local_ResNet_18,  epoch 289, local model 13, internal_epoch   1,  Average loss: 0.0053, Accuracy: 553/620 (89.1935%)
___Train Local_ResNet_18,  epoch 289, local model 13, internal_epoch   2,  Average loss: 0.0030, Accuracy: 583/620 (94.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.3266, Accuracy: 3547/10000 (35.4700%)
___Train Local_ResNet_18,  epoch 289, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 729/796 (91.5829%)
___Train Local_ResNet_18,  epoch 289, local model 92, internal_epoch   2,  Average loss: 0.0061, Accuracy: 696/796 (87.4372%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 7.1306, Accuracy: 2474/10000 (24.7400%)
___Train Local_ResNet_18,  epoch 289, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 353/365 (96.7123%)
___Train Local_ResNet_18,  epoch 289, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 364/365 (99.7260%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 1.2949, Accuracy: 6482/10000 (64.8200%)
___Train Local_ResNet_18,  epoch 289, local model 34, internal_epoch   1,  Average loss: 0.0046, Accuracy: 311/349 (89.1117%)
___Train Local_ResNet_18,  epoch 289, local model 34, internal_epoch   2,  Average loss: 0.0019, Accuracy: 340/349 (97.4212%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 5.0850, Accuracy: 2629/10000 (26.2900%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 289, local model 33, internal_epoch   1,  Average loss: 0.0039, Accuracy: 491/527 (93.1689%)
___Train Local_ResNet_18,  epoch 289, local model 33, internal_epoch   2,  Average loss: 0.0048, Accuracy: 482/527 (91.4611%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.0157, Accuracy: 4236/10000 (42.3600%)
___Train Local_ResNet_18,  epoch 289, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 441/469 (94.0299%)
___Train Local_ResNet_18,  epoch 289, local model 74, internal_epoch   2,  Average loss: 0.0016, Accuracy: 458/469 (97.6546%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.1114, Accuracy: 4971/10000 (49.7100%)
___Train Local_ResNet_18,  epoch 289, local model 94, internal_epoch   1,  Average loss: 0.0076, Accuracy: 169/203 (83.2512%)
___Train Local_ResNet_18,  epoch 289, local model 94, internal_epoch   2,  Average loss: 0.0064, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.9802, Accuracy: 3736/10000 (37.3600%)
___Train Local_ResNet_18,  epoch 289, local model 15, internal_epoch   1,  Average loss: 0.0075, Accuracy: 296/341 (86.8035%)
___Train Local_ResNet_18,  epoch 289, local model 15, internal_epoch   2,  Average loss: 0.0021, Accuracy: 329/341 (96.4809%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.4372, Accuracy: 3461/10000 (34.6100%)
time spent on training: 59.886252880096436
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12589584328714765  data num: [318, 198, 620, 796, 365, 349, 527, 469, 203, 341]
[foolsgold agg] considering poison per batch poison_fraction: 0.00983561275680841
[foolsgold agg] wv: [0.44470412 0.44470412 0.40323629 1.         0.33307102 0.
 0.33307102 1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 289: Average loss: 0.6396, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 289: Average loss: 6.3289, Accuracy: 364/9000 (4.0444%)
Done in 99.79746127128601 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:290 choose agents : [58, 17, 50, 51, 27, 6, 8, 20, 39, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 290, local model 58, internal_epoch   1,  Average loss: 0.0077, Accuracy: 201/234 (85.8974%)
___Train Local_ResNet_18,  epoch 290, local model 58, internal_epoch   2,  Average loss: 0.0003, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 6.1870, Accuracy: 1994/10000 (19.9400%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 290, local model 17, internal_epoch   1,  Average loss: 0.0022, Accuracy: 506/526 (96.1977%)
___Train Local_ResNet_18,  epoch 290, local model 17, internal_epoch   2,  Average loss: 0.0012, Accuracy: 520/526 (98.8593%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.3631, Accuracy: 6273/10000 (62.7300%)
___Train Local_ResNet_18,  epoch 290, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 385/401 (96.0100%)
___Train Local_ResNet_18,  epoch 290, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 398/401 (99.2519%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.8035, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch 290, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 449/479 (93.7370%)
___Train Local_ResNet_18,  epoch 290, local model 51, internal_epoch   2,  Average loss: 0.0014, Accuracy: 470/479 (98.1211%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 4.5676, Accuracy: 3243/10000 (32.4300%)
___Train Local_ResNet_18,  epoch 290, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 290, local model 27, internal_epoch   2,  Average loss: 0.0005, Accuracy: 395/397 (99.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.4983, Accuracy: 6068/10000 (60.6800%)
___Train Local_ResNet_18,  epoch 290, local model 6, internal_epoch   1,  Average loss: 0.0031, Accuracy: 490/520 (94.2308%)
___Train Local_ResNet_18,  epoch 290, local model 6, internal_epoch   2,  Average loss: 0.0025, Accuracy: 493/520 (94.8077%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.0519, Accuracy: 5130/10000 (51.3000%)
___Train Local_ResNet_18,  epoch 290, local model 8, internal_epoch   1,  Average loss: 0.0023, Accuracy: 516/534 (96.6292%)
___Train Local_ResNet_18,  epoch 290, local model 8, internal_epoch   2,  Average loss: 0.0020, Accuracy: 518/534 (97.0037%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.8055, Accuracy: 5349/10000 (53.4900%)
___Train Local_ResNet_18,  epoch 290, local model 20, internal_epoch   1,  Average loss: 0.0058, Accuracy: 320/362 (88.3978%)
___Train Local_ResNet_18,  epoch 290, local model 20, internal_epoch   2,  Average loss: 0.0017, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 3.9914, Accuracy: 3768/10000 (37.6800%)
___Train Local_ResNet_18,  epoch 290, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 187/217 (86.1751%)
___Train Local_ResNet_18,  epoch 290, local model 39, internal_epoch   2,  Average loss: 0.0018, Accuracy: 212/217 (97.6959%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.4556, Accuracy: 4353/10000 (43.5300%)
___Train Local_ResNet_18,  epoch 290, local model 38, internal_epoch   1,  Average loss: 0.0024, Accuracy: 720/756 (95.2381%)
___Train Local_ResNet_18,  epoch 290, local model 38, internal_epoch   2,  Average loss: 0.0019, Accuracy: 725/756 (95.8995%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.3680, Accuracy: 5207/10000 (52.0700%)
time spent on training: 59.64129114151001
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11884319927699954  data num: [234, 526, 401, 479, 397, 520, 534, 362, 217, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.00928462494351559
[foolsgold agg] wv: [0.         0.         1.         1.         0.         0.
 0.         0.61263295 0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 290: Average loss: 0.6395, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 290: Average loss: 6.3331, Accuracy: 364/9000 (4.0444%)
Done in 99.87913250923157 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:291 choose agents : [34, 55, 96, 49, 88, 20, 8, 16, 35, 71]. Adversary List: []
___Train Local_ResNet_18,  epoch 291, local model 34, internal_epoch   1,  Average loss: 0.0046, Accuracy: 317/349 (90.8309%)
___Train Local_ResNet_18,  epoch 291, local model 34, internal_epoch   2,  Average loss: 0.0012, Accuracy: 343/349 (98.2808%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.6743, Accuracy: 3836/10000 (38.3600%)
___Train Local_ResNet_18,  epoch 291, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 272/299 (90.9699%)
___Train Local_ResNet_18,  epoch 291, local model 55, internal_epoch   2,  Average loss: 0.0009, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.6911, Accuracy: 2701/10000 (27.0100%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   1,  Average loss: 0.0058, Accuracy: 664/708 (93.7853%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   2,  Average loss: 0.0257, Accuracy: 396/708 (55.9322%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 268.0497, Accuracy: 1597/10000 (15.9700%)
___Train Local_ResNet_18,  epoch 291, local model 49, internal_epoch   1,  Average loss: 0.0028, Accuracy: 405/426 (95.0704%)
___Train Local_ResNet_18,  epoch 291, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 421/426 (98.8263%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 2.4009, Accuracy: 5011/10000 (50.1100%)
___Train Local_ResNet_18,  epoch 291, local model 88, internal_epoch   1,  Average loss: 0.0060, Accuracy: 389/447 (87.0246%)
___Train Local_ResNet_18,  epoch 291, local model 88, internal_epoch   2,  Average loss: 0.0024, Accuracy: 424/447 (94.8546%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.6074, Accuracy: 2809/10000 (28.0900%)
___Train Local_ResNet_18,  epoch 291, local model 20, internal_epoch   1,  Average loss: 0.0055, Accuracy: 321/362 (88.6740%)
___Train Local_ResNet_18,  epoch 291, local model 20, internal_epoch   2,  Average loss: 0.0012, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.9858, Accuracy: 3069/10000 (30.6900%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   1,  Average loss: 0.0039, Accuracy: 490/534 (91.7603%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   2,  Average loss: 0.0035, Accuracy: 493/534 (92.3221%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 4.1673, Accuracy: 2934/10000 (29.3400%)
___Train Local_ResNet_18,  epoch 291, local model 16, internal_epoch   1,  Average loss: 0.0024, Accuracy: 745/773 (96.3777%)
___Train Local_ResNet_18,  epoch 291, local model 16, internal_epoch   2,  Average loss: 0.0105, Accuracy: 650/773 (84.0880%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 24.6483, Accuracy: 1105/10000 (11.0500%)
___Train Local_ResNet_18,  epoch 291, local model 35, internal_epoch   1,  Average loss: 0.0066, Accuracy: 372/419 (88.7828%)
___Train Local_ResNet_18,  epoch 291, local model 35, internal_epoch   2,  Average loss: 0.0042, Accuracy: 391/419 (93.3174%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.9969, Accuracy: 3220/10000 (32.2000%)
___Train Local_ResNet_18,  epoch 291, local model 71, internal_epoch   1,  Average loss: 0.0033, Accuracy: 1088/1166 (93.3105%)
___Train Local_ResNet_18,  epoch 291, local model 71, internal_epoch   2,  Average loss: 0.0067, Accuracy: 1013/1166 (86.8782%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.5330, Accuracy: 3665/10000 (36.6500%)
time spent on training: 54.19724726676941
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [349, 299, 708, 426, 447, 362, 534, 773, 419, 1166]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 1. 1. 0. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 291: Average loss: 0.6370, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 291: Average loss: 6.3051, Accuracy: 369/9000 (4.1000%)
Done in 91.74512672424316 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:292 choose agents : [84, 32, 75, 4, 70, 91, 28, 55, 47, 92]. Adversary List: []
___Train Local_ResNet_18,  epoch 292, local model 84, internal_epoch   1,  Average loss: 0.0023, Accuracy: 1014/1053 (96.2963%)
___Train Local_ResNet_18,  epoch 292, local model 84, internal_epoch   2,  Average loss: 0.0025, Accuracy: 998/1053 (94.7768%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.6386, Accuracy: 5781/10000 (57.8100%)
___Train Local_ResNet_18,  epoch 292, local model 32, internal_epoch   1,  Average loss: 0.0024, Accuracy: 786/824 (95.3883%)
___Train Local_ResNet_18,  epoch 292, local model 32, internal_epoch   2,  Average loss: 0.0021, Accuracy: 789/824 (95.7524%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 3.3422, Accuracy: 4428/10000 (44.2800%)
___Train Local_ResNet_18,  epoch 292, local model 75, internal_epoch   1,  Average loss: 0.0025, Accuracy: 562/578 (97.2318%)
___Train Local_ResNet_18,  epoch 292, local model 75, internal_epoch   2,  Average loss: 0.0121, Accuracy: 476/578 (82.3529%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 15.8585, Accuracy: 1443/10000 (14.4300%)
___Train Local_ResNet_18,  epoch 292, local model 4, internal_epoch   1,  Average loss: 0.0046, Accuracy: 510/557 (91.5619%)
___Train Local_ResNet_18,  epoch 292, local model 4, internal_epoch   2,  Average loss: 0.0036, Accuracy: 517/557 (92.8187%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.5993, Accuracy: 4913/10000 (49.1300%)
___Train Local_ResNet_18,  epoch 292, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 570/610 (93.4426%)
___Train Local_ResNet_18,  epoch 292, local model 70, internal_epoch   2,  Average loss: 0.0018, Accuracy: 594/610 (97.3770%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.3092, Accuracy: 4616/10000 (46.1600%)
___Train Local_ResNet_18,  epoch 292, local model 91, internal_epoch   1,  Average loss: 0.0033, Accuracy: 220/234 (94.0171%)
___Train Local_ResNet_18,  epoch 292, local model 91, internal_epoch   2,  Average loss: 0.0007, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.3829, Accuracy: 6031/10000 (60.3100%)
___Train Local_ResNet_18,  epoch 292, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 403/423 (95.2719%)
___Train Local_ResNet_18,  epoch 292, local model 28, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/423 (98.5816%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.6400, Accuracy: 5792/10000 (57.9200%)
___Train Local_ResNet_18,  epoch 292, local model 55, internal_epoch   1,  Average loss: 0.0040, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 292, local model 55, internal_epoch   2,  Average loss: 0.0005, Accuracy: 298/299 (99.6656%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 8.0969, Accuracy: 2138/10000 (21.3800%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   1,  Average loss: 0.0028, Accuracy: 621/654 (94.9541%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   2,  Average loss: 0.0034, Accuracy: 610/654 (93.2722%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.6589, Accuracy: 5198/10000 (51.9800%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   1,  Average loss: 0.0047, Accuracy: 733/796 (92.0854%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   2,  Average loss: 0.0076, Accuracy: 683/796 (85.8040%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 7.9348, Accuracy: 2234/10000 (22.3400%)
time spent on training: 56.92674922943115
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1053, 824, 578, 557, 610, 234, 423, 299, 654, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.52755416 0.22029167 0.7981473  0.22029167 1.         0.52755416
 1.         1.         0.71256796 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 292: Average loss: 0.6361, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 292: Average loss: 6.3178, Accuracy: 368/9000 (4.0889%)
Done in 94.21904873847961 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:293 choose agents : [12, 99, 32, 86, 68, 93, 55, 94, 84, 89]. Adversary List: []
___Train Local_ResNet_18,  epoch 293, local model 12, internal_epoch   1,  Average loss: 0.0063, Accuracy: 879/977 (89.9693%)
___Train Local_ResNet_18,  epoch 293, local model 12, internal_epoch   2,  Average loss: 0.0147, Accuracy: 704/977 (72.0573%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 11.6642, Accuracy: 1939/10000 (19.3900%)
___Train Local_ResNet_18,  epoch 293, local model 99, internal_epoch   1,  Average loss: 0.0040, Accuracy: 362/391 (92.5831%)
___Train Local_ResNet_18,  epoch 293, local model 99, internal_epoch   2,  Average loss: 0.0031, Accuracy: 380/391 (97.1867%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 3.0582, Accuracy: 3667/10000 (36.6700%)
___Train Local_ResNet_18,  epoch 293, local model 32, internal_epoch   1,  Average loss: 0.0026, Accuracy: 782/824 (94.9029%)
___Train Local_ResNet_18,  epoch 293, local model 32, internal_epoch   2,  Average loss: 0.0022, Accuracy: 783/824 (95.0243%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.4725, Accuracy: 5165/10000 (51.6500%)
___Train Local_ResNet_18,  epoch 293, local model 86, internal_epoch   1,  Average loss: 0.0030, Accuracy: 200/212 (94.3396%)
___Train Local_ResNet_18,  epoch 293, local model 86, internal_epoch   2,  Average loss: 0.0009, Accuracy: 211/212 (99.5283%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2027, Accuracy: 6615/10000 (66.1500%)
___Train Local_ResNet_18,  epoch 293, local model 68, internal_epoch   1,  Average loss: 0.0024, Accuracy: 401/416 (96.3942%)
___Train Local_ResNet_18,  epoch 293, local model 68, internal_epoch   2,  Average loss: 0.0008, Accuracy: 413/416 (99.2788%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2392, Accuracy: 6440/10000 (64.4000%)
___Train Local_ResNet_18,  epoch 293, local model 93, internal_epoch   1,  Average loss: 0.0024, Accuracy: 557/584 (95.3767%)
___Train Local_ResNet_18,  epoch 293, local model 93, internal_epoch   2,  Average loss: 0.0009, Accuracy: 577/584 (98.8014%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.6775, Accuracy: 5631/10000 (56.3100%)
___Train Local_ResNet_18,  epoch 293, local model 55, internal_epoch   1,  Average loss: 0.0044, Accuracy: 274/299 (91.6388%)
___Train Local_ResNet_18,  epoch 293, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 298/299 (99.6656%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 8.4599, Accuracy: 1873/10000 (18.7300%)
___Train Local_ResNet_18,  epoch 293, local model 94, internal_epoch   1,  Average loss: 0.0070, Accuracy: 178/203 (87.6847%)
___Train Local_ResNet_18,  epoch 293, local model 94, internal_epoch   2,  Average loss: 0.0029, Accuracy: 196/203 (96.5517%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 3.3713, Accuracy: 3333/10000 (33.3300%)
___Train Local_ResNet_18,  epoch 293, local model 84, internal_epoch   1,  Average loss: 0.0023, Accuracy: 1005/1053 (95.4416%)
___Train Local_ResNet_18,  epoch 293, local model 84, internal_epoch   2,  Average loss: 0.0036, Accuracy: 981/1053 (93.1624%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.5933, Accuracy: 4832/10000 (48.3200%)
___Train Local_ResNet_18,  epoch 293, local model 89, internal_epoch   1,  Average loss: 0.0055, Accuracy: 364/413 (88.1356%)
___Train Local_ResNet_18,  epoch 293, local model 89, internal_epoch   2,  Average loss: 0.0025, Accuracy: 394/413 (95.3995%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 4.1639, Accuracy: 2837/10000 (28.3700%)
time spent on training: 68.59290289878845
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [977, 391, 824, 212, 416, 584, 299, 203, 1053, 413]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.13327674 1.         0.13327674 0.42912713 1.
 1.         0.         0.74604955 0.99334029]
___Test Target_ResNet_18 poisoned: False, epoch: 293: Average loss: 0.6360, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 293: Average loss: 6.3112, Accuracy: 370/9000 (4.1111%)
Done in 105.67095446586609 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:294 choose agents : [85, 53, 21, 90, 35, 87, 11, 29, 63, 6]. Adversary List: []
___Train Local_ResNet_18,  epoch 294, local model 85, internal_epoch   1,  Average loss: 0.0061, Accuracy: 315/364 (86.5385%)
___Train Local_ResNet_18,  epoch 294, local model 85, internal_epoch   2,  Average loss: 0.0016, Accuracy: 355/364 (97.5275%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 4.8734, Accuracy: 2498/10000 (24.9800%)
___Train Local_ResNet_18,  epoch 294, local model 53, internal_epoch   1,  Average loss: 0.0030, Accuracy: 590/625 (94.4000%)
___Train Local_ResNet_18,  epoch 294, local model 53, internal_epoch   2,  Average loss: 0.0020, Accuracy: 603/625 (96.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 2.4967, Accuracy: 4659/10000 (46.5900%)
___Train Local_ResNet_18,  epoch 294, local model 21, internal_epoch   1,  Average loss: 0.0030, Accuracy: 252/262 (96.1832%)
___Train Local_ResNet_18,  epoch 294, local model 21, internal_epoch   2,  Average loss: 0.0026, Accuracy: 260/262 (99.2366%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 3.7813, Accuracy: 3673/10000 (36.7300%)
___Train Local_ResNet_18,  epoch 294, local model 90, internal_epoch   1,  Average loss: 0.0158, Accuracy: 533/578 (92.2145%)
___Train Local_ResNet_18,  epoch 294, local model 90, internal_epoch   2,  Average loss: 0.0116, Accuracy: 479/578 (82.8720%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 25.3853, Accuracy: 1117/10000 (11.1700%)
___Train Local_ResNet_18,  epoch 294, local model 35, internal_epoch   1,  Average loss: 0.0053, Accuracy: 375/419 (89.4988%)
___Train Local_ResNet_18,  epoch 294, local model 35, internal_epoch   2,  Average loss: 0.0021, Accuracy: 399/419 (95.2267%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.4663, Accuracy: 2775/10000 (27.7500%)
___Train Local_ResNet_18,  epoch 294, local model 87, internal_epoch   1,  Average loss: 0.0077, Accuracy: 342/397 (86.1461%)
___Train Local_ResNet_18,  epoch 294, local model 87, internal_epoch   2,  Average loss: 0.0088, Accuracy: 339/397 (85.3904%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 6.2698, Accuracy: 2354/10000 (23.5400%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 294, local model 11, internal_epoch   1,  Average loss: 0.0028, Accuracy: 522/546 (95.6044%)
___Train Local_ResNet_18,  epoch 294, local model 11, internal_epoch   2,  Average loss: 0.0029, Accuracy: 518/546 (94.8718%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.5318, Accuracy: 5763/10000 (57.6300%)
___Train Local_ResNet_18,  epoch 294, local model 29, internal_epoch   1,  Average loss: 0.0046, Accuracy: 774/848 (91.2736%)
___Train Local_ResNet_18,  epoch 294, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 795/848 (93.7500%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 7.4587, Accuracy: 2207/10000 (22.0700%)
___Train Local_ResNet_18,  epoch 294, local model 63, internal_epoch   1,  Average loss: 0.0021, Accuracy: 720/752 (95.7447%)
___Train Local_ResNet_18,  epoch 294, local model 63, internal_epoch   2,  Average loss: 0.0017, Accuracy: 721/752 (95.8777%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.0735, Accuracy: 6744/10000 (67.4400%)
___Train Local_ResNet_18,  epoch 294, local model 6, internal_epoch   1,  Average loss: 0.0039, Accuracy: 487/520 (93.6538%)
___Train Local_ResNet_18,  epoch 294, local model 6, internal_epoch   2,  Average loss: 0.0081, Accuracy: 472/520 (90.7692%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 6.5153, Accuracy: 1921/10000 (19.2100%)
time spent on training: 67.41655611991882
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10280549802297119  data num: [364, 625, 262, 578, 419, 397, 546, 848, 752, 520]
[foolsgold agg] considering poison per batch poison_fraction: 0.008031679533044624
[foolsgold agg] wv: [0.86817393 1.         0.85622381 1.         1.         1.
 0.86817393 1.         1.         0.85622381]
___Test Target_ResNet_18 poisoned: False, epoch: 294: Average loss: 0.6353, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 294: Average loss: 6.2779, Accuracy: 382/9000 (4.2444%)
Done in 106.77842092514038 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:295 choose agents : [12, 32, 40, 95, 41, 87, 33, 94, 45, 52]. Adversary List: []
___Train Local_ResNet_18,  epoch 295, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 896/977 (91.7093%)
___Train Local_ResNet_18,  epoch 295, local model 12, internal_epoch   2,  Average loss: 0.0083, Accuracy: 820/977 (83.9304%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 3.4861, Accuracy: 3719/10000 (37.1900%)
___Train Local_ResNet_18,  epoch 295, local model 32, internal_epoch   1,  Average loss: 0.0020, Accuracy: 793/824 (96.2379%)
___Train Local_ResNet_18,  epoch 295, local model 32, internal_epoch   2,  Average loss: 0.0018, Accuracy: 799/824 (96.9660%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 1.9920, Accuracy: 5602/10000 (56.0200%)
___Train Local_ResNet_18,  epoch 295, local model 40, internal_epoch   1,  Average loss: 0.0044, Accuracy: 592/652 (90.7975%)
___Train Local_ResNet_18,  epoch 295, local model 40, internal_epoch   2,  Average loss: 0.0104, Accuracy: 559/652 (85.7362%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 5.7364, Accuracy: 2799/10000 (27.9900%)
___Train Local_ResNet_18,  epoch 295, local model 95, internal_epoch   1,  Average loss: 0.0079, Accuracy: 473/569 (83.1283%)
___Train Local_ResNet_18,  epoch 295, local model 95, internal_epoch   2,  Average loss: 0.0046, Accuracy: 512/569 (89.9824%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 4.6954, Accuracy: 3032/10000 (30.3200%)
___Train Local_ResNet_18,  epoch 295, local model 41, internal_epoch   1,  Average loss: 0.0190, Accuracy: 447/513 (87.1345%)
___Train Local_ResNet_18,  epoch 295, local model 41, internal_epoch   2,  Average loss: 0.0085, Accuracy: 424/513 (82.6511%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 7.0247, Accuracy: 2442/10000 (24.4200%)
___Train Local_ResNet_18,  epoch 295, local model 87, internal_epoch   1,  Average loss: 0.0074, Accuracy: 334/397 (84.1310%)
___Train Local_ResNet_18,  epoch 295, local model 87, internal_epoch   2,  Average loss: 0.0057, Accuracy: 358/397 (90.1763%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.3651, Accuracy: 4488/10000 (44.8800%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 295, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 489/527 (92.7894%)
___Train Local_ResNet_18,  epoch 295, local model 33, internal_epoch   2,  Average loss: 0.0071, Accuracy: 471/527 (89.3738%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.4605, Accuracy: 4395/10000 (43.9500%)
___Train Local_ResNet_18,  epoch 295, local model 94, internal_epoch   1,  Average loss: 0.0060, Accuracy: 173/203 (85.2217%)
___Train Local_ResNet_18,  epoch 295, local model 94, internal_epoch   2,  Average loss: 0.0014, Accuracy: 200/203 (98.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 3.5569, Accuracy: 3347/10000 (33.4700%)
___Train Local_ResNet_18,  epoch 295, local model 45, internal_epoch   1,  Average loss: 0.0056, Accuracy: 471/529 (89.0359%)
___Train Local_ResNet_18,  epoch 295, local model 45, internal_epoch   2,  Average loss: 0.0075, Accuracy: 456/529 (86.2004%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 5.8688, Accuracy: 2814/10000 (28.1400%)
___Train Local_ResNet_18,  epoch 295, local model 52, internal_epoch   1,  Average loss: 0.0061, Accuracy: 190/214 (88.7850%)
___Train Local_ResNet_18,  epoch 295, local model 52, internal_epoch   2,  Average loss: 0.0011, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.6932, Accuracy: 4555/10000 (45.5500%)
time spent on training: 64.67581510543823
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09750231267345051  data num: [977, 824, 652, 569, 513, 397, 527, 203, 529, 214]
[foolsgold agg] considering poison per batch poison_fraction: 0.007617368177613321
[foolsgold agg] wv: [0.86904576 1.         0.01376789 1.         0.         0.01376789
 1.         0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 295: Average loss: 0.6368, Accuracy: 7884/10000 (78.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 295: Average loss: 6.2650, Accuracy: 385/9000 (4.2778%)
Done in 103.52855563163757 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:296 choose agents : [32, 46, 40, 24, 98, 10, 59, 96, 71, 78]. Adversary List: []
___Train Local_ResNet_18,  epoch 296, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 785/824 (95.2670%)
___Train Local_ResNet_18,  epoch 296, local model 32, internal_epoch   2,  Average loss: 0.0018, Accuracy: 794/824 (96.3592%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.8971, Accuracy: 5776/10000 (57.7600%)
___Train Local_ResNet_18,  epoch 296, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 589/601 (98.0033%)
___Train Local_ResNet_18,  epoch 296, local model 46, internal_epoch   2,  Average loss: 0.0004, Accuracy: 598/601 (99.5008%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.8494, Accuracy: 5329/10000 (53.2900%)
___Train Local_ResNet_18,  epoch 296, local model 40, internal_epoch   1,  Average loss: 0.0077, Accuracy: 570/652 (87.4233%)
___Train Local_ResNet_18,  epoch 296, local model 40, internal_epoch   2,  Average loss: 0.0188, Accuracy: 471/652 (72.2393%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 20.2939, Accuracy: 1253/10000 (12.5300%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   1,  Average loss: 0.0032, Accuracy: 300/320 (93.7500%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   2,  Average loss: 0.0003, Accuracy: 319/320 (99.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.9956, Accuracy: 5226/10000 (52.2600%)
___Train Local_ResNet_18,  epoch 296, local model 98, internal_epoch   1,  Average loss: 0.0040, Accuracy: 738/802 (92.0200%)
___Train Local_ResNet_18,  epoch 296, local model 98, internal_epoch   2,  Average loss: 0.0065, Accuracy: 709/802 (88.4040%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 8.9763, Accuracy: 2821/10000 (28.2100%)
___Train Local_ResNet_18,  epoch 296, local model 10, internal_epoch   1,  Average loss: 0.0057, Accuracy: 669/752 (88.9628%)
___Train Local_ResNet_18,  epoch 296, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 689/752 (91.6223%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 5.2952, Accuracy: 3128/10000 (31.2800%)
___Train Local_ResNet_18,  epoch 296, local model 59, internal_epoch   1,  Average loss: 0.0036, Accuracy: 604/642 (94.0810%)
___Train Local_ResNet_18,  epoch 296, local model 59, internal_epoch   2,  Average loss: 0.0207, Accuracy: 477/642 (74.2991%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 188.6966, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   1,  Average loss: 0.0027, Accuracy: 682/708 (96.3277%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   2,  Average loss: 0.0173, Accuracy: 511/708 (72.1751%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 472.7288, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 296, local model 71, internal_epoch   1,  Average loss: 0.0029, Accuracy: 1093/1166 (93.7393%)
___Train Local_ResNet_18,  epoch 296, local model 71, internal_epoch   2,  Average loss: 0.0067, Accuracy: 1013/1166 (86.8782%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 4.6840, Accuracy: 3950/10000 (39.5000%)
___Train Local_ResNet_18,  epoch 296, local model 78, internal_epoch   1,  Average loss: 0.0047, Accuracy: 228/255 (89.4118%)
___Train Local_ResNet_18,  epoch 296, local model 78, internal_epoch   2,  Average loss: 0.0010, Accuracy: 250/255 (98.0392%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.7925, Accuracy: 4329/10000 (43.2900%)
time spent on training: 56.09749913215637
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [824, 601, 652, 320, 802, 752, 642, 708, 1166, 255]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.99730149 1.         0.90553216 0.83045793 1.         1.
 0.         0.90553216 0.83045793 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 296: Average loss: 0.6370, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 296: Average loss: 6.2751, Accuracy: 386/9000 (4.2889%)
Done in 93.48187804222107 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:297 choose agents : [95, 43, 1, 8, 17, 19, 94, 71, 63, 23]. Adversary List: []
___Train Local_ResNet_18,  epoch 297, local model 95, internal_epoch   1,  Average loss: 0.0080, Accuracy: 474/569 (83.3040%)
___Train Local_ResNet_18,  epoch 297, local model 95, internal_epoch   2,  Average loss: 0.0041, Accuracy: 526/569 (92.4429%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 3.8534, Accuracy: 3287/10000 (32.8700%)
___Train Local_ResNet_18,  epoch 297, local model 43, internal_epoch   1,  Average loss: 0.0057, Accuracy: 307/345 (88.9855%)
___Train Local_ResNet_18,  epoch 297, local model 43, internal_epoch   2,  Average loss: 0.0015, Accuracy: 338/345 (97.9710%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.6938, Accuracy: 3378/10000 (33.7800%)
___Train Local_ResNet_18,  epoch 297, local model 1, internal_epoch   1,  Average loss: 0.0032, Accuracy: 607/641 (94.6958%)
___Train Local_ResNet_18,  epoch 297, local model 1, internal_epoch   2,  Average loss: 0.0090, Accuracy: 620/641 (96.7239%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 2.5357, Accuracy: 4451/10000 (44.5100%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   1,  Average loss: 0.0028, Accuracy: 506/534 (94.7566%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   2,  Average loss: 0.0028, Accuracy: 508/534 (95.1311%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.9751, Accuracy: 4963/10000 (49.6300%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 297, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 507/526 (96.3878%)
___Train Local_ResNet_18,  epoch 297, local model 17, internal_epoch   2,  Average loss: 0.0032, Accuracy: 502/526 (95.4373%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.6983, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch 297, local model 19, internal_epoch   1,  Average loss: 0.0129, Accuracy: 130/173 (75.1445%)
___Train Local_ResNet_18,  epoch 297, local model 19, internal_epoch   2,  Average loss: 0.0015, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 5.9236, Accuracy: 3201/10000 (32.0100%)
___Train Local_ResNet_18,  epoch 297, local model 94, internal_epoch   1,  Average loss: 0.0067, Accuracy: 178/203 (87.6847%)
___Train Local_ResNet_18,  epoch 297, local model 94, internal_epoch   2,  Average loss: 0.0008, Accuracy: 201/203 (99.0148%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.6600, Accuracy: 2485/10000 (24.8500%)
___Train Local_ResNet_18,  epoch 297, local model 71, internal_epoch   1,  Average loss: 0.0038, Accuracy: 1084/1166 (92.9674%)
___Train Local_ResNet_18,  epoch 297, local model 71, internal_epoch   2,  Average loss: 0.0108, Accuracy: 935/1166 (80.1887%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 9.1371, Accuracy: 2193/10000 (21.9300%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   1,  Average loss: 0.0020, Accuracy: 728/752 (96.8085%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   2,  Average loss: 0.0010, Accuracy: 742/752 (98.6702%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.2292, Accuracy: 6488/10000 (64.8800%)
___Train Local_ResNet_18,  epoch 297, local model 23, internal_epoch   1,  Average loss: 0.0031, Accuracy: 232/248 (93.5484%)
___Train Local_ResNet_18,  epoch 297, local model 23, internal_epoch   2,  Average loss: 0.0007, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.4722, Accuracy: 5739/10000 (57.3900%)
time spent on training: 62.6214861869812
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10199728524335855  data num: [569, 345, 641, 534, 526, 173, 203, 1166, 752, 248]
[foolsgold agg] considering poison per batch poison_fraction: 0.007968537909637387
[foolsgold agg] wv: [1. 0. 1. 1. 1. 0. 0. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 297: Average loss: 0.6375, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 297: Average loss: 6.2751, Accuracy: 388/9000 (4.3111%)
Done in 100.48911952972412 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:298 choose agents : [38, 15, 57, 55, 80, 77, 88, 43, 28, 98]. Adversary List: []
___Train Local_ResNet_18,  epoch 298, local model 38, internal_epoch   1,  Average loss: 0.0023, Accuracy: 724/756 (95.7672%)
___Train Local_ResNet_18,  epoch 298, local model 38, internal_epoch   2,  Average loss: 0.0023, Accuracy: 724/756 (95.7672%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.9845, Accuracy: 5425/10000 (54.2500%)
___Train Local_ResNet_18,  epoch 298, local model 15, internal_epoch   1,  Average loss: 0.0076, Accuracy: 293/341 (85.9238%)
___Train Local_ResNet_18,  epoch 298, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 312/341 (91.4956%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.5627, Accuracy: 3389/10000 (33.8900%)
___Train Local_ResNet_18,  epoch 298, local model 57, internal_epoch   1,  Average loss: 0.0043, Accuracy: 268/290 (92.4138%)
___Train Local_ResNet_18,  epoch 298, local model 57, internal_epoch   2,  Average loss: 0.0005, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.3954, Accuracy: 4928/10000 (49.2800%)
___Train Local_ResNet_18,  epoch 298, local model 55, internal_epoch   1,  Average loss: 0.0035, Accuracy: 281/299 (93.9799%)
___Train Local_ResNet_18,  epoch 298, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 10.3623, Accuracy: 1945/10000 (19.4500%)
___Train Local_ResNet_18,  epoch 298, local model 80, internal_epoch   1,  Average loss: 0.0051, Accuracy: 325/363 (89.5317%)
___Train Local_ResNet_18,  epoch 298, local model 80, internal_epoch   2,  Average loss: 0.0015, Accuracy: 356/363 (98.0716%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.8120, Accuracy: 4183/10000 (41.8300%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 298, local model 77, internal_epoch   1,  Average loss: 0.0019, Accuracy: 477/496 (96.1694%)
___Train Local_ResNet_18,  epoch 298, local model 77, internal_epoch   2,  Average loss: 0.0010, Accuracy: 490/496 (98.7903%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.4698, Accuracy: 6034/10000 (60.3400%)
___Train Local_ResNet_18,  epoch 298, local model 88, internal_epoch   1,  Average loss: 0.0065, Accuracy: 393/447 (87.9195%)
___Train Local_ResNet_18,  epoch 298, local model 88, internal_epoch   2,  Average loss: 0.0027, Accuracy: 420/447 (93.9597%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 5.0014, Accuracy: 2717/10000 (27.1700%)
___Train Local_ResNet_18,  epoch 298, local model 43, internal_epoch   1,  Average loss: 0.0051, Accuracy: 312/345 (90.4348%)
___Train Local_ResNet_18,  epoch 298, local model 43, internal_epoch   2,  Average loss: 0.0017, Accuracy: 334/345 (96.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 5.5530, Accuracy: 3146/10000 (31.4600%)
___Train Local_ResNet_18,  epoch 298, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 409/423 (96.6903%)
___Train Local_ResNet_18,  epoch 298, local model 28, internal_epoch   2,  Average loss: 0.0006, Accuracy: 421/423 (99.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.3894, Accuracy: 6276/10000 (62.7600%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   1,  Average loss: 0.0029, Accuracy: 757/802 (94.3890%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   2,  Average loss: 0.0036, Accuracy: 746/802 (93.0175%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.5105, Accuracy: 4888/10000 (48.8800%)
time spent on training: 64.20813250541687
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10872424375274002  data num: [756, 341, 290, 299, 363, 496, 447, 345, 423, 802]
[foolsgold agg] considering poison per batch poison_fraction: 0.008494081543182814
[foolsgold agg] wv: [1.         1.         0.23266835 1.         1.         0.23266835
 0.36131804 0.         0.36131804 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 298: Average loss: 0.6376, Accuracy: 7887/10000 (78.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 298: Average loss: 6.2679, Accuracy: 392/9000 (4.3556%)
Done in 106.72098135948181 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:299 choose agents : [51, 96, 59, 53, 85, 64, 4, 80, 66, 21]. Adversary List: []
___Train Local_ResNet_18,  epoch 299, local model 51, internal_epoch   1,  Average loss: 0.0044, Accuracy: 433/479 (90.3967%)
___Train Local_ResNet_18,  epoch 299, local model 51, internal_epoch   2,  Average loss: 0.0016, Accuracy: 460/479 (96.0334%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 6.2682, Accuracy: 2786/10000 (27.8600%)
___Train Local_ResNet_18,  epoch 299, local model 96, internal_epoch   1,  Average loss: 0.0045, Accuracy: 670/708 (94.6328%)
___Train Local_ResNet_18,  epoch 299, local model 96, internal_epoch   2,  Average loss: 0.0253, Accuracy: 440/708 (62.1469%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 49.4983, Accuracy: 1393/10000 (13.9300%)
___Train Local_ResNet_18,  epoch 299, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 608/642 (94.7040%)
___Train Local_ResNet_18,  epoch 299, local model 59, internal_epoch   2,  Average loss: 0.0054, Accuracy: 622/642 (96.8847%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.8712, Accuracy: 3131/10000 (31.3100%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   1,  Average loss: 0.0028, Accuracy: 599/625 (95.8400%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   2,  Average loss: 0.0016, Accuracy: 605/625 (96.8000%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.3648, Accuracy: 4775/10000 (47.7500%)
___Train Local_ResNet_18,  epoch 299, local model 85, internal_epoch   1,  Average loss: 0.0051, Accuracy: 335/364 (92.0330%)
___Train Local_ResNet_18,  epoch 299, local model 85, internal_epoch   2,  Average loss: 0.0021, Accuracy: 352/364 (96.7033%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.6538, Accuracy: 3371/10000 (33.7100%)
___Train Local_ResNet_18,  epoch 299, local model 64, internal_epoch   1,  Average loss: 0.0034, Accuracy: 640/686 (93.2945%)
___Train Local_ResNet_18,  epoch 299, local model 64, internal_epoch   2,  Average loss: 0.0025, Accuracy: 655/686 (95.4810%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.5220, Accuracy: 4787/10000 (47.8700%)
___Train Local_ResNet_18,  epoch 299, local model 4, internal_epoch   1,  Average loss: 0.0039, Accuracy: 511/557 (91.7415%)
___Train Local_ResNet_18,  epoch 299, local model 4, internal_epoch   2,  Average loss: 0.0027, Accuracy: 531/557 (95.3321%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.1613, Accuracy: 4646/10000 (46.4600%)
___Train Local_ResNet_18,  epoch 299, local model 80, internal_epoch   1,  Average loss: 0.0048, Accuracy: 327/363 (90.0826%)
___Train Local_ResNet_18,  epoch 299, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 358/363 (98.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.5019, Accuracy: 4697/10000 (46.9700%)
___Train Local_ResNet_18,  epoch 299, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 523/555 (94.2342%)
___Train Local_ResNet_18,  epoch 299, local model 66, internal_epoch   2,  Average loss: 0.0008, Accuracy: 550/555 (99.0991%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.0656, Accuracy: 4215/10000 (42.1500%)
___Train Local_ResNet_18,  epoch 299, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 243/262 (92.7481%)
___Train Local_ResNet_18,  epoch 299, local model 21, internal_epoch   2,  Average loss: 0.0006, Accuracy: 258/262 (98.4733%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.3881, Accuracy: 4539/10000 (45.3900%)
time spent on training: 55.050148725509644
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [479, 708, 642, 625, 364, 686, 557, 363, 555, 262]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 0. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 299: Average loss: 0.6379, Accuracy: 7887/10000 (78.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 299: Average loss: 6.2567, Accuracy: 390/9000 (4.3333%)
Done in 94.63090777397156 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:300 choose agents : [17, 39, 59, 89, 57, 76, 93, 68, 65, 73]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 300, local model 17, internal_epoch   1,  Average loss: 0.0017, Accuracy: 517/526 (98.2890%)
___Train Local_ResNet_18,  epoch 300, local model 17, internal_epoch   2,  Average loss: 0.0007, Accuracy: 521/526 (99.0494%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.3018, Accuracy: 6477/10000 (64.7700%)
___Train Local_ResNet_18,  epoch 300, local model 39, internal_epoch   1,  Average loss: 0.0047, Accuracy: 197/217 (90.7834%)
___Train Local_ResNet_18,  epoch 300, local model 39, internal_epoch   2,  Average loss: 0.0006, Accuracy: 217/217 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 2.4379, Accuracy: 4644/10000 (46.4400%)
___Train Local_ResNet_18,  epoch 300, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 614/642 (95.6386%)
___Train Local_ResNet_18,  epoch 300, local model 59, internal_epoch   2,  Average loss: 0.0176, Accuracy: 475/642 (73.9875%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 66.8158, Accuracy: 1476/10000 (14.7600%)
___Train Local_ResNet_18,  epoch 300, local model 89, internal_epoch   1,  Average loss: 0.0068, Accuracy: 358/413 (86.6828%)
___Train Local_ResNet_18,  epoch 300, local model 89, internal_epoch   2,  Average loss: 0.0024, Accuracy: 397/413 (96.1259%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 4.2945, Accuracy: 2949/10000 (29.4900%)
___Train Local_ResNet_18,  epoch 300, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 263/290 (90.6897%)
___Train Local_ResNet_18,  epoch 300, local model 57, internal_epoch   2,  Average loss: 0.0007, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 2.9302, Accuracy: 4540/10000 (45.4000%)
___Train Local_ResNet_18,  epoch 300, local model 76, internal_epoch   1,  Average loss: 0.0276, Accuracy: 64/65 (98.4615%)
___Train Local_ResNet_18,  epoch 300, local model 76, internal_epoch   2,  Average loss: 0.0461, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 0.8517, Accuracy: 7363/10000 (73.6300%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   1,  Average loss: 0.0026, Accuracy: 550/584 (94.1781%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   2,  Average loss: 0.0036, Accuracy: 561/584 (96.0616%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.9950, Accuracy: 5266/10000 (52.6600%)
___Train Local_ResNet_18,  epoch 300, local model 68, internal_epoch   1,  Average loss: 0.0024, Accuracy: 403/416 (96.8750%)
___Train Local_ResNet_18,  epoch 300, local model 68, internal_epoch   2,  Average loss: 0.0006, Accuracy: 414/416 (99.5192%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.4145, Accuracy: 6203/10000 (62.0300%)
___Train Local_ResNet_18,  epoch 300, local model 65, internal_epoch   1,  Average loss: 0.0036, Accuracy: 293/314 (93.3121%)
___Train Local_ResNet_18,  epoch 300, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 314/314 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.0808, Accuracy: 3716/10000 (37.1600%)
___Train Local_ResNet_18,  epoch 300, local model 73, internal_epoch   1,  Average loss: 0.0096, Accuracy: 411/500 (82.2000%)
___Train Local_ResNet_18,  epoch 300, local model 73, internal_epoch   2,  Average loss: 0.0039, Accuracy: 465/500 (93.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.4029, Accuracy: 3780/10000 (37.8000%)
time spent on training: 63.69332695007324
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13259389967229646  data num: [526, 217, 642, 413, 290, 65, 584, 416, 314, 500]
[foolsgold agg] considering poison per batch poison_fraction: 0.01035889841189816
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 0. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 300: Average loss: 0.6382, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 300: Average loss: 6.2479, Accuracy: 394/9000 (4.3778%)
Done in 101.55627608299255 sec.
Saving all the graphs.
This run has a label: Nov.13_08.11.12. Visdom environment: cifar
