current path: saved_models/model_cifar_Nov.13_08.32.54
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.1 and current epoch is 201
create model done
Poisoned following participants: [17, 33, 77, 11]
We use following environment for graphs:  cifar
----------------------------------Start one training epoch------------------------------------------
Server Epoch:201 choose agents : [37, 53, 39, 11, 57, 63, 48, 50, 72, 88]. Adversary List: []
___Train Local_ResNet_18,  epoch 201, local model 37, internal_epoch   1,  Average loss: 0.0088, Accuracy: 601/725 (82.8966%)
___Train Local_ResNet_18,  epoch 201, local model 37, internal_epoch   2,  Average loss: 0.0163, Accuracy: 523/725 (72.1379%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 20.8439, Accuracy: 2458/10000 (24.5800%)
___Train Local_ResNet_18,  epoch 201, local model 53, internal_epoch   1,  Average loss: 0.0048, Accuracy: 563/625 (90.0800%)
___Train Local_ResNet_18,  epoch 201, local model 53, internal_epoch   2,  Average loss: 0.0037, Accuracy: 578/625 (92.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 5.2187, Accuracy: 2668/10000 (26.6800%)
___Train Local_ResNet_18,  epoch 201, local model 39, internal_epoch   1,  Average loss: 0.0081, Accuracy: 182/217 (83.8710%)
___Train Local_ResNet_18,  epoch 201, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.2931, Accuracy: 3033/10000 (30.3300%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 201, local model 11, internal_epoch   1,  Average loss: 0.0036, Accuracy: 509/546 (93.2234%)
___Train Local_ResNet_18,  epoch 201, local model 11, internal_epoch   2,  Average loss: 0.0023, Accuracy: 521/546 (95.4212%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.1798, Accuracy: 5032/10000 (50.3200%)
___Train Local_ResNet_18,  epoch 201, local model 57, internal_epoch   1,  Average loss: 0.0064, Accuracy: 251/290 (86.5517%)
___Train Local_ResNet_18,  epoch 201, local model 57, internal_epoch   2,  Average loss: 0.0012, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.9020, Accuracy: 3813/10000 (38.1300%)
___Train Local_ResNet_18,  epoch 201, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 703/752 (93.4840%)
___Train Local_ResNet_18,  epoch 201, local model 63, internal_epoch   2,  Average loss: 0.0028, Accuracy: 709/752 (94.2819%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.5848, Accuracy: 4765/10000 (47.6500%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   1,  Average loss: 0.0063, Accuracy: 327/378 (86.5079%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   2,  Average loss: 0.0024, Accuracy: 358/378 (94.7090%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.1402, Accuracy: 3967/10000 (39.6700%)
___Train Local_ResNet_18,  epoch 201, local model 50, internal_epoch   1,  Average loss: 0.0027, Accuracy: 384/401 (95.7606%)
___Train Local_ResNet_18,  epoch 201, local model 50, internal_epoch   2,  Average loss: 0.0022, Accuracy: 391/401 (97.5062%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.6398, Accuracy: 3808/10000 (38.0800%)
___Train Local_ResNet_18,  epoch 201, local model 72, internal_epoch   1,  Average loss: 0.0081, Accuracy: 527/618 (85.2751%)
___Train Local_ResNet_18,  epoch 201, local model 72, internal_epoch   2,  Average loss: 0.0086, Accuracy: 541/618 (87.5405%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 9.2497, Accuracy: 3094/10000 (30.9400%)
___Train Local_ResNet_18,  epoch 201, local model 88, internal_epoch   1,  Average loss: 0.0086, Accuracy: 372/447 (83.2215%)
___Train Local_ResNet_18,  epoch 201, local model 88, internal_epoch   2,  Average loss: 0.0050, Accuracy: 400/447 (89.4855%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.3200, Accuracy: 2961/10000 (29.6100%)
time spent on training: 66.48836159706116
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10922184436887378  data num: [725, 625, 217, 546, 290, 752, 378, 401, 618, 447]
[foolsgold agg] considering poison per batch poison_fraction: 0.008532956591318263
[foolsgold agg] wv: [1.         0.94006333 1.         1.         0.         0.
 0.94006333 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 201: Average loss: 0.7347, Accuracy: 7602/10000 (76.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 201: Average loss: 6.6333, Accuracy: 199/9000 (2.2111%)
Done in 133.19824814796448 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:202 choose agents : [71, 92, 23, 26, 50, 14, 76, 49, 86, 58]. Adversary List: []
___Train Local_ResNet_18,  epoch 202, local model 71, internal_epoch   1,  Average loss: 0.0054, Accuracy: 1044/1166 (89.5369%)
___Train Local_ResNet_18,  epoch 202, local model 71, internal_epoch   2,  Average loss: 0.0099, Accuracy: 947/1166 (81.2178%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 23.2432, Accuracy: 1104/10000 (11.0400%)
___Train Local_ResNet_18,  epoch 202, local model 92, internal_epoch   1,  Average loss: 0.0080, Accuracy: 690/796 (86.6834%)
___Train Local_ResNet_18,  epoch 202, local model 92, internal_epoch   2,  Average loss: 0.0069, Accuracy: 687/796 (86.3065%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 3.2342, Accuracy: 3637/10000 (36.3700%)
___Train Local_ResNet_18,  epoch 202, local model 23, internal_epoch   1,  Average loss: 0.0051, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 202, local model 23, internal_epoch   2,  Average loss: 0.0012, Accuracy: 244/248 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 3.4379, Accuracy: 3435/10000 (34.3500%)
___Train Local_ResNet_18,  epoch 202, local model 26, internal_epoch   1,  Average loss: 0.0061, Accuracy: 418/468 (89.3162%)
___Train Local_ResNet_18,  epoch 202, local model 26, internal_epoch   2,  Average loss: 0.0070, Accuracy: 413/468 (88.2479%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 4.4116, Accuracy: 3350/10000 (33.5000%)
___Train Local_ResNet_18,  epoch 202, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 383/401 (95.5112%)
___Train Local_ResNet_18,  epoch 202, local model 50, internal_epoch   2,  Average loss: 0.0010, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.3941, Accuracy: 4946/10000 (49.4600%)
___Train Local_ResNet_18,  epoch 202, local model 14, internal_epoch   1,  Average loss: 0.0091, Accuracy: 259/318 (81.4465%)
___Train Local_ResNet_18,  epoch 202, local model 14, internal_epoch   2,  Average loss: 0.0027, Accuracy: 302/318 (94.9686%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 10.5865, Accuracy: 1788/10000 (17.8800%)
___Train Local_ResNet_18,  epoch 202, local model 76, internal_epoch   1,  Average loss: 0.0462, Accuracy: 57/65 (87.6923%)
___Train Local_ResNet_18,  epoch 202, local model 76, internal_epoch   2,  Average loss: 0.0028, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.4791, Accuracy: 3902/10000 (39.0200%)
___Train Local_ResNet_18,  epoch 202, local model 49, internal_epoch   1,  Average loss: 0.0040, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 202, local model 49, internal_epoch   2,  Average loss: 0.0018, Accuracy: 413/426 (96.9484%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.1061, Accuracy: 4946/10000 (49.4600%)
___Train Local_ResNet_18,  epoch 202, local model 86, internal_epoch   1,  Average loss: 0.0059, Accuracy: 189/212 (89.1509%)
___Train Local_ResNet_18,  epoch 202, local model 86, internal_epoch   2,  Average loss: 0.0023, Accuracy: 208/212 (98.1132%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 1.8635, Accuracy: 5494/10000 (54.9400%)
___Train Local_ResNet_18,  epoch 202, local model 58, internal_epoch   1,  Average loss: 0.0098, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 202, local model 58, internal_epoch   2,  Average loss: 0.0006, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 7.7867, Accuracy: 1667/10000 (16.6700%)
time spent on training: 53.222001791000366
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 796, 248, 468, 401, 318, 65, 426, 212, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.9001783  1.         1.         1.         0.
 0.         0.9001783  1.         0.76066661]
___Test Target_ResNet_18 poisoned: False, epoch: 202: Average loss: 0.7326, Accuracy: 7607/10000 (76.0700%)
___Test Target_ResNet_18 poisoned: True, epoch: 202: Average loss: 6.6549, Accuracy: 197/9000 (2.1889%)
Done in 136.2149941921234 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:203 choose agents : [17, 6, 94, 61, 33, 71, 8, 69, 89, 64]. Adversary List: [17]
poison local model 17 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   1,  Average loss: 0.0093, Accuracy: 469/526 (89.1635%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   2,  Average loss: 0.0062, Accuracy: 483/526 (91.8251%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   3,  Average loss: 0.0031, Accuracy: 499/526 (94.8669%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   4,  Average loss: 0.0024, Accuracy: 518/526 (98.4791%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   5,  Average loss: 0.0022, Accuracy: 519/526 (98.6692%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   6,  Average loss: 0.0008, Accuracy: 521/526 (99.0494%), train_poison_data_count: 45
Global model norm: 37.6625318930333.
Norm before scaling: 38.36791370087527. Distance: 8.76224249925341
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 1.6428, Accuracy: 5159/10000 (51.5900%)
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: 0.0748, Accuracy: 8841/9000 (98.2333%)
Scaling by  100
Scaled Norm after poisoning: 875.7127454251195, distance: 876.2243220203375
Total norm for 2 adversaries is: 875.7127454251195. distance: 876.2243220203375
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 477/520 (91.7308%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   2,  Average loss: 0.0035, Accuracy: 488/520 (93.8462%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.4608, Accuracy: 4077/10000 (40.7700%)
___Train Local_ResNet_18,  epoch 203, local model 94, internal_epoch   1,  Average loss: 0.0082, Accuracy: 167/203 (82.2660%)
___Train Local_ResNet_18,  epoch 203, local model 94, internal_epoch   2,  Average loss: 0.0054, Accuracy: 189/203 (93.1034%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.8901, Accuracy: 2656/10000 (26.5600%)
___Train Local_ResNet_18,  epoch 203, local model 61, internal_epoch   1,  Average loss: 0.0041, Accuracy: 546/590 (92.5424%)
___Train Local_ResNet_18,  epoch 203, local model 61, internal_epoch   2,  Average loss: 0.0048, Accuracy: 537/590 (91.0169%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.5426, Accuracy: 2672/10000 (26.7200%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 203, local model 33, internal_epoch   1,  Average loss: 0.0050, Accuracy: 477/527 (90.5123%)
___Train Local_ResNet_18,  epoch 203, local model 33, internal_epoch   2,  Average loss: 0.0048, Accuracy: 481/527 (91.2713%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 7.5697, Accuracy: 2112/10000 (21.1200%)
___Train Local_ResNet_18,  epoch 203, local model 71, internal_epoch   1,  Average loss: 0.0047, Accuracy: 1062/1166 (91.0806%)
___Train Local_ResNet_18,  epoch 203, local model 71, internal_epoch   2,  Average loss: 0.0071, Accuracy: 997/1166 (85.5060%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.4222, Accuracy: 3908/10000 (39.0800%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   1,  Average loss: 0.0045, Accuracy: 495/534 (92.6966%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   2,  Average loss: 0.0049, Accuracy: 490/534 (91.7603%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 2.1472, Accuracy: 4648/10000 (46.4800%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   1,  Average loss: 0.0072, Accuracy: 186/216 (86.1111%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 8.3531, Accuracy: 1302/10000 (13.0200%)
___Train Local_ResNet_18,  epoch 203, local model 89, internal_epoch   1,  Average loss: 0.0086, Accuracy: 343/413 (83.0508%)
___Train Local_ResNet_18,  epoch 203, local model 89, internal_epoch   2,  Average loss: 0.0039, Accuracy: 389/413 (94.1889%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 6.5186, Accuracy: 2215/10000 (22.1500%)
___Train Local_ResNet_18,  epoch 203, local model 64, internal_epoch   1,  Average loss: 0.0053, Accuracy: 600/686 (87.4636%)
___Train Local_ResNet_18,  epoch 203, local model 64, internal_epoch   2,  Average loss: 0.0058, Accuracy: 606/686 (88.3382%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.0114, Accuracy: 4230/10000 (42.3000%)
time spent on training: 133.3905644416809
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.19568853372979  data num: [526, 520, 203, 590, 527, 1166, 534, 216, 413, 686]
[foolsgold agg] considering poison per batch poison_fraction: 0.015288166697639844
[foolsgold agg] wv: [1.         0.97590126 0.97548269 1.         0.99059294 1.
 0.43145152 0.97590126 0.94714651 0.43145152]
___Test Target_ResNet_18 poisoned: False, epoch: 203: Average loss: 0.7257, Accuracy: 7620/10000 (76.2000%)
___Test Target_ResNet_18 poisoned: True, epoch: 203: Average loss: 6.6209, Accuracy: 208/9000 (2.3111%)
Done in 203.17773723602295 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:204 choose agents : [38, 77, 64, 29, 23, 83, 43, 56, 45, 1]. Adversary List: []
___Train Local_ResNet_18,  epoch 204, local model 38, internal_epoch   1,  Average loss: 0.0035, Accuracy: 707/756 (93.5185%)
___Train Local_ResNet_18,  epoch 204, local model 38, internal_epoch   2,  Average loss: 0.0041, Accuracy: 703/756 (92.9894%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 3.0801, Accuracy: 4564/10000 (45.6400%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 204, local model 77, internal_epoch   1,  Average loss: 0.0037, Accuracy: 457/496 (92.1371%)
___Train Local_ResNet_18,  epoch 204, local model 77, internal_epoch   2,  Average loss: 0.0024, Accuracy: 475/496 (95.7661%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.4971, Accuracy: 5668/10000 (56.6800%)
___Train Local_ResNet_18,  epoch 204, local model 64, internal_epoch   1,  Average loss: 0.0045, Accuracy: 619/686 (90.2332%)
___Train Local_ResNet_18,  epoch 204, local model 64, internal_epoch   2,  Average loss: 0.0047, Accuracy: 624/686 (90.9621%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 3.6700, Accuracy: 3065/10000 (30.6500%)
___Train Local_ResNet_18,  epoch 204, local model 29, internal_epoch   1,  Average loss: 0.0069, Accuracy: 748/848 (88.2075%)
___Train Local_ResNet_18,  epoch 204, local model 29, internal_epoch   2,  Average loss: 0.0074, Accuracy: 734/848 (86.5566%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 9.7828, Accuracy: 2056/10000 (20.5600%)
___Train Local_ResNet_18,  epoch 204, local model 23, internal_epoch   1,  Average loss: 0.0050, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 204, local model 23, internal_epoch   2,  Average loss: 0.0015, Accuracy: 241/248 (97.1774%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.6479, Accuracy: 4108/10000 (41.0800%)
___Train Local_ResNet_18,  epoch 204, local model 83, internal_epoch   1,  Average loss: 0.0029, Accuracy: 343/366 (93.7158%)
___Train Local_ResNet_18,  epoch 204, local model 83, internal_epoch   2,  Average loss: 0.0009, Accuracy: 362/366 (98.9071%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.2569, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 204, local model 43, internal_epoch   1,  Average loss: 0.0075, Accuracy: 299/345 (86.6667%)
___Train Local_ResNet_18,  epoch 204, local model 43, internal_epoch   2,  Average loss: 0.0023, Accuracy: 326/345 (94.4928%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 10.1149, Accuracy: 1901/10000 (19.0100%)
___Train Local_ResNet_18,  epoch 204, local model 56, internal_epoch   1,  Average loss: 0.0019, Accuracy: 715/743 (96.2315%)
___Train Local_ResNet_18,  epoch 204, local model 56, internal_epoch   2,  Average loss: 0.0018, Accuracy: 718/743 (96.6353%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.5555, Accuracy: 6007/10000 (60.0700%)
___Train Local_ResNet_18,  epoch 204, local model 45, internal_epoch   1,  Average loss: 0.0091, Accuracy: 451/529 (85.2552%)
___Train Local_ResNet_18,  epoch 204, local model 45, internal_epoch   2,  Average loss: 0.0107, Accuracy: 426/529 (80.5293%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 9.7026, Accuracy: 1595/10000 (15.9500%)
___Train Local_ResNet_18,  epoch 204, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 584/641 (91.1076%)
___Train Local_ResNet_18,  epoch 204, local model 1, internal_epoch   2,  Average loss: 0.0123, Accuracy: 515/641 (80.3432%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 6.4190, Accuracy: 3939/10000 (39.3900%)
time spent on training: 66.71605181694031
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08766348533050548  data num: [756, 496, 686, 848, 248, 366, 345, 743, 529, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.006848709791445741
[foolsgold agg] wv: [1.         1.         0.39244054 0.99413082 0.99413082 1.
 1.         1.         0.39244054 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 204: Average loss: 0.7236, Accuracy: 7629/10000 (76.2900%)
___Test Target_ResNet_18 poisoned: True, epoch: 204: Average loss: 6.6150, Accuracy: 212/9000 (2.3556%)
Done in 142.86313557624817 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:205 choose agents : [33, 50, 16, 12, 44, 86, 20, 49, 43, 28]. Adversary List: [33]
poison local model 33 index 1 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   1,  Average loss: 0.0100, Accuracy: 470/527 (89.1841%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   2,  Average loss: 0.0044, Accuracy: 494/527 (93.7381%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   3,  Average loss: 0.0023, Accuracy: 513/527 (97.3435%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   4,  Average loss: 0.0017, Accuracy: 516/527 (97.9127%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   5,  Average loss: 0.0024, Accuracy: 511/527 (96.9639%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   6,  Average loss: 0.0026, Accuracy: 509/527 (96.5844%), train_poison_data_count: 45
Global model norm: 37.66297430884957.
Norm before scaling: 38.128073646592746. Distance: 7.932349749373556
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.9991, Accuracy: 4838/10000 (48.3800%)
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: 0.1806, Accuracy: 8584/9000 (95.3778%)
Scaling by  100
Scaled Norm after poisoning: 792.3844552993199, distance: 793.2349510075813
Total norm for 1 adversaries is: 792.3844552993199. distance: 793.2349510075813
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 205, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 383/401 (95.5112%)
___Train Local_ResNet_18,  epoch 205, local model 50, internal_epoch   2,  Average loss: 0.0016, Accuracy: 389/401 (97.0075%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.3044, Accuracy: 4764/10000 (47.6400%)
___Train Local_ResNet_18,  epoch 205, local model 16, internal_epoch   1,  Average loss: 0.0063, Accuracy: 707/773 (91.4618%)
___Train Local_ResNet_18,  epoch 205, local model 16, internal_epoch   2,  Average loss: 0.0199, Accuracy: 517/773 (66.8823%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 71.1656, Accuracy: 1416/10000 (14.1600%)
___Train Local_ResNet_18,  epoch 205, local model 12, internal_epoch   1,  Average loss: 0.0069, Accuracy: 862/977 (88.2293%)
___Train Local_ResNet_18,  epoch 205, local model 12, internal_epoch   2,  Average loss: 0.0077, Accuracy: 823/977 (84.2375%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 10.8249, Accuracy: 2602/10000 (26.0200%)
___Train Local_ResNet_18,  epoch 205, local model 44, internal_epoch   1,  Average loss: 0.0049, Accuracy: 388/436 (88.9908%)
___Train Local_ResNet_18,  epoch 205, local model 44, internal_epoch   2,  Average loss: 0.0025, Accuracy: 414/436 (94.9541%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 3.2319, Accuracy: 3692/10000 (36.9200%)
___Train Local_ResNet_18,  epoch 205, local model 86, internal_epoch   1,  Average loss: 0.0051, Accuracy: 188/212 (88.6792%)
___Train Local_ResNet_18,  epoch 205, local model 86, internal_epoch   2,  Average loss: 0.0038, Accuracy: 208/212 (98.1132%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.5807, Accuracy: 5770/10000 (57.7000%)
___Train Local_ResNet_18,  epoch 205, local model 20, internal_epoch   1,  Average loss: 0.0079, Accuracy: 306/362 (84.5304%)
___Train Local_ResNet_18,  epoch 205, local model 20, internal_epoch   2,  Average loss: 0.0018, Accuracy: 347/362 (95.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 5.1867, Accuracy: 3158/10000 (31.5800%)
___Train Local_ResNet_18,  epoch 205, local model 49, internal_epoch   1,  Average loss: 0.0037, Accuracy: 399/426 (93.6620%)
___Train Local_ResNet_18,  epoch 205, local model 49, internal_epoch   2,  Average loss: 0.0011, Accuracy: 419/426 (98.3568%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.5505, Accuracy: 4497/10000 (44.9700%)
___Train Local_ResNet_18,  epoch 205, local model 43, internal_epoch   1,  Average loss: 0.0085, Accuracy: 298/345 (86.3768%)
___Train Local_ResNet_18,  epoch 205, local model 43, internal_epoch   2,  Average loss: 0.0050, Accuracy: 324/345 (93.9130%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 4.0716, Accuracy: 3758/10000 (37.5800%)
___Train Local_ResNet_18,  epoch 205, local model 28, internal_epoch   1,  Average loss: 0.0028, Accuracy: 397/423 (93.8534%)
___Train Local_ResNet_18,  epoch 205, local model 28, internal_epoch   2,  Average loss: 0.0018, Accuracy: 410/423 (96.9267%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.6381, Accuracy: 5635/10000 (56.3500%)
time spent on training: 148.0655324459076
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10794756247439574  data num: [527, 401, 773, 977, 436, 212, 362, 426, 345, 423]
[foolsgold agg] considering poison per batch poison_fraction: 0.008433403318312167
[foolsgold agg] wv: [0.93030307 1.         1.         0.         1.         0.47988467
 0.         1.         0.47988467 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 205: Average loss: 0.7217, Accuracy: 7637/10000 (76.3700%)
___Test Target_ResNet_18 poisoned: True, epoch: 205: Average loss: 6.5951, Accuracy: 220/9000 (2.4444%)
Done in 217.24276995658875 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:206 choose agents : [51, 4, 97, 85, 17, 59, 13, 57, 76, 80]. Adversary List: []
___Train Local_ResNet_18,  epoch 206, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 444/479 (92.6931%)
___Train Local_ResNet_18,  epoch 206, local model 51, internal_epoch   2,  Average loss: 0.0026, Accuracy: 455/479 (94.9896%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.3330, Accuracy: 3652/10000 (36.5200%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   1,  Average loss: 0.0060, Accuracy: 491/557 (88.1508%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   2,  Average loss: 0.0059, Accuracy: 499/557 (89.5871%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 4.8763, Accuracy: 3090/10000 (30.9000%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   1,  Average loss: 0.0029, Accuracy: 395/418 (94.4976%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   2,  Average loss: 0.0013, Accuracy: 411/418 (98.3254%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.7297, Accuracy: 5573/10000 (55.7300%)
___Train Local_ResNet_18,  epoch 206, local model 85, internal_epoch   1,  Average loss: 0.0085, Accuracy: 294/364 (80.7692%)
___Train Local_ResNet_18,  epoch 206, local model 85, internal_epoch   2,  Average loss: 0.0040, Accuracy: 336/364 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 6.5727, Accuracy: 2143/10000 (21.4300%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 206, local model 17, internal_epoch   1,  Average loss: 0.0030, Accuracy: 499/526 (94.8669%)
___Train Local_ResNet_18,  epoch 206, local model 17, internal_epoch   2,  Average loss: 0.0031, Accuracy: 501/526 (95.2471%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 2.5483, Accuracy: 4877/10000 (48.7700%)
___Train Local_ResNet_18,  epoch 206, local model 59, internal_epoch   1,  Average loss: 0.0038, Accuracy: 594/642 (92.5234%)
___Train Local_ResNet_18,  epoch 206, local model 59, internal_epoch   2,  Average loss: 0.0046, Accuracy: 584/642 (90.9657%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 8.4852, Accuracy: 2428/10000 (24.2800%)
___Train Local_ResNet_18,  epoch 206, local model 13, internal_epoch   1,  Average loss: 0.0049, Accuracy: 563/620 (90.8065%)
___Train Local_ResNet_18,  epoch 206, local model 13, internal_epoch   2,  Average loss: 0.0041, Accuracy: 578/620 (93.2258%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 2.8726, Accuracy: 4020/10000 (40.2000%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   1,  Average loss: 0.0073, Accuracy: 246/290 (84.8276%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   2,  Average loss: 0.0017, Accuracy: 282/290 (97.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.8343, Accuracy: 3951/10000 (39.5100%)
___Train Local_ResNet_18,  epoch 206, local model 76, internal_epoch   1,  Average loss: 0.0324, Accuracy: 58/65 (89.2308%)
___Train Local_ResNet_18,  epoch 206, local model 76, internal_epoch   2,  Average loss: 0.0521, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.1734, Accuracy: 6427/10000 (64.2700%)
___Train Local_ResNet_18,  epoch 206, local model 80, internal_epoch   1,  Average loss: 0.0063, Accuracy: 321/363 (88.4298%)
___Train Local_ResNet_18,  epoch 206, local model 80, internal_epoch   2,  Average loss: 0.0017, Accuracy: 353/363 (97.2452%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.6979, Accuracy: 3614/10000 (36.1400%)
time spent on training: 67.600576877594
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12164662349676225  data num: [479, 557, 418, 364, 526, 642, 620, 290, 65, 363]
[foolsgold agg] considering poison per batch poison_fraction: 0.009503642460684551
[foolsgold agg] wv: [1.         1.         0.96178437 1.         0.49826545 1.
 0.         0.         0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 206: Average loss: 0.7206, Accuracy: 7638/10000 (76.3800%)
___Test Target_ResNet_18 poisoned: True, epoch: 206: Average loss: 6.5985, Accuracy: 218/9000 (2.4222%)
Done in 136.61438655853271 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:207 choose agents : [77, 85, 90, 24, 63, 1, 52, 31, 59, 67]. Adversary List: [77]
poison local model 77 index 2 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   1,  Average loss: 0.0088, Accuracy: 444/496 (89.5161%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   2,  Average loss: 0.0056, Accuracy: 462/496 (93.1452%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   3,  Average loss: 0.0024, Accuracy: 481/496 (96.9758%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   4,  Average loss: 0.0009, Accuracy: 490/496 (98.7903%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   5,  Average loss: 0.0004, Accuracy: 494/496 (99.5968%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   6,  Average loss: 0.0002, Accuracy: 494/496 (99.5968%), train_poison_data_count: 40
Global model norm: 37.66132454137716.
Norm before scaling: 37.83163900964707. Distance: 6.018944713576284
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 1.0160, Accuracy: 6686/10000 (66.8600%)
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: 0.1713, Accuracy: 8604/9000 (95.6000%)
Scaling by  100
Scaled Norm after poisoning: 601.1308093917662, distance: 601.8944311505134
Total norm for 1 adversaries is: 601.1308093917662. distance: 601.8944311505134
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 207, local model 85, internal_epoch   1,  Average loss: 0.0079, Accuracy: 307/364 (84.3407%)
___Train Local_ResNet_18,  epoch 207, local model 85, internal_epoch   2,  Average loss: 0.0035, Accuracy: 345/364 (94.7802%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.1767, Accuracy: 2943/10000 (29.4300%)
___Train Local_ResNet_18,  epoch 207, local model 90, internal_epoch   1,  Average loss: 0.0080, Accuracy: 530/578 (91.6955%)
___Train Local_ResNet_18,  epoch 207, local model 90, internal_epoch   2,  Average loss: 0.0283, Accuracy: 375/578 (64.8789%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 407.3749, Accuracy: 998/10000 (9.9800%)
___Train Local_ResNet_18,  epoch 207, local model 24, internal_epoch   1,  Average loss: 0.0044, Accuracy: 289/320 (90.3125%)
___Train Local_ResNet_18,  epoch 207, local model 24, internal_epoch   2,  Average loss: 0.0010, Accuracy: 314/320 (98.1250%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.7423, Accuracy: 2325/10000 (23.2500%)
___Train Local_ResNet_18,  epoch 207, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 704/752 (93.6170%)
___Train Local_ResNet_18,  epoch 207, local model 63, internal_epoch   2,  Average loss: 0.0034, Accuracy: 698/752 (92.8191%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 2.3417, Accuracy: 4929/10000 (49.2900%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   1,  Average loss: 0.0058, Accuracy: 586/641 (91.4197%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   2,  Average loss: 0.0115, Accuracy: 553/641 (86.2715%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.5789, Accuracy: 4113/10000 (41.1300%)
___Train Local_ResNet_18,  epoch 207, local model 52, internal_epoch   1,  Average loss: 0.0083, Accuracy: 182/214 (85.0467%)
___Train Local_ResNet_18,  epoch 207, local model 52, internal_epoch   2,  Average loss: 0.0036, Accuracy: 202/214 (94.3925%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.0189, Accuracy: 3444/10000 (34.4400%)
___Train Local_ResNet_18,  epoch 207, local model 31, internal_epoch   1,  Average loss: 0.0060, Accuracy: 644/706 (91.2181%)
___Train Local_ResNet_18,  epoch 207, local model 31, internal_epoch   2,  Average loss: 0.0212, Accuracy: 454/706 (64.3059%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 59.9918, Accuracy: 1056/10000 (10.5600%)
___Train Local_ResNet_18,  epoch 207, local model 59, internal_epoch   1,  Average loss: 0.0062, Accuracy: 582/642 (90.6542%)
___Train Local_ResNet_18,  epoch 207, local model 59, internal_epoch   2,  Average loss: 0.0290, Accuracy: 439/642 (68.3801%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 52.5181, Accuracy: 1368/10000 (13.6800%)
___Train Local_ResNet_18,  epoch 207, local model 67, internal_epoch   1,  Average loss: 0.0053, Accuracy: 753/842 (89.4299%)
___Train Local_ResNet_18,  epoch 207, local model 67, internal_epoch   2,  Average loss: 0.0102, Accuracy: 685/842 (81.3539%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 21.2544, Accuracy: 1862/10000 (18.6200%)
time spent on training: 123.44643545150757
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0892889288928893  data num: [496, 364, 578, 320, 752, 641, 214, 706, 642, 842]
[foolsgold agg] considering poison per batch poison_fraction: 0.006975697569756976
[foolsgold agg] wv: [1.         1.         1.         1.         0.85667791 1.
 0.85667791 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 207: Average loss: 0.7119, Accuracy: 7655/10000 (76.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 207: Average loss: 6.5628, Accuracy: 225/9000 (2.5000%)
Done in 193.83059072494507 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:208 choose agents : [71, 66, 76, 96, 80, 81, 22, 72, 64, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 208, local model 71, internal_epoch   1,  Average loss: 0.0048, Accuracy: 1072/1166 (91.9383%)
___Train Local_ResNet_18,  epoch 208, local model 71, internal_epoch   2,  Average loss: 0.0088, Accuracy: 966/1166 (82.8473%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 4.7067, Accuracy: 3835/10000 (38.3500%)
___Train Local_ResNet_18,  epoch 208, local model 66, internal_epoch   1,  Average loss: 0.0043, Accuracy: 512/555 (92.2523%)
___Train Local_ResNet_18,  epoch 208, local model 66, internal_epoch   2,  Average loss: 0.0029, Accuracy: 528/555 (95.1351%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 7.7469, Accuracy: 2633/10000 (26.3300%)
___Train Local_ResNet_18,  epoch 208, local model 76, internal_epoch   1,  Average loss: 0.0351, Accuracy: 59/65 (90.7692%)
___Train Local_ResNet_18,  epoch 208, local model 76, internal_epoch   2,  Average loss: 0.0025, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 1.3902, Accuracy: 5946/10000 (59.4600%)
___Train Local_ResNet_18,  epoch 208, local model 96, internal_epoch   1,  Average loss: 0.0061, Accuracy: 643/708 (90.8192%)
___Train Local_ResNet_18,  epoch 208, local model 96, internal_epoch   2,  Average loss: 0.0306, Accuracy: 389/708 (54.9435%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 76.5350, Accuracy: 1093/10000 (10.9300%)
___Train Local_ResNet_18,  epoch 208, local model 80, internal_epoch   1,  Average loss: 0.0066, Accuracy: 317/363 (87.3278%)
___Train Local_ResNet_18,  epoch 208, local model 80, internal_epoch   2,  Average loss: 0.0030, Accuracy: 347/363 (95.5923%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 6.3006, Accuracy: 2865/10000 (28.6500%)
___Train Local_ResNet_18,  epoch 208, local model 81, internal_epoch   1,  Average loss: 0.0081, Accuracy: 900/1034 (87.0406%)
___Train Local_ResNet_18,  epoch 208, local model 81, internal_epoch   2,  Average loss: 0.0186, Accuracy: 680/1034 (65.7640%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 35.6460, Accuracy: 1594/10000 (15.9400%)
___Train Local_ResNet_18,  epoch 208, local model 22, internal_epoch   1,  Average loss: 0.0058, Accuracy: 436/494 (88.2591%)
___Train Local_ResNet_18,  epoch 208, local model 22, internal_epoch   2,  Average loss: 0.0026, Accuracy: 468/494 (94.7368%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 3.8156, Accuracy: 3428/10000 (34.2800%)
___Train Local_ResNet_18,  epoch 208, local model 72, internal_epoch   1,  Average loss: 0.0112, Accuracy: 492/618 (79.6117%)
___Train Local_ResNet_18,  epoch 208, local model 72, internal_epoch   2,  Average loss: 0.0099, Accuracy: 514/618 (83.1715%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 10.9010, Accuracy: 2425/10000 (24.2500%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   1,  Average loss: 0.0056, Accuracy: 599/686 (87.3178%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   2,  Average loss: 0.0040, Accuracy: 632/686 (92.1283%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 8.1104, Accuracy: 2470/10000 (24.7000%)
___Train Local_ResNet_18,  epoch 208, local model 45, internal_epoch   1,  Average loss: 0.0083, Accuracy: 452/529 (85.4442%)
___Train Local_ResNet_18,  epoch 208, local model 45, internal_epoch   2,  Average loss: 0.0108, Accuracy: 434/529 (82.0416%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 11.1136, Accuracy: 1634/10000 (16.3400%)
time spent on training: 57.87917137145996
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 555, 65, 708, 363, 1034, 494, 618, 686, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.81925466 1.         0.81925466 1.         1.         1.
 0.86304962 1.         1.         0.86304962]
___Test Target_ResNet_18 poisoned: False, epoch: 208: Average loss: 0.7050, Accuracy: 7671/10000 (76.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 208: Average loss: 6.5784, Accuracy: 224/9000 (2.4889%)
Done in 128.05068802833557 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:209 choose agents : [11, 80, 54, 44, 35, 68, 25, 4, 79, 43]. Adversary List: [11]
poison local model 11 index 3 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   1,  Average loss: 0.0088, Accuracy: 476/546 (87.1795%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   2,  Average loss: 0.0058, Accuracy: 507/546 (92.8571%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   3,  Average loss: 0.0023, Accuracy: 531/546 (97.2527%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   4,  Average loss: 0.0014, Accuracy: 539/546 (98.7179%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   5,  Average loss: 0.0011, Accuracy: 542/546 (99.2674%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   6,  Average loss: 0.0009, Accuracy: 541/546 (99.0842%), train_poison_data_count: 45
Global model norm: 37.66175886830948.
Norm before scaling: 37.94320771519917. Distance: 6.989645793273769
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.4207, Accuracy: 5887/10000 (58.8700%)
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: 0.2822, Accuracy: 8386/9000 (93.1778%)
Scaling by  100
Scaled Norm after poisoning: 698.0059097171026, distance: 698.9645690233518
Total norm for 1 adversaries is: 698.0059097171026. distance: 698.9645690233518
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 209, local model 80, internal_epoch   1,  Average loss: 0.0058, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 209, local model 80, internal_epoch   2,  Average loss: 0.0021, Accuracy: 348/363 (95.8678%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.7955, Accuracy: 3921/10000 (39.2100%)
___Train Local_ResNet_18,  epoch 209, local model 54, internal_epoch   1,  Average loss: 0.0038, Accuracy: 409/440 (92.9545%)
___Train Local_ResNet_18,  epoch 209, local model 54, internal_epoch   2,  Average loss: 0.0015, Accuracy: 430/440 (97.7273%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.2006, Accuracy: 4252/10000 (42.5200%)
___Train Local_ResNet_18,  epoch 209, local model 44, internal_epoch   1,  Average loss: 0.0042, Accuracy: 396/436 (90.8257%)
___Train Local_ResNet_18,  epoch 209, local model 44, internal_epoch   2,  Average loss: 0.0030, Accuracy: 411/436 (94.2661%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.4936, Accuracy: 3679/10000 (36.7900%)
___Train Local_ResNet_18,  epoch 209, local model 35, internal_epoch   1,  Average loss: 0.0069, Accuracy: 364/419 (86.8735%)
___Train Local_ResNet_18,  epoch 209, local model 35, internal_epoch   2,  Average loss: 0.0023, Accuracy: 401/419 (95.7041%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.1212, Accuracy: 4180/10000 (41.8000%)
___Train Local_ResNet_18,  epoch 209, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 391/416 (93.9904%)
___Train Local_ResNet_18,  epoch 209, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.6643, Accuracy: 5748/10000 (57.4800%)
___Train Local_ResNet_18,  epoch 209, local model 25, internal_epoch   1,  Average loss: 0.0045, Accuracy: 507/545 (93.0275%)
___Train Local_ResNet_18,  epoch 209, local model 25, internal_epoch   2,  Average loss: 0.0013, Accuracy: 528/545 (96.8807%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.1680, Accuracy: 4120/10000 (41.2000%)
___Train Local_ResNet_18,  epoch 209, local model 4, internal_epoch   1,  Average loss: 0.0053, Accuracy: 494/557 (88.6894%)
___Train Local_ResNet_18,  epoch 209, local model 4, internal_epoch   2,  Average loss: 0.0035, Accuracy: 515/557 (92.4596%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.7067, Accuracy: 3981/10000 (39.8100%)
___Train Local_ResNet_18,  epoch 209, local model 79, internal_epoch   1,  Average loss: 0.0087, Accuracy: 127/154 (82.4675%)
___Train Local_ResNet_18,  epoch 209, local model 79, internal_epoch   2,  Average loss: 0.0005, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.0714, Accuracy: 6808/10000 (68.0800%)
___Train Local_ResNet_18,  epoch 209, local model 43, internal_epoch   1,  Average loss: 0.0068, Accuracy: 298/345 (86.3768%)
___Train Local_ResNet_18,  epoch 209, local model 43, internal_epoch   2,  Average loss: 0.0023, Accuracy: 329/345 (95.3623%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 6.4239, Accuracy: 3057/10000 (30.5700%)
time spent on training: 122.70151281356812
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12935323383084577  data num: [546, 363, 440, 436, 419, 416, 545, 557, 154, 345]
[foolsgold agg] considering poison per batch poison_fraction: 0.010105721393034825
[foolsgold agg] wv: [0.71680474 1.         1.         1.         1.         0.71680474
 1.         1.         0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 209: Average loss: 0.7031, Accuracy: 7680/10000 (76.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 209: Average loss: 6.5593, Accuracy: 228/9000 (2.5333%)
Done in 192.58786129951477 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:210 choose agents : [63, 35, 49, 8, 12, 18, 94, 57, 83, 37]. Adversary List: []
___Train Local_ResNet_18,  epoch 210, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 713/752 (94.8138%)
___Train Local_ResNet_18,  epoch 210, local model 63, internal_epoch   2,  Average loss: 0.0024, Accuracy: 712/752 (94.6809%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 1.5520, Accuracy: 5950/10000 (59.5000%)
___Train Local_ResNet_18,  epoch 210, local model 35, internal_epoch   1,  Average loss: 0.0073, Accuracy: 362/419 (86.3962%)
___Train Local_ResNet_18,  epoch 210, local model 35, internal_epoch   2,  Average loss: 0.0036, Accuracy: 395/419 (94.2721%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.9654, Accuracy: 3452/10000 (34.5200%)
___Train Local_ResNet_18,  epoch 210, local model 49, internal_epoch   1,  Average loss: 0.0038, Accuracy: 387/426 (90.8451%)
___Train Local_ResNet_18,  epoch 210, local model 49, internal_epoch   2,  Average loss: 0.0013, Accuracy: 415/426 (97.4178%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.2183, Accuracy: 4967/10000 (49.6700%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   1,  Average loss: 0.0046, Accuracy: 481/534 (90.0749%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   2,  Average loss: 0.0036, Accuracy: 493/534 (92.3221%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.6578, Accuracy: 4356/10000 (43.5600%)
___Train Local_ResNet_18,  epoch 210, local model 12, internal_epoch   1,  Average loss: 0.0059, Accuracy: 872/977 (89.2528%)
___Train Local_ResNet_18,  epoch 210, local model 12, internal_epoch   2,  Average loss: 0.0087, Accuracy: 818/977 (83.7257%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 7.3556, Accuracy: 2513/10000 (25.1300%)
___Train Local_ResNet_18,  epoch 210, local model 18, internal_epoch   1,  Average loss: 0.0040, Accuracy: 358/386 (92.7461%)
___Train Local_ResNet_18,  epoch 210, local model 18, internal_epoch   2,  Average loss: 0.0099, Accuracy: 377/386 (97.6684%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.6677, Accuracy: 4472/10000 (44.7200%)
___Train Local_ResNet_18,  epoch 210, local model 94, internal_epoch   1,  Average loss: 0.0126, Accuracy: 167/203 (82.2660%)
___Train Local_ResNet_18,  epoch 210, local model 94, internal_epoch   2,  Average loss: 0.0116, Accuracy: 191/203 (94.0887%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 6.9781, Accuracy: 1792/10000 (17.9200%)
___Train Local_ResNet_18,  epoch 210, local model 57, internal_epoch   1,  Average loss: 0.0062, Accuracy: 249/290 (85.8621%)
___Train Local_ResNet_18,  epoch 210, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 281/290 (96.8966%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.2804, Accuracy: 4372/10000 (43.7200%)
___Train Local_ResNet_18,  epoch 210, local model 83, internal_epoch   1,  Average loss: 0.0033, Accuracy: 337/366 (92.0765%)
___Train Local_ResNet_18,  epoch 210, local model 83, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/366 (98.6339%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.0717, Accuracy: 5126/10000 (51.2600%)
___Train Local_ResNet_18,  epoch 210, local model 37, internal_epoch   1,  Average loss: 0.0074, Accuracy: 621/725 (85.6552%)
___Train Local_ResNet_18,  epoch 210, local model 37, internal_epoch   2,  Average loss: 0.0103, Accuracy: 599/725 (82.6207%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 5.3130, Accuracy: 2751/10000 (27.5100%)
time spent on training: 55.45117974281311
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [752, 419, 426, 534, 977, 386, 203, 290, 366, 725]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.21983908 0.64611184 0.64611184 0.08804295 0.12831042 1.
 0.12831042 0.08804295 1.         0.53848705]
___Test Target_ResNet_18 poisoned: False, epoch: 210: Average loss: 0.7014, Accuracy: 7682/10000 (76.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 210: Average loss: 6.5456, Accuracy: 233/9000 (2.5889%)
Done in 125.15517044067383 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:211 choose agents : [22, 38, 65, 29, 18, 53, 15, 7, 86, 60]. Adversary List: []
___Train Local_ResNet_18,  epoch 211, local model 22, internal_epoch   1,  Average loss: 0.0067, Accuracy: 421/494 (85.2227%)
___Train Local_ResNet_18,  epoch 211, local model 22, internal_epoch   2,  Average loss: 0.0039, Accuracy: 447/494 (90.4858%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 5.5610, Accuracy: 2680/10000 (26.8000%)
___Train Local_ResNet_18,  epoch 211, local model 38, internal_epoch   1,  Average loss: 0.0038, Accuracy: 697/756 (92.1958%)
___Train Local_ResNet_18,  epoch 211, local model 38, internal_epoch   2,  Average loss: 0.0051, Accuracy: 685/756 (90.6085%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 3.2964, Accuracy: 4296/10000 (42.9600%)
___Train Local_ResNet_18,  epoch 211, local model 65, internal_epoch   1,  Average loss: 0.0042, Accuracy: 289/314 (92.0382%)
___Train Local_ResNet_18,  epoch 211, local model 65, internal_epoch   2,  Average loss: 0.0009, Accuracy: 310/314 (98.7261%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 3.3623, Accuracy: 3588/10000 (35.8800%)
___Train Local_ResNet_18,  epoch 211, local model 29, internal_epoch   1,  Average loss: 0.0063, Accuracy: 751/848 (88.5613%)
___Train Local_ResNet_18,  epoch 211, local model 29, internal_epoch   2,  Average loss: 0.0032, Accuracy: 791/848 (93.2783%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 4.2213, Accuracy: 3877/10000 (38.7700%)
___Train Local_ResNet_18,  epoch 211, local model 18, internal_epoch   1,  Average loss: 0.0030, Accuracy: 363/386 (94.0415%)
___Train Local_ResNet_18,  epoch 211, local model 18, internal_epoch   2,  Average loss: 0.0129, Accuracy: 376/386 (97.4093%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.0805, Accuracy: 4865/10000 (48.6500%)
___Train Local_ResNet_18,  epoch 211, local model 53, internal_epoch   1,  Average loss: 0.0043, Accuracy: 568/625 (90.8800%)
___Train Local_ResNet_18,  epoch 211, local model 53, internal_epoch   2,  Average loss: 0.0028, Accuracy: 595/625 (95.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.9681, Accuracy: 4306/10000 (43.0600%)
___Train Local_ResNet_18,  epoch 211, local model 15, internal_epoch   1,  Average loss: 0.0089, Accuracy: 292/341 (85.6305%)
___Train Local_ResNet_18,  epoch 211, local model 15, internal_epoch   2,  Average loss: 0.0040, Accuracy: 318/341 (93.2551%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 4.4856, Accuracy: 3077/10000 (30.7700%)
___Train Local_ResNet_18,  epoch 211, local model 7, internal_epoch   1,  Average loss: 0.0027, Accuracy: 328/352 (93.1818%)
___Train Local_ResNet_18,  epoch 211, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 348/352 (98.8636%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.9144, Accuracy: 3735/10000 (37.3500%)
___Train Local_ResNet_18,  epoch 211, local model 86, internal_epoch   1,  Average loss: 0.0053, Accuracy: 194/212 (91.5094%)
___Train Local_ResNet_18,  epoch 211, local model 86, internal_epoch   2,  Average loss: 0.0014, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 1.3988, Accuracy: 6169/10000 (61.6900%)
___Train Local_ResNet_18,  epoch 211, local model 60, internal_epoch   1,  Average loss: 0.0046, Accuracy: 257/284 (90.4930%)
___Train Local_ResNet_18,  epoch 211, local model 60, internal_epoch   2,  Average loss: 0.0014, Accuracy: 278/284 (97.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.7649, Accuracy: 4142/10000 (41.4200%)
time spent on training: 56.42677021026611
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [494, 756, 314, 848, 386, 625, 341, 352, 212, 284]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.         0.68762117 1.         1.
 1.         1.         1.         0.68762117]
___Test Target_ResNet_18 poisoned: False, epoch: 211: Average loss: 0.6998, Accuracy: 7683/10000 (76.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 211: Average loss: 6.5556, Accuracy: 229/9000 (2.5444%)
Done in 124.92745995521545 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:212 choose agents : [81, 8, 28, 77, 1, 93, 53, 12, 50, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 212, local model 81, internal_epoch   1,  Average loss: 0.0079, Accuracy: 887/1034 (85.7834%)
___Train Local_ResNet_18,  epoch 212, local model 81, internal_epoch   2,  Average loss: 0.0177, Accuracy: 687/1034 (66.4410%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 25.7006, Accuracy: 1792/10000 (17.9200%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   1,  Average loss: 0.0049, Accuracy: 487/534 (91.1985%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   2,  Average loss: 0.0044, Accuracy: 491/534 (91.9476%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 3.4854, Accuracy: 3785/10000 (37.8500%)
___Train Local_ResNet_18,  epoch 212, local model 28, internal_epoch   1,  Average loss: 0.0027, Accuracy: 402/423 (95.0355%)
___Train Local_ResNet_18,  epoch 212, local model 28, internal_epoch   2,  Average loss: 0.0016, Accuracy: 414/423 (97.8723%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 1.9510, Accuracy: 5246/10000 (52.4600%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 212, local model 77, internal_epoch   1,  Average loss: 0.0032, Accuracy: 462/496 (93.1452%)
___Train Local_ResNet_18,  epoch 212, local model 77, internal_epoch   2,  Average loss: 0.0021, Accuracy: 483/496 (97.3790%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 1.5667, Accuracy: 5533/10000 (55.3300%)
___Train Local_ResNet_18,  epoch 212, local model 1, internal_epoch   1,  Average loss: 0.0066, Accuracy: 592/641 (92.3557%)
___Train Local_ResNet_18,  epoch 212, local model 1, internal_epoch   2,  Average loss: 0.0120, Accuracy: 539/641 (84.0874%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 4.8761, Accuracy: 3451/10000 (34.5100%)
___Train Local_ResNet_18,  epoch 212, local model 93, internal_epoch   1,  Average loss: 0.0042, Accuracy: 538/584 (92.1233%)
___Train Local_ResNet_18,  epoch 212, local model 93, internal_epoch   2,  Average loss: 0.0077, Accuracy: 506/584 (86.6438%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 7.6709, Accuracy: 2255/10000 (22.5500%)
___Train Local_ResNet_18,  epoch 212, local model 53, internal_epoch   1,  Average loss: 0.0038, Accuracy: 576/625 (92.1600%)
___Train Local_ResNet_18,  epoch 212, local model 53, internal_epoch   2,  Average loss: 0.0024, Accuracy: 593/625 (94.8800%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.8738, Accuracy: 4098/10000 (40.9800%)
___Train Local_ResNet_18,  epoch 212, local model 12, internal_epoch   1,  Average loss: 0.0063, Accuracy: 859/977 (87.9222%)
___Train Local_ResNet_18,  epoch 212, local model 12, internal_epoch   2,  Average loss: 0.0089, Accuracy: 794/977 (81.2692%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 5.1173, Accuracy: 3083/10000 (30.8300%)
___Train Local_ResNet_18,  epoch 212, local model 50, internal_epoch   1,  Average loss: 0.0028, Accuracy: 382/401 (95.2618%)
___Train Local_ResNet_18,  epoch 212, local model 50, internal_epoch   2,  Average loss: 0.0020, Accuracy: 388/401 (96.7581%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.0761, Accuracy: 5241/10000 (52.4100%)
___Train Local_ResNet_18,  epoch 212, local model 10, internal_epoch   1,  Average loss: 0.0042, Accuracy: 692/752 (92.0213%)
___Train Local_ResNet_18,  epoch 212, local model 10, internal_epoch   2,  Average loss: 0.0034, Accuracy: 706/752 (93.8830%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 5.1747, Accuracy: 3184/10000 (31.8400%)
time spent on training: 68.09604334831238
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0766970774702335  data num: [1034, 534, 423, 496, 641, 584, 625, 977, 401, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.005991959177361991
[foolsgold agg] wv: [0.32535378 0.52795963 1.         0.52795963 1.         1.
 0.80554469 0.32535378 1.         0.80554469]
___Test Target_ResNet_18 poisoned: False, epoch: 212: Average loss: 0.6968, Accuracy: 7691/10000 (76.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 212: Average loss: 6.5794, Accuracy: 227/9000 (2.5222%)
Done in 137.47360110282898 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:213 choose agents : [18, 39, 62, 65, 87, 12, 74, 4, 7, 35]. Adversary List: []
___Train Local_ResNet_18,  epoch 213, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 357/386 (92.4870%)
___Train Local_ResNet_18,  epoch 213, local model 18, internal_epoch   2,  Average loss: 0.0032, Accuracy: 370/386 (95.8549%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.8998, Accuracy: 5399/10000 (53.9900%)
___Train Local_ResNet_18,  epoch 213, local model 39, internal_epoch   1,  Average loss: 0.0063, Accuracy: 185/217 (85.2535%)
___Train Local_ResNet_18,  epoch 213, local model 39, internal_epoch   2,  Average loss: 0.0011, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.6955, Accuracy: 3525/10000 (35.2500%)
___Train Local_ResNet_18,  epoch 213, local model 62, internal_epoch   1,  Average loss: 0.0025, Accuracy: 342/358 (95.5307%)
___Train Local_ResNet_18,  epoch 213, local model 62, internal_epoch   2,  Average loss: 0.0012, Accuracy: 353/358 (98.6034%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.1015, Accuracy: 6682/10000 (66.8200%)
___Train Local_ResNet_18,  epoch 213, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 290/314 (92.3567%)
___Train Local_ResNet_18,  epoch 213, local model 65, internal_epoch   2,  Average loss: 0.0006, Accuracy: 311/314 (99.0446%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.3152, Accuracy: 3567/10000 (35.6700%)
___Train Local_ResNet_18,  epoch 213, local model 87, internal_epoch   1,  Average loss: 0.0092, Accuracy: 328/397 (82.6196%)
___Train Local_ResNet_18,  epoch 213, local model 87, internal_epoch   2,  Average loss: 0.0083, Accuracy: 339/397 (85.3904%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 5.6016, Accuracy: 2538/10000 (25.3800%)
___Train Local_ResNet_18,  epoch 213, local model 12, internal_epoch   1,  Average loss: 0.0069, Accuracy: 848/977 (86.7963%)
___Train Local_ResNet_18,  epoch 213, local model 12, internal_epoch   2,  Average loss: 0.0107, Accuracy: 788/977 (80.6551%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 6.5353, Accuracy: 3580/10000 (35.8000%)
___Train Local_ResNet_18,  epoch 213, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 428/469 (91.2580%)
___Train Local_ResNet_18,  epoch 213, local model 74, internal_epoch   2,  Average loss: 0.0067, Accuracy: 421/469 (89.7655%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.4529, Accuracy: 3486/10000 (34.8600%)
___Train Local_ResNet_18,  epoch 213, local model 4, internal_epoch   1,  Average loss: 0.0057, Accuracy: 497/557 (89.2280%)
___Train Local_ResNet_18,  epoch 213, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 510/557 (91.5619%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.1418, Accuracy: 4248/10000 (42.4800%)
___Train Local_ResNet_18,  epoch 213, local model 7, internal_epoch   1,  Average loss: 0.0029, Accuracy: 336/352 (95.4545%)
___Train Local_ResNet_18,  epoch 213, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 347/352 (98.5795%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 2.1709, Accuracy: 4734/10000 (47.3400%)
___Train Local_ResNet_18,  epoch 213, local model 35, internal_epoch   1,  Average loss: 0.0079, Accuracy: 365/419 (87.1122%)
___Train Local_ResNet_18,  epoch 213, local model 35, internal_epoch   2,  Average loss: 0.0036, Accuracy: 391/419 (93.3174%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.2746, Accuracy: 4133/10000 (41.3300%)
time spent on training: 56.93297791481018
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [386, 217, 358, 314, 397, 977, 469, 557, 352, 419]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.12381593 1.         0.3357379  1.         1.
 0.12381593 1.         1.         0.3357379 ]
___Test Target_ResNet_18 poisoned: False, epoch: 213: Average loss: 0.6942, Accuracy: 7694/10000 (76.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 213: Average loss: 6.5867, Accuracy: 225/9000 (2.5000%)
Done in 125.68905663490295 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:214 choose agents : [17, 30, 72, 51, 63, 46, 54, 95, 26, 2]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 214, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 503/526 (95.6274%)
___Train Local_ResNet_18,  epoch 214, local model 17, internal_epoch   2,  Average loss: 0.0021, Accuracy: 510/526 (96.9582%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.5135, Accuracy: 5960/10000 (59.6000%)
___Train Local_ResNet_18,  epoch 214, local model 30, internal_epoch   1,  Average loss: 0.0058, Accuracy: 299/337 (88.7240%)
___Train Local_ResNet_18,  epoch 214, local model 30, internal_epoch   2,  Average loss: 0.0064, Accuracy: 304/337 (90.2077%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 3.5476, Accuracy: 3299/10000 (32.9900%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   1,  Average loss: 0.0080, Accuracy: 519/618 (83.9806%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   2,  Average loss: 0.0061, Accuracy: 547/618 (88.5113%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 4.5661, Accuracy: 3353/10000 (33.5300%)
___Train Local_ResNet_18,  epoch 214, local model 51, internal_epoch   1,  Average loss: 0.0036, Accuracy: 444/479 (92.6931%)
___Train Local_ResNet_18,  epoch 214, local model 51, internal_epoch   2,  Average loss: 0.0033, Accuracy: 451/479 (94.1545%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 10.8179, Accuracy: 1946/10000 (19.4600%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   1,  Average loss: 0.0025, Accuracy: 719/752 (95.6117%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   2,  Average loss: 0.0014, Accuracy: 731/752 (97.2074%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.2418, Accuracy: 6434/10000 (64.3400%)
___Train Local_ResNet_18,  epoch 214, local model 46, internal_epoch   1,  Average loss: 0.0015, Accuracy: 588/601 (97.8369%)
___Train Local_ResNet_18,  epoch 214, local model 46, internal_epoch   2,  Average loss: 0.0008, Accuracy: 593/601 (98.6689%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.7541, Accuracy: 5582/10000 (55.8200%)
___Train Local_ResNet_18,  epoch 214, local model 54, internal_epoch   1,  Average loss: 0.0032, Accuracy: 412/440 (93.6364%)
___Train Local_ResNet_18,  epoch 214, local model 54, internal_epoch   2,  Average loss: 0.0012, Accuracy: 428/440 (97.2727%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 3.0982, Accuracy: 4344/10000 (43.4400%)
___Train Local_ResNet_18,  epoch 214, local model 95, internal_epoch   1,  Average loss: 0.0089, Accuracy: 462/569 (81.1951%)
___Train Local_ResNet_18,  epoch 214, local model 95, internal_epoch   2,  Average loss: 0.0063, Accuracy: 515/569 (90.5097%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 5.6043, Accuracy: 2398/10000 (23.9800%)
___Train Local_ResNet_18,  epoch 214, local model 26, internal_epoch   1,  Average loss: 0.0045, Accuracy: 427/468 (91.2393%)
___Train Local_ResNet_18,  epoch 214, local model 26, internal_epoch   2,  Average loss: 0.0052, Accuracy: 429/468 (91.6667%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 2.3048, Accuracy: 4707/10000 (47.0700%)
___Train Local_ResNet_18,  epoch 214, local model 2, internal_epoch   1,  Average loss: 0.0102, Accuracy: 390/461 (84.5987%)
___Train Local_ResNet_18,  epoch 214, local model 2, internal_epoch   2,  Average loss: 0.0149, Accuracy: 373/461 (80.9111%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 8.4142, Accuracy: 1811/10000 (18.1100%)
time spent on training: 67.48658680915833
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.1001713959245858  data num: [526, 337, 618, 479, 752, 601, 440, 569, 468, 461]
[foolsgold agg] considering poison per batch poison_fraction: 0.007825890306608265
[foolsgold agg] wv: [0.24931833 1.         0.935676   1.         0.75061057 1.
 1.         0.75061057 0.24931833 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 214: Average loss: 0.6926, Accuracy: 7698/10000 (76.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 214: Average loss: 6.5884, Accuracy: 227/9000 (2.5222%)
Done in 136.85634207725525 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:215 choose agents : [95, 82, 45, 0, 34, 62, 66, 10, 12, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 215, local model 95, internal_epoch   1,  Average loss: 0.0105, Accuracy: 452/569 (79.4376%)
___Train Local_ResNet_18,  epoch 215, local model 95, internal_epoch   2,  Average loss: 0.0068, Accuracy: 494/569 (86.8190%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 14.8469, Accuracy: 1817/10000 (18.1700%)
___Train Local_ResNet_18,  epoch 215, local model 82, internal_epoch   1,  Average loss: 0.0024, Accuracy: 575/601 (95.6739%)
___Train Local_ResNet_18,  epoch 215, local model 82, internal_epoch   2,  Average loss: 0.0020, Accuracy: 578/601 (96.1730%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.4236, Accuracy: 4455/10000 (44.5500%)
___Train Local_ResNet_18,  epoch 215, local model 45, internal_epoch   1,  Average loss: 0.0080, Accuracy: 461/529 (87.1456%)
___Train Local_ResNet_18,  epoch 215, local model 45, internal_epoch   2,  Average loss: 0.0086, Accuracy: 438/529 (82.7977%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 7.1231, Accuracy: 2309/10000 (23.0900%)
___Train Local_ResNet_18,  epoch 215, local model 0, internal_epoch   1,  Average loss: 0.0067, Accuracy: 318/367 (86.6485%)
___Train Local_ResNet_18,  epoch 215, local model 0, internal_epoch   2,  Average loss: 0.0025, Accuracy: 352/367 (95.9128%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 6.6725, Accuracy: 2074/10000 (20.7400%)
___Train Local_ResNet_18,  epoch 215, local model 34, internal_epoch   1,  Average loss: 0.0053, Accuracy: 309/349 (88.5387%)
___Train Local_ResNet_18,  epoch 215, local model 34, internal_epoch   2,  Average loss: 0.0020, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.7149, Accuracy: 3394/10000 (33.9400%)
___Train Local_ResNet_18,  epoch 215, local model 62, internal_epoch   1,  Average loss: 0.0019, Accuracy: 343/358 (95.8101%)
___Train Local_ResNet_18,  epoch 215, local model 62, internal_epoch   2,  Average loss: 0.0006, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 1.1981, Accuracy: 6529/10000 (65.2900%)
___Train Local_ResNet_18,  epoch 215, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 512/555 (92.2523%)
___Train Local_ResNet_18,  epoch 215, local model 66, internal_epoch   2,  Average loss: 0.0018, Accuracy: 533/555 (96.0360%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 3.6868, Accuracy: 3950/10000 (39.5000%)
___Train Local_ResNet_18,  epoch 215, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 695/752 (92.4202%)
___Train Local_ResNet_18,  epoch 215, local model 10, internal_epoch   2,  Average loss: 0.0040, Accuracy: 704/752 (93.6170%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.2559, Accuracy: 3507/10000 (35.0700%)
___Train Local_ResNet_18,  epoch 215, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 872/977 (89.2528%)
___Train Local_ResNet_18,  epoch 215, local model 12, internal_epoch   2,  Average loss: 0.0101, Accuracy: 781/977 (79.9386%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 15.9342, Accuracy: 1929/10000 (19.2900%)
___Train Local_ResNet_18,  epoch 215, local model 38, internal_epoch   1,  Average loss: 0.0021, Accuracy: 735/756 (97.2222%)
___Train Local_ResNet_18,  epoch 215, local model 38, internal_epoch   2,  Average loss: 0.0021, Accuracy: 718/756 (94.9735%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.2002, Accuracy: 5046/10000 (50.4600%)
time spent on training: 57.200998306274414
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [569, 601, 529, 367, 349, 358, 555, 752, 977, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.84274452 1.         1.         0.         1.
 1.         1.         0.         0.84274452]
___Test Target_ResNet_18 poisoned: False, epoch: 215: Average loss: 0.6908, Accuracy: 7713/10000 (77.1300%)
___Test Target_ResNet_18 poisoned: True, epoch: 215: Average loss: 6.5730, Accuracy: 232/9000 (2.5778%)
Done in 126.33582544326782 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:216 choose agents : [41, 4, 68, 55, 30, 39, 10, 64, 23, 60]. Adversary List: []
___Train Local_ResNet_18,  epoch 216, local model 41, internal_epoch   1,  Average loss: 0.0095, Accuracy: 423/513 (82.4561%)
___Train Local_ResNet_18,  epoch 216, local model 41, internal_epoch   2,  Average loss: 0.0209, Accuracy: 458/513 (89.2788%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.6465, Accuracy: 2289/10000 (22.8900%)
___Train Local_ResNet_18,  epoch 216, local model 4, internal_epoch   1,  Average loss: 0.0056, Accuracy: 497/557 (89.2280%)
___Train Local_ResNet_18,  epoch 216, local model 4, internal_epoch   2,  Average loss: 0.0042, Accuracy: 507/557 (91.0233%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.3802, Accuracy: 5097/10000 (50.9700%)
___Train Local_ResNet_18,  epoch 216, local model 68, internal_epoch   1,  Average loss: 0.0028, Accuracy: 394/416 (94.7115%)
___Train Local_ResNet_18,  epoch 216, local model 68, internal_epoch   2,  Average loss: 0.0020, Accuracy: 405/416 (97.3558%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 1.4776, Accuracy: 5943/10000 (59.4300%)
___Train Local_ResNet_18,  epoch 216, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 268/299 (89.6321%)
___Train Local_ResNet_18,  epoch 216, local model 55, internal_epoch   2,  Average loss: 0.0015, Accuracy: 292/299 (97.6589%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.5868, Accuracy: 2345/10000 (23.4500%)
___Train Local_ResNet_18,  epoch 216, local model 30, internal_epoch   1,  Average loss: 0.0051, Accuracy: 307/337 (91.0979%)
___Train Local_ResNet_18,  epoch 216, local model 30, internal_epoch   2,  Average loss: 0.0017, Accuracy: 332/337 (98.5163%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 4.2212, Accuracy: 3248/10000 (32.4800%)
___Train Local_ResNet_18,  epoch 216, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 184/217 (84.7926%)
___Train Local_ResNet_18,  epoch 216, local model 39, internal_epoch   2,  Average loss: 0.0016, Accuracy: 212/217 (97.6959%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.8572, Accuracy: 3471/10000 (34.7100%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   1,  Average loss: 0.0047, Accuracy: 688/752 (91.4894%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   2,  Average loss: 0.0042, Accuracy: 694/752 (92.2872%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 5.9171, Accuracy: 2622/10000 (26.2200%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   1,  Average loss: 0.0050, Accuracy: 617/686 (89.9417%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   2,  Average loss: 0.0042, Accuracy: 625/686 (91.1079%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.7760, Accuracy: 3255/10000 (32.5500%)
___Train Local_ResNet_18,  epoch 216, local model 23, internal_epoch   1,  Average loss: 0.0045, Accuracy: 223/248 (89.9194%)
___Train Local_ResNet_18,  epoch 216, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.1549, Accuracy: 4790/10000 (47.9000%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   1,  Average loss: 0.0045, Accuracy: 260/284 (91.5493%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.7712, Accuracy: 4361/10000 (43.6100%)
time spent on training: 58.878371715545654
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [513, 557, 416, 299, 337, 217, 752, 686, 248, 284]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.11019183 1.         0.12951678
 0.11019183 1.         0.19669155 0.12951678]
___Test Target_ResNet_18 poisoned: False, epoch: 216: Average loss: 0.6880, Accuracy: 7724/10000 (77.2400%)
___Test Target_ResNet_18 poisoned: True, epoch: 216: Average loss: 6.5309, Accuracy: 237/9000 (2.6333%)
Done in 127.83361434936523 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:217 choose agents : [23, 34, 52, 92, 57, 74, 67, 16, 64, 30]. Adversary List: []
___Train Local_ResNet_18,  epoch 217, local model 23, internal_epoch   1,  Average loss: 0.0046, Accuracy: 220/248 (88.7097%)
___Train Local_ResNet_18,  epoch 217, local model 23, internal_epoch   2,  Average loss: 0.0012, Accuracy: 243/248 (97.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 2.8018, Accuracy: 4035/10000 (40.3500%)
___Train Local_ResNet_18,  epoch 217, local model 34, internal_epoch   1,  Average loss: 0.0054, Accuracy: 308/349 (88.2521%)
___Train Local_ResNet_18,  epoch 217, local model 34, internal_epoch   2,  Average loss: 0.0023, Accuracy: 335/349 (95.9885%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 4.6831, Accuracy: 3331/10000 (33.3100%)
___Train Local_ResNet_18,  epoch 217, local model 52, internal_epoch   1,  Average loss: 0.0071, Accuracy: 185/214 (86.4486%)
___Train Local_ResNet_18,  epoch 217, local model 52, internal_epoch   2,  Average loss: 0.0014, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.8081, Accuracy: 3651/10000 (36.5100%)
___Train Local_ResNet_18,  epoch 217, local model 92, internal_epoch   1,  Average loss: 0.0056, Accuracy: 710/796 (89.1960%)
___Train Local_ResNet_18,  epoch 217, local model 92, internal_epoch   2,  Average loss: 0.0067, Accuracy: 699/796 (87.8141%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.7108, Accuracy: 2669/10000 (26.6900%)
___Train Local_ResNet_18,  epoch 217, local model 57, internal_epoch   1,  Average loss: 0.0060, Accuracy: 253/290 (87.2414%)
___Train Local_ResNet_18,  epoch 217, local model 57, internal_epoch   2,  Average loss: 0.0015, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.5076, Accuracy: 3131/10000 (31.3100%)
___Train Local_ResNet_18,  epoch 217, local model 74, internal_epoch   1,  Average loss: 0.0046, Accuracy: 429/469 (91.4712%)
___Train Local_ResNet_18,  epoch 217, local model 74, internal_epoch   2,  Average loss: 0.0013, Accuracy: 457/469 (97.4414%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.2306, Accuracy: 4041/10000 (40.4100%)
___Train Local_ResNet_18,  epoch 217, local model 67, internal_epoch   1,  Average loss: 0.0052, Accuracy: 767/842 (91.0926%)
___Train Local_ResNet_18,  epoch 217, local model 67, internal_epoch   2,  Average loss: 0.0219, Accuracy: 508/842 (60.3325%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 149.0862, Accuracy: 1247/10000 (12.4700%)
___Train Local_ResNet_18,  epoch 217, local model 16, internal_epoch   1,  Average loss: 0.0047, Accuracy: 707/773 (91.4618%)
___Train Local_ResNet_18,  epoch 217, local model 16, internal_epoch   2,  Average loss: 0.0127, Accuracy: 616/773 (79.6895%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 14.4574, Accuracy: 1568/10000 (15.6800%)
___Train Local_ResNet_18,  epoch 217, local model 64, internal_epoch   1,  Average loss: 0.0046, Accuracy: 618/686 (90.0875%)
___Train Local_ResNet_18,  epoch 217, local model 64, internal_epoch   2,  Average loss: 0.0047, Accuracy: 628/686 (91.5452%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.1769, Accuracy: 2995/10000 (29.9500%)
___Train Local_ResNet_18,  epoch 217, local model 30, internal_epoch   1,  Average loss: 0.0063, Accuracy: 304/337 (90.2077%)
___Train Local_ResNet_18,  epoch 217, local model 30, internal_epoch   2,  Average loss: 0.0064, Accuracy: 300/337 (89.0208%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.6163, Accuracy: 2667/10000 (26.6700%)
time spent on training: 56.172348499298096
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [248, 349, 214, 796, 290, 469, 842, 773, 686, 337]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.37524461 1.         1.         0.73972996 0.48646012 0.48646012
 1.         0.60398687 0.64805899 0.37524461]
___Test Target_ResNet_18 poisoned: False, epoch: 217: Average loss: 0.6851, Accuracy: 7730/10000 (77.3000%)
___Test Target_ResNet_18 poisoned: True, epoch: 217: Average loss: 6.5435, Accuracy: 238/9000 (2.6444%)
Done in 126.57565188407898 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:218 choose agents : [35, 81, 62, 68, 2, 74, 39, 1, 64, 29]. Adversary List: []
___Train Local_ResNet_18,  epoch 218, local model 35, internal_epoch   1,  Average loss: 0.0071, Accuracy: 362/419 (86.3962%)
___Train Local_ResNet_18,  epoch 218, local model 35, internal_epoch   2,  Average loss: 0.0025, Accuracy: 400/419 (95.4654%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 4.3224, Accuracy: 3348/10000 (33.4800%)
___Train Local_ResNet_18,  epoch 218, local model 81, internal_epoch   1,  Average loss: 0.0074, Accuracy: 897/1034 (86.7505%)
___Train Local_ResNet_18,  epoch 218, local model 81, internal_epoch   2,  Average loss: 0.0124, Accuracy: 823/1034 (79.5938%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 6.0715, Accuracy: 3130/10000 (31.3000%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   1,  Average loss: 0.0021, Accuracy: 342/358 (95.5307%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   2,  Average loss: 0.0006, Accuracy: 357/358 (99.7207%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.1889, Accuracy: 6478/10000 (64.7800%)
___Train Local_ResNet_18,  epoch 218, local model 68, internal_epoch   1,  Average loss: 0.0029, Accuracy: 393/416 (94.4712%)
___Train Local_ResNet_18,  epoch 218, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 407/416 (97.8365%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.6304, Accuracy: 5847/10000 (58.4700%)
___Train Local_ResNet_18,  epoch 218, local model 2, internal_epoch   1,  Average loss: 0.0091, Accuracy: 386/461 (83.7310%)
___Train Local_ResNet_18,  epoch 218, local model 2, internal_epoch   2,  Average loss: 0.0075, Accuracy: 406/461 (88.0694%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 14.8452, Accuracy: 1429/10000 (14.2900%)
___Train Local_ResNet_18,  epoch 218, local model 74, internal_epoch   1,  Average loss: 0.0047, Accuracy: 432/469 (92.1109%)
___Train Local_ResNet_18,  epoch 218, local model 74, internal_epoch   2,  Average loss: 0.0022, Accuracy: 449/469 (95.7356%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.3258, Accuracy: 4657/10000 (46.5700%)
___Train Local_ResNet_18,  epoch 218, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 187/217 (86.1751%)
___Train Local_ResNet_18,  epoch 218, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 216/217 (99.5392%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.5872, Accuracy: 4289/10000 (42.8900%)
___Train Local_ResNet_18,  epoch 218, local model 1, internal_epoch   1,  Average loss: 0.0055, Accuracy: 603/641 (94.0718%)
___Train Local_ResNet_18,  epoch 218, local model 1, internal_epoch   2,  Average loss: 0.0117, Accuracy: 574/641 (89.5476%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 3.4524, Accuracy: 4342/10000 (43.4200%)
___Train Local_ResNet_18,  epoch 218, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 628/686 (91.5452%)
___Train Local_ResNet_18,  epoch 218, local model 64, internal_epoch   2,  Average loss: 0.0033, Accuracy: 642/686 (93.5860%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.5074, Accuracy: 4426/10000 (44.2600%)
___Train Local_ResNet_18,  epoch 218, local model 29, internal_epoch   1,  Average loss: 0.0048, Accuracy: 768/848 (90.5660%)
___Train Local_ResNet_18,  epoch 218, local model 29, internal_epoch   2,  Average loss: 0.0075, Accuracy: 745/848 (87.8538%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 5.2468, Accuracy: 3062/10000 (30.6200%)
time spent on training: 55.46443963050842
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [419, 1034, 358, 416, 461, 469, 217, 641, 686, 848]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.95823191 0.36285876 1.         0.36285876
 0.43978853 0.95823191 0.         0.43978853]
___Test Target_ResNet_18 poisoned: False, epoch: 218: Average loss: 0.6812, Accuracy: 7739/10000 (77.3900%)
___Test Target_ResNet_18 poisoned: True, epoch: 218: Average loss: 6.5409, Accuracy: 240/9000 (2.6667%)
Done in 126.58426022529602 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:219 choose agents : [11, 21, 39, 95, 90, 68, 38, 97, 3, 98]. Adversary List: []
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 219, local model 11, internal_epoch   1,  Average loss: 0.0030, Accuracy: 517/546 (94.6886%)
___Train Local_ResNet_18,  epoch 219, local model 11, internal_epoch   2,  Average loss: 0.0021, Accuracy: 528/546 (96.7033%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.7836, Accuracy: 5563/10000 (55.6300%)
___Train Local_ResNet_18,  epoch 219, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 241/262 (91.9847%)
___Train Local_ResNet_18,  epoch 219, local model 21, internal_epoch   2,  Average loss: 0.0013, Accuracy: 258/262 (98.4733%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 5.4242, Accuracy: 2916/10000 (29.1600%)
___Train Local_ResNet_18,  epoch 219, local model 39, internal_epoch   1,  Average loss: 0.0069, Accuracy: 187/217 (86.1751%)
___Train Local_ResNet_18,  epoch 219, local model 39, internal_epoch   2,  Average loss: 0.0011, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 4.7245, Accuracy: 3133/10000 (31.3300%)
___Train Local_ResNet_18,  epoch 219, local model 95, internal_epoch   1,  Average loss: 0.0102, Accuracy: 451/569 (79.2619%)
___Train Local_ResNet_18,  epoch 219, local model 95, internal_epoch   2,  Average loss: 0.0061, Accuracy: 503/569 (88.4007%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 6.1783, Accuracy: 3070/10000 (30.7000%)
___Train Local_ResNet_18,  epoch 219, local model 90, internal_epoch   1,  Average loss: 0.0052, Accuracy: 530/578 (91.6955%)
___Train Local_ResNet_18,  epoch 219, local model 90, internal_epoch   2,  Average loss: 0.0020, Accuracy: 551/578 (95.3287%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 3.8126, Accuracy: 3515/10000 (35.1500%)
___Train Local_ResNet_18,  epoch 219, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 393/416 (94.4712%)
___Train Local_ResNet_18,  epoch 219, local model 68, internal_epoch   2,  Average loss: 0.0010, Accuracy: 409/416 (98.3173%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.6641, Accuracy: 5820/10000 (58.2000%)
___Train Local_ResNet_18,  epoch 219, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 724/756 (95.7672%)
___Train Local_ResNet_18,  epoch 219, local model 38, internal_epoch   2,  Average loss: 0.0028, Accuracy: 715/756 (94.5767%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 2.9674, Accuracy: 4274/10000 (42.7400%)
___Train Local_ResNet_18,  epoch 219, local model 97, internal_epoch   1,  Average loss: 0.0036, Accuracy: 390/418 (93.3014%)
___Train Local_ResNet_18,  epoch 219, local model 97, internal_epoch   2,  Average loss: 0.0023, Accuracy: 401/418 (95.9330%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 2.0961, Accuracy: 5113/10000 (51.1300%)
___Train Local_ResNet_18,  epoch 219, local model 3, internal_epoch   1,  Average loss: 0.0066, Accuracy: 675/780 (86.5385%)
___Train Local_ResNet_18,  epoch 219, local model 3, internal_epoch   2,  Average loss: 0.0161, Accuracy: 556/780 (71.2821%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 10.3985, Accuracy: 2398/10000 (23.9800%)
___Train Local_ResNet_18,  epoch 219, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 747/802 (93.1421%)
___Train Local_ResNet_18,  epoch 219, local model 98, internal_epoch   2,  Average loss: 0.0066, Accuracy: 693/802 (86.4090%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 7.0566, Accuracy: 3118/10000 (31.1800%)
time spent on training: 64.67392301559448
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10217065868263472  data num: [546, 262, 217, 569, 578, 416, 756, 418, 780, 802]
[foolsgold agg] considering poison per batch poison_fraction: 0.007982082709580838
[foolsgold agg] wv: [0.90267442 1.         1.         1.         1.         0.90267442
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 219: Average loss: 0.6787, Accuracy: 7754/10000 (77.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 219: Average loss: 6.5511, Accuracy: 242/9000 (2.6889%)
Done in 134.38020205497742 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:220 choose agents : [90, 88, 25, 27, 56, 93, 42, 18, 66, 82]. Adversary List: []
___Train Local_ResNet_18,  epoch 220, local model 90, internal_epoch   1,  Average loss: 0.0081, Accuracy: 515/578 (89.1003%)
___Train Local_ResNet_18,  epoch 220, local model 90, internal_epoch   2,  Average loss: 0.0120, Accuracy: 463/578 (80.1038%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 110.3378, Accuracy: 978/10000 (9.7800%)
___Train Local_ResNet_18,  epoch 220, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 371/447 (82.9978%)
___Train Local_ResNet_18,  epoch 220, local model 88, internal_epoch   2,  Average loss: 0.0040, Accuracy: 417/447 (93.2886%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 6.2097, Accuracy: 2261/10000 (22.6100%)
___Train Local_ResNet_18,  epoch 220, local model 25, internal_epoch   1,  Average loss: 0.0036, Accuracy: 508/545 (93.2110%)
___Train Local_ResNet_18,  epoch 220, local model 25, internal_epoch   2,  Average loss: 0.0019, Accuracy: 531/545 (97.4312%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 4.8893, Accuracy: 3532/10000 (35.3200%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   1,  Average loss: 0.0018, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   2,  Average loss: 0.0004, Accuracy: 396/397 (99.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.5068, Accuracy: 6084/10000 (60.8400%)
___Train Local_ResNet_18,  epoch 220, local model 56, internal_epoch   1,  Average loss: 0.0023, Accuracy: 714/743 (96.0969%)
___Train Local_ResNet_18,  epoch 220, local model 56, internal_epoch   2,  Average loss: 0.0015, Accuracy: 715/743 (96.2315%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.7816, Accuracy: 5650/10000 (56.5000%)
___Train Local_ResNet_18,  epoch 220, local model 93, internal_epoch   1,  Average loss: 0.0033, Accuracy: 551/584 (94.3493%)
___Train Local_ResNet_18,  epoch 220, local model 93, internal_epoch   2,  Average loss: 0.0057, Accuracy: 526/584 (90.0685%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 8.6148, Accuracy: 2397/10000 (23.9700%)
___Train Local_ResNet_18,  epoch 220, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 177/198 (89.3939%)
___Train Local_ResNet_18,  epoch 220, local model 42, internal_epoch   2,  Average loss: 0.0005, Accuracy: 198/198 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 3.6330, Accuracy: 3586/10000 (35.8600%)
___Train Local_ResNet_18,  epoch 220, local model 18, internal_epoch   1,  Average loss: 0.0038, Accuracy: 365/386 (94.5596%)
___Train Local_ResNet_18,  epoch 220, local model 18, internal_epoch   2,  Average loss: 0.0191, Accuracy: 345/386 (89.3782%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 9.3492, Accuracy: 1496/10000 (14.9600%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 507/555 (91.3514%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   2,  Average loss: 0.0012, Accuracy: 544/555 (98.0180%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 4.3542, Accuracy: 3778/10000 (37.7800%)
___Train Local_ResNet_18,  epoch 220, local model 82, internal_epoch   1,  Average loss: 0.0028, Accuracy: 574/601 (95.5075%)
___Train Local_ResNet_18,  epoch 220, local model 82, internal_epoch   2,  Average loss: 0.0026, Accuracy: 570/601 (94.8419%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 2.0459, Accuracy: 5033/10000 (50.3300%)
time spent on training: 55.09869718551636
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [578, 447, 545, 397, 743, 584, 198, 386, 555, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.         0.         0.63174937 0.77726295
 0.         0.         0.63174937 0.12550287]
___Test Target_ResNet_18 poisoned: False, epoch: 220: Average loss: 0.6765, Accuracy: 7758/10000 (77.5800%)
___Test Target_ResNet_18 poisoned: True, epoch: 220: Average loss: 6.5787, Accuracy: 238/9000 (2.6444%)
Done in 124.11557006835938 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:221 choose agents : [86, 67, 38, 29, 30, 96, 0, 3, 8, 68]. Adversary List: []
___Train Local_ResNet_18,  epoch 221, local model 86, internal_epoch   1,  Average loss: 0.0044, Accuracy: 195/212 (91.9811%)
___Train Local_ResNet_18,  epoch 221, local model 86, internal_epoch   2,  Average loss: 0.0009, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.4983, Accuracy: 6070/10000 (60.7000%)
___Train Local_ResNet_18,  epoch 221, local model 67, internal_epoch   1,  Average loss: 0.0039, Accuracy: 783/842 (92.9929%)
___Train Local_ResNet_18,  epoch 221, local model 67, internal_epoch   2,  Average loss: 0.0149, Accuracy: 650/842 (77.1971%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 81.8442, Accuracy: 1009/10000 (10.0900%)
___Train Local_ResNet_18,  epoch 221, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 717/756 (94.8413%)
___Train Local_ResNet_18,  epoch 221, local model 38, internal_epoch   2,  Average loss: 0.0020, Accuracy: 725/756 (95.8995%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.7674, Accuracy: 5618/10000 (56.1800%)
___Train Local_ResNet_18,  epoch 221, local model 29, internal_epoch   1,  Average loss: 0.0058, Accuracy: 751/848 (88.5613%)
___Train Local_ResNet_18,  epoch 221, local model 29, internal_epoch   2,  Average loss: 0.0056, Accuracy: 761/848 (89.7406%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 8.6381, Accuracy: 1281/10000 (12.8100%)
___Train Local_ResNet_18,  epoch 221, local model 30, internal_epoch   1,  Average loss: 0.0063, Accuracy: 296/337 (87.8338%)
___Train Local_ResNet_18,  epoch 221, local model 30, internal_epoch   2,  Average loss: 0.0029, Accuracy: 321/337 (95.2522%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 3.7662, Accuracy: 3063/10000 (30.6300%)
___Train Local_ResNet_18,  epoch 221, local model 96, internal_epoch   1,  Average loss: 0.0043, Accuracy: 642/708 (90.6780%)
___Train Local_ResNet_18,  epoch 221, local model 96, internal_epoch   2,  Average loss: 0.0093, Accuracy: 603/708 (85.1695%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 20.2400, Accuracy: 1432/10000 (14.3200%)
___Train Local_ResNet_18,  epoch 221, local model 0, internal_epoch   1,  Average loss: 0.0074, Accuracy: 314/367 (85.5586%)
___Train Local_ResNet_18,  epoch 221, local model 0, internal_epoch   2,  Average loss: 0.0024, Accuracy: 351/367 (95.6403%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 4.5240, Accuracy: 2829/10000 (28.2900%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   1,  Average loss: 0.0078, Accuracy: 672/780 (86.1538%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   2,  Average loss: 0.0123, Accuracy: 607/780 (77.8205%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 15.2254, Accuracy: 1999/10000 (19.9900%)
___Train Local_ResNet_18,  epoch 221, local model 8, internal_epoch   1,  Average loss: 0.0041, Accuracy: 492/534 (92.1348%)
___Train Local_ResNet_18,  epoch 221, local model 8, internal_epoch   2,  Average loss: 0.0052, Accuracy: 488/534 (91.3858%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 2.9852, Accuracy: 3758/10000 (37.5800%)
___Train Local_ResNet_18,  epoch 221, local model 68, internal_epoch   1,  Average loss: 0.0026, Accuracy: 396/416 (95.1923%)
___Train Local_ResNet_18,  epoch 221, local model 68, internal_epoch   2,  Average loss: 0.0016, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.4840, Accuracy: 5949/10000 (59.4900%)
time spent on training: 59.39723777770996
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 842, 756, 848, 337, 708, 367, 780, 534, 416]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.37188714 1.         1.         1.         0.25919079 1.
 0.51716909 1.         0.25919079 0.37188714]
___Test Target_ResNet_18 poisoned: False, epoch: 221: Average loss: 0.6747, Accuracy: 7752/10000 (77.5200%)
___Test Target_ResNet_18 poisoned: True, epoch: 221: Average loss: 6.5364, Accuracy: 254/9000 (2.8222%)
Done in 128.00146913528442 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:222 choose agents : [79, 90, 21, 25, 53, 14, 6, 12, 7, 58]. Adversary List: []
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   1,  Average loss: 0.0068, Accuracy: 134/154 (87.0130%)
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.2482, Accuracy: 6521/10000 (65.2100%)
___Train Local_ResNet_18,  epoch 222, local model 90, internal_epoch   1,  Average loss: 0.0133, Accuracy: 531/578 (91.8685%)
___Train Local_ResNet_18,  epoch 222, local model 90, internal_epoch   2,  Average loss: 0.0294, Accuracy: 349/578 (60.3806%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 614.3837, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 222, local model 21, internal_epoch   1,  Average loss: 0.0047, Accuracy: 242/262 (92.3664%)
___Train Local_ResNet_18,  epoch 222, local model 21, internal_epoch   2,  Average loss: 0.0071, Accuracy: 243/262 (92.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 7.7167, Accuracy: 1880/10000 (18.8000%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   1,  Average loss: 0.0040, Accuracy: 504/545 (92.4771%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   2,  Average loss: 0.0019, Accuracy: 527/545 (96.6972%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.2059, Accuracy: 4183/10000 (41.8300%)
___Train Local_ResNet_18,  epoch 222, local model 53, internal_epoch   1,  Average loss: 0.0044, Accuracy: 565/625 (90.4000%)
___Train Local_ResNet_18,  epoch 222, local model 53, internal_epoch   2,  Average loss: 0.0036, Accuracy: 576/625 (92.1600%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 4.0811, Accuracy: 3584/10000 (35.8400%)
___Train Local_ResNet_18,  epoch 222, local model 14, internal_epoch   1,  Average loss: 0.0084, Accuracy: 266/318 (83.6478%)
___Train Local_ResNet_18,  epoch 222, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 297/318 (93.3962%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 9.6778, Accuracy: 1886/10000 (18.8600%)
___Train Local_ResNet_18,  epoch 222, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 477/520 (91.7308%)
___Train Local_ResNet_18,  epoch 222, local model 6, internal_epoch   2,  Average loss: 0.0034, Accuracy: 485/520 (93.2692%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.4277, Accuracy: 3895/10000 (38.9500%)
___Train Local_ResNet_18,  epoch 222, local model 12, internal_epoch   1,  Average loss: 0.0065, Accuracy: 854/977 (87.4104%)
___Train Local_ResNet_18,  epoch 222, local model 12, internal_epoch   2,  Average loss: 0.0091, Accuracy: 808/977 (82.7021%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 15.6946, Accuracy: 1627/10000 (16.2700%)
___Train Local_ResNet_18,  epoch 222, local model 7, internal_epoch   1,  Average loss: 0.0028, Accuracy: 331/352 (94.0341%)
___Train Local_ResNet_18,  epoch 222, local model 7, internal_epoch   2,  Average loss: 0.0010, Accuracy: 346/352 (98.2955%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.9875, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 222, local model 58, internal_epoch   1,  Average loss: 0.0084, Accuracy: 196/234 (83.7607%)
___Train Local_ResNet_18,  epoch 222, local model 58, internal_epoch   2,  Average loss: 0.0006, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 6.9292, Accuracy: 1900/10000 (19.0000%)
time spent on training: 58.704766035079956
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [154, 578, 262, 545, 625, 318, 520, 977, 352, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 0. 0. 1. 1. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 222: Average loss: 0.6722, Accuracy: 7779/10000 (77.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 222: Average loss: 6.5187, Accuracy: 262/9000 (2.9111%)
Done in 126.83132553100586 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:223 choose agents : [65, 0, 98, 20, 45, 82, 88, 17, 11, 46]. Adversary List: []
___Train Local_ResNet_18,  epoch 223, local model 65, internal_epoch   1,  Average loss: 0.0046, Accuracy: 287/314 (91.4013%)
___Train Local_ResNet_18,  epoch 223, local model 65, internal_epoch   2,  Average loss: 0.0007, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 4.8895, Accuracy: 2535/10000 (25.3500%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   1,  Average loss: 0.0078, Accuracy: 309/367 (84.1962%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   2,  Average loss: 0.0021, Accuracy: 349/367 (95.0954%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 6.0451, Accuracy: 2523/10000 (25.2300%)
___Train Local_ResNet_18,  epoch 223, local model 98, internal_epoch   1,  Average loss: 0.0038, Accuracy: 741/802 (92.3940%)
___Train Local_ResNet_18,  epoch 223, local model 98, internal_epoch   2,  Average loss: 0.0046, Accuracy: 731/802 (91.1471%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.6097, Accuracy: 4970/10000 (49.7000%)
___Train Local_ResNet_18,  epoch 223, local model 20, internal_epoch   1,  Average loss: 0.0074, Accuracy: 303/362 (83.7017%)
___Train Local_ResNet_18,  epoch 223, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 338/362 (93.3702%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 4.7948, Accuracy: 3673/10000 (36.7300%)
___Train Local_ResNet_18,  epoch 223, local model 45, internal_epoch   1,  Average loss: 0.0066, Accuracy: 459/529 (86.7675%)
___Train Local_ResNet_18,  epoch 223, local model 45, internal_epoch   2,  Average loss: 0.0085, Accuracy: 454/529 (85.8223%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 16.3059, Accuracy: 1560/10000 (15.6000%)
___Train Local_ResNet_18,  epoch 223, local model 82, internal_epoch   1,  Average loss: 0.0023, Accuracy: 580/601 (96.5058%)
___Train Local_ResNet_18,  epoch 223, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 566/601 (94.1764%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.1724, Accuracy: 5004/10000 (50.0400%)
___Train Local_ResNet_18,  epoch 223, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 375/447 (83.8926%)
___Train Local_ResNet_18,  epoch 223, local model 88, internal_epoch   2,  Average loss: 0.0037, Accuracy: 416/447 (93.0649%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.0661, Accuracy: 3131/10000 (31.3100%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 223, local model 17, internal_epoch   1,  Average loss: 0.0027, Accuracy: 501/526 (95.2471%)
___Train Local_ResNet_18,  epoch 223, local model 17, internal_epoch   2,  Average loss: 0.0020, Accuracy: 512/526 (97.3384%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.6669, Accuracy: 5829/10000 (58.2900%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 223, local model 11, internal_epoch   1,  Average loss: 0.0032, Accuracy: 513/546 (93.9560%)
___Train Local_ResNet_18,  epoch 223, local model 11, internal_epoch   2,  Average loss: 0.0032, Accuracy: 514/546 (94.1392%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.0745, Accuracy: 5192/10000 (51.9200%)
___Train Local_ResNet_18,  epoch 223, local model 46, internal_epoch   1,  Average loss: 0.0017, Accuracy: 587/601 (97.6705%)
___Train Local_ResNet_18,  epoch 223, local model 46, internal_epoch   2,  Average loss: 0.0010, Accuracy: 593/601 (98.6689%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.4598, Accuracy: 6138/10000 (61.3800%)
time spent on training: 79.50775694847107
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21040235525024534  data num: [314, 367, 802, 362, 529, 601, 447, 526, 546, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.016437684003925417
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 223: Average loss: 0.6710, Accuracy: 7770/10000 (77.7000%)
___Test Target_ResNet_18 poisoned: True, epoch: 223: Average loss: 6.5174, Accuracy: 262/9000 (2.9111%)
Done in 150.2013669013977 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:224 choose agents : [85, 42, 29, 8, 63, 48, 69, 96, 88, 17]. Adversary List: []
___Train Local_ResNet_18,  epoch 224, local model 85, internal_epoch   1,  Average loss: 0.0066, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 224, local model 85, internal_epoch   2,  Average loss: 0.0025, Accuracy: 350/364 (96.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.2859, Accuracy: 2869/10000 (28.6900%)
___Train Local_ResNet_18,  epoch 224, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 183/198 (92.4242%)
___Train Local_ResNet_18,  epoch 224, local model 42, internal_epoch   2,  Average loss: 0.0080, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.5948, Accuracy: 4241/10000 (42.4100%)
___Train Local_ResNet_18,  epoch 224, local model 29, internal_epoch   1,  Average loss: 0.0041, Accuracy: 775/848 (91.3915%)
___Train Local_ResNet_18,  epoch 224, local model 29, internal_epoch   2,  Average loss: 0.0043, Accuracy: 784/848 (92.4528%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 5.2508, Accuracy: 3086/10000 (30.8600%)
___Train Local_ResNet_18,  epoch 224, local model 8, internal_epoch   1,  Average loss: 0.0039, Accuracy: 501/534 (93.8202%)
___Train Local_ResNet_18,  epoch 224, local model 8, internal_epoch   2,  Average loss: 0.0033, Accuracy: 502/534 (94.0075%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.1036, Accuracy: 3884/10000 (38.8400%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 706/752 (93.8830%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   2,  Average loss: 0.0020, Accuracy: 727/752 (96.6755%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.3211, Accuracy: 5078/10000 (50.7800%)
___Train Local_ResNet_18,  epoch 224, local model 48, internal_epoch   1,  Average loss: 0.0058, Accuracy: 341/378 (90.2116%)
___Train Local_ResNet_18,  epoch 224, local model 48, internal_epoch   2,  Average loss: 0.0020, Accuracy: 363/378 (96.0317%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.4250, Accuracy: 3725/10000 (37.2500%)
___Train Local_ResNet_18,  epoch 224, local model 69, internal_epoch   1,  Average loss: 0.0075, Accuracy: 189/216 (87.5000%)
___Train Local_ResNet_18,  epoch 224, local model 69, internal_epoch   2,  Average loss: 0.0008, Accuracy: 214/216 (99.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 12.3491, Accuracy: 1018/10000 (10.1800%)
___Train Local_ResNet_18,  epoch 224, local model 96, internal_epoch   1,  Average loss: 0.0052, Accuracy: 651/708 (91.9492%)
___Train Local_ResNet_18,  epoch 224, local model 96, internal_epoch   2,  Average loss: 0.0174, Accuracy: 512/708 (72.3164%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 21.9849, Accuracy: 1714/10000 (17.1400%)
___Train Local_ResNet_18,  epoch 224, local model 88, internal_epoch   1,  Average loss: 0.0065, Accuracy: 393/447 (87.9195%)
___Train Local_ResNet_18,  epoch 224, local model 88, internal_epoch   2,  Average loss: 0.0030, Accuracy: 416/447 (93.0649%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.4377, Accuracy: 3393/10000 (33.9300%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 224, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 504/526 (95.8175%)
___Train Local_ResNet_18,  epoch 224, local model 17, internal_epoch   2,  Average loss: 0.0029, Accuracy: 507/526 (96.3878%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 1.8763, Accuracy: 5298/10000 (52.9800%)
time spent on training: 67.16370415687561
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10581371957352645  data num: [364, 198, 848, 534, 752, 378, 216, 708, 447, 526]
[foolsgold agg] considering poison per batch poison_fraction: 0.008266696841681754
[foolsgold agg] wv: [0.27958685 0.         1.         0.61581304 1.         1.
 0.         0.61581304 0.27958685 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 224: Average loss: 0.6693, Accuracy: 7775/10000 (77.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 224: Average loss: 6.5132, Accuracy: 266/9000 (2.9556%)
Done in 135.91044759750366 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:225 choose agents : [20, 71, 51, 95, 80, 24, 55, 13, 63, 61]. Adversary List: []
___Train Local_ResNet_18,  epoch 225, local model 20, internal_epoch   1,  Average loss: 0.0071, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 225, local model 20, internal_epoch   2,  Average loss: 0.0015, Accuracy: 349/362 (96.4088%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.1791, Accuracy: 2693/10000 (26.9300%)
___Train Local_ResNet_18,  epoch 225, local model 71, internal_epoch   1,  Average loss: 0.0043, Accuracy: 1065/1166 (91.3379%)
___Train Local_ResNet_18,  epoch 225, local model 71, internal_epoch   2,  Average loss: 0.0111, Accuracy: 916/1166 (78.5592%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 11.8483, Accuracy: 2544/10000 (25.4400%)
___Train Local_ResNet_18,  epoch 225, local model 51, internal_epoch   1,  Average loss: 0.0032, Accuracy: 447/479 (93.3194%)
___Train Local_ResNet_18,  epoch 225, local model 51, internal_epoch   2,  Average loss: 0.0018, Accuracy: 462/479 (96.4509%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 2.7498, Accuracy: 4007/10000 (40.0700%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   1,  Average loss: 0.0075, Accuracy: 492/569 (86.4675%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   2,  Average loss: 0.0053, Accuracy: 506/569 (88.9279%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 6.2881, Accuracy: 2816/10000 (28.1600%)
___Train Local_ResNet_18,  epoch 225, local model 80, internal_epoch   1,  Average loss: 0.0067, Accuracy: 312/363 (85.9504%)
___Train Local_ResNet_18,  epoch 225, local model 80, internal_epoch   2,  Average loss: 0.0018, Accuracy: 351/363 (96.6942%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 2.9043, Accuracy: 4039/10000 (40.3900%)
___Train Local_ResNet_18,  epoch 225, local model 24, internal_epoch   1,  Average loss: 0.0039, Accuracy: 292/320 (91.2500%)
___Train Local_ResNet_18,  epoch 225, local model 24, internal_epoch   2,  Average loss: 0.0006, Accuracy: 317/320 (99.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 3.1534, Accuracy: 3599/10000 (35.9900%)
___Train Local_ResNet_18,  epoch 225, local model 55, internal_epoch   1,  Average loss: 0.0049, Accuracy: 271/299 (90.6355%)
___Train Local_ResNet_18,  epoch 225, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.7422, Accuracy: 2106/10000 (21.0600%)
___Train Local_ResNet_18,  epoch 225, local model 13, internal_epoch   1,  Average loss: 0.0056, Accuracy: 546/620 (88.0645%)
___Train Local_ResNet_18,  epoch 225, local model 13, internal_epoch   2,  Average loss: 0.0029, Accuracy: 578/620 (93.2258%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 4.7801, Accuracy: 3328/10000 (33.2800%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   1,  Average loss: 0.0027, Accuracy: 708/752 (94.1489%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   2,  Average loss: 0.0023, Accuracy: 718/752 (95.4787%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.6828, Accuracy: 5576/10000 (55.7600%)
___Train Local_ResNet_18,  epoch 225, local model 61, internal_epoch   1,  Average loss: 0.0048, Accuracy: 537/590 (91.0169%)
___Train Local_ResNet_18,  epoch 225, local model 61, internal_epoch   2,  Average loss: 0.0114, Accuracy: 490/590 (83.0508%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 25.4122, Accuracy: 1291/10000 (12.9100%)
time spent on training: 56.691171407699585
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [362, 1166, 479, 569, 363, 320, 299, 620, 752, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.97422227 0.         1.         0.         0.97422227
 0.         0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 225: Average loss: 0.6676, Accuracy: 7785/10000 (77.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 225: Average loss: 6.5342, Accuracy: 265/9000 (2.9444%)
Done in 126.76182198524475 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:226 choose agents : [41, 90, 74, 85, 14, 21, 78, 1, 2, 9]. Adversary List: []
___Train Local_ResNet_18,  epoch 226, local model 41, internal_epoch   1,  Average loss: 0.0231, Accuracy: 420/513 (81.8713%)
___Train Local_ResNet_18,  epoch 226, local model 41, internal_epoch   2,  Average loss: 0.0120, Accuracy: 402/513 (78.3626%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 4.1128, Accuracy: 2422/10000 (24.2200%)
___Train Local_ResNet_18,  epoch 226, local model 90, internal_epoch   1,  Average loss: 0.0061, Accuracy: 533/578 (92.2145%)
___Train Local_ResNet_18,  epoch 226, local model 90, internal_epoch   2,  Average loss: 0.0283, Accuracy: 335/578 (57.9585%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 6214.8962, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 226, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 433/469 (92.3241%)
___Train Local_ResNet_18,  epoch 226, local model 74, internal_epoch   2,  Average loss: 0.0017, Accuracy: 454/469 (96.8017%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 2.8064, Accuracy: 4465/10000 (44.6500%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   1,  Average loss: 0.0067, Accuracy: 315/364 (86.5385%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   2,  Average loss: 0.0029, Accuracy: 343/364 (94.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.7127, Accuracy: 3213/10000 (32.1300%)
___Train Local_ResNet_18,  epoch 226, local model 14, internal_epoch   1,  Average loss: 0.0069, Accuracy: 276/318 (86.7925%)
___Train Local_ResNet_18,  epoch 226, local model 14, internal_epoch   2,  Average loss: 0.0015, Accuracy: 308/318 (96.8553%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 12.2718, Accuracy: 1677/10000 (16.7700%)
___Train Local_ResNet_18,  epoch 226, local model 21, internal_epoch   1,  Average loss: 0.0042, Accuracy: 241/262 (91.9847%)
___Train Local_ResNet_18,  epoch 226, local model 21, internal_epoch   2,  Average loss: 0.0041, Accuracy: 253/262 (96.5649%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.9695, Accuracy: 3121/10000 (31.2100%)
___Train Local_ResNet_18,  epoch 226, local model 78, internal_epoch   1,  Average loss: 0.0055, Accuracy: 224/255 (87.8431%)
___Train Local_ResNet_18,  epoch 226, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.0886, Accuracy: 3923/10000 (39.2300%)
___Train Local_ResNet_18,  epoch 226, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 608/641 (94.8518%)
___Train Local_ResNet_18,  epoch 226, local model 1, internal_epoch   2,  Average loss: 0.0141, Accuracy: 532/641 (82.9953%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.7089, Accuracy: 3829/10000 (38.2900%)
___Train Local_ResNet_18,  epoch 226, local model 2, internal_epoch   1,  Average loss: 0.0083, Accuracy: 390/461 (84.5987%)
___Train Local_ResNet_18,  epoch 226, local model 2, internal_epoch   2,  Average loss: 0.0056, Accuracy: 420/461 (91.1063%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.8558, Accuracy: 3426/10000 (34.2600%)
___Train Local_ResNet_18,  epoch 226, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 337/368 (91.5761%)
___Train Local_ResNet_18,  epoch 226, local model 9, internal_epoch   2,  Average loss: 0.0013, Accuracy: 362/368 (98.3696%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 7.0973, Accuracy: 2331/10000 (23.3100%)
time spent on training: 58.74071407318115
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [513, 578, 469, 364, 318, 262, 255, 641, 461, 368]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.10431583 1.         1.         1.         0.10431583 1.
 1.         1.         0.53919896 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 226: Average loss: 0.6691, Accuracy: 7786/10000 (77.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 226: Average loss: 6.5845, Accuracy: 250/9000 (2.7778%)
Done in 132.51719999313354 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:227 choose agents : [9, 5, 16, 36, 94, 57, 63, 92, 28, 56]. Adversary List: []
___Train Local_ResNet_18,  epoch 227, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 333/368 (90.4891%)
___Train Local_ResNet_18,  epoch 227, local model 9, internal_epoch   2,  Average loss: 0.0018, Accuracy: 356/368 (96.7391%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.7377, Accuracy: 2794/10000 (27.9400%)
___Train Local_ResNet_18,  epoch 227, local model 5, internal_epoch   1,  Average loss: 0.0020, Accuracy: 351/365 (96.1644%)
___Train Local_ResNet_18,  epoch 227, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.6230, Accuracy: 6017/10000 (60.1700%)
___Train Local_ResNet_18,  epoch 227, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 716/773 (92.6261%)
___Train Local_ResNet_18,  epoch 227, local model 16, internal_epoch   2,  Average loss: 0.0110, Accuracy: 667/773 (86.2872%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 7.1078, Accuracy: 2686/10000 (26.8600%)
___Train Local_ResNet_18,  epoch 227, local model 36, internal_epoch   1,  Average loss: 0.0076, Accuracy: 736/849 (86.6902%)
___Train Local_ResNet_18,  epoch 227, local model 36, internal_epoch   2,  Average loss: 0.0166, Accuracy: 589/849 (69.3757%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 34.7144, Accuracy: 1804/10000 (18.0400%)
___Train Local_ResNet_18,  epoch 227, local model 94, internal_epoch   1,  Average loss: 0.0079, Accuracy: 170/203 (83.7438%)
___Train Local_ResNet_18,  epoch 227, local model 94, internal_epoch   2,  Average loss: 0.0019, Accuracy: 201/203 (99.0148%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.4923, Accuracy: 2801/10000 (28.0100%)
___Train Local_ResNet_18,  epoch 227, local model 57, internal_epoch   1,  Average loss: 0.0053, Accuracy: 261/290 (90.0000%)
___Train Local_ResNet_18,  epoch 227, local model 57, internal_epoch   2,  Average loss: 0.0012, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 3.1983, Accuracy: 4535/10000 (45.3500%)
___Train Local_ResNet_18,  epoch 227, local model 63, internal_epoch   1,  Average loss: 0.0026, Accuracy: 713/752 (94.8138%)
___Train Local_ResNet_18,  epoch 227, local model 63, internal_epoch   2,  Average loss: 0.0023, Accuracy: 709/752 (94.2819%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.4802, Accuracy: 5939/10000 (59.3900%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   1,  Average loss: 0.0053, Accuracy: 722/796 (90.7035%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   2,  Average loss: 0.0075, Accuracy: 690/796 (86.6834%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 6.5872, Accuracy: 2471/10000 (24.7100%)
___Train Local_ResNet_18,  epoch 227, local model 28, internal_epoch   1,  Average loss: 0.0031, Accuracy: 400/423 (94.5626%)
___Train Local_ResNet_18,  epoch 227, local model 28, internal_epoch   2,  Average loss: 0.0015, Accuracy: 413/423 (97.6359%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.9592, Accuracy: 5237/10000 (52.3700%)
___Train Local_ResNet_18,  epoch 227, local model 56, internal_epoch   1,  Average loss: 0.0022, Accuracy: 717/743 (96.5007%)
___Train Local_ResNet_18,  epoch 227, local model 56, internal_epoch   2,  Average loss: 0.0011, Accuracy: 730/743 (98.2503%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.5102, Accuracy: 6269/10000 (62.6900%)
time spent on training: 55.32465577125549
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [368, 365, 773, 849, 203, 290, 752, 796, 423, 743]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.8955698  0.79976174 1.         0.79357823 0.33840582
 0.33840582 1.         0.92822232 0.79357823]
___Test Target_ResNet_18 poisoned: False, epoch: 227: Average loss: 0.6673, Accuracy: 7787/10000 (77.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 227: Average loss: 6.5997, Accuracy: 252/9000 (2.8000%)
Done in 124.78855466842651 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:228 choose agents : [44, 40, 74, 85, 2, 99, 35, 70, 88, 50]. Adversary List: []
___Train Local_ResNet_18,  epoch 228, local model 44, internal_epoch   1,  Average loss: 0.0044, Accuracy: 401/436 (91.9725%)
___Train Local_ResNet_18,  epoch 228, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 1.4110, Accuracy: 5926/10000 (59.2600%)
___Train Local_ResNet_18,  epoch 228, local model 40, internal_epoch   1,  Average loss: 0.0087, Accuracy: 569/652 (87.2699%)
___Train Local_ResNet_18,  epoch 228, local model 40, internal_epoch   2,  Average loss: 0.0097, Accuracy: 540/652 (82.8221%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 9.4236, Accuracy: 1518/10000 (15.1800%)
___Train Local_ResNet_18,  epoch 228, local model 74, internal_epoch   1,  Average loss: 0.0047, Accuracy: 435/469 (92.7505%)
___Train Local_ResNet_18,  epoch 228, local model 74, internal_epoch   2,  Average loss: 0.0030, Accuracy: 444/469 (94.6695%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 2.9633, Accuracy: 3978/10000 (39.7800%)
___Train Local_ResNet_18,  epoch 228, local model 85, internal_epoch   1,  Average loss: 0.0074, Accuracy: 317/364 (87.0879%)
___Train Local_ResNet_18,  epoch 228, local model 85, internal_epoch   2,  Average loss: 0.0028, Accuracy: 345/364 (94.7802%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.7050, Accuracy: 3144/10000 (31.4400%)
___Train Local_ResNet_18,  epoch 228, local model 2, internal_epoch   1,  Average loss: 0.0077, Accuracy: 395/461 (85.6833%)
___Train Local_ResNet_18,  epoch 228, local model 2, internal_epoch   2,  Average loss: 0.0071, Accuracy: 412/461 (89.3709%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 5.3204, Accuracy: 2806/10000 (28.0600%)
___Train Local_ResNet_18,  epoch 228, local model 99, internal_epoch   1,  Average loss: 0.0048, Accuracy: 358/391 (91.5601%)
___Train Local_ResNet_18,  epoch 228, local model 99, internal_epoch   2,  Average loss: 0.0074, Accuracy: 351/391 (89.7698%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.3877, Accuracy: 3940/10000 (39.4000%)
___Train Local_ResNet_18,  epoch 228, local model 35, internal_epoch   1,  Average loss: 0.0068, Accuracy: 363/419 (86.6348%)
___Train Local_ResNet_18,  epoch 228, local model 35, internal_epoch   2,  Average loss: 0.0020, Accuracy: 401/419 (95.7041%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.9180, Accuracy: 3090/10000 (30.9000%)
___Train Local_ResNet_18,  epoch 228, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 580/610 (95.0820%)
___Train Local_ResNet_18,  epoch 228, local model 70, internal_epoch   2,  Average loss: 0.0041, Accuracy: 564/610 (92.4590%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 2.9485, Accuracy: 4274/10000 (42.7400%)
___Train Local_ResNet_18,  epoch 228, local model 88, internal_epoch   1,  Average loss: 0.0064, Accuracy: 393/447 (87.9195%)
___Train Local_ResNet_18,  epoch 228, local model 88, internal_epoch   2,  Average loss: 0.0024, Accuracy: 424/447 (94.8546%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 4.1690, Accuracy: 3327/10000 (33.2700%)
___Train Local_ResNet_18,  epoch 228, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 387/401 (96.5087%)
___Train Local_ResNet_18,  epoch 228, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 394/401 (98.2544%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 2.9543, Accuracy: 4402/10000 (44.0200%)
time spent on training: 54.14702844619751
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [436, 652, 469, 364, 461, 391, 419, 610, 447, 401]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.48487638 0.         0.71394018 0.17746639 0.         1.
 1.         0.48487638 0.17746639 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 228: Average loss: 0.6663, Accuracy: 7790/10000 (77.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 228: Average loss: 6.6154, Accuracy: 251/9000 (2.7889%)
Done in 123.72421979904175 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:229 choose agents : [86, 60, 41, 79, 76, 67, 9, 40, 72, 44]. Adversary List: []
___Train Local_ResNet_18,  epoch 229, local model 86, internal_epoch   1,  Average loss: 0.0052, Accuracy: 202/212 (95.2830%)
___Train Local_ResNet_18,  epoch 229, local model 86, internal_epoch   2,  Average loss: 0.0026, Accuracy: 206/212 (97.1698%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 2.6254, Accuracy: 4558/10000 (45.5800%)
___Train Local_ResNet_18,  epoch 229, local model 60, internal_epoch   1,  Average loss: 0.0044, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 229, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 281/284 (98.9437%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 3.0481, Accuracy: 4260/10000 (42.6000%)
___Train Local_ResNet_18,  epoch 229, local model 41, internal_epoch   1,  Average loss: 0.0084, Accuracy: 426/513 (83.0409%)
___Train Local_ResNet_18,  epoch 229, local model 41, internal_epoch   2,  Average loss: 0.0242, Accuracy: 461/513 (89.8635%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 6.6330, Accuracy: 2541/10000 (25.4100%)
___Train Local_ResNet_18,  epoch 229, local model 79, internal_epoch   1,  Average loss: 0.0064, Accuracy: 134/154 (87.0130%)
___Train Local_ResNet_18,  epoch 229, local model 79, internal_epoch   2,  Average loss: 0.0009, Accuracy: 153/154 (99.3506%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.0562, Accuracy: 6858/10000 (68.5800%)
___Train Local_ResNet_18,  epoch 229, local model 76, internal_epoch   1,  Average loss: 0.0402, Accuracy: 60/65 (92.3077%)
___Train Local_ResNet_18,  epoch 229, local model 76, internal_epoch   2,  Average loss: 0.0455, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.1843, Accuracy: 6600/10000 (66.0000%)
___Train Local_ResNet_18,  epoch 229, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 787/842 (93.4679%)
___Train Local_ResNet_18,  epoch 229, local model 67, internal_epoch   2,  Average loss: 0.0133, Accuracy: 651/842 (77.3159%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 9.0819, Accuracy: 2549/10000 (25.4900%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   1,  Average loss: 0.0036, Accuracy: 337/368 (91.5761%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 359/368 (97.5543%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 4.2578, Accuracy: 3300/10000 (33.0000%)
___Train Local_ResNet_18,  epoch 229, local model 40, internal_epoch   1,  Average loss: 0.0058, Accuracy: 571/652 (87.5767%)
___Train Local_ResNet_18,  epoch 229, local model 40, internal_epoch   2,  Average loss: 0.0055, Accuracy: 587/652 (90.0307%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 7.9088, Accuracy: 2988/10000 (29.8800%)
___Train Local_ResNet_18,  epoch 229, local model 72, internal_epoch   1,  Average loss: 0.0080, Accuracy: 514/618 (83.1715%)
___Train Local_ResNet_18,  epoch 229, local model 72, internal_epoch   2,  Average loss: 0.0074, Accuracy: 536/618 (86.7314%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 15.0591, Accuracy: 1306/10000 (13.0600%)
___Train Local_ResNet_18,  epoch 229, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 408/436 (93.5780%)
___Train Local_ResNet_18,  epoch 229, local model 44, internal_epoch   2,  Average loss: 0.0011, Accuracy: 428/436 (98.1651%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 2.1395, Accuracy: 4907/10000 (49.0700%)
time spent on training: 56.495875120162964
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 284, 513, 154, 65, 842, 368, 652, 618, 436]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.03019132 0.         0.42959031 1.         0.         1.
 1.         0.33263077 0.03019132 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 229: Average loss: 0.6650, Accuracy: 7792/10000 (77.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 229: Average loss: 6.6172, Accuracy: 252/9000 (2.8000%)
Done in 125.68735814094543 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:230 choose agents : [46, 96, 54, 39, 67, 82, 21, 80, 11, 33]. Adversary List: []
___Train Local_ResNet_18,  epoch 230, local model 46, internal_epoch   1,  Average loss: 0.0017, Accuracy: 584/601 (97.1714%)
___Train Local_ResNet_18,  epoch 230, local model 46, internal_epoch   2,  Average loss: 0.0011, Accuracy: 590/601 (98.1697%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 1.9908, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   1,  Average loss: 0.0039, Accuracy: 655/708 (92.5141%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   2,  Average loss: 0.0046, Accuracy: 650/708 (91.8079%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.8347, Accuracy: 3681/10000 (36.8100%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   1,  Average loss: 0.0034, Accuracy: 408/440 (92.7273%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   2,  Average loss: 0.0013, Accuracy: 429/440 (97.5000%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.4417, Accuracy: 4275/10000 (42.7500%)
___Train Local_ResNet_18,  epoch 230, local model 39, internal_epoch   1,  Average loss: 0.0057, Accuracy: 193/217 (88.9401%)
___Train Local_ResNet_18,  epoch 230, local model 39, internal_epoch   2,  Average loss: 0.0009, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.1524, Accuracy: 3921/10000 (39.2100%)
___Train Local_ResNet_18,  epoch 230, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 793/842 (94.1805%)
___Train Local_ResNet_18,  epoch 230, local model 67, internal_epoch   2,  Average loss: 0.0218, Accuracy: 542/842 (64.3705%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 56.2465, Accuracy: 1028/10000 (10.2800%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   1,  Average loss: 0.0022, Accuracy: 581/601 (96.6722%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   2,  Average loss: 0.0016, Accuracy: 584/601 (97.1714%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.1171, Accuracy: 4933/10000 (49.3300%)
___Train Local_ResNet_18,  epoch 230, local model 21, internal_epoch   1,  Average loss: 0.0111, Accuracy: 236/262 (90.0763%)
___Train Local_ResNet_18,  epoch 230, local model 21, internal_epoch   2,  Average loss: 0.0236, Accuracy: 203/262 (77.4809%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 21.6140, Accuracy: 1440/10000 (14.4000%)
___Train Local_ResNet_18,  epoch 230, local model 80, internal_epoch   1,  Average loss: 0.0057, Accuracy: 321/363 (88.4298%)
___Train Local_ResNet_18,  epoch 230, local model 80, internal_epoch   2,  Average loss: 0.0013, Accuracy: 355/363 (97.7961%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 4.0570, Accuracy: 3644/10000 (36.4400%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 230, local model 11, internal_epoch   1,  Average loss: 0.0031, Accuracy: 510/546 (93.4066%)
___Train Local_ResNet_18,  epoch 230, local model 11, internal_epoch   2,  Average loss: 0.0030, Accuracy: 512/546 (93.7729%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.9287, Accuracy: 4424/10000 (44.2400%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 230, local model 33, internal_epoch   1,  Average loss: 0.0046, Accuracy: 490/527 (92.9791%)
___Train Local_ResNet_18,  epoch 230, local model 33, internal_epoch   2,  Average loss: 0.0036, Accuracy: 492/527 (93.3586%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.1651, Accuracy: 4664/10000 (46.6400%)
time spent on training: 76.84614253044128
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21010377912668887  data num: [601, 708, 440, 217, 842, 601, 262, 363, 546, 527]
[foolsgold agg] considering poison per batch poison_fraction: 0.016414357744272568
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.45886466
 0.45886466 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 230: Average loss: 0.6644, Accuracy: 7795/10000 (77.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 230: Average loss: 6.5815, Accuracy: 261/9000 (2.9000%)
Done in 144.86863946914673 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:231 choose agents : [91, 23, 65, 69, 44, 38, 93, 2, 16, 36]. Adversary List: []
___Train Local_ResNet_18,  epoch 231, local model 91, internal_epoch   1,  Average loss: 0.0035, Accuracy: 214/234 (91.4530%)
___Train Local_ResNet_18,  epoch 231, local model 91, internal_epoch   2,  Average loss: 0.0005, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 1.7619, Accuracy: 5583/10000 (55.8300%)
___Train Local_ResNet_18,  epoch 231, local model 23, internal_epoch   1,  Average loss: 0.0043, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 231, local model 23, internal_epoch   2,  Average loss: 0.0007, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.5230, Accuracy: 4283/10000 (42.8300%)
___Train Local_ResNet_18,  epoch 231, local model 65, internal_epoch   1,  Average loss: 0.0040, Accuracy: 292/314 (92.9936%)
___Train Local_ResNet_18,  epoch 231, local model 65, internal_epoch   2,  Average loss: 0.0006, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 5.2353, Accuracy: 2595/10000 (25.9500%)
___Train Local_ResNet_18,  epoch 231, local model 69, internal_epoch   1,  Average loss: 0.0075, Accuracy: 191/216 (88.4259%)
___Train Local_ResNet_18,  epoch 231, local model 69, internal_epoch   2,  Average loss: 0.0009, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 7.8710, Accuracy: 1447/10000 (14.4700%)
___Train Local_ResNet_18,  epoch 231, local model 44, internal_epoch   1,  Average loss: 0.0042, Accuracy: 398/436 (91.2844%)
___Train Local_ResNet_18,  epoch 231, local model 44, internal_epoch   2,  Average loss: 0.0013, Accuracy: 425/436 (97.4771%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 3.2120, Accuracy: 3832/10000 (38.3200%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   1,  Average loss: 0.0029, Accuracy: 705/756 (93.2540%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   2,  Average loss: 0.0034, Accuracy: 709/756 (93.7831%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.5719, Accuracy: 4803/10000 (48.0300%)
___Train Local_ResNet_18,  epoch 231, local model 93, internal_epoch   1,  Average loss: 0.0032, Accuracy: 548/584 (93.8356%)
___Train Local_ResNet_18,  epoch 231, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 546/584 (93.4932%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 7.0412, Accuracy: 2271/10000 (22.7100%)
___Train Local_ResNet_18,  epoch 231, local model 2, internal_epoch   1,  Average loss: 0.0083, Accuracy: 399/461 (86.5510%)
___Train Local_ResNet_18,  epoch 231, local model 2, internal_epoch   2,  Average loss: 0.0074, Accuracy: 412/461 (89.3709%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 11.7413, Accuracy: 1576/10000 (15.7600%)
___Train Local_ResNet_18,  epoch 231, local model 16, internal_epoch   1,  Average loss: 0.0084, Accuracy: 698/773 (90.2975%)
___Train Local_ResNet_18,  epoch 231, local model 16, internal_epoch   2,  Average loss: 0.0218, Accuracy: 491/773 (63.5188%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 113.6012, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 231, local model 36, internal_epoch   1,  Average loss: 0.0069, Accuracy: 735/849 (86.5724%)
___Train Local_ResNet_18,  epoch 231, local model 36, internal_epoch   2,  Average loss: 0.0102, Accuracy: 677/849 (79.7409%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 9.5665, Accuracy: 2547/10000 (25.4700%)
time spent on training: 58.867515563964844
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [234, 248, 314, 216, 436, 756, 584, 461, 773, 849]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.42179458 0.19219007 1.         1.         0.19219007 1.
 0.42179458 1.         0.86443432 0.86443432]
___Test Target_ResNet_18 poisoned: False, epoch: 231: Average loss: 0.6631, Accuracy: 7796/10000 (77.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 231: Average loss: 6.6347, Accuracy: 252/9000 (2.8000%)
Done in 126.48218178749084 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:232 choose agents : [36, 26, 95, 49, 48, 27, 74, 94, 29, 76]. Adversary List: []
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   1,  Average loss: 0.0063, Accuracy: 754/849 (88.8104%)
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   2,  Average loss: 0.0141, Accuracy: 629/849 (74.0872%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 8.6101, Accuracy: 2652/10000 (26.5200%)
___Train Local_ResNet_18,  epoch 232, local model 26, internal_epoch   1,  Average loss: 0.0040, Accuracy: 434/468 (92.7350%)
___Train Local_ResNet_18,  epoch 232, local model 26, internal_epoch   2,  Average loss: 0.0027, Accuracy: 441/468 (94.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 1.4849, Accuracy: 6119/10000 (61.1900%)
___Train Local_ResNet_18,  epoch 232, local model 95, internal_epoch   1,  Average loss: 0.0076, Accuracy: 480/569 (84.3585%)
___Train Local_ResNet_18,  epoch 232, local model 95, internal_epoch   2,  Average loss: 0.0040, Accuracy: 520/569 (91.3884%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 7.3811, Accuracy: 2396/10000 (23.9600%)
___Train Local_ResNet_18,  epoch 232, local model 49, internal_epoch   1,  Average loss: 0.0038, Accuracy: 393/426 (92.2535%)
___Train Local_ResNet_18,  epoch 232, local model 49, internal_epoch   2,  Average loss: 0.0028, Accuracy: 409/426 (96.0094%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.1679, Accuracy: 5165/10000 (51.6500%)
___Train Local_ResNet_18,  epoch 232, local model 48, internal_epoch   1,  Average loss: 0.0057, Accuracy: 329/378 (87.0370%)
___Train Local_ResNet_18,  epoch 232, local model 48, internal_epoch   2,  Average loss: 0.0022, Accuracy: 361/378 (95.5026%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.7938, Accuracy: 4055/10000 (40.5500%)
___Train Local_ResNet_18,  epoch 232, local model 27, internal_epoch   1,  Average loss: 0.0018, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 232, local model 27, internal_epoch   2,  Average loss: 0.0011, Accuracy: 393/397 (98.9924%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.3662, Accuracy: 5231/10000 (52.3100%)
___Train Local_ResNet_18,  epoch 232, local model 74, internal_epoch   1,  Average loss: 0.0043, Accuracy: 434/469 (92.5373%)
___Train Local_ResNet_18,  epoch 232, local model 74, internal_epoch   2,  Average loss: 0.0017, Accuracy: 453/469 (96.5885%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.9544, Accuracy: 4178/10000 (41.7800%)
___Train Local_ResNet_18,  epoch 232, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 172/203 (84.7291%)
___Train Local_ResNet_18,  epoch 232, local model 94, internal_epoch   2,  Average loss: 0.0015, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 3.1959, Accuracy: 3600/10000 (36.0000%)
___Train Local_ResNet_18,  epoch 232, local model 29, internal_epoch   1,  Average loss: 0.0056, Accuracy: 763/848 (89.9764%)
___Train Local_ResNet_18,  epoch 232, local model 29, internal_epoch   2,  Average loss: 0.0061, Accuracy: 762/848 (89.8585%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 5.0427, Accuracy: 3507/10000 (35.0700%)
___Train Local_ResNet_18,  epoch 232, local model 76, internal_epoch   1,  Average loss: 0.0321, Accuracy: 61/65 (93.8462%)
___Train Local_ResNet_18,  epoch 232, local model 76, internal_epoch   2,  Average loss: 0.0432, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 1.3506, Accuracy: 6170/10000 (61.7000%)
time spent on training: 56.34227919578552
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [849, 468, 569, 426, 378, 397, 469, 203, 848, 65]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.82986956 0.82986956 1.
 0.         1.         0.71125215 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 232: Average loss: 0.6612, Accuracy: 7798/10000 (77.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 232: Average loss: 6.6240, Accuracy: 257/9000 (2.8556%)
Done in 123.56727719306946 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:233 choose agents : [70, 99, 76, 10, 58, 65, 75, 17, 11, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 233, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 560/610 (91.8033%)
___Train Local_ResNet_18,  epoch 233, local model 70, internal_epoch   2,  Average loss: 0.0017, Accuracy: 587/610 (96.2295%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.5987, Accuracy: 4131/10000 (41.3100%)
___Train Local_ResNet_18,  epoch 233, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 360/391 (92.0716%)
___Train Local_ResNet_18,  epoch 233, local model 99, internal_epoch   2,  Average loss: 0.0056, Accuracy: 360/391 (92.0716%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.2851, Accuracy: 3388/10000 (33.8800%)
___Train Local_ResNet_18,  epoch 233, local model 76, internal_epoch   1,  Average loss: 0.0399, Accuracy: 61/65 (93.8462%)
___Train Local_ResNet_18,  epoch 233, local model 76, internal_epoch   2,  Average loss: 0.0474, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.0953, Accuracy: 4894/10000 (48.9400%)
___Train Local_ResNet_18,  epoch 233, local model 10, internal_epoch   1,  Average loss: 0.0037, Accuracy: 703/752 (93.4840%)
___Train Local_ResNet_18,  epoch 233, local model 10, internal_epoch   2,  Average loss: 0.0026, Accuracy: 718/752 (95.4787%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.1469, Accuracy: 3818/10000 (38.1800%)
___Train Local_ResNet_18,  epoch 233, local model 58, internal_epoch   1,  Average loss: 0.0088, Accuracy: 197/234 (84.1880%)
___Train Local_ResNet_18,  epoch 233, local model 58, internal_epoch   2,  Average loss: 0.0009, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 7.6340, Accuracy: 1701/10000 (17.0100%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   1,  Average loss: 0.0038, Accuracy: 292/314 (92.9936%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.2173, Accuracy: 3923/10000 (39.2300%)
___Train Local_ResNet_18,  epoch 233, local model 75, internal_epoch   1,  Average loss: 0.0110, Accuracy: 545/578 (94.2907%)
___Train Local_ResNet_18,  epoch 233, local model 75, internal_epoch   2,  Average loss: 0.0286, Accuracy: 292/578 (50.5190%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 281.2421, Accuracy: 1427/10000 (14.2700%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 233, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 509/526 (96.7681%)
___Train Local_ResNet_18,  epoch 233, local model 17, internal_epoch   2,  Average loss: 0.0014, Accuracy: 509/526 (96.7681%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.6094, Accuracy: 5010/10000 (50.1000%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 233, local model 11, internal_epoch   1,  Average loss: 0.0035, Accuracy: 507/546 (92.8571%)
___Train Local_ResNet_18,  epoch 233, local model 11, internal_epoch   2,  Average loss: 0.0024, Accuracy: 519/546 (95.0549%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.6046, Accuracy: 3649/10000 (36.4900%)
___Train Local_ResNet_18,  epoch 233, local model 48, internal_epoch   1,  Average loss: 0.0045, Accuracy: 343/378 (90.7407%)
___Train Local_ResNet_18,  epoch 233, local model 48, internal_epoch   2,  Average loss: 0.0012, Accuracy: 368/378 (97.3545%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.3852, Accuracy: 2862/10000 (28.6200%)
time spent on training: 77.33525037765503
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.24396904870277653  data num: [610, 391, 65, 752, 234, 314, 578, 526, 546, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.019060081929904417
[foolsgold agg] wv: [1.         0.71782644 0.         1.         0.         0.
 1.         1.         0.71782644 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 233: Average loss: 0.6620, Accuracy: 7798/10000 (77.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 233: Average loss: 6.6520, Accuracy: 249/9000 (2.7667%)
Done in 144.82747220993042 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:234 choose agents : [64, 16, 97, 52, 24, 10, 34, 27, 49, 56]. Adversary List: []
___Train Local_ResNet_18,  epoch 234, local model 64, internal_epoch   1,  Average loss: 0.0033, Accuracy: 637/686 (92.8571%)
___Train Local_ResNet_18,  epoch 234, local model 64, internal_epoch   2,  Average loss: 0.0025, Accuracy: 655/686 (95.4810%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.9429, Accuracy: 3641/10000 (36.4100%)
___Train Local_ResNet_18,  epoch 234, local model 16, internal_epoch   1,  Average loss: 0.0046, Accuracy: 723/773 (93.5317%)
___Train Local_ResNet_18,  epoch 234, local model 16, internal_epoch   2,  Average loss: 0.0250, Accuracy: 458/773 (59.2497%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 293.0544, Accuracy: 974/10000 (9.7400%)
___Train Local_ResNet_18,  epoch 234, local model 97, internal_epoch   1,  Average loss: 0.0027, Accuracy: 392/418 (93.7799%)
___Train Local_ResNet_18,  epoch 234, local model 97, internal_epoch   2,  Average loss: 0.0010, Accuracy: 414/418 (99.0431%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.9812, Accuracy: 5490/10000 (54.9000%)
___Train Local_ResNet_18,  epoch 234, local model 52, internal_epoch   1,  Average loss: 0.0071, Accuracy: 187/214 (87.3832%)
___Train Local_ResNet_18,  epoch 234, local model 52, internal_epoch   2,  Average loss: 0.0017, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.9415, Accuracy: 3468/10000 (34.6800%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   1,  Average loss: 0.0038, Accuracy: 296/320 (92.5000%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   2,  Average loss: 0.0012, Accuracy: 313/320 (97.8125%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.4478, Accuracy: 4496/10000 (44.9600%)
___Train Local_ResNet_18,  epoch 234, local model 10, internal_epoch   1,  Average loss: 0.0039, Accuracy: 698/752 (92.8191%)
___Train Local_ResNet_18,  epoch 234, local model 10, internal_epoch   2,  Average loss: 0.0029, Accuracy: 709/752 (94.2819%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 4.7502, Accuracy: 3089/10000 (30.8900%)
___Train Local_ResNet_18,  epoch 234, local model 34, internal_epoch   1,  Average loss: 0.0053, Accuracy: 314/349 (89.9713%)
___Train Local_ResNet_18,  epoch 234, local model 34, internal_epoch   2,  Average loss: 0.0016, Accuracy: 339/349 (97.1347%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.3831, Accuracy: 4015/10000 (40.1500%)
___Train Local_ResNet_18,  epoch 234, local model 27, internal_epoch   1,  Average loss: 0.0040, Accuracy: 381/397 (95.9698%)
___Train Local_ResNet_18,  epoch 234, local model 27, internal_epoch   2,  Average loss: 0.0020, Accuracy: 388/397 (97.7330%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.7006, Accuracy: 5556/10000 (55.5600%)
___Train Local_ResNet_18,  epoch 234, local model 49, internal_epoch   1,  Average loss: 0.0031, Accuracy: 399/426 (93.6620%)
___Train Local_ResNet_18,  epoch 234, local model 49, internal_epoch   2,  Average loss: 0.0016, Accuracy: 413/426 (96.9484%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.2135, Accuracy: 4989/10000 (49.8900%)
___Train Local_ResNet_18,  epoch 234, local model 56, internal_epoch   1,  Average loss: 0.0019, Accuracy: 717/743 (96.5007%)
___Train Local_ResNet_18,  epoch 234, local model 56, internal_epoch   2,  Average loss: 0.0016, Accuracy: 724/743 (97.4428%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.3503, Accuracy: 6357/10000 (63.5700%)
time spent on training: 53.355589151382446
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [686, 773, 418, 214, 320, 752, 349, 397, 426, 743]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.31089394 1.         1.         1.
 1.         0.31089394 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 234: Average loss: 0.6594, Accuracy: 7811/10000 (78.1100%)
___Test Target_ResNet_18 poisoned: True, epoch: 234: Average loss: 6.6529, Accuracy: 250/9000 (2.7778%)
Done in 120.6377420425415 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:235 choose agents : [48, 14, 45, 65, 37, 38, 24, 99, 56, 20]. Adversary List: []
___Train Local_ResNet_18,  epoch 235, local model 48, internal_epoch   1,  Average loss: 0.0055, Accuracy: 331/378 (87.5661%)
___Train Local_ResNet_18,  epoch 235, local model 48, internal_epoch   2,  Average loss: 0.0018, Accuracy: 367/378 (97.0899%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.0891, Accuracy: 4936/10000 (49.3600%)
___Train Local_ResNet_18,  epoch 235, local model 14, internal_epoch   1,  Average loss: 0.0081, Accuracy: 275/318 (86.4780%)
___Train Local_ResNet_18,  epoch 235, local model 14, internal_epoch   2,  Average loss: 0.0013, Accuracy: 307/318 (96.5409%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 8.0756, Accuracy: 1989/10000 (19.8900%)
___Train Local_ResNet_18,  epoch 235, local model 45, internal_epoch   1,  Average loss: 0.0075, Accuracy: 467/529 (88.2798%)
___Train Local_ResNet_18,  epoch 235, local model 45, internal_epoch   2,  Average loss: 0.0157, Accuracy: 393/529 (74.2911%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 10.9229, Accuracy: 2076/10000 (20.7600%)
___Train Local_ResNet_18,  epoch 235, local model 65, internal_epoch   1,  Average loss: 0.0049, Accuracy: 284/314 (90.4459%)
___Train Local_ResNet_18,  epoch 235, local model 65, internal_epoch   2,  Average loss: 0.0007, Accuracy: 310/314 (98.7261%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 3.2693, Accuracy: 3547/10000 (35.4700%)
___Train Local_ResNet_18,  epoch 235, local model 37, internal_epoch   1,  Average loss: 0.0073, Accuracy: 620/725 (85.5172%)
___Train Local_ResNet_18,  epoch 235, local model 37, internal_epoch   2,  Average loss: 0.0166, Accuracy: 533/725 (73.5172%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 17.3624, Accuracy: 1519/10000 (15.1900%)
___Train Local_ResNet_18,  epoch 235, local model 38, internal_epoch   1,  Average loss: 0.0028, Accuracy: 725/756 (95.8995%)
___Train Local_ResNet_18,  epoch 235, local model 38, internal_epoch   2,  Average loss: 0.0027, Accuracy: 715/756 (94.5767%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.3890, Accuracy: 5091/10000 (50.9100%)
___Train Local_ResNet_18,  epoch 235, local model 24, internal_epoch   1,  Average loss: 0.0038, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 235, local model 24, internal_epoch   2,  Average loss: 0.0008, Accuracy: 317/320 (99.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.9006, Accuracy: 3928/10000 (39.2800%)
___Train Local_ResNet_18,  epoch 235, local model 99, internal_epoch   1,  Average loss: 0.0069, Accuracy: 351/391 (89.7698%)
___Train Local_ResNet_18,  epoch 235, local model 99, internal_epoch   2,  Average loss: 0.0102, Accuracy: 339/391 (86.7008%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 6.7583, Accuracy: 2113/10000 (21.1300%)
___Train Local_ResNet_18,  epoch 235, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 731/743 (98.3849%)
___Train Local_ResNet_18,  epoch 235, local model 56, internal_epoch   2,  Average loss: 0.0007, Accuracy: 734/743 (98.7887%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 1.1964, Accuracy: 6551/10000 (65.5100%)
___Train Local_ResNet_18,  epoch 235, local model 20, internal_epoch   1,  Average loss: 0.0071, Accuracy: 312/362 (86.1878%)
___Train Local_ResNet_18,  epoch 235, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 350/362 (96.6851%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 5.9913, Accuracy: 3068/10000 (30.6800%)
time spent on training: 51.6388795375824
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [378, 318, 529, 314, 725, 756, 320, 391, 743, 362]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.06244387 0.96912396 1.         0.06244387 0.96912396 1.
 1.         1.         0.51323927 0.51323927]
___Test Target_ResNet_18 poisoned: False, epoch: 235: Average loss: 0.6578, Accuracy: 7814/10000 (78.1400%)
___Test Target_ResNet_18 poisoned: True, epoch: 235: Average loss: 6.6302, Accuracy: 256/9000 (2.8444%)
Done in 119.53740763664246 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:236 choose agents : [0, 86, 37, 20, 36, 50, 78, 63, 83, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 236, local model 0, internal_epoch   1,  Average loss: 0.0063, Accuracy: 318/367 (86.6485%)
___Train Local_ResNet_18,  epoch 236, local model 0, internal_epoch   2,  Average loss: 0.0031, Accuracy: 344/367 (93.7330%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.5840, Accuracy: 3247/10000 (32.4700%)
___Train Local_ResNet_18,  epoch 236, local model 86, internal_epoch   1,  Average loss: 0.0050, Accuracy: 195/212 (91.9811%)
___Train Local_ResNet_18,  epoch 236, local model 86, internal_epoch   2,  Average loss: 0.0032, Accuracy: 204/212 (96.2264%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.5742, Accuracy: 5924/10000 (59.2400%)
___Train Local_ResNet_18,  epoch 236, local model 37, internal_epoch   1,  Average loss: 0.0073, Accuracy: 628/725 (86.6207%)
___Train Local_ResNet_18,  epoch 236, local model 37, internal_epoch   2,  Average loss: 0.0113, Accuracy: 589/725 (81.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 6.1950, Accuracy: 3061/10000 (30.6100%)
___Train Local_ResNet_18,  epoch 236, local model 20, internal_epoch   1,  Average loss: 0.0083, Accuracy: 303/362 (83.7017%)
___Train Local_ResNet_18,  epoch 236, local model 20, internal_epoch   2,  Average loss: 0.0027, Accuracy: 346/362 (95.5801%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 6.1224, Accuracy: 2611/10000 (26.1100%)
___Train Local_ResNet_18,  epoch 236, local model 36, internal_epoch   1,  Average loss: 0.0068, Accuracy: 739/849 (87.0436%)
___Train Local_ResNet_18,  epoch 236, local model 36, internal_epoch   2,  Average loss: 0.0163, Accuracy: 613/849 (72.2026%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 37.2492, Accuracy: 1220/10000 (12.2000%)
___Train Local_ResNet_18,  epoch 236, local model 50, internal_epoch   1,  Average loss: 0.0025, Accuracy: 386/401 (96.2594%)
___Train Local_ResNet_18,  epoch 236, local model 50, internal_epoch   2,  Average loss: 0.0015, Accuracy: 392/401 (97.7556%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.9472, Accuracy: 5139/10000 (51.3900%)
___Train Local_ResNet_18,  epoch 236, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 228/255 (89.4118%)
___Train Local_ResNet_18,  epoch 236, local model 78, internal_epoch   2,  Average loss: 0.0010, Accuracy: 252/255 (98.8235%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.1279, Accuracy: 3998/10000 (39.9800%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 707/752 (94.0160%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   2,  Average loss: 0.0028, Accuracy: 708/752 (94.1489%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.7213, Accuracy: 5754/10000 (57.5400%)
___Train Local_ResNet_18,  epoch 236, local model 83, internal_epoch   1,  Average loss: 0.0025, Accuracy: 346/366 (94.5355%)
___Train Local_ResNet_18,  epoch 236, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 363/366 (99.1803%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.6852, Accuracy: 5781/10000 (57.8100%)
___Train Local_ResNet_18,  epoch 236, local model 4, internal_epoch   1,  Average loss: 0.0043, Accuracy: 501/557 (89.9461%)
___Train Local_ResNet_18,  epoch 236, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 510/557 (91.5619%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.0448, Accuracy: 4638/10000 (46.3800%)
time spent on training: 53.05229306221008
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [367, 212, 725, 362, 849, 401, 255, 752, 366, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.21435944 0.8577002  1.
 0.21435944 1.         1.         0.8577002 ]
___Test Target_ResNet_18 poisoned: False, epoch: 236: Average loss: 0.6566, Accuracy: 7813/10000 (78.1300%)
___Test Target_ResNet_18 poisoned: True, epoch: 236: Average loss: 6.6240, Accuracy: 259/9000 (2.8778%)
Done in 121.34349918365479 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:237 choose agents : [1, 0, 37, 91, 77, 21, 13, 70, 54, 57]. Adversary List: []
___Train Local_ResNet_18,  epoch 237, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 599/641 (93.4477%)
___Train Local_ResNet_18,  epoch 237, local model 1, internal_epoch   2,  Average loss: 0.0121, Accuracy: 572/641 (89.2356%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 2.8348, Accuracy: 3947/10000 (39.4700%)
___Train Local_ResNet_18,  epoch 237, local model 0, internal_epoch   1,  Average loss: 0.0059, Accuracy: 328/367 (89.3733%)
___Train Local_ResNet_18,  epoch 237, local model 0, internal_epoch   2,  Average loss: 0.0026, Accuracy: 345/367 (94.0054%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 7.8257, Accuracy: 2035/10000 (20.3500%)
___Train Local_ResNet_18,  epoch 237, local model 37, internal_epoch   1,  Average loss: 0.0070, Accuracy: 625/725 (86.2069%)
___Train Local_ResNet_18,  epoch 237, local model 37, internal_epoch   2,  Average loss: 0.0120, Accuracy: 564/725 (77.7931%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 26.4113, Accuracy: 1986/10000 (19.8600%)
___Train Local_ResNet_18,  epoch 237, local model 91, internal_epoch   1,  Average loss: 0.0040, Accuracy: 215/234 (91.8803%)
___Train Local_ResNet_18,  epoch 237, local model 91, internal_epoch   2,  Average loss: 0.0007, Accuracy: 230/234 (98.2906%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 1.6179, Accuracy: 5671/10000 (56.7100%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 237, local model 77, internal_epoch   1,  Average loss: 0.0026, Accuracy: 469/496 (94.5565%)
___Train Local_ResNet_18,  epoch 237, local model 77, internal_epoch   2,  Average loss: 0.0013, Accuracy: 486/496 (97.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 1.3990, Accuracy: 6041/10000 (60.4100%)
___Train Local_ResNet_18,  epoch 237, local model 21, internal_epoch   1,  Average loss: 0.0049, Accuracy: 243/262 (92.7481%)
___Train Local_ResNet_18,  epoch 237, local model 21, internal_epoch   2,  Average loss: 0.0084, Accuracy: 251/262 (95.8015%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.1446, Accuracy: 3117/10000 (31.1700%)
___Train Local_ResNet_18,  epoch 237, local model 13, internal_epoch   1,  Average loss: 0.0047, Accuracy: 560/620 (90.3226%)
___Train Local_ResNet_18,  epoch 237, local model 13, internal_epoch   2,  Average loss: 0.0039, Accuracy: 580/620 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 5.0277, Accuracy: 3191/10000 (31.9100%)
___Train Local_ResNet_18,  epoch 237, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 569/610 (93.2787%)
___Train Local_ResNet_18,  epoch 237, local model 70, internal_epoch   2,  Average loss: 0.0026, Accuracy: 573/610 (93.9344%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 2.8892, Accuracy: 4110/10000 (41.1000%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   1,  Average loss: 0.0030, Accuracy: 416/440 (94.5455%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   2,  Average loss: 0.0016, Accuracy: 426/440 (96.8182%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.4246, Accuracy: 3756/10000 (37.5600%)
___Train Local_ResNet_18,  epoch 237, local model 57, internal_epoch   1,  Average loss: 0.0055, Accuracy: 251/290 (86.5517%)
___Train Local_ResNet_18,  epoch 237, local model 57, internal_epoch   2,  Average loss: 0.0013, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 3.4109, Accuracy: 4216/10000 (42.1600%)
time spent on training: 62.73717021942139
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10586979722518676  data num: [641, 367, 725, 234, 496, 262, 620, 610, 440, 290]
[foolsgold agg] considering poison per batch poison_fraction: 0.008271077908217716
[foolsgold agg] wv: [0.63373846 0.01880186 1.         1.         0.01880186 1.
 0.3277142  0.63373846 0.3277142  0.16931488]
___Test Target_ResNet_18 poisoned: False, epoch: 237: Average loss: 0.6549, Accuracy: 7816/10000 (78.1600%)
___Test Target_ResNet_18 poisoned: True, epoch: 237: Average loss: 6.6129, Accuracy: 261/9000 (2.9000%)
Done in 131.32389044761658 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:238 choose agents : [41, 28, 85, 59, 89, 31, 33, 42, 82, 68]. Adversary List: []
___Train Local_ResNet_18,  epoch 238, local model 41, internal_epoch   1,  Average loss: 0.0072, Accuracy: 443/513 (86.3548%)
___Train Local_ResNet_18,  epoch 238, local model 41, internal_epoch   2,  Average loss: 0.0049, Accuracy: 469/513 (91.4230%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.5720, Accuracy: 2858/10000 (28.5800%)
___Train Local_ResNet_18,  epoch 238, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 238, local model 28, internal_epoch   2,  Average loss: 0.0009, Accuracy: 419/423 (99.0544%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 2.1595, Accuracy: 5284/10000 (52.8400%)
___Train Local_ResNet_18,  epoch 238, local model 85, internal_epoch   1,  Average loss: 0.0069, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 238, local model 85, internal_epoch   2,  Average loss: 0.0027, Accuracy: 342/364 (93.9560%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.6886, Accuracy: 2569/10000 (25.6900%)
___Train Local_ResNet_18,  epoch 238, local model 59, internal_epoch   1,  Average loss: 0.0032, Accuracy: 602/642 (93.7695%)
___Train Local_ResNet_18,  epoch 238, local model 59, internal_epoch   2,  Average loss: 0.0054, Accuracy: 618/642 (96.2617%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 12.8487, Accuracy: 1848/10000 (18.4800%)
___Train Local_ResNet_18,  epoch 238, local model 89, internal_epoch   1,  Average loss: 0.0065, Accuracy: 360/413 (87.1671%)
___Train Local_ResNet_18,  epoch 238, local model 89, internal_epoch   2,  Average loss: 0.0036, Accuracy: 377/413 (91.2833%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 6.5543, Accuracy: 2370/10000 (23.7000%)
___Train Local_ResNet_18,  epoch 238, local model 31, internal_epoch   1,  Average loss: 0.0068, Accuracy: 665/706 (94.1926%)
___Train Local_ResNet_18,  epoch 238, local model 31, internal_epoch   2,  Average loss: 0.0213, Accuracy: 484/706 (68.5552%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 9.5933, Accuracy: 1652/10000 (16.5200%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 238, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 487/527 (92.4099%)
___Train Local_ResNet_18,  epoch 238, local model 33, internal_epoch   2,  Average loss: 0.0052, Accuracy: 479/527 (90.8918%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 3.0215, Accuracy: 4007/10000 (40.0700%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   1,  Average loss: 0.0056, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   2,  Average loss: 0.0038, Accuracy: 194/198 (97.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 6.4887, Accuracy: 2268/10000 (22.6800%)
___Train Local_ResNet_18,  epoch 238, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 573/601 (95.3411%)
___Train Local_ResNet_18,  epoch 238, local model 82, internal_epoch   2,  Average loss: 0.0030, Accuracy: 570/601 (94.8419%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 2.8940, Accuracy: 3999/10000 (39.9900%)
___Train Local_ResNet_18,  epoch 238, local model 68, internal_epoch   1,  Average loss: 0.0026, Accuracy: 396/416 (95.1923%)
___Train Local_ResNet_18,  epoch 238, local model 68, internal_epoch   2,  Average loss: 0.0014, Accuracy: 406/416 (97.5962%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 1.2997, Accuracy: 6210/10000 (62.1000%)
time spent on training: 61.042072057724
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10972308973558192  data num: [513, 423, 364, 642, 413, 706, 527, 198, 601, 416]
[foolsgold agg] considering poison per batch poison_fraction: 0.008572116385592337
[foolsgold agg] wv: [0.31805438 0.22967299 0.         1.         0.45132939 0.45132939
 0.         0.31805438 1.         0.10590565]
___Test Target_ResNet_18 poisoned: False, epoch: 238: Average loss: 0.6544, Accuracy: 7831/10000 (78.3100%)
___Test Target_ResNet_18 poisoned: True, epoch: 238: Average loss: 6.6174, Accuracy: 260/9000 (2.8889%)
Done in 128.58542442321777 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:239 choose agents : [37, 47, 73, 15, 90, 9, 71, 78, 77, 69]. Adversary List: []
___Train Local_ResNet_18,  epoch 239, local model 37, internal_epoch   1,  Average loss: 0.0069, Accuracy: 636/725 (87.7241%)
___Train Local_ResNet_18,  epoch 239, local model 37, internal_epoch   2,  Average loss: 0.0099, Accuracy: 610/725 (84.1379%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 9.4658, Accuracy: 2288/10000 (22.8800%)
___Train Local_ResNet_18,  epoch 239, local model 47, internal_epoch   1,  Average loss: 0.0033, Accuracy: 613/654 (93.7309%)
___Train Local_ResNet_18,  epoch 239, local model 47, internal_epoch   2,  Average loss: 0.0044, Accuracy: 616/654 (94.1896%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 1.9554, Accuracy: 5115/10000 (51.1500%)
___Train Local_ResNet_18,  epoch 239, local model 73, internal_epoch   1,  Average loss: 0.0123, Accuracy: 393/500 (78.6000%)
___Train Local_ResNet_18,  epoch 239, local model 73, internal_epoch   2,  Average loss: 0.0047, Accuracy: 463/500 (92.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 9.7932, Accuracy: 1516/10000 (15.1600%)
___Train Local_ResNet_18,  epoch 239, local model 15, internal_epoch   1,  Average loss: 0.0084, Accuracy: 288/341 (84.4575%)
___Train Local_ResNet_18,  epoch 239, local model 15, internal_epoch   2,  Average loss: 0.0039, Accuracy: 326/341 (95.6012%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 3.5673, Accuracy: 3517/10000 (35.1700%)
___Train Local_ResNet_18,  epoch 239, local model 90, internal_epoch   1,  Average loss: 0.0086, Accuracy: 526/578 (91.0035%)
___Train Local_ResNet_18,  epoch 239, local model 90, internal_epoch   2,  Average loss: 0.0112, Accuracy: 482/578 (83.3910%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 22.4551, Accuracy: 1233/10000 (12.3300%)
___Train Local_ResNet_18,  epoch 239, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 339/368 (92.1196%)
___Train Local_ResNet_18,  epoch 239, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 363/368 (98.6413%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 6.0637, Accuracy: 2355/10000 (23.5500%)
___Train Local_ResNet_18,  epoch 239, local model 71, internal_epoch   1,  Average loss: 0.0041, Accuracy: 1064/1166 (91.2521%)
___Train Local_ResNet_18,  epoch 239, local model 71, internal_epoch   2,  Average loss: 0.0110, Accuracy: 937/1166 (80.3602%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 5.6757, Accuracy: 2944/10000 (29.4400%)
___Train Local_ResNet_18,  epoch 239, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 228/255 (89.4118%)
___Train Local_ResNet_18,  epoch 239, local model 78, internal_epoch   2,  Average loss: 0.0006, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.5667, Accuracy: 4510/10000 (45.1000%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 239, local model 77, internal_epoch   1,  Average loss: 0.0027, Accuracy: 470/496 (94.7581%)
___Train Local_ResNet_18,  epoch 239, local model 77, internal_epoch   2,  Average loss: 0.0017, Accuracy: 479/496 (96.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.0717, Accuracy: 5000/10000 (50.0000%)
___Train Local_ResNet_18,  epoch 239, local model 69, internal_epoch   1,  Average loss: 0.0069, Accuracy: 187/216 (86.5741%)
___Train Local_ResNet_18,  epoch 239, local model 69, internal_epoch   2,  Average loss: 0.0008, Accuracy: 214/216 (99.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 7.3674, Accuracy: 1392/10000 (13.9200%)
time spent on training: 62.35818648338318
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09360256652198529  data num: [725, 654, 500, 341, 578, 368, 1166, 255, 496, 216]
[foolsgold agg] considering poison per batch poison_fraction: 0.0073127005095301005
[foolsgold agg] wv: [1.         0.14311663 1.         1.         0.49282594 1.
 1.         0.14311663 1.         0.49282594]
___Test Target_ResNet_18 poisoned: False, epoch: 239: Average loss: 0.6532, Accuracy: 7841/10000 (78.4100%)
___Test Target_ResNet_18 poisoned: True, epoch: 239: Average loss: 6.6267, Accuracy: 259/9000 (2.8778%)
Done in 130.2178726196289 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:240 choose agents : [28, 33, 87, 46, 26, 67, 13, 69, 54, 34]. Adversary List: []
___Train Local_ResNet_18,  epoch 240, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 404/423 (95.5083%)
___Train Local_ResNet_18,  epoch 240, local model 28, internal_epoch   2,  Average loss: 0.0012, Accuracy: 417/423 (98.5816%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.1204, Accuracy: 5200/10000 (52.0000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 240, local model 33, internal_epoch   1,  Average loss: 0.0056, Accuracy: 473/527 (89.7533%)
___Train Local_ResNet_18,  epoch 240, local model 33, internal_epoch   2,  Average loss: 0.0081, Accuracy: 466/527 (88.4250%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 7.2148, Accuracy: 3300/10000 (33.0000%)
___Train Local_ResNet_18,  epoch 240, local model 87, internal_epoch   1,  Average loss: 0.0078, Accuracy: 336/397 (84.6348%)
___Train Local_ResNet_18,  epoch 240, local model 87, internal_epoch   2,  Average loss: 0.0079, Accuracy: 360/397 (90.6801%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 4.6271, Accuracy: 3323/10000 (33.2300%)
___Train Local_ResNet_18,  epoch 240, local model 46, internal_epoch   1,  Average loss: 0.0015, Accuracy: 588/601 (97.8369%)
___Train Local_ResNet_18,  epoch 240, local model 46, internal_epoch   2,  Average loss: 0.0015, Accuracy: 590/601 (98.1697%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 1.9643, Accuracy: 5116/10000 (51.1600%)
___Train Local_ResNet_18,  epoch 240, local model 26, internal_epoch   1,  Average loss: 0.0039, Accuracy: 439/468 (93.8034%)
___Train Local_ResNet_18,  epoch 240, local model 26, internal_epoch   2,  Average loss: 0.0044, Accuracy: 435/468 (92.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.3709, Accuracy: 5063/10000 (50.6300%)
___Train Local_ResNet_18,  epoch 240, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 779/842 (92.5178%)
___Train Local_ResNet_18,  epoch 240, local model 67, internal_epoch   2,  Average loss: 0.0126, Accuracy: 658/842 (78.1473%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 27.5358, Accuracy: 1535/10000 (15.3500%)
___Train Local_ResNet_18,  epoch 240, local model 13, internal_epoch   1,  Average loss: 0.0050, Accuracy: 556/620 (89.6774%)
___Train Local_ResNet_18,  epoch 240, local model 13, internal_epoch   2,  Average loss: 0.0025, Accuracy: 585/620 (94.3548%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.8589, Accuracy: 4298/10000 (42.9800%)
___Train Local_ResNet_18,  epoch 240, local model 69, internal_epoch   1,  Average loss: 0.0066, Accuracy: 191/216 (88.4259%)
___Train Local_ResNet_18,  epoch 240, local model 69, internal_epoch   2,  Average loss: 0.0005, Accuracy: 216/216 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 5.9655, Accuracy: 1825/10000 (18.2500%)
___Train Local_ResNet_18,  epoch 240, local model 54, internal_epoch   1,  Average loss: 0.0037, Accuracy: 410/440 (93.1818%)
___Train Local_ResNet_18,  epoch 240, local model 54, internal_epoch   2,  Average loss: 0.0010, Accuracy: 432/440 (98.1818%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 3.4722, Accuracy: 4076/10000 (40.7600%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   1,  Average loss: 0.0045, Accuracy: 321/349 (91.9771%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   2,  Average loss: 0.0015, Accuracy: 340/349 (97.4212%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.8815, Accuracy: 4304/10000 (43.0400%)
time spent on training: 60.77755165100098
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10792545566250256  data num: [423, 527, 397, 601, 468, 842, 620, 216, 440, 349]
[foolsgold agg] considering poison per batch poison_fraction: 0.008431676223633012
[foolsgold agg] wv: [1.         1.         0.42174245 1.         0.42174245 1.
 0.64577986 1.         0.64577986 0.69538839]
___Test Target_ResNet_18 poisoned: False, epoch: 240: Average loss: 0.6521, Accuracy: 7839/10000 (78.3900%)
___Test Target_ResNet_18 poisoned: True, epoch: 240: Average loss: 6.6245, Accuracy: 267/9000 (2.9667%)
Done in 128.54241299629211 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:241 choose agents : [78, 91, 57, 30, 75, 17, 28, 31, 85, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 241, local model 78, internal_epoch   1,  Average loss: 0.0053, Accuracy: 225/255 (88.2353%)
___Train Local_ResNet_18,  epoch 241, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 252/255 (98.8235%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.0390, Accuracy: 4312/10000 (43.1200%)
___Train Local_ResNet_18,  epoch 241, local model 91, internal_epoch   1,  Average loss: 0.0042, Accuracy: 215/234 (91.8803%)
___Train Local_ResNet_18,  epoch 241, local model 91, internal_epoch   2,  Average loss: 0.0010, Accuracy: 231/234 (98.7179%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.4622, Accuracy: 5923/10000 (59.2300%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   1,  Average loss: 0.0056, Accuracy: 252/290 (86.8966%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 283/290 (97.5862%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.7777, Accuracy: 4004/10000 (40.0400%)
___Train Local_ResNet_18,  epoch 241, local model 30, internal_epoch   1,  Average loss: 0.0055, Accuracy: 297/337 (88.1306%)
___Train Local_ResNet_18,  epoch 241, local model 30, internal_epoch   2,  Average loss: 0.0044, Accuracy: 315/337 (93.4718%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.6002, Accuracy: 3220/10000 (32.2000%)
___Train Local_ResNet_18,  epoch 241, local model 75, internal_epoch   1,  Average loss: 0.0027, Accuracy: 554/578 (95.8478%)
___Train Local_ResNet_18,  epoch 241, local model 75, internal_epoch   2,  Average loss: 0.0091, Accuracy: 532/578 (92.0415%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 5.2053, Accuracy: 2727/10000 (27.2700%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 241, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 504/526 (95.8175%)
___Train Local_ResNet_18,  epoch 241, local model 17, internal_epoch   2,  Average loss: 0.0017, Accuracy: 515/526 (97.9087%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.7522, Accuracy: 5613/10000 (56.1300%)
___Train Local_ResNet_18,  epoch 241, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 406/423 (95.9811%)
___Train Local_ResNet_18,  epoch 241, local model 28, internal_epoch   2,  Average loss: 0.0011, Accuracy: 415/423 (98.1087%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.9189, Accuracy: 5658/10000 (56.5800%)
___Train Local_ResNet_18,  epoch 241, local model 31, internal_epoch   1,  Average loss: 0.0046, Accuracy: 658/706 (93.2011%)
___Train Local_ResNet_18,  epoch 241, local model 31, internal_epoch   2,  Average loss: 0.0208, Accuracy: 488/706 (69.1218%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 28.7644, Accuracy: 1501/10000 (15.0100%)
___Train Local_ResNet_18,  epoch 241, local model 85, internal_epoch   1,  Average loss: 0.0069, Accuracy: 320/364 (87.9121%)
___Train Local_ResNet_18,  epoch 241, local model 85, internal_epoch   2,  Average loss: 0.0025, Accuracy: 340/364 (93.4066%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 5.7788, Accuracy: 2583/10000 (25.8300%)
___Train Local_ResNet_18,  epoch 241, local model 45, internal_epoch   1,  Average loss: 0.0076, Accuracy: 465/529 (87.9017%)
___Train Local_ResNet_18,  epoch 241, local model 45, internal_epoch   2,  Average loss: 0.0098, Accuracy: 428/529 (80.9074%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 5.7212, Accuracy: 2541/10000 (25.4100%)
time spent on training: 65.37802457809448
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.123998114097124  data num: [255, 234, 290, 337, 578, 526, 423, 706, 364, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.009687352663837813
[foolsgold agg] wv: [0.43443856 1.         1.         1.         1.         0.43443856
 0.10888803 1.         0.10888803 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 241: Average loss: 0.6500, Accuracy: 7844/10000 (78.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 241: Average loss: 6.5998, Accuracy: 272/9000 (3.0222%)
Done in 132.6942970752716 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:242 choose agents : [96, 51, 32, 66, 85, 8, 2, 40, 10, 91]. Adversary List: []
___Train Local_ResNet_18,  epoch 242, local model 96, internal_epoch   1,  Average loss: 0.0041, Accuracy: 656/708 (92.6554%)
___Train Local_ResNet_18,  epoch 242, local model 96, internal_epoch   2,  Average loss: 0.0142, Accuracy: 544/708 (76.8362%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 97.6540, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 242, local model 51, internal_epoch   1,  Average loss: 0.0031, Accuracy: 451/479 (94.1545%)
___Train Local_ResNet_18,  epoch 242, local model 51, internal_epoch   2,  Average loss: 0.0017, Accuracy: 463/479 (96.6597%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.8071, Accuracy: 3298/10000 (32.9800%)
___Train Local_ResNet_18,  epoch 242, local model 32, internal_epoch   1,  Average loss: 0.0025, Accuracy: 786/824 (95.3883%)
___Train Local_ResNet_18,  epoch 242, local model 32, internal_epoch   2,  Average loss: 0.0020, Accuracy: 788/824 (95.6311%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 2.3657, Accuracy: 4929/10000 (49.2900%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   1,  Average loss: 0.0031, Accuracy: 523/555 (94.2342%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   2,  Average loss: 0.0011, Accuracy: 539/555 (97.1171%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 2.9196, Accuracy: 4385/10000 (43.8500%)
___Train Local_ResNet_18,  epoch 242, local model 85, internal_epoch   1,  Average loss: 0.0065, Accuracy: 315/364 (86.5385%)
___Train Local_ResNet_18,  epoch 242, local model 85, internal_epoch   2,  Average loss: 0.0028, Accuracy: 347/364 (95.3297%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.2902, Accuracy: 3010/10000 (30.1000%)
___Train Local_ResNet_18,  epoch 242, local model 8, internal_epoch   1,  Average loss: 0.0035, Accuracy: 498/534 (93.2584%)
___Train Local_ResNet_18,  epoch 242, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 494/534 (92.5094%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 5.2395, Accuracy: 2905/10000 (29.0500%)
___Train Local_ResNet_18,  epoch 242, local model 2, internal_epoch   1,  Average loss: 0.0068, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 242, local model 2, internal_epoch   2,  Average loss: 0.0063, Accuracy: 416/461 (90.2386%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.9296, Accuracy: 2895/10000 (28.9500%)
___Train Local_ResNet_18,  epoch 242, local model 40, internal_epoch   1,  Average loss: 0.0062, Accuracy: 568/652 (87.1166%)
___Train Local_ResNet_18,  epoch 242, local model 40, internal_epoch   2,  Average loss: 0.0114, Accuracy: 533/652 (81.7485%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.8024, Accuracy: 2904/10000 (29.0400%)
___Train Local_ResNet_18,  epoch 242, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 700/752 (93.0851%)
___Train Local_ResNet_18,  epoch 242, local model 10, internal_epoch   2,  Average loss: 0.0031, Accuracy: 714/752 (94.9468%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 3.7440, Accuracy: 3810/10000 (38.1000%)
___Train Local_ResNet_18,  epoch 242, local model 91, internal_epoch   1,  Average loss: 0.0036, Accuracy: 217/234 (92.7350%)
___Train Local_ResNet_18,  epoch 242, local model 91, internal_epoch   2,  Average loss: 0.0004, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 1.3858, Accuracy: 5984/10000 (59.8400%)
time spent on training: 53.08779311180115
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [708, 479, 824, 555, 364, 534, 461, 652, 752, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.48387726 0.01617077 1.         1.         1.         0.83629414
 0.         0.         0.01617077 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 242: Average loss: 0.6500, Accuracy: 7838/10000 (78.3800%)
___Test Target_ResNet_18 poisoned: True, epoch: 242: Average loss: 6.6046, Accuracy: 272/9000 (3.0222%)
Done in 120.32346725463867 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:243 choose agents : [59, 80, 32, 77, 16, 83, 57, 96, 3, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 243, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 599/642 (93.3022%)
___Train Local_ResNet_18,  epoch 243, local model 59, internal_epoch   2,  Average loss: 0.0022, Accuracy: 622/642 (96.8847%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 2.8997, Accuracy: 4123/10000 (41.2300%)
___Train Local_ResNet_18,  epoch 243, local model 80, internal_epoch   1,  Average loss: 0.0058, Accuracy: 319/363 (87.8788%)
___Train Local_ResNet_18,  epoch 243, local model 80, internal_epoch   2,  Average loss: 0.0013, Accuracy: 356/363 (98.0716%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.3494, Accuracy: 4001/10000 (40.0100%)
___Train Local_ResNet_18,  epoch 243, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 788/824 (95.6311%)
___Train Local_ResNet_18,  epoch 243, local model 32, internal_epoch   2,  Average loss: 0.0029, Accuracy: 782/824 (94.9029%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 1.9454, Accuracy: 5451/10000 (54.5100%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 243, local model 77, internal_epoch   1,  Average loss: 0.0027, Accuracy: 472/496 (95.1613%)
___Train Local_ResNet_18,  epoch 243, local model 77, internal_epoch   2,  Average loss: 0.0020, Accuracy: 477/496 (96.1694%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 1.4940, Accuracy: 5808/10000 (58.0800%)
___Train Local_ResNet_18,  epoch 243, local model 16, internal_epoch   1,  Average loss: 0.0045, Accuracy: 698/773 (90.2975%)
___Train Local_ResNet_18,  epoch 243, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 711/773 (91.9793%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 5.5495, Accuracy: 2772/10000 (27.7200%)
___Train Local_ResNet_18,  epoch 243, local model 83, internal_epoch   1,  Average loss: 0.0024, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 243, local model 83, internal_epoch   2,  Average loss: 0.0004, Accuracy: 365/366 (99.7268%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 2.1418, Accuracy: 5114/10000 (51.1400%)
___Train Local_ResNet_18,  epoch 243, local model 57, internal_epoch   1,  Average loss: 0.0054, Accuracy: 257/290 (88.6207%)
___Train Local_ResNet_18,  epoch 243, local model 57, internal_epoch   2,  Average loss: 0.0008, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.7431, Accuracy: 4175/10000 (41.7500%)
___Train Local_ResNet_18,  epoch 243, local model 96, internal_epoch   1,  Average loss: 0.0048, Accuracy: 655/708 (92.5141%)
___Train Local_ResNet_18,  epoch 243, local model 96, internal_epoch   2,  Average loss: 0.0188, Accuracy: 517/708 (73.0226%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 26.2937, Accuracy: 1433/10000 (14.3300%)
___Train Local_ResNet_18,  epoch 243, local model 3, internal_epoch   1,  Average loss: 0.0055, Accuracy: 696/780 (89.2308%)
___Train Local_ResNet_18,  epoch 243, local model 3, internal_epoch   2,  Average loss: 0.0100, Accuracy: 650/780 (83.3333%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 16.4853, Accuracy: 1742/10000 (17.4200%)
___Train Local_ResNet_18,  epoch 243, local model 10, internal_epoch   1,  Average loss: 0.0045, Accuracy: 684/752 (90.9574%)
___Train Local_ResNet_18,  epoch 243, local model 10, internal_epoch   2,  Average loss: 0.0032, Accuracy: 705/752 (93.7500%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 6.8304, Accuracy: 3023/10000 (30.2300%)
time spent on training: 63.8737633228302
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08274941608274941  data num: [642, 363, 824, 496, 773, 366, 290, 708, 780, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.006464798131464798
[foolsgold agg] wv: [0.60006569 0.09304945 1.         0.16991278 0.45038603 1.
 0.16991278 1.         0.09304945 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 243: Average loss: 0.6487, Accuracy: 7836/10000 (78.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 243: Average loss: 6.5905, Accuracy: 280/9000 (3.1111%)
Done in 131.3790638446808 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:244 choose agents : [15, 14, 29, 50, 17, 36, 2, 0, 94, 1]. Adversary List: []
___Train Local_ResNet_18,  epoch 244, local model 15, internal_epoch   1,  Average loss: 0.0088, Accuracy: 280/341 (82.1114%)
___Train Local_ResNet_18,  epoch 244, local model 15, internal_epoch   2,  Average loss: 0.0039, Accuracy: 317/341 (92.9619%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 5.7794, Accuracy: 2442/10000 (24.4200%)
___Train Local_ResNet_18,  epoch 244, local model 14, internal_epoch   1,  Average loss: 0.0071, Accuracy: 270/318 (84.9057%)
___Train Local_ResNet_18,  epoch 244, local model 14, internal_epoch   2,  Average loss: 0.0015, Accuracy: 308/318 (96.8553%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 10.8613, Accuracy: 1699/10000 (16.9900%)
___Train Local_ResNet_18,  epoch 244, local model 29, internal_epoch   1,  Average loss: 0.0046, Accuracy: 769/848 (90.6840%)
___Train Local_ResNet_18,  epoch 244, local model 29, internal_epoch   2,  Average loss: 0.0054, Accuracy: 772/848 (91.0377%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 13.3003, Accuracy: 1561/10000 (15.6100%)
___Train Local_ResNet_18,  epoch 244, local model 50, internal_epoch   1,  Average loss: 0.0020, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 244, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 2.1558, Accuracy: 5180/10000 (51.8000%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 244, local model 17, internal_epoch   1,  Average loss: 0.0030, Accuracy: 501/526 (95.2471%)
___Train Local_ResNet_18,  epoch 244, local model 17, internal_epoch   2,  Average loss: 0.0038, Accuracy: 491/526 (93.3460%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.7299, Accuracy: 3549/10000 (35.4900%)
___Train Local_ResNet_18,  epoch 244, local model 36, internal_epoch   1,  Average loss: 0.0061, Accuracy: 744/849 (87.6325%)
___Train Local_ResNet_18,  epoch 244, local model 36, internal_epoch   2,  Average loss: 0.0165, Accuracy: 602/849 (70.9069%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 14.2060, Accuracy: 2120/10000 (21.2000%)
___Train Local_ResNet_18,  epoch 244, local model 2, internal_epoch   1,  Average loss: 0.0069, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 244, local model 2, internal_epoch   2,  Average loss: 0.0071, Accuracy: 420/461 (91.1063%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.0277, Accuracy: 4468/10000 (44.6800%)
___Train Local_ResNet_18,  epoch 244, local model 0, internal_epoch   1,  Average loss: 0.0061, Accuracy: 328/367 (89.3733%)
___Train Local_ResNet_18,  epoch 244, local model 0, internal_epoch   2,  Average loss: 0.0019, Accuracy: 356/367 (97.0027%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.6758, Accuracy: 3073/10000 (30.7300%)
___Train Local_ResNet_18,  epoch 244, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 175/203 (86.2069%)
___Train Local_ResNet_18,  epoch 244, local model 94, internal_epoch   2,  Average loss: 0.0023, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.3464, Accuracy: 3631/10000 (36.3100%)
___Train Local_ResNet_18,  epoch 244, local model 1, internal_epoch   1,  Average loss: 0.0052, Accuracy: 606/641 (94.5398%)
___Train Local_ResNet_18,  epoch 244, local model 1, internal_epoch   2,  Average loss: 0.0111, Accuracy: 585/641 (91.2637%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.1065, Accuracy: 4570/10000 (45.7000%)
time spent on training: 63.5023889541626
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10615539858728557  data num: [341, 318, 848, 401, 526, 849, 461, 367, 203, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.008293390514631686
[foolsgold agg] wv: [0.         0.61626549 0.81682164 0.         1.         1.
 0.61626549 0.71235332 0.71235332 0.81682164]
___Test Target_ResNet_18 poisoned: False, epoch: 244: Average loss: 0.6475, Accuracy: 7847/10000 (78.4700%)
___Test Target_ResNet_18 poisoned: True, epoch: 244: Average loss: 6.5664, Accuracy: 287/9000 (3.1889%)
Done in 131.03534150123596 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:245 choose agents : [38, 41, 82, 49, 74, 23, 97, 83, 22, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 245, local model 38, internal_epoch   1,  Average loss: 0.0027, Accuracy: 720/756 (95.2381%)
___Train Local_ResNet_18,  epoch 245, local model 38, internal_epoch   2,  Average loss: 0.0020, Accuracy: 727/756 (96.1640%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.1079, Accuracy: 5243/10000 (52.4300%)
___Train Local_ResNet_18,  epoch 245, local model 41, internal_epoch   1,  Average loss: 0.0070, Accuracy: 440/513 (85.7700%)
___Train Local_ResNet_18,  epoch 245, local model 41, internal_epoch   2,  Average loss: 0.0048, Accuracy: 467/513 (91.0331%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 10.6221, Accuracy: 2256/10000 (22.5600%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 568/601 (94.5092%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   2,  Average loss: 0.0019, Accuracy: 580/601 (96.5058%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.7023, Accuracy: 4896/10000 (48.9600%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   1,  Average loss: 0.0032, Accuracy: 400/426 (93.8967%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   2,  Average loss: 0.0013, Accuracy: 412/426 (96.7136%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.6270, Accuracy: 4623/10000 (46.2300%)
___Train Local_ResNet_18,  epoch 245, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 434/469 (92.5373%)
___Train Local_ResNet_18,  epoch 245, local model 74, internal_epoch   2,  Average loss: 0.0020, Accuracy: 457/469 (97.4414%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.4717, Accuracy: 4519/10000 (45.1900%)
___Train Local_ResNet_18,  epoch 245, local model 23, internal_epoch   1,  Average loss: 0.0039, Accuracy: 225/248 (90.7258%)
___Train Local_ResNet_18,  epoch 245, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.8745, Accuracy: 5025/10000 (50.2500%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   1,  Average loss: 0.0027, Accuracy: 395/418 (94.4976%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   2,  Average loss: 0.0016, Accuracy: 409/418 (97.8469%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.0314, Accuracy: 5194/10000 (51.9400%)
___Train Local_ResNet_18,  epoch 245, local model 83, internal_epoch   1,  Average loss: 0.0023, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 245, local model 83, internal_epoch   2,  Average loss: 0.0006, Accuracy: 363/366 (99.1803%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.4044, Accuracy: 6111/10000 (61.1100%)
___Train Local_ResNet_18,  epoch 245, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 445/494 (90.0810%)
___Train Local_ResNet_18,  epoch 245, local model 22, internal_epoch   2,  Average loss: 0.0019, Accuracy: 474/494 (95.9514%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 3.3185, Accuracy: 3812/10000 (38.1200%)
___Train Local_ResNet_18,  epoch 245, local model 4, internal_epoch   1,  Average loss: 0.0049, Accuracy: 501/557 (89.9461%)
___Train Local_ResNet_18,  epoch 245, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 515/557 (92.4596%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 3.8740, Accuracy: 3974/10000 (39.7400%)
time spent on training: 52.3861026763916
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [756, 513, 601, 426, 469, 248, 418, 366, 494, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 0. 1. 1. 1. 0. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 245: Average loss: 0.6469, Accuracy: 7851/10000 (78.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 245: Average loss: 6.5583, Accuracy: 290/9000 (3.2222%)
Done in 120.53119015693665 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:246 choose agents : [43, 92, 33, 62, 59, 26, 11, 93, 86, 90]. Adversary List: []
___Train Local_ResNet_18,  epoch 246, local model 43, internal_epoch   1,  Average loss: 0.0069, Accuracy: 295/345 (85.5072%)
___Train Local_ResNet_18,  epoch 246, local model 43, internal_epoch   2,  Average loss: 0.0014, Accuracy: 334/345 (96.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 4.2004, Accuracy: 3613/10000 (36.1300%)
___Train Local_ResNet_18,  epoch 246, local model 92, internal_epoch   1,  Average loss: 0.0056, Accuracy: 715/796 (89.8241%)
___Train Local_ResNet_18,  epoch 246, local model 92, internal_epoch   2,  Average loss: 0.0079, Accuracy: 689/796 (86.5578%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 8.0627, Accuracy: 1995/10000 (19.9500%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 246, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 489/527 (92.7894%)
___Train Local_ResNet_18,  epoch 246, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 483/527 (91.6509%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 3.1990, Accuracy: 4062/10000 (40.6200%)
___Train Local_ResNet_18,  epoch 246, local model 62, internal_epoch   1,  Average loss: 0.0015, Accuracy: 348/358 (97.2067%)
___Train Local_ResNet_18,  epoch 246, local model 62, internal_epoch   2,  Average loss: 0.0005, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.0591, Accuracy: 6837/10000 (68.3700%)
___Train Local_ResNet_18,  epoch 246, local model 59, internal_epoch   1,  Average loss: 0.0047, Accuracy: 603/642 (93.9252%)
___Train Local_ResNet_18,  epoch 246, local model 59, internal_epoch   2,  Average loss: 0.0221, Accuracy: 446/642 (69.4704%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 433.9420, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 246, local model 26, internal_epoch   1,  Average loss: 0.0054, Accuracy: 423/468 (90.3846%)
___Train Local_ResNet_18,  epoch 246, local model 26, internal_epoch   2,  Average loss: 0.0045, Accuracy: 438/468 (93.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 2.9799, Accuracy: 4092/10000 (40.9200%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 246, local model 11, internal_epoch   1,  Average loss: 0.0024, Accuracy: 527/546 (96.5201%)
___Train Local_ResNet_18,  epoch 246, local model 11, internal_epoch   2,  Average loss: 0.0016, Accuracy: 535/546 (97.9853%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.9329, Accuracy: 5440/10000 (54.4000%)
___Train Local_ResNet_18,  epoch 246, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 551/584 (94.3493%)
___Train Local_ResNet_18,  epoch 246, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 551/584 (94.3493%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 2.7749, Accuracy: 4367/10000 (43.6700%)
___Train Local_ResNet_18,  epoch 246, local model 86, internal_epoch   1,  Average loss: 0.0039, Accuracy: 198/212 (93.3962%)
___Train Local_ResNet_18,  epoch 246, local model 86, internal_epoch   2,  Average loss: 0.0019, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.8393, Accuracy: 5479/10000 (54.7900%)
___Train Local_ResNet_18,  epoch 246, local model 90, internal_epoch   1,  Average loss: 0.0067, Accuracy: 521/578 (90.1384%)
___Train Local_ResNet_18,  epoch 246, local model 90, internal_epoch   2,  Average loss: 0.0142, Accuracy: 472/578 (81.6609%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 29.9592, Accuracy: 1482/10000 (14.8200%)
time spent on training: 73.46509718894958
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21222310126582278  data num: [345, 796, 527, 358, 642, 468, 546, 584, 212, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.016579929786392403
[foolsgold agg] wv: [1.         1.         0.39706213 1.         1.         1.
 0.32594849 1.         0.32594849 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 246: Average loss: 0.6469, Accuracy: 7851/10000 (78.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 246: Average loss: 6.5566, Accuracy: 289/9000 (3.2111%)
Done in 141.23718118667603 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:247 choose agents : [80, 12, 53, 55, 18, 42, 52, 31, 29, 13]. Adversary List: []
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   1,  Average loss: 0.0050, Accuracy: 327/363 (90.0826%)
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   2,  Average loss: 0.0022, Accuracy: 354/363 (97.5207%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.5864, Accuracy: 3293/10000 (32.9300%)
___Train Local_ResNet_18,  epoch 247, local model 12, internal_epoch   1,  Average loss: 0.0044, Accuracy: 898/977 (91.9140%)
___Train Local_ResNet_18,  epoch 247, local model 12, internal_epoch   2,  Average loss: 0.0058, Accuracy: 873/977 (89.3552%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.9452, Accuracy: 3463/10000 (34.6300%)
___Train Local_ResNet_18,  epoch 247, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 583/625 (93.2800%)
___Train Local_ResNet_18,  epoch 247, local model 53, internal_epoch   2,  Average loss: 0.0031, Accuracy: 593/625 (94.8800%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 3.5494, Accuracy: 3429/10000 (34.2900%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   1,  Average loss: 0.0051, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   2,  Average loss: 0.0004, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 5.2413, Accuracy: 2806/10000 (28.0600%)
___Train Local_ResNet_18,  epoch 247, local model 18, internal_epoch   1,  Average loss: 0.0070, Accuracy: 360/386 (93.2642%)
___Train Local_ResNet_18,  epoch 247, local model 18, internal_epoch   2,  Average loss: 0.0216, Accuracy: 256/386 (66.3212%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 219.2537, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 247, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 180/198 (90.9091%)
___Train Local_ResNet_18,  epoch 247, local model 42, internal_epoch   2,  Average loss: 0.0008, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 3.2794, Accuracy: 3277/10000 (32.7700%)
___Train Local_ResNet_18,  epoch 247, local model 52, internal_epoch   1,  Average loss: 0.0071, Accuracy: 186/214 (86.9159%)
___Train Local_ResNet_18,  epoch 247, local model 52, internal_epoch   2,  Average loss: 0.0018, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.6040, Accuracy: 3076/10000 (30.7600%)
___Train Local_ResNet_18,  epoch 247, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 670/706 (94.9008%)
___Train Local_ResNet_18,  epoch 247, local model 31, internal_epoch   2,  Average loss: 0.0026, Accuracy: 669/706 (94.7592%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 1.5965, Accuracy: 5683/10000 (56.8300%)
___Train Local_ResNet_18,  epoch 247, local model 29, internal_epoch   1,  Average loss: 0.0050, Accuracy: 769/848 (90.6840%)
___Train Local_ResNet_18,  epoch 247, local model 29, internal_epoch   2,  Average loss: 0.0054, Accuracy: 762/848 (89.8585%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 6.5844, Accuracy: 2427/10000 (24.2700%)
___Train Local_ResNet_18,  epoch 247, local model 13, internal_epoch   1,  Average loss: 0.0058, Accuracy: 551/620 (88.8710%)
___Train Local_ResNet_18,  epoch 247, local model 13, internal_epoch   2,  Average loss: 0.0036, Accuracy: 575/620 (92.7419%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 5.3435, Accuracy: 3322/10000 (33.2200%)
time spent on training: 50.195561170578
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [363, 977, 625, 299, 386, 198, 214, 706, 848, 620]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.23505768 1.         0.         0.         0.         1.
 0.88835037 1.         1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 247: Average loss: 0.6461, Accuracy: 7859/10000 (78.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 247: Average loss: 6.5596, Accuracy: 291/9000 (3.2333%)
Done in 115.64373278617859 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:248 choose agents : [28, 59, 11, 20, 4, 19, 50, 93, 13, 55]. Adversary List: []
___Train Local_ResNet_18,  epoch 248, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 400/423 (94.5626%)
___Train Local_ResNet_18,  epoch 248, local model 28, internal_epoch   2,  Average loss: 0.0012, Accuracy: 414/423 (97.8723%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.5839, Accuracy: 5907/10000 (59.0700%)
___Train Local_ResNet_18,  epoch 248, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 602/642 (93.7695%)
___Train Local_ResNet_18,  epoch 248, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 619/642 (96.4174%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 6.2497, Accuracy: 2893/10000 (28.9300%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 248, local model 11, internal_epoch   1,  Average loss: 0.0026, Accuracy: 520/546 (95.2381%)
___Train Local_ResNet_18,  epoch 248, local model 11, internal_epoch   2,  Average loss: 0.0015, Accuracy: 531/546 (97.2527%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.4472, Accuracy: 4598/10000 (45.9800%)
___Train Local_ResNet_18,  epoch 248, local model 20, internal_epoch   1,  Average loss: 0.0072, Accuracy: 315/362 (87.0166%)
___Train Local_ResNet_18,  epoch 248, local model 20, internal_epoch   2,  Average loss: 0.0035, Accuracy: 345/362 (95.3039%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 6.6849, Accuracy: 2489/10000 (24.8900%)
___Train Local_ResNet_18,  epoch 248, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 500/557 (89.7666%)
___Train Local_ResNet_18,  epoch 248, local model 4, internal_epoch   2,  Average loss: 0.0033, Accuracy: 519/557 (93.1777%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.7788, Accuracy: 4776/10000 (47.7600%)
___Train Local_ResNet_18,  epoch 248, local model 19, internal_epoch   1,  Average loss: 0.0139, Accuracy: 129/173 (74.5665%)
___Train Local_ResNet_18,  epoch 248, local model 19, internal_epoch   2,  Average loss: 0.0013, Accuracy: 171/173 (98.8439%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 4.9717, Accuracy: 3557/10000 (35.5700%)
___Train Local_ResNet_18,  epoch 248, local model 50, internal_epoch   1,  Average loss: 0.0018, Accuracy: 390/401 (97.2569%)
___Train Local_ResNet_18,  epoch 248, local model 50, internal_epoch   2,  Average loss: 0.0006, Accuracy: 400/401 (99.7506%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.8108, Accuracy: 5645/10000 (56.4500%)
___Train Local_ResNet_18,  epoch 248, local model 93, internal_epoch   1,  Average loss: 0.0025, Accuracy: 561/584 (96.0616%)
___Train Local_ResNet_18,  epoch 248, local model 93, internal_epoch   2,  Average loss: 0.0042, Accuracy: 555/584 (95.0342%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.1382, Accuracy: 4937/10000 (49.3700%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   1,  Average loss: 0.0042, Accuracy: 567/620 (91.4516%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   2,  Average loss: 0.0028, Accuracy: 583/620 (94.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 3.2078, Accuracy: 4067/10000 (40.6700%)
___Train Local_ResNet_18,  epoch 248, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 268/299 (89.6321%)
___Train Local_ResNet_18,  epoch 248, local model 55, internal_epoch   2,  Average loss: 0.0011, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 7.1597, Accuracy: 2083/10000 (20.8300%)
time spent on training: 63.47615885734558
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11851530280008682  data num: [423, 642, 546, 362, 557, 173, 401, 584, 620, 299]
[foolsgold agg] considering poison per batch poison_fraction: 0.009259008031256783
[foolsgold agg] wv: [1. 0. 1. 0. 1. 0. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 248: Average loss: 0.6461, Accuracy: 7857/10000 (78.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 248: Average loss: 6.5627, Accuracy: 285/9000 (3.1667%)
Done in 131.02057909965515 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:249 choose agents : [13, 33, 16, 5, 8, 3, 39, 27, 19, 93]. Adversary List: []
___Train Local_ResNet_18,  epoch 249, local model 13, internal_epoch   1,  Average loss: 0.0043, Accuracy: 569/620 (91.7742%)
___Train Local_ResNet_18,  epoch 249, local model 13, internal_epoch   2,  Average loss: 0.0031, Accuracy: 583/620 (94.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 3.4219, Accuracy: 3678/10000 (36.7800%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 249, local model 33, internal_epoch   1,  Average loss: 0.0044, Accuracy: 484/527 (91.8406%)
___Train Local_ResNet_18,  epoch 249, local model 33, internal_epoch   2,  Average loss: 0.0050, Accuracy: 480/527 (91.0816%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.7632, Accuracy: 4537/10000 (45.3700%)
___Train Local_ResNet_18,  epoch 249, local model 16, internal_epoch   1,  Average loss: 0.0054, Accuracy: 729/773 (94.3079%)
___Train Local_ResNet_18,  epoch 249, local model 16, internal_epoch   2,  Average loss: 0.0229, Accuracy: 496/773 (64.1656%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 108.9639, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 249, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 352/365 (96.4384%)
___Train Local_ResNet_18,  epoch 249, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 362/365 (99.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 1.2806, Accuracy: 6418/10000 (64.1800%)
___Train Local_ResNet_18,  epoch 249, local model 8, internal_epoch   1,  Average loss: 0.0037, Accuracy: 498/534 (93.2584%)
___Train Local_ResNet_18,  epoch 249, local model 8, internal_epoch   2,  Average loss: 0.0024, Accuracy: 511/534 (95.6929%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 3.8291, Accuracy: 3502/10000 (35.0200%)
___Train Local_ResNet_18,  epoch 249, local model 3, internal_epoch   1,  Average loss: 0.0059, Accuracy: 684/780 (87.6923%)
___Train Local_ResNet_18,  epoch 249, local model 3, internal_epoch   2,  Average loss: 0.0077, Accuracy: 671/780 (86.0256%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 9.9660, Accuracy: 2257/10000 (22.5700%)
___Train Local_ResNet_18,  epoch 249, local model 39, internal_epoch   1,  Average loss: 0.0053, Accuracy: 190/217 (87.5576%)
___Train Local_ResNet_18,  epoch 249, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.3453, Accuracy: 4504/10000 (45.0400%)
___Train Local_ResNet_18,  epoch 249, local model 27, internal_epoch   1,  Average loss: 0.0037, Accuracy: 378/397 (95.2141%)
___Train Local_ResNet_18,  epoch 249, local model 27, internal_epoch   2,  Average loss: 0.0041, Accuracy: 379/397 (95.4660%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.1184, Accuracy: 4713/10000 (47.1300%)
___Train Local_ResNet_18,  epoch 249, local model 19, internal_epoch   1,  Average loss: 0.0131, Accuracy: 133/173 (76.8786%)
___Train Local_ResNet_18,  epoch 249, local model 19, internal_epoch   2,  Average loss: 0.0017, Accuracy: 168/173 (97.1098%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 6.3831, Accuracy: 3077/10000 (30.7700%)
___Train Local_ResNet_18,  epoch 249, local model 93, internal_epoch   1,  Average loss: 0.0026, Accuracy: 549/584 (94.0068%)
___Train Local_ResNet_18,  epoch 249, local model 93, internal_epoch   2,  Average loss: 0.0015, Accuracy: 571/584 (97.7740%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.4140, Accuracy: 4693/10000 (46.9300%)
time spent on training: 63.86071562767029
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10603621730382294  data num: [620, 527, 773, 365, 534, 780, 217, 397, 173, 584]
[foolsgold agg] considering poison per batch poison_fraction: 0.008284079476861167
[foolsgold agg] wv: [0.         0.54699962 1.         0.54699962 1.         1.
 0.         0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 249: Average loss: 0.6464, Accuracy: 7856/10000 (78.5600%)
___Test Target_ResNet_18 poisoned: True, epoch: 249: Average loss: 6.5532, Accuracy: 290/9000 (3.2222%)
Done in 130.92909121513367 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:250 choose agents : [92, 14, 74, 41, 87, 44, 60, 80, 2, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 250, local model 92, internal_epoch   1,  Average loss: 0.0048, Accuracy: 722/796 (90.7035%)
___Train Local_ResNet_18,  epoch 250, local model 92, internal_epoch   2,  Average loss: 0.0074, Accuracy: 678/796 (85.1759%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 7.7296, Accuracy: 2389/10000 (23.8900%)
___Train Local_ResNet_18,  epoch 250, local model 14, internal_epoch   1,  Average loss: 0.0068, Accuracy: 273/318 (85.8491%)
___Train Local_ResNet_18,  epoch 250, local model 14, internal_epoch   2,  Average loss: 0.0010, Accuracy: 311/318 (97.7987%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 6.4347, Accuracy: 2519/10000 (25.1900%)
___Train Local_ResNet_18,  epoch 250, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 439/469 (93.6034%)
___Train Local_ResNet_18,  epoch 250, local model 74, internal_epoch   2,  Average loss: 0.0016, Accuracy: 454/469 (96.8017%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.6795, Accuracy: 5402/10000 (54.0200%)
___Train Local_ResNet_18,  epoch 250, local model 41, internal_epoch   1,  Average loss: 0.0257, Accuracy: 421/513 (82.0663%)
___Train Local_ResNet_18,  epoch 250, local model 41, internal_epoch   2,  Average loss: 0.0121, Accuracy: 422/513 (82.2612%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 4.1311, Accuracy: 3366/10000 (33.6600%)
___Train Local_ResNet_18,  epoch 250, local model 87, internal_epoch   1,  Average loss: 0.0088, Accuracy: 339/397 (85.3904%)
___Train Local_ResNet_18,  epoch 250, local model 87, internal_epoch   2,  Average loss: 0.0065, Accuracy: 359/397 (90.4282%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 3.1696, Accuracy: 3579/10000 (35.7900%)
___Train Local_ResNet_18,  epoch 250, local model 44, internal_epoch   1,  Average loss: 0.0038, Accuracy: 402/436 (92.2018%)
___Train Local_ResNet_18,  epoch 250, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 426/436 (97.7064%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.7597, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   1,  Average loss: 0.0041, Accuracy: 260/284 (91.5493%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   2,  Average loss: 0.0015, Accuracy: 280/284 (98.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 2.0681, Accuracy: 4974/10000 (49.7400%)
___Train Local_ResNet_18,  epoch 250, local model 80, internal_epoch   1,  Average loss: 0.0058, Accuracy: 318/363 (87.6033%)
___Train Local_ResNet_18,  epoch 250, local model 80, internal_epoch   2,  Average loss: 0.0016, Accuracy: 353/363 (97.2452%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 4.4477, Accuracy: 3724/10000 (37.2400%)
___Train Local_ResNet_18,  epoch 250, local model 2, internal_epoch   1,  Average loss: 0.0078, Accuracy: 391/461 (84.8156%)
___Train Local_ResNet_18,  epoch 250, local model 2, internal_epoch   2,  Average loss: 0.0079, Accuracy: 413/461 (89.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 3.4311, Accuracy: 3850/10000 (38.5000%)
___Train Local_ResNet_18,  epoch 250, local model 45, internal_epoch   1,  Average loss: 0.0066, Accuracy: 460/529 (86.9565%)
___Train Local_ResNet_18,  epoch 250, local model 45, internal_epoch   2,  Average loss: 0.0068, Accuracy: 474/529 (89.6030%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 4.1425, Accuracy: 3688/10000 (36.8800%)
time spent on training: 51.23010563850403
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [796, 318, 469, 513, 397, 436, 284, 363, 461, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.19887268 0.         1.         0.84502198 0.         0.
 0.         1.         0.         0.19887268]
___Test Target_ResNet_18 poisoned: False, epoch: 250: Average loss: 0.6460, Accuracy: 7857/10000 (78.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 250: Average loss: 6.5393, Accuracy: 295/9000 (3.2778%)
Done in 120.93246793746948 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:251 choose agents : [67, 9, 92, 47, 24, 79, 63, 14, 87, 2]. Adversary List: []
___Train Local_ResNet_18,  epoch 251, local model 67, internal_epoch   1,  Average loss: 0.0028, Accuracy: 803/842 (95.3682%)
___Train Local_ResNet_18,  epoch 251, local model 67, internal_epoch   2,  Average loss: 0.0087, Accuracy: 722/842 (85.7482%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 4.9840, Accuracy: 3454/10000 (34.5400%)
___Train Local_ResNet_18,  epoch 251, local model 9, internal_epoch   1,  Average loss: 0.0047, Accuracy: 327/368 (88.8587%)
___Train Local_ResNet_18,  epoch 251, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 360/368 (97.8261%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 3.9404, Accuracy: 3445/10000 (34.4500%)
___Train Local_ResNet_18,  epoch 251, local model 92, internal_epoch   1,  Average loss: 0.0058, Accuracy: 706/796 (88.6935%)
___Train Local_ResNet_18,  epoch 251, local model 92, internal_epoch   2,  Average loss: 0.0082, Accuracy: 678/796 (85.1759%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 6.9582, Accuracy: 2722/10000 (27.2200%)
___Train Local_ResNet_18,  epoch 251, local model 47, internal_epoch   1,  Average loss: 0.0030, Accuracy: 624/654 (95.4128%)
___Train Local_ResNet_18,  epoch 251, local model 47, internal_epoch   2,  Average loss: 0.0033, Accuracy: 617/654 (94.3425%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.2617, Accuracy: 4867/10000 (48.6700%)
___Train Local_ResNet_18,  epoch 251, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 251, local model 24, internal_epoch   2,  Average loss: 0.0010, Accuracy: 315/320 (98.4375%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.4083, Accuracy: 4595/10000 (45.9500%)
___Train Local_ResNet_18,  epoch 251, local model 79, internal_epoch   1,  Average loss: 0.0060, Accuracy: 131/154 (85.0649%)
___Train Local_ResNet_18,  epoch 251, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.1373, Accuracy: 6735/10000 (67.3500%)
___Train Local_ResNet_18,  epoch 251, local model 63, internal_epoch   1,  Average loss: 0.0023, Accuracy: 719/752 (95.6117%)
___Train Local_ResNet_18,  epoch 251, local model 63, internal_epoch   2,  Average loss: 0.0018, Accuracy: 722/752 (96.0106%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.7157, Accuracy: 5837/10000 (58.3700%)
___Train Local_ResNet_18,  epoch 251, local model 14, internal_epoch   1,  Average loss: 0.0070, Accuracy: 271/318 (85.2201%)
___Train Local_ResNet_18,  epoch 251, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 309/318 (97.1698%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 9.8286, Accuracy: 2004/10000 (20.0400%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   1,  Average loss: 0.0094, Accuracy: 335/397 (84.3829%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   2,  Average loss: 0.0107, Accuracy: 337/397 (84.8866%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 9.9838, Accuracy: 1658/10000 (16.5800%)
___Train Local_ResNet_18,  epoch 251, local model 2, internal_epoch   1,  Average loss: 0.0105, Accuracy: 391/461 (84.8156%)
___Train Local_ResNet_18,  epoch 251, local model 2, internal_epoch   2,  Average loss: 0.0143, Accuracy: 376/461 (81.5618%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 63.7297, Accuracy: 999/10000 (9.9900%)
time spent on training: 62.11791229248047
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [842, 368, 796, 654, 320, 154, 752, 318, 397, 461]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.
 0.         0.         0.         0.02284333]
___Test Target_ResNet_18 poisoned: False, epoch: 251: Average loss: 0.6450, Accuracy: 7866/10000 (78.6600%)
___Test Target_ResNet_18 poisoned: True, epoch: 251: Average loss: 6.5494, Accuracy: 296/9000 (3.2889%)
Done in 130.22754979133606 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:252 choose agents : [64, 12, 61, 1, 84, 9, 0, 14, 88, 16]. Adversary List: []
___Train Local_ResNet_18,  epoch 252, local model 64, internal_epoch   1,  Average loss: 0.0035, Accuracy: 638/686 (93.0029%)
___Train Local_ResNet_18,  epoch 252, local model 64, internal_epoch   2,  Average loss: 0.0029, Accuracy: 641/686 (93.4402%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.7241, Accuracy: 4525/10000 (45.2500%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   1,  Average loss: 0.0053, Accuracy: 874/977 (89.4575%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   2,  Average loss: 0.0090, Accuracy: 809/977 (82.8045%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.4964, Accuracy: 3266/10000 (32.6600%)
___Train Local_ResNet_18,  epoch 252, local model 61, internal_epoch   1,  Average loss: 0.0046, Accuracy: 535/590 (90.6780%)
___Train Local_ResNet_18,  epoch 252, local model 61, internal_epoch   2,  Average loss: 0.0050, Accuracy: 538/590 (91.1864%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 6.6507, Accuracy: 2233/10000 (22.3300%)
___Train Local_ResNet_18,  epoch 252, local model 1, internal_epoch   1,  Average loss: 0.0054, Accuracy: 598/641 (93.2917%)
___Train Local_ResNet_18,  epoch 252, local model 1, internal_epoch   2,  Average loss: 0.0112, Accuracy: 587/641 (91.5757%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.7560, Accuracy: 4601/10000 (46.0100%)
___Train Local_ResNet_18,  epoch 252, local model 84, internal_epoch   1,  Average loss: 0.0027, Accuracy: 1000/1053 (94.9668%)
___Train Local_ResNet_18,  epoch 252, local model 84, internal_epoch   2,  Average loss: 0.0058, Accuracy: 930/1053 (88.3191%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.3867, Accuracy: 4614/10000 (46.1400%)
___Train Local_ResNet_18,  epoch 252, local model 9, internal_epoch   1,  Average loss: 0.0041, Accuracy: 340/368 (92.3913%)
___Train Local_ResNet_18,  epoch 252, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 359/368 (97.5543%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 7.2595, Accuracy: 2230/10000 (22.3000%)
___Train Local_ResNet_18,  epoch 252, local model 0, internal_epoch   1,  Average loss: 0.0065, Accuracy: 322/367 (87.7384%)
___Train Local_ResNet_18,  epoch 252, local model 0, internal_epoch   2,  Average loss: 0.0023, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 4.7485, Accuracy: 2900/10000 (29.0000%)
___Train Local_ResNet_18,  epoch 252, local model 14, internal_epoch   1,  Average loss: 0.0062, Accuracy: 281/318 (88.3648%)
___Train Local_ResNet_18,  epoch 252, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 311/318 (97.7987%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 10.9397, Accuracy: 1746/10000 (17.4600%)
___Train Local_ResNet_18,  epoch 252, local model 88, internal_epoch   1,  Average loss: 0.0067, Accuracy: 388/447 (86.8009%)
___Train Local_ResNet_18,  epoch 252, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 411/447 (91.9463%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 6.1804, Accuracy: 2212/10000 (22.1200%)
___Train Local_ResNet_18,  epoch 252, local model 16, internal_epoch   1,  Average loss: 0.0037, Accuracy: 722/773 (93.4023%)
___Train Local_ResNet_18,  epoch 252, local model 16, internal_epoch   2,  Average loss: 0.0108, Accuracy: 638/773 (82.5356%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 8.5341, Accuracy: 2478/10000 (24.7800%)
time spent on training: 60.01023483276367
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [686, 977, 590, 641, 1053, 368, 367, 318, 447, 773]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.81571 1.      1.      0.81571 1.      1.      1.      1.      1.
 1.     ]
___Test Target_ResNet_18 poisoned: False, epoch: 252: Average loss: 0.6419, Accuracy: 7881/10000 (78.8100%)
___Test Target_ResNet_18 poisoned: True, epoch: 252: Average loss: 6.4983, Accuracy: 314/9000 (3.4889%)
Done in 128.89275312423706 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:253 choose agents : [48, 44, 4, 45, 1, 58, 22, 13, 52, 20]. Adversary List: []
___Train Local_ResNet_18,  epoch 253, local model 48, internal_epoch   1,  Average loss: 0.0045, Accuracy: 344/378 (91.0053%)
___Train Local_ResNet_18,  epoch 253, local model 48, internal_epoch   2,  Average loss: 0.0010, Accuracy: 373/378 (98.6772%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.8016, Accuracy: 3181/10000 (31.8100%)
___Train Local_ResNet_18,  epoch 253, local model 44, internal_epoch   1,  Average loss: 0.0032, Accuracy: 406/436 (93.1193%)
___Train Local_ResNet_18,  epoch 253, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 424/436 (97.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 1.3837, Accuracy: 6075/10000 (60.7500%)
___Train Local_ResNet_18,  epoch 253, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 503/557 (90.3052%)
___Train Local_ResNet_18,  epoch 253, local model 4, internal_epoch   2,  Average loss: 0.0028, Accuracy: 524/557 (94.0754%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.0482, Accuracy: 4375/10000 (43.7500%)
___Train Local_ResNet_18,  epoch 253, local model 45, internal_epoch   1,  Average loss: 0.0064, Accuracy: 472/529 (89.2250%)
___Train Local_ResNet_18,  epoch 253, local model 45, internal_epoch   2,  Average loss: 0.0111, Accuracy: 453/529 (85.6333%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 7.3941, Accuracy: 2074/10000 (20.7400%)
___Train Local_ResNet_18,  epoch 253, local model 1, internal_epoch   1,  Average loss: 0.0062, Accuracy: 615/641 (95.9438%)
___Train Local_ResNet_18,  epoch 253, local model 1, internal_epoch   2,  Average loss: 0.0106, Accuracy: 578/641 (90.1716%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.7334, Accuracy: 2806/10000 (28.0600%)
___Train Local_ResNet_18,  epoch 253, local model 58, internal_epoch   1,  Average loss: 0.0079, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 253, local model 58, internal_epoch   2,  Average loss: 0.0009, Accuracy: 231/234 (98.7179%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.3200, Accuracy: 1948/10000 (19.4800%)
___Train Local_ResNet_18,  epoch 253, local model 22, internal_epoch   1,  Average loss: 0.0050, Accuracy: 437/494 (88.4615%)
___Train Local_ResNet_18,  epoch 253, local model 22, internal_epoch   2,  Average loss: 0.0025, Accuracy: 466/494 (94.3320%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.4428, Accuracy: 3631/10000 (36.3100%)
___Train Local_ResNet_18,  epoch 253, local model 13, internal_epoch   1,  Average loss: 0.0051, Accuracy: 557/620 (89.8387%)
___Train Local_ResNet_18,  epoch 253, local model 13, internal_epoch   2,  Average loss: 0.0041, Accuracy: 566/620 (91.2903%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.9437, Accuracy: 3724/10000 (37.2400%)
___Train Local_ResNet_18,  epoch 253, local model 52, internal_epoch   1,  Average loss: 0.0058, Accuracy: 184/214 (85.9813%)
___Train Local_ResNet_18,  epoch 253, local model 52, internal_epoch   2,  Average loss: 0.0009, Accuracy: 213/214 (99.5327%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 2.9059, Accuracy: 4300/10000 (43.0000%)
___Train Local_ResNet_18,  epoch 253, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 311/362 (85.9116%)
___Train Local_ResNet_18,  epoch 253, local model 20, internal_epoch   2,  Average loss: 0.0020, Accuracy: 349/362 (96.4088%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 4.7695, Accuracy: 3533/10000 (35.3300%)
time spent on training: 53.28340148925781
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [378, 436, 557, 529, 641, 234, 494, 620, 214, 362]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.64785105 0.         1.         0.75980479 1.         0.
 0.64785105 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 253: Average loss: 0.6425, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 253: Average loss: 6.4954, Accuracy: 313/9000 (3.4778%)
Done in 120.35709595680237 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:254 choose agents : [95, 47, 93, 56, 5, 31, 75, 13, 77, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 254, local model 95, internal_epoch   1,  Average loss: 0.0080, Accuracy: 479/569 (84.1828%)
___Train Local_ResNet_18,  epoch 254, local model 95, internal_epoch   2,  Average loss: 0.0039, Accuracy: 519/569 (91.2127%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 5.3520, Accuracy: 2770/10000 (27.7000%)
___Train Local_ResNet_18,  epoch 254, local model 47, internal_epoch   1,  Average loss: 0.0024, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 254, local model 47, internal_epoch   2,  Average loss: 0.0022, Accuracy: 619/654 (94.6483%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.3648, Accuracy: 6238/10000 (62.3800%)
___Train Local_ResNet_18,  epoch 254, local model 93, internal_epoch   1,  Average loss: 0.0032, Accuracy: 547/584 (93.6644%)
___Train Local_ResNet_18,  epoch 254, local model 93, internal_epoch   2,  Average loss: 0.0050, Accuracy: 545/584 (93.3219%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 3.2080, Accuracy: 4032/10000 (40.3200%)
___Train Local_ResNet_18,  epoch 254, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 725/743 (97.5774%)
___Train Local_ResNet_18,  epoch 254, local model 56, internal_epoch   2,  Average loss: 0.0010, Accuracy: 733/743 (98.6541%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.1483, Accuracy: 6753/10000 (67.5300%)
___Train Local_ResNet_18,  epoch 254, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 351/365 (96.1644%)
___Train Local_ResNet_18,  epoch 254, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.5223, Accuracy: 5970/10000 (59.7000%)
___Train Local_ResNet_18,  epoch 254, local model 31, internal_epoch   1,  Average loss: 0.0028, Accuracy: 667/706 (94.4759%)
___Train Local_ResNet_18,  epoch 254, local model 31, internal_epoch   2,  Average loss: 0.0027, Accuracy: 670/706 (94.9008%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.0307, Accuracy: 5015/10000 (50.1500%)
___Train Local_ResNet_18,  epoch 254, local model 75, internal_epoch   1,  Average loss: 0.0045, Accuracy: 557/578 (96.3668%)
___Train Local_ResNet_18,  epoch 254, local model 75, internal_epoch   2,  Average loss: 0.0354, Accuracy: 333/578 (57.6125%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 143.4198, Accuracy: 1003/10000 (10.0300%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   1,  Average loss: 0.0053, Accuracy: 550/620 (88.7097%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   2,  Average loss: 0.0030, Accuracy: 580/620 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 3.9577, Accuracy: 3260/10000 (32.6000%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 254, local model 77, internal_epoch   1,  Average loss: 0.0024, Accuracy: 472/496 (95.1613%)
___Train Local_ResNet_18,  epoch 254, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 489/496 (98.5887%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.6684, Accuracy: 5536/10000 (55.3600%)
___Train Local_ResNet_18,  epoch 254, local model 4, internal_epoch   1,  Average loss: 0.0042, Accuracy: 513/557 (92.1005%)
___Train Local_ResNet_18,  epoch 254, local model 4, internal_epoch   2,  Average loss: 0.0036, Accuracy: 521/557 (93.5368%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.2546, Accuracy: 5211/10000 (52.1100%)
time spent on training: 63.36762762069702
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08446866485013624  data num: [569, 654, 584, 743, 365, 706, 578, 620, 496, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.006599114441416894
[foolsgold agg] wv: [0.09045388 0.         1.         0.83880115 0.83880115 1.
 1.         0.         0.09045388 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 254: Average loss: 0.6429, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 254: Average loss: 6.5088, Accuracy: 311/9000 (3.4556%)
Done in 130.25542497634888 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:255 choose agents : [17, 65, 22, 0, 49, 14, 87, 55, 30, 92]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 255, local model 17, internal_epoch   1,  Average loss: 0.0020, Accuracy: 511/526 (97.1483%)
___Train Local_ResNet_18,  epoch 255, local model 17, internal_epoch   2,  Average loss: 0.0014, Accuracy: 517/526 (98.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 1.1623, Accuracy: 6558/10000 (65.5800%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   1,  Average loss: 0.0035, Accuracy: 294/314 (93.6306%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.7168, Accuracy: 4123/10000 (41.2300%)
___Train Local_ResNet_18,  epoch 255, local model 22, internal_epoch   1,  Average loss: 0.0052, Accuracy: 443/494 (89.6761%)
___Train Local_ResNet_18,  epoch 255, local model 22, internal_epoch   2,  Average loss: 0.0022, Accuracy: 478/494 (96.7611%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.5836, Accuracy: 4458/10000 (44.5800%)
___Train Local_ResNet_18,  epoch 255, local model 0, internal_epoch   1,  Average loss: 0.0050, Accuracy: 334/367 (91.0082%)
___Train Local_ResNet_18,  epoch 255, local model 0, internal_epoch   2,  Average loss: 0.0016, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 4.9154, Accuracy: 2625/10000 (26.2500%)
___Train Local_ResNet_18,  epoch 255, local model 49, internal_epoch   1,  Average loss: 0.0033, Accuracy: 402/426 (94.3662%)
___Train Local_ResNet_18,  epoch 255, local model 49, internal_epoch   2,  Average loss: 0.0013, Accuracy: 414/426 (97.1831%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.8484, Accuracy: 4287/10000 (42.8700%)
___Train Local_ResNet_18,  epoch 255, local model 14, internal_epoch   1,  Average loss: 0.0068, Accuracy: 275/318 (86.4780%)
___Train Local_ResNet_18,  epoch 255, local model 14, internal_epoch   2,  Average loss: 0.0026, Accuracy: 302/318 (94.9686%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 9.6375, Accuracy: 1867/10000 (18.6700%)
___Train Local_ResNet_18,  epoch 255, local model 87, internal_epoch   1,  Average loss: 0.0090, Accuracy: 337/397 (84.8866%)
___Train Local_ResNet_18,  epoch 255, local model 87, internal_epoch   2,  Average loss: 0.0053, Accuracy: 352/397 (88.6650%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.3378, Accuracy: 3447/10000 (34.4700%)
___Train Local_ResNet_18,  epoch 255, local model 55, internal_epoch   1,  Average loss: 0.0043, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 255, local model 55, internal_epoch   2,  Average loss: 0.0005, Accuracy: 298/299 (99.6656%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 6.0039, Accuracy: 2581/10000 (25.8100%)
___Train Local_ResNet_18,  epoch 255, local model 30, internal_epoch   1,  Average loss: 0.0047, Accuracy: 310/337 (91.9881%)
___Train Local_ResNet_18,  epoch 255, local model 30, internal_epoch   2,  Average loss: 0.0019, Accuracy: 326/337 (96.7359%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.5208, Accuracy: 3436/10000 (34.3600%)
___Train Local_ResNet_18,  epoch 255, local model 92, internal_epoch   1,  Average loss: 0.0047, Accuracy: 720/796 (90.4523%)
___Train Local_ResNet_18,  epoch 255, local model 92, internal_epoch   2,  Average loss: 0.0052, Accuracy: 718/796 (90.2010%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.8338, Accuracy: 3086/10000 (30.8600%)
time spent on training: 62.97835063934326
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12306972391202621  data num: [526, 314, 494, 367, 426, 318, 397, 299, 337, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.009614822180627048
[foolsgold agg] wv: [1.         0.         0.         1.         0.37085822 0.
 0.         1.         1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 255: Average loss: 0.6421, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 255: Average loss: 6.4737, Accuracy: 313/9000 (3.4778%)
Done in 130.4355947971344 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:256 choose agents : [89, 69, 73, 15, 31, 36, 22, 1, 0, 96]. Adversary List: []
___Train Local_ResNet_18,  epoch 256, local model 89, internal_epoch   1,  Average loss: 0.0068, Accuracy: 356/413 (86.1985%)
___Train Local_ResNet_18,  epoch 256, local model 89, internal_epoch   2,  Average loss: 0.0034, Accuracy: 385/413 (93.2203%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.2782, Accuracy: 2079/10000 (20.7900%)
___Train Local_ResNet_18,  epoch 256, local model 69, internal_epoch   1,  Average loss: 0.0065, Accuracy: 192/216 (88.8889%)
___Train Local_ResNet_18,  epoch 256, local model 69, internal_epoch   2,  Average loss: 0.0007, Accuracy: 216/216 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.4026, Accuracy: 1593/10000 (15.9300%)
___Train Local_ResNet_18,  epoch 256, local model 73, internal_epoch   1,  Average loss: 0.0116, Accuracy: 392/500 (78.4000%)
___Train Local_ResNet_18,  epoch 256, local model 73, internal_epoch   2,  Average loss: 0.0040, Accuracy: 461/500 (92.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.0304, Accuracy: 2604/10000 (26.0400%)
___Train Local_ResNet_18,  epoch 256, local model 15, internal_epoch   1,  Average loss: 0.0077, Accuracy: 291/341 (85.3372%)
___Train Local_ResNet_18,  epoch 256, local model 15, internal_epoch   2,  Average loss: 0.0032, Accuracy: 321/341 (94.1349%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 4.4615, Accuracy: 2677/10000 (26.7700%)
___Train Local_ResNet_18,  epoch 256, local model 31, internal_epoch   1,  Average loss: 0.0044, Accuracy: 652/706 (92.3513%)
___Train Local_ResNet_18,  epoch 256, local model 31, internal_epoch   2,  Average loss: 0.0199, Accuracy: 515/706 (72.9462%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 80.2219, Accuracy: 1024/10000 (10.2400%)
___Train Local_ResNet_18,  epoch 256, local model 36, internal_epoch   1,  Average loss: 0.0062, Accuracy: 745/849 (87.7503%)
___Train Local_ResNet_18,  epoch 256, local model 36, internal_epoch   2,  Average loss: 0.0151, Accuracy: 640/849 (75.3828%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.2899, Accuracy: 2358/10000 (23.5800%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 451/494 (91.2955%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   2,  Average loss: 0.0028, Accuracy: 470/494 (95.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 3.0460, Accuracy: 4312/10000 (43.1200%)
___Train Local_ResNet_18,  epoch 256, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 605/641 (94.3838%)
___Train Local_ResNet_18,  epoch 256, local model 1, internal_epoch   2,  Average loss: 0.0092, Accuracy: 621/641 (96.8799%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.6289, Accuracy: 4361/10000 (43.6100%)
___Train Local_ResNet_18,  epoch 256, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 326/367 (88.8283%)
___Train Local_ResNet_18,  epoch 256, local model 0, internal_epoch   2,  Average loss: 0.0023, Accuracy: 351/367 (95.6403%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 7.0407, Accuracy: 2052/10000 (20.5200%)
___Train Local_ResNet_18,  epoch 256, local model 96, internal_epoch   1,  Average loss: 0.0028, Accuracy: 673/708 (95.0565%)
___Train Local_ResNet_18,  epoch 256, local model 96, internal_epoch   2,  Average loss: 0.0027, Accuracy: 669/708 (94.4915%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.0944, Accuracy: 5134/10000 (51.3400%)
time spent on training: 55.09246325492859
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [413, 216, 500, 341, 706, 849, 494, 641, 367, 708]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.10009102 1.         0.10009102 1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 256: Average loss: 0.6423, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 256: Average loss: 6.4547, Accuracy: 315/9000 (3.5000%)
Done in 122.61110043525696 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:257 choose agents : [54, 37, 60, 30, 4, 36, 19, 95, 47, 88]. Adversary List: []
___Train Local_ResNet_18,  epoch 257, local model 54, internal_epoch   1,  Average loss: 0.0033, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 257, local model 54, internal_epoch   2,  Average loss: 0.0007, Accuracy: 434/440 (98.6364%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 2.2203, Accuracy: 4969/10000 (49.6900%)
___Train Local_ResNet_18,  epoch 257, local model 37, internal_epoch   1,  Average loss: 0.0055, Accuracy: 653/725 (90.0690%)
___Train Local_ResNet_18,  epoch 257, local model 37, internal_epoch   2,  Average loss: 0.0179, Accuracy: 540/725 (74.4828%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 13.8307, Accuracy: 1585/10000 (15.8500%)
___Train Local_ResNet_18,  epoch 257, local model 60, internal_epoch   1,  Average loss: 0.0044, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 257, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 281/284 (98.9437%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.8990, Accuracy: 5109/10000 (51.0900%)
___Train Local_ResNet_18,  epoch 257, local model 30, internal_epoch   1,  Average loss: 0.0057, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 257, local model 30, internal_epoch   2,  Average loss: 0.0021, Accuracy: 321/337 (95.2522%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 3.8814, Accuracy: 3266/10000 (32.6600%)
___Train Local_ResNet_18,  epoch 257, local model 4, internal_epoch   1,  Average loss: 0.0038, Accuracy: 514/557 (92.2801%)
___Train Local_ResNet_18,  epoch 257, local model 4, internal_epoch   2,  Average loss: 0.0021, Accuracy: 540/557 (96.9479%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 3.4150, Accuracy: 4331/10000 (43.3100%)
___Train Local_ResNet_18,  epoch 257, local model 36, internal_epoch   1,  Average loss: 0.0077, Accuracy: 743/849 (87.5147%)
___Train Local_ResNet_18,  epoch 257, local model 36, internal_epoch   2,  Average loss: 0.0216, Accuracy: 516/849 (60.7774%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 36.8789, Accuracy: 1268/10000 (12.6800%)
___Train Local_ResNet_18,  epoch 257, local model 19, internal_epoch   1,  Average loss: 0.0151, Accuracy: 128/173 (73.9884%)
___Train Local_ResNet_18,  epoch 257, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 173/173 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 7.5339, Accuracy: 2895/10000 (28.9500%)
___Train Local_ResNet_18,  epoch 257, local model 95, internal_epoch   1,  Average loss: 0.0082, Accuracy: 473/569 (83.1283%)
___Train Local_ResNet_18,  epoch 257, local model 95, internal_epoch   2,  Average loss: 0.0049, Accuracy: 509/569 (89.4552%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 5.4869, Accuracy: 2387/10000 (23.8700%)
___Train Local_ResNet_18,  epoch 257, local model 47, internal_epoch   1,  Average loss: 0.0024, Accuracy: 627/654 (95.8716%)
___Train Local_ResNet_18,  epoch 257, local model 47, internal_epoch   2,  Average loss: 0.0024, Accuracy: 628/654 (96.0245%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.5839, Accuracy: 6158/10000 (61.5800%)
___Train Local_ResNet_18,  epoch 257, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 384/447 (85.9060%)
___Train Local_ResNet_18,  epoch 257, local model 88, internal_epoch   2,  Average loss: 0.0040, Accuracy: 409/447 (91.4989%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 3.9218, Accuracy: 3832/10000 (38.3200%)
time spent on training: 54.43600916862488
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [440, 725, 284, 337, 557, 849, 173, 569, 654, 447]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 1. 1. 1. 1. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 257: Average loss: 0.6420, Accuracy: 7881/10000 (78.8100%)
___Test Target_ResNet_18 poisoned: True, epoch: 257: Average loss: 6.4716, Accuracy: 314/9000 (3.4889%)
Done in 121.12973546981812 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:258 choose agents : [8, 66, 49, 58, 44, 26, 21, 79, 98, 32]. Adversary List: []
___Train Local_ResNet_18,  epoch 258, local model 8, internal_epoch   1,  Average loss: 0.0035, Accuracy: 502/534 (94.0075%)
___Train Local_ResNet_18,  epoch 258, local model 8, internal_epoch   2,  Average loss: 0.0028, Accuracy: 505/534 (94.5693%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.1077, Accuracy: 4694/10000 (46.9400%)
___Train Local_ResNet_18,  epoch 258, local model 66, internal_epoch   1,  Average loss: 0.0037, Accuracy: 516/555 (92.9730%)
___Train Local_ResNet_18,  epoch 258, local model 66, internal_epoch   2,  Average loss: 0.0015, Accuracy: 543/555 (97.8378%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.9329, Accuracy: 4548/10000 (45.4800%)
___Train Local_ResNet_18,  epoch 258, local model 49, internal_epoch   1,  Average loss: 0.0033, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 258, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 416/426 (97.6526%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.8099, Accuracy: 5511/10000 (55.1100%)
___Train Local_ResNet_18,  epoch 258, local model 58, internal_epoch   1,  Average loss: 0.0095, Accuracy: 197/234 (84.1880%)
___Train Local_ResNet_18,  epoch 258, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 6.0011, Accuracy: 2078/10000 (20.7800%)
___Train Local_ResNet_18,  epoch 258, local model 44, internal_epoch   1,  Average loss: 0.0035, Accuracy: 403/436 (92.4312%)
___Train Local_ResNet_18,  epoch 258, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.5882, Accuracy: 5622/10000 (56.2200%)
___Train Local_ResNet_18,  epoch 258, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 439/468 (93.8034%)
___Train Local_ResNet_18,  epoch 258, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 445/468 (95.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.7032, Accuracy: 5510/10000 (55.1000%)
___Train Local_ResNet_18,  epoch 258, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 258, local model 21, internal_epoch   2,  Average loss: 0.0015, Accuracy: 255/262 (97.3282%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 3.2312, Accuracy: 3903/10000 (39.0300%)
___Train Local_ResNet_18,  epoch 258, local model 79, internal_epoch   1,  Average loss: 0.0059, Accuracy: 136/154 (88.3117%)
___Train Local_ResNet_18,  epoch 258, local model 79, internal_epoch   2,  Average loss: 0.0004, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.0799, Accuracy: 6814/10000 (68.1400%)
___Train Local_ResNet_18,  epoch 258, local model 98, internal_epoch   1,  Average loss: 0.0035, Accuracy: 745/802 (92.8928%)
___Train Local_ResNet_18,  epoch 258, local model 98, internal_epoch   2,  Average loss: 0.0039, Accuracy: 748/802 (93.2668%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 3.0719, Accuracy: 4378/10000 (43.7800%)
___Train Local_ResNet_18,  epoch 258, local model 32, internal_epoch   1,  Average loss: 0.0020, Accuracy: 798/824 (96.8447%)
___Train Local_ResNet_18,  epoch 258, local model 32, internal_epoch   2,  Average loss: 0.0024, Accuracy: 787/824 (95.5097%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.5679, Accuracy: 4831/10000 (48.3100%)
time spent on training: 52.69304537773132
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [534, 555, 426, 234, 436, 468, 262, 154, 802, 824]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.8332181  1.         1.         0.         0.         0.89098703
 1.         0.68467563 0.68467563 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 258: Average loss: 0.6412, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 258: Average loss: 6.4724, Accuracy: 313/9000 (3.4778%)
Done in 120.97253346443176 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:259 choose agents : [81, 15, 55, 12, 47, 26, 82, 33, 64, 70]. Adversary List: []
___Train Local_ResNet_18,  epoch 259, local model 81, internal_epoch   1,  Average loss: 0.0059, Accuracy: 927/1034 (89.6518%)
___Train Local_ResNet_18,  epoch 259, local model 81, internal_epoch   2,  Average loss: 0.0093, Accuracy: 852/1034 (82.3985%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 4.0346, Accuracy: 3394/10000 (33.9400%)
___Train Local_ResNet_18,  epoch 259, local model 15, internal_epoch   1,  Average loss: 0.0091, Accuracy: 289/341 (84.7507%)
___Train Local_ResNet_18,  epoch 259, local model 15, internal_epoch   2,  Average loss: 0.0053, Accuracy: 317/341 (92.9619%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 6.8369, Accuracy: 2150/10000 (21.5000%)
___Train Local_ResNet_18,  epoch 259, local model 55, internal_epoch   1,  Average loss: 0.0046, Accuracy: 273/299 (91.3043%)
___Train Local_ResNet_18,  epoch 259, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 7.5588, Accuracy: 2193/10000 (21.9300%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   1,  Average loss: 0.0070, Accuracy: 856/977 (87.6151%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   2,  Average loss: 0.0119, Accuracy: 751/977 (76.8680%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 6.0299, Accuracy: 3232/10000 (32.3200%)
___Train Local_ResNet_18,  epoch 259, local model 47, internal_epoch   1,  Average loss: 0.0029, Accuracy: 614/654 (93.8838%)
___Train Local_ResNet_18,  epoch 259, local model 47, internal_epoch   2,  Average loss: 0.0036, Accuracy: 624/654 (95.4128%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 1.8861, Accuracy: 5378/10000 (53.7800%)
___Train Local_ResNet_18,  epoch 259, local model 26, internal_epoch   1,  Average loss: 0.0038, Accuracy: 441/468 (94.2308%)
___Train Local_ResNet_18,  epoch 259, local model 26, internal_epoch   2,  Average loss: 0.0060, Accuracy: 426/468 (91.0256%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 3.1177, Accuracy: 4471/10000 (44.7100%)
___Train Local_ResNet_18,  epoch 259, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 580/601 (96.5058%)
___Train Local_ResNet_18,  epoch 259, local model 82, internal_epoch   2,  Average loss: 0.0015, Accuracy: 586/601 (97.5042%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 1.8407, Accuracy: 5554/10000 (55.5400%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 259, local model 33, internal_epoch   1,  Average loss: 0.0058, Accuracy: 483/527 (91.6509%)
___Train Local_ResNet_18,  epoch 259, local model 33, internal_epoch   2,  Average loss: 0.0052, Accuracy: 480/527 (91.0816%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 5.1299, Accuracy: 3173/10000 (31.7300%)
___Train Local_ResNet_18,  epoch 259, local model 64, internal_epoch   1,  Average loss: 0.0038, Accuracy: 639/686 (93.1487%)
___Train Local_ResNet_18,  epoch 259, local model 64, internal_epoch   2,  Average loss: 0.0036, Accuracy: 636/686 (92.7114%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.5917, Accuracy: 4779/10000 (47.7900%)
___Train Local_ResNet_18,  epoch 259, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 565/610 (92.6230%)
___Train Local_ResNet_18,  epoch 259, local model 70, internal_epoch   2,  Average loss: 0.0015, Accuracy: 594/610 (97.3770%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.4809, Accuracy: 4105/10000 (41.0500%)
time spent on training: 74.28273320198059
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08504114894303695  data num: [1034, 341, 299, 977, 654, 468, 601, 527, 686, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.006643839761174762
[foolsgold agg] wv: [0.         0.38082297 1.         0.         1.         1.
 0.38082297 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 259: Average loss: 0.6411, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 259: Average loss: 6.4848, Accuracy: 312/9000 (3.4667%)
Done in 142.74898958206177 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:260 choose agents : [62, 25, 12, 16, 22, 72, 58, 28, 15, 29]. Adversary List: []
___Train Local_ResNet_18,  epoch 260, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 348/358 (97.2067%)
___Train Local_ResNet_18,  epoch 260, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 1.1154, Accuracy: 6686/10000 (66.8600%)
___Train Local_ResNet_18,  epoch 260, local model 25, internal_epoch   1,  Average loss: 0.0038, Accuracy: 509/545 (93.3945%)
___Train Local_ResNet_18,  epoch 260, local model 25, internal_epoch   2,  Average loss: 0.0013, Accuracy: 535/545 (98.1651%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 2.5788, Accuracy: 4419/10000 (44.1900%)
___Train Local_ResNet_18,  epoch 260, local model 12, internal_epoch   1,  Average loss: 0.0063, Accuracy: 871/977 (89.1505%)
___Train Local_ResNet_18,  epoch 260, local model 12, internal_epoch   2,  Average loss: 0.0120, Accuracy: 764/977 (78.1986%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 10.5227, Accuracy: 1728/10000 (17.2800%)
___Train Local_ResNet_18,  epoch 260, local model 16, internal_epoch   1,  Average loss: 0.0037, Accuracy: 722/773 (93.4023%)
___Train Local_ResNet_18,  epoch 260, local model 16, internal_epoch   2,  Average loss: 0.0059, Accuracy: 686/773 (88.7451%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 3.1268, Accuracy: 4382/10000 (43.8200%)
___Train Local_ResNet_18,  epoch 260, local model 22, internal_epoch   1,  Average loss: 0.0043, Accuracy: 447/494 (90.4858%)
___Train Local_ResNet_18,  epoch 260, local model 22, internal_epoch   2,  Average loss: 0.0018, Accuracy: 478/494 (96.7611%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 3.8911, Accuracy: 3262/10000 (32.6200%)
___Train Local_ResNet_18,  epoch 260, local model 72, internal_epoch   1,  Average loss: 0.0086, Accuracy: 522/618 (84.4660%)
___Train Local_ResNet_18,  epoch 260, local model 72, internal_epoch   2,  Average loss: 0.0070, Accuracy: 532/618 (86.0841%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 6.1056, Accuracy: 2651/10000 (26.5100%)
___Train Local_ResNet_18,  epoch 260, local model 58, internal_epoch   1,  Average loss: 0.0086, Accuracy: 192/234 (82.0513%)
___Train Local_ResNet_18,  epoch 260, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 7.0984, Accuracy: 1869/10000 (18.6900%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 413/423 (97.6359%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   2,  Average loss: 0.0004, Accuracy: 423/423 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 1.6705, Accuracy: 5889/10000 (58.8900%)
___Train Local_ResNet_18,  epoch 260, local model 15, internal_epoch   1,  Average loss: 0.0088, Accuracy: 288/341 (84.4575%)
___Train Local_ResNet_18,  epoch 260, local model 15, internal_epoch   2,  Average loss: 0.0025, Accuracy: 319/341 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 3.3104, Accuracy: 3896/10000 (38.9600%)
___Train Local_ResNet_18,  epoch 260, local model 29, internal_epoch   1,  Average loss: 0.0044, Accuracy: 782/848 (92.2170%)
___Train Local_ResNet_18,  epoch 260, local model 29, internal_epoch   2,  Average loss: 0.0086, Accuracy: 737/848 (86.9104%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 5.0284, Accuracy: 3131/10000 (31.3100%)
time spent on training: 54.217116832733154
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [358, 545, 977, 773, 494, 618, 234, 423, 341, 848]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         1.         0.66393473 0.
 0.         0.66393473 0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 260: Average loss: 0.6407, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 260: Average loss: 6.4709, Accuracy: 313/9000 (3.4778%)
Done in 125.64222836494446 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:261 choose agents : [61, 83, 69, 20, 34, 8, 28, 50, 93, 92]. Adversary List: []
___Train Local_ResNet_18,  epoch 261, local model 61, internal_epoch   1,  Average loss: 0.0045, Accuracy: 543/590 (92.0339%)
___Train Local_ResNet_18,  epoch 261, local model 61, internal_epoch   2,  Average loss: 0.0106, Accuracy: 494/590 (83.7288%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.7232, Accuracy: 2724/10000 (27.2400%)
___Train Local_ResNet_18,  epoch 261, local model 83, internal_epoch   1,  Average loss: 0.0020, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 261, local model 83, internal_epoch   2,  Average loss: 0.0005, Accuracy: 364/366 (99.4536%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 1.5398, Accuracy: 5974/10000 (59.7400%)
___Train Local_ResNet_18,  epoch 261, local model 69, internal_epoch   1,  Average loss: 0.0062, Accuracy: 196/216 (90.7407%)
___Train Local_ResNet_18,  epoch 261, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 6.6917, Accuracy: 1773/10000 (17.7300%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   1,  Average loss: 0.0073, Accuracy: 300/362 (82.8729%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 346/362 (95.5801%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 9.1130, Accuracy: 1725/10000 (17.2500%)
___Train Local_ResNet_18,  epoch 261, local model 34, internal_epoch   1,  Average loss: 0.0051, Accuracy: 311/349 (89.1117%)
___Train Local_ResNet_18,  epoch 261, local model 34, internal_epoch   2,  Average loss: 0.0023, Accuracy: 339/349 (97.1347%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 4.4369, Accuracy: 3377/10000 (33.7700%)
___Train Local_ResNet_18,  epoch 261, local model 8, internal_epoch   1,  Average loss: 0.0034, Accuracy: 504/534 (94.3820%)
___Train Local_ResNet_18,  epoch 261, local model 8, internal_epoch   2,  Average loss: 0.0033, Accuracy: 509/534 (95.3184%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.6710, Accuracy: 4323/10000 (43.2300%)
___Train Local_ResNet_18,  epoch 261, local model 28, internal_epoch   1,  Average loss: 0.0018, Accuracy: 410/423 (96.9267%)
___Train Local_ResNet_18,  epoch 261, local model 28, internal_epoch   2,  Average loss: 0.0005, Accuracy: 421/423 (99.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 1.4488, Accuracy: 6144/10000 (61.4400%)
___Train Local_ResNet_18,  epoch 261, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 385/401 (96.0100%)
___Train Local_ResNet_18,  epoch 261, local model 50, internal_epoch   2,  Average loss: 0.0009, Accuracy: 394/401 (98.2544%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.0259, Accuracy: 5369/10000 (53.6900%)
___Train Local_ResNet_18,  epoch 261, local model 93, internal_epoch   1,  Average loss: 0.0035, Accuracy: 551/584 (94.3493%)
___Train Local_ResNet_18,  epoch 261, local model 93, internal_epoch   2,  Average loss: 0.0081, Accuracy: 520/584 (89.0411%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 3.6825, Accuracy: 3105/10000 (31.0500%)
___Train Local_ResNet_18,  epoch 261, local model 92, internal_epoch   1,  Average loss: 0.0054, Accuracy: 711/796 (89.3216%)
___Train Local_ResNet_18,  epoch 261, local model 92, internal_epoch   2,  Average loss: 0.0063, Accuracy: 684/796 (85.9296%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.9591, Accuracy: 4023/10000 (40.2300%)
time spent on training: 55.497090339660645
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [590, 366, 216, 362, 349, 534, 423, 401, 584, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.51057106 0.         0.         1.
 1.         0.51057106 0.58761059 0.58761059]
___Test Target_ResNet_18 poisoned: False, epoch: 261: Average loss: 0.6401, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 261: Average loss: 6.4595, Accuracy: 315/9000 (3.5000%)
Done in 123.49264693260193 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:262 choose agents : [60, 95, 5, 2, 44, 0, 6, 41, 19, 53]. Adversary List: []
___Train Local_ResNet_18,  epoch 262, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 262, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.7393, Accuracy: 5391/10000 (53.9100%)
___Train Local_ResNet_18,  epoch 262, local model 95, internal_epoch   1,  Average loss: 0.0085, Accuracy: 485/569 (85.2373%)
___Train Local_ResNet_18,  epoch 262, local model 95, internal_epoch   2,  Average loss: 0.0055, Accuracy: 512/569 (89.9824%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 7.3650, Accuracy: 2176/10000 (21.7600%)
___Train Local_ResNet_18,  epoch 262, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 348/365 (95.3425%)
___Train Local_ResNet_18,  epoch 262, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 362/365 (99.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.1772, Accuracy: 6623/10000 (66.2300%)
___Train Local_ResNet_18,  epoch 262, local model 2, internal_epoch   1,  Average loss: 0.0084, Accuracy: 392/461 (85.0325%)
___Train Local_ResNet_18,  epoch 262, local model 2, internal_epoch   2,  Average loss: 0.0111, Accuracy: 381/461 (82.6464%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 6.5861, Accuracy: 2367/10000 (23.6700%)
___Train Local_ResNet_18,  epoch 262, local model 44, internal_epoch   1,  Average loss: 0.0034, Accuracy: 409/436 (93.8073%)
___Train Local_ResNet_18,  epoch 262, local model 44, internal_epoch   2,  Average loss: 0.0013, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.2987, Accuracy: 6248/10000 (62.4800%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   1,  Average loss: 0.0054, Accuracy: 326/367 (88.8283%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   2,  Average loss: 0.0026, Accuracy: 356/367 (97.0027%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 5.1253, Accuracy: 2599/10000 (25.9900%)
___Train Local_ResNet_18,  epoch 262, local model 6, internal_epoch   1,  Average loss: 0.0032, Accuracy: 490/520 (94.2308%)
___Train Local_ResNet_18,  epoch 262, local model 6, internal_epoch   2,  Average loss: 0.0026, Accuracy: 496/520 (95.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 2.4275, Accuracy: 4588/10000 (45.8800%)
___Train Local_ResNet_18,  epoch 262, local model 41, internal_epoch   1,  Average loss: 0.0064, Accuracy: 443/513 (86.3548%)
___Train Local_ResNet_18,  epoch 262, local model 41, internal_epoch   2,  Average loss: 0.0034, Accuracy: 470/513 (91.6179%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 2.5549, Accuracy: 4213/10000 (42.1300%)
___Train Local_ResNet_18,  epoch 262, local model 19, internal_epoch   1,  Average loss: 0.0131, Accuracy: 131/173 (75.7225%)
___Train Local_ResNet_18,  epoch 262, local model 19, internal_epoch   2,  Average loss: 0.0019, Accuracy: 167/173 (96.5318%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 5.4466, Accuracy: 3424/10000 (34.2400%)
___Train Local_ResNet_18,  epoch 262, local model 53, internal_epoch   1,  Average loss: 0.0028, Accuracy: 592/625 (94.7200%)
___Train Local_ResNet_18,  epoch 262, local model 53, internal_epoch   2,  Average loss: 0.0018, Accuracy: 607/625 (97.1200%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 3.8494, Accuracy: 3508/10000 (35.0800%)
time spent on training: 54.91728377342224
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [284, 569, 365, 461, 436, 367, 520, 513, 173, 625]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         1.         0.57674625 0.         0.14025964
 0.72089844 0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 262: Average loss: 0.6396, Accuracy: 7881/10000 (78.8100%)
___Test Target_ResNet_18 poisoned: True, epoch: 262: Average loss: 6.4391, Accuracy: 317/9000 (3.5222%)
Done in 121.99973964691162 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:263 choose agents : [33, 50, 21, 14, 79, 18, 71, 99, 97, 72]. Adversary List: []
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 263, local model 33, internal_epoch   1,  Average loss: 0.0044, Accuracy: 492/527 (93.3586%)
___Train Local_ResNet_18,  epoch 263, local model 33, internal_epoch   2,  Average loss: 0.0099, Accuracy: 459/527 (87.0968%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 3.9740, Accuracy: 3502/10000 (35.0200%)
___Train Local_ResNet_18,  epoch 263, local model 50, internal_epoch   1,  Average loss: 0.0021, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 263, local model 50, internal_epoch   2,  Average loss: 0.0008, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 2.2154, Accuracy: 5086/10000 (50.8600%)
___Train Local_ResNet_18,  epoch 263, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 263, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 254/262 (96.9466%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 5.3519, Accuracy: 2911/10000 (29.1100%)
___Train Local_ResNet_18,  epoch 263, local model 14, internal_epoch   1,  Average loss: 0.0070, Accuracy: 276/318 (86.7925%)
___Train Local_ResNet_18,  epoch 263, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 303/318 (95.2830%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 11.8095, Accuracy: 1750/10000 (17.5000%)
___Train Local_ResNet_18,  epoch 263, local model 79, internal_epoch   1,  Average loss: 0.0052, Accuracy: 141/154 (91.5584%)
___Train Local_ResNet_18,  epoch 263, local model 79, internal_epoch   2,  Average loss: 0.0004, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 0.9928, Accuracy: 7031/10000 (70.3100%)
___Train Local_ResNet_18,  epoch 263, local model 18, internal_epoch   1,  Average loss: 0.0060, Accuracy: 369/386 (95.5959%)
___Train Local_ResNet_18,  epoch 263, local model 18, internal_epoch   2,  Average loss: 0.0094, Accuracy: 330/386 (85.4922%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 7.8187, Accuracy: 1280/10000 (12.8000%)
___Train Local_ResNet_18,  epoch 263, local model 71, internal_epoch   1,  Average loss: 0.0040, Accuracy: 1077/1166 (92.3671%)
___Train Local_ResNet_18,  epoch 263, local model 71, internal_epoch   2,  Average loss: 0.0095, Accuracy: 992/1166 (85.0772%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 68.4463, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 263, local model 99, internal_epoch   1,  Average loss: 0.0045, Accuracy: 360/391 (92.0716%)
___Train Local_ResNet_18,  epoch 263, local model 99, internal_epoch   2,  Average loss: 0.0017, Accuracy: 380/391 (97.1867%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 3.9176, Accuracy: 3341/10000 (33.4100%)
___Train Local_ResNet_18,  epoch 263, local model 97, internal_epoch   1,  Average loss: 0.0030, Accuracy: 390/418 (93.3014%)
___Train Local_ResNet_18,  epoch 263, local model 97, internal_epoch   2,  Average loss: 0.0021, Accuracy: 403/418 (96.4115%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 2.4455, Accuracy: 4807/10000 (48.0700%)
___Train Local_ResNet_18,  epoch 263, local model 72, internal_epoch   1,  Average loss: 0.0102, Accuracy: 500/618 (80.9061%)
___Train Local_ResNet_18,  epoch 263, local model 72, internal_epoch   2,  Average loss: 0.0056, Accuracy: 550/618 (88.9968%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 50.5416, Accuracy: 1120/10000 (11.2000%)
time spent on training: 61.75780773162842
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11355311355311355  data num: [527, 401, 262, 318, 154, 386, 1166, 391, 418, 618]
[foolsgold agg] considering poison per batch poison_fraction: 0.008871336996336996
[foolsgold agg] wv: [1.         0.         0.15879623 1.         1.         1.
 0.3364169  0.18033967 0.         0.18033967]
___Test Target_ResNet_18 poisoned: False, epoch: 263: Average loss: 0.6398, Accuracy: 7878/10000 (78.7800%)
___Test Target_ResNet_18 poisoned: True, epoch: 263: Average loss: 6.4394, Accuracy: 318/9000 (3.5333%)
Done in 128.9193880558014 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:264 choose agents : [42, 71, 89, 16, 50, 15, 3, 85, 25, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 264, local model 42, internal_epoch   1,  Average loss: 0.0040, Accuracy: 182/198 (91.9192%)
___Train Local_ResNet_18,  epoch 264, local model 42, internal_epoch   2,  Average loss: 0.0014, Accuracy: 197/198 (99.4949%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 2.4398, Accuracy: 4504/10000 (45.0400%)
___Train Local_ResNet_18,  epoch 264, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 1086/1166 (93.1389%)
___Train Local_ResNet_18,  epoch 264, local model 71, internal_epoch   2,  Average loss: 0.0096, Accuracy: 950/1166 (81.4751%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 8.5256, Accuracy: 2619/10000 (26.1900%)
___Train Local_ResNet_18,  epoch 264, local model 89, internal_epoch   1,  Average loss: 0.0070, Accuracy: 358/413 (86.6828%)
___Train Local_ResNet_18,  epoch 264, local model 89, internal_epoch   2,  Average loss: 0.0032, Accuracy: 387/413 (93.7046%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 3.9064, Accuracy: 3247/10000 (32.4700%)
___Train Local_ResNet_18,  epoch 264, local model 16, internal_epoch   1,  Average loss: 0.0033, Accuracy: 728/773 (94.1785%)
___Train Local_ResNet_18,  epoch 264, local model 16, internal_epoch   2,  Average loss: 0.0160, Accuracy: 615/773 (79.5602%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 28.9223, Accuracy: 2029/10000 (20.2900%)
___Train Local_ResNet_18,  epoch 264, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 264, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 1.9617, Accuracy: 5402/10000 (54.0200%)
___Train Local_ResNet_18,  epoch 264, local model 15, internal_epoch   1,  Average loss: 0.0096, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 264, local model 15, internal_epoch   2,  Average loss: 0.0070, Accuracy: 313/341 (91.7889%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 7.1635, Accuracy: 2014/10000 (20.1400%)
___Train Local_ResNet_18,  epoch 264, local model 3, internal_epoch   1,  Average loss: 0.0050, Accuracy: 705/780 (90.3846%)
___Train Local_ResNet_18,  epoch 264, local model 3, internal_epoch   2,  Average loss: 0.0105, Accuracy: 649/780 (83.2051%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 6.7010, Accuracy: 3131/10000 (31.3100%)
___Train Local_ResNet_18,  epoch 264, local model 85, internal_epoch   1,  Average loss: 0.0062, Accuracy: 317/364 (87.0879%)
___Train Local_ResNet_18,  epoch 264, local model 85, internal_epoch   2,  Average loss: 0.0021, Accuracy: 350/364 (96.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 3.9050, Accuracy: 3161/10000 (31.6100%)
___Train Local_ResNet_18,  epoch 264, local model 25, internal_epoch   1,  Average loss: 0.0034, Accuracy: 505/545 (92.6606%)
___Train Local_ResNet_18,  epoch 264, local model 25, internal_epoch   2,  Average loss: 0.0022, Accuracy: 523/545 (95.9633%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 3.6878, Accuracy: 3960/10000 (39.6000%)
___Train Local_ResNet_18,  epoch 264, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 718/756 (94.9735%)
___Train Local_ResNet_18,  epoch 264, local model 38, internal_epoch   2,  Average loss: 0.0031, Accuracy: 705/756 (93.2540%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 2.1124, Accuracy: 5054/10000 (50.5400%)
time spent on training: 55.58381533622742
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [198, 1166, 413, 773, 401, 341, 780, 364, 545, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 1. 0. 0. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 264: Average loss: 0.6396, Accuracy: 7877/10000 (78.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 264: Average loss: 6.4543, Accuracy: 319/9000 (3.5444%)
Done in 123.46342658996582 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:265 choose agents : [60, 76, 30, 77, 54, 52, 84, 88, 82, 96]. Adversary List: []
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   1,  Average loss: 0.0034, Accuracy: 265/284 (93.3099%)
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   2,  Average loss: 0.0006, Accuracy: 284/284 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.4748, Accuracy: 4692/10000 (46.9200%)
___Train Local_ResNet_18,  epoch 265, local model 76, internal_epoch   1,  Average loss: 0.0352, Accuracy: 62/65 (95.3846%)
___Train Local_ResNet_18,  epoch 265, local model 76, internal_epoch   2,  Average loss: 0.0056, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.5167, Accuracy: 5962/10000 (59.6200%)
___Train Local_ResNet_18,  epoch 265, local model 30, internal_epoch   1,  Average loss: 0.0050, Accuracy: 316/337 (93.7685%)
___Train Local_ResNet_18,  epoch 265, local model 30, internal_epoch   2,  Average loss: 0.0040, Accuracy: 316/337 (93.7685%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.3999, Accuracy: 3391/10000 (33.9100%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 265, local model 77, internal_epoch   1,  Average loss: 0.0022, Accuracy: 478/496 (96.3710%)
___Train Local_ResNet_18,  epoch 265, local model 77, internal_epoch   2,  Average loss: 0.0008, Accuracy: 491/496 (98.9919%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.3192, Accuracy: 6132/10000 (61.3200%)
___Train Local_ResNet_18,  epoch 265, local model 54, internal_epoch   1,  Average loss: 0.0033, Accuracy: 412/440 (93.6364%)
___Train Local_ResNet_18,  epoch 265, local model 54, internal_epoch   2,  Average loss: 0.0014, Accuracy: 427/440 (97.0455%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.2282, Accuracy: 4114/10000 (41.1400%)
___Train Local_ResNet_18,  epoch 265, local model 52, internal_epoch   1,  Average loss: 0.0060, Accuracy: 188/214 (87.8505%)
___Train Local_ResNet_18,  epoch 265, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 214/214 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.4332, Accuracy: 3865/10000 (38.6500%)
___Train Local_ResNet_18,  epoch 265, local model 84, internal_epoch   1,  Average loss: 0.0021, Accuracy: 1009/1053 (95.8215%)
___Train Local_ResNet_18,  epoch 265, local model 84, internal_epoch   2,  Average loss: 0.0029, Accuracy: 995/1053 (94.4919%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.1147, Accuracy: 4390/10000 (43.9000%)
___Train Local_ResNet_18,  epoch 265, local model 88, internal_epoch   1,  Average loss: 0.0069, Accuracy: 383/447 (85.6823%)
___Train Local_ResNet_18,  epoch 265, local model 88, internal_epoch   2,  Average loss: 0.0030, Accuracy: 413/447 (92.3937%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 4.1240, Accuracy: 3231/10000 (32.3100%)
___Train Local_ResNet_18,  epoch 265, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 583/601 (97.0050%)
___Train Local_ResNet_18,  epoch 265, local model 82, internal_epoch   2,  Average loss: 0.0013, Accuracy: 591/601 (98.3361%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.0661, Accuracy: 5248/10000 (52.4800%)
___Train Local_ResNet_18,  epoch 265, local model 96, internal_epoch   1,  Average loss: 0.0030, Accuracy: 671/708 (94.7740%)
___Train Local_ResNet_18,  epoch 265, local model 96, internal_epoch   2,  Average loss: 0.0035, Accuracy: 674/708 (95.1977%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 8.3374, Accuracy: 2128/10000 (21.2800%)
time spent on training: 62.737977027893066
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10678148546824542  data num: [284, 65, 337, 496, 440, 214, 1053, 447, 601, 708]
[foolsgold agg] considering poison per batch poison_fraction: 0.008342303552206673
[foolsgold agg] wv: [0.         0.         0.         1.         1.         0.25505329
 0.25505329 0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 265: Average loss: 0.6404, Accuracy: 7872/10000 (78.7200%)
___Test Target_ResNet_18 poisoned: True, epoch: 265: Average loss: 6.4520, Accuracy: 316/9000 (3.5111%)
Done in 130.2839319705963 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:266 choose agents : [84, 78, 54, 95, 6, 36, 46, 81, 13, 55]. Adversary List: []
___Train Local_ResNet_18,  epoch 266, local model 84, internal_epoch   1,  Average loss: 0.0027, Accuracy: 1002/1053 (95.1567%)
___Train Local_ResNet_18,  epoch 266, local model 84, internal_epoch   2,  Average loss: 0.0042, Accuracy: 960/1053 (91.1681%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.0405, Accuracy: 4373/10000 (43.7300%)
___Train Local_ResNet_18,  epoch 266, local model 78, internal_epoch   1,  Average loss: 0.0044, Accuracy: 230/255 (90.1961%)
___Train Local_ResNet_18,  epoch 266, local model 78, internal_epoch   2,  Average loss: 0.0006, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.3072, Accuracy: 4794/10000 (47.9400%)
___Train Local_ResNet_18,  epoch 266, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 410/440 (93.1818%)
___Train Local_ResNet_18,  epoch 266, local model 54, internal_epoch   2,  Average loss: 0.0010, Accuracy: 430/440 (97.7273%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.4263, Accuracy: 3928/10000 (39.2800%)
___Train Local_ResNet_18,  epoch 266, local model 95, internal_epoch   1,  Average loss: 0.0084, Accuracy: 468/569 (82.2496%)
___Train Local_ResNet_18,  epoch 266, local model 95, internal_epoch   2,  Average loss: 0.0059, Accuracy: 508/569 (89.2794%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 6.5625, Accuracy: 2360/10000 (23.6000%)
___Train Local_ResNet_18,  epoch 266, local model 6, internal_epoch   1,  Average loss: 0.0046, Accuracy: 477/520 (91.7308%)
___Train Local_ResNet_18,  epoch 266, local model 6, internal_epoch   2,  Average loss: 0.0126, Accuracy: 434/520 (83.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 5.2342, Accuracy: 2491/10000 (24.9100%)
___Train Local_ResNet_18,  epoch 266, local model 36, internal_epoch   1,  Average loss: 0.0052, Accuracy: 767/849 (90.3416%)
___Train Local_ResNet_18,  epoch 266, local model 36, internal_epoch   2,  Average loss: 0.0128, Accuracy: 656/849 (77.2674%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 19.5381, Accuracy: 1736/10000 (17.3600%)
___Train Local_ResNet_18,  epoch 266, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 591/601 (98.3361%)
___Train Local_ResNet_18,  epoch 266, local model 46, internal_epoch   2,  Average loss: 0.0021, Accuracy: 579/601 (96.3394%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.0357, Accuracy: 5161/10000 (51.6100%)
___Train Local_ResNet_18,  epoch 266, local model 81, internal_epoch   1,  Average loss: 0.0065, Accuracy: 916/1034 (88.5880%)
___Train Local_ResNet_18,  epoch 266, local model 81, internal_epoch   2,  Average loss: 0.0114, Accuracy: 808/1034 (78.1431%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 12.6151, Accuracy: 1852/10000 (18.5200%)
___Train Local_ResNet_18,  epoch 266, local model 13, internal_epoch   1,  Average loss: 0.0051, Accuracy: 550/620 (88.7097%)
___Train Local_ResNet_18,  epoch 266, local model 13, internal_epoch   2,  Average loss: 0.0034, Accuracy: 583/620 (94.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.1308, Accuracy: 4107/10000 (41.0700%)
___Train Local_ResNet_18,  epoch 266, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 277/299 (92.6421%)
___Train Local_ResNet_18,  epoch 266, local model 55, internal_epoch   2,  Average loss: 0.0004, Accuracy: 299/299 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 9.2647, Accuracy: 1925/10000 (19.2500%)
time spent on training: 53.887840032577515
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1053, 255, 440, 569, 520, 849, 601, 1034, 620, 299]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.57406447 1.         1.         1.
 1.         1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 266: Average loss: 0.6405, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 266: Average loss: 6.4579, Accuracy: 323/9000 (3.5889%)
Done in 121.47513198852539 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:267 choose agents : [67, 80, 33, 13, 16, 30, 47, 50, 87, 61]. Adversary List: []
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   1,  Average loss: 0.0034, Accuracy: 792/842 (94.0618%)
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   2,  Average loss: 0.0124, Accuracy: 668/842 (79.3349%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 18.2542, Accuracy: 1543/10000 (15.4300%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   1,  Average loss: 0.0053, Accuracy: 323/363 (88.9807%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.7815, Accuracy: 3494/10000 (34.9400%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 267, local model 33, internal_epoch   1,  Average loss: 0.0047, Accuracy: 486/527 (92.2201%)
___Train Local_ResNet_18,  epoch 267, local model 33, internal_epoch   2,  Average loss: 0.0039, Accuracy: 485/527 (92.0304%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 5.5099, Accuracy: 2667/10000 (26.6700%)
___Train Local_ResNet_18,  epoch 267, local model 13, internal_epoch   1,  Average loss: 0.0066, Accuracy: 544/620 (87.7419%)
___Train Local_ResNet_18,  epoch 267, local model 13, internal_epoch   2,  Average loss: 0.0041, Accuracy: 565/620 (91.1290%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 6.5565, Accuracy: 2786/10000 (27.8600%)
___Train Local_ResNet_18,  epoch 267, local model 16, internal_epoch   1,  Average loss: 0.0030, Accuracy: 729/773 (94.3079%)
___Train Local_ResNet_18,  epoch 267, local model 16, internal_epoch   2,  Average loss: 0.0087, Accuracy: 679/773 (87.8396%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 6.6715, Accuracy: 2946/10000 (29.4600%)
___Train Local_ResNet_18,  epoch 267, local model 30, internal_epoch   1,  Average loss: 0.0048, Accuracy: 308/337 (91.3947%)
___Train Local_ResNet_18,  epoch 267, local model 30, internal_epoch   2,  Average loss: 0.0022, Accuracy: 326/337 (96.7359%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 3.1091, Accuracy: 3642/10000 (36.4200%)
___Train Local_ResNet_18,  epoch 267, local model 47, internal_epoch   1,  Average loss: 0.0030, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 267, local model 47, internal_epoch   2,  Average loss: 0.0042, Accuracy: 610/654 (93.2722%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 2.1088, Accuracy: 4866/10000 (48.6600%)
___Train Local_ResNet_18,  epoch 267, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 386/401 (96.2594%)
___Train Local_ResNet_18,  epoch 267, local model 50, internal_epoch   2,  Average loss: 0.0020, Accuracy: 389/401 (97.0075%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 1.9406, Accuracy: 5197/10000 (51.9700%)
___Train Local_ResNet_18,  epoch 267, local model 87, internal_epoch   1,  Average loss: 0.0084, Accuracy: 338/397 (85.1385%)
___Train Local_ResNet_18,  epoch 267, local model 87, internal_epoch   2,  Average loss: 0.0074, Accuracy: 352/397 (88.6650%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 3.5753, Accuracy: 3351/10000 (33.5100%)
___Train Local_ResNet_18,  epoch 267, local model 61, internal_epoch   1,  Average loss: 0.0037, Accuracy: 551/590 (93.3898%)
___Train Local_ResNet_18,  epoch 267, local model 61, internal_epoch   2,  Average loss: 0.0056, Accuracy: 546/590 (92.5424%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 3.7807, Accuracy: 3286/10000 (32.8600%)
time spent on training: 63.394442081451416
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09574854651162791  data num: [842, 363, 527, 620, 773, 337, 654, 401, 397, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.00748035519622093
[foolsgold agg] wv: [0.51727178 0.         1.         0.04639085 1.         0.81440666
 0.         1.         0.81440666 0.51727178]
___Test Target_ResNet_18 poisoned: False, epoch: 267: Average loss: 0.6395, Accuracy: 7878/10000 (78.7800%)
___Test Target_ResNet_18 poisoned: True, epoch: 267: Average loss: 6.4509, Accuracy: 323/9000 (3.5889%)
Done in 130.58151698112488 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:268 choose agents : [42, 8, 37, 58, 30, 34, 82, 0, 53, 74]. Adversary List: []
___Train Local_ResNet_18,  epoch 268, local model 42, internal_epoch   1,  Average loss: 0.0051, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 268, local model 42, internal_epoch   2,  Average loss: 0.0154, Accuracy: 188/198 (94.9495%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 4.1566, Accuracy: 3473/10000 (34.7300%)
___Train Local_ResNet_18,  epoch 268, local model 8, internal_epoch   1,  Average loss: 0.0027, Accuracy: 510/534 (95.5056%)
___Train Local_ResNet_18,  epoch 268, local model 8, internal_epoch   2,  Average loss: 0.0014, Accuracy: 521/534 (97.5655%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.4892, Accuracy: 4392/10000 (43.9200%)
___Train Local_ResNet_18,  epoch 268, local model 37, internal_epoch   1,  Average loss: 0.0065, Accuracy: 634/725 (87.4483%)
___Train Local_ResNet_18,  epoch 268, local model 37, internal_epoch   2,  Average loss: 0.0118, Accuracy: 596/725 (82.2069%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 14.5873, Accuracy: 1435/10000 (14.3500%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   1,  Average loss: 0.0084, Accuracy: 194/234 (82.9060%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   2,  Average loss: 0.0006, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.2515, Accuracy: 2148/10000 (21.4800%)
___Train Local_ResNet_18,  epoch 268, local model 30, internal_epoch   1,  Average loss: 0.0046, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 268, local model 30, internal_epoch   2,  Average loss: 0.0039, Accuracy: 324/337 (96.1424%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.3162, Accuracy: 3547/10000 (35.4700%)
___Train Local_ResNet_18,  epoch 268, local model 34, internal_epoch   1,  Average loss: 0.0046, Accuracy: 319/349 (91.4040%)
___Train Local_ResNet_18,  epoch 268, local model 34, internal_epoch   2,  Average loss: 0.0018, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.8047, Accuracy: 3889/10000 (38.8900%)
___Train Local_ResNet_18,  epoch 268, local model 82, internal_epoch   1,  Average loss: 0.0017, Accuracy: 583/601 (97.0050%)
___Train Local_ResNet_18,  epoch 268, local model 82, internal_epoch   2,  Average loss: 0.0011, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 1.9974, Accuracy: 5373/10000 (53.7300%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   1,  Average loss: 0.0051, Accuracy: 327/367 (89.1008%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   2,  Average loss: 0.0014, Accuracy: 358/367 (97.5477%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.0579, Accuracy: 2384/10000 (23.8400%)
___Train Local_ResNet_18,  epoch 268, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 576/625 (92.1600%)
___Train Local_ResNet_18,  epoch 268, local model 53, internal_epoch   2,  Average loss: 0.0035, Accuracy: 579/625 (92.6400%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.1929, Accuracy: 4978/10000 (49.7800%)
___Train Local_ResNet_18,  epoch 268, local model 74, internal_epoch   1,  Average loss: 0.0045, Accuracy: 426/469 (90.8316%)
___Train Local_ResNet_18,  epoch 268, local model 74, internal_epoch   2,  Average loss: 0.0019, Accuracy: 455/469 (97.0149%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.4297, Accuracy: 4618/10000 (46.1800%)
time spent on training: 51.27862358093262
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [198, 534, 725, 234, 337, 349, 601, 367, 625, 469]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         0.9642335  0.27810196 0.8470022
 1.         0.71115071 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 268: Average loss: 0.6388, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 268: Average loss: 6.4289, Accuracy: 332/9000 (3.6889%)
Done in 119.06747794151306 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:269 choose agents : [63, 59, 29, 16, 50, 97, 34, 65, 4, 86]. Adversary List: []
___Train Local_ResNet_18,  epoch 269, local model 63, internal_epoch   1,  Average loss: 0.0018, Accuracy: 727/752 (96.6755%)
___Train Local_ResNet_18,  epoch 269, local model 63, internal_epoch   2,  Average loss: 0.0015, Accuracy: 727/752 (96.6755%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 1.3832, Accuracy: 6147/10000 (61.4700%)
___Train Local_ResNet_18,  epoch 269, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 607/642 (94.5483%)
___Train Local_ResNet_18,  epoch 269, local model 59, internal_epoch   2,  Average loss: 0.0075, Accuracy: 565/642 (88.0062%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 6.5720, Accuracy: 2927/10000 (29.2700%)
___Train Local_ResNet_18,  epoch 269, local model 29, internal_epoch   1,  Average loss: 0.0053, Accuracy: 773/848 (91.1557%)
___Train Local_ResNet_18,  epoch 269, local model 29, internal_epoch   2,  Average loss: 0.0080, Accuracy: 731/848 (86.2028%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 14.7720, Accuracy: 1542/10000 (15.4200%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   1,  Average loss: 0.0039, Accuracy: 733/773 (94.8254%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   2,  Average loss: 0.0203, Accuracy: 491/773 (63.5188%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 55.1867, Accuracy: 996/10000 (9.9600%)
___Train Local_ResNet_18,  epoch 269, local model 50, internal_epoch   1,  Average loss: 0.0023, Accuracy: 390/401 (97.2569%)
___Train Local_ResNet_18,  epoch 269, local model 50, internal_epoch   2,  Average loss: 0.0026, Accuracy: 384/401 (95.7606%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.4755, Accuracy: 4804/10000 (48.0400%)
___Train Local_ResNet_18,  epoch 269, local model 97, internal_epoch   1,  Average loss: 0.0028, Accuracy: 394/418 (94.2584%)
___Train Local_ResNet_18,  epoch 269, local model 97, internal_epoch   2,  Average loss: 0.0014, Accuracy: 411/418 (98.3254%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.4104, Accuracy: 4762/10000 (47.6200%)
___Train Local_ResNet_18,  epoch 269, local model 34, internal_epoch   1,  Average loss: 0.0051, Accuracy: 315/349 (90.2579%)
___Train Local_ResNet_18,  epoch 269, local model 34, internal_epoch   2,  Average loss: 0.0013, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 3.3308, Accuracy: 3898/10000 (38.9800%)
___Train Local_ResNet_18,  epoch 269, local model 65, internal_epoch   1,  Average loss: 0.0033, Accuracy: 294/314 (93.6306%)
___Train Local_ResNet_18,  epoch 269, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.3752, Accuracy: 4579/10000 (45.7900%)
___Train Local_ResNet_18,  epoch 269, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 499/557 (89.5871%)
___Train Local_ResNet_18,  epoch 269, local model 4, internal_epoch   2,  Average loss: 0.0030, Accuracy: 525/557 (94.2549%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.6409, Accuracy: 4719/10000 (47.1900%)
___Train Local_ResNet_18,  epoch 269, local model 86, internal_epoch   1,  Average loss: 0.0041, Accuracy: 199/212 (93.8679%)
___Train Local_ResNet_18,  epoch 269, local model 86, internal_epoch   2,  Average loss: 0.0022, Accuracy: 203/212 (95.7547%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.0613, Accuracy: 5334/10000 (53.3400%)
time spent on training: 51.975109338760376
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [752, 642, 848, 773, 401, 418, 349, 314, 557, 212]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.62853479 1.         1.         0.         0.
 0.62853479 1.         0.72039105 0.72039105]
___Test Target_ResNet_18 poisoned: False, epoch: 269: Average loss: 0.6384, Accuracy: 7886/10000 (78.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 269: Average loss: 6.4606, Accuracy: 326/9000 (3.6222%)
Done in 120.24665951728821 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:270 choose agents : [12, 45, 87, 95, 26, 42, 46, 88, 92, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 270, local model 12, internal_epoch   1,  Average loss: 0.0065, Accuracy: 859/977 (87.9222%)
___Train Local_ResNet_18,  epoch 270, local model 12, internal_epoch   2,  Average loss: 0.0108, Accuracy: 780/977 (79.8362%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 6.0585, Accuracy: 3705/10000 (37.0500%)
___Train Local_ResNet_18,  epoch 270, local model 45, internal_epoch   1,  Average loss: 0.0050, Accuracy: 477/529 (90.1701%)
___Train Local_ResNet_18,  epoch 270, local model 45, internal_epoch   2,  Average loss: 0.0042, Accuracy: 484/529 (91.4934%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 5.9223, Accuracy: 2431/10000 (24.3100%)
___Train Local_ResNet_18,  epoch 270, local model 87, internal_epoch   1,  Average loss: 0.0089, Accuracy: 335/397 (84.3829%)
___Train Local_ResNet_18,  epoch 270, local model 87, internal_epoch   2,  Average loss: 0.0049, Accuracy: 360/397 (90.6801%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.7583, Accuracy: 3737/10000 (37.3700%)
___Train Local_ResNet_18,  epoch 270, local model 95, internal_epoch   1,  Average loss: 0.0076, Accuracy: 483/569 (84.8858%)
___Train Local_ResNet_18,  epoch 270, local model 95, internal_epoch   2,  Average loss: 0.0052, Accuracy: 513/569 (90.1582%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 7.0440, Accuracy: 2344/10000 (23.4400%)
___Train Local_ResNet_18,  epoch 270, local model 26, internal_epoch   1,  Average loss: 0.0036, Accuracy: 436/468 (93.1624%)
___Train Local_ResNet_18,  epoch 270, local model 26, internal_epoch   2,  Average loss: 0.0039, Accuracy: 445/468 (95.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 7.5549, Accuracy: 2103/10000 (21.0300%)
___Train Local_ResNet_18,  epoch 270, local model 42, internal_epoch   1,  Average loss: 0.0060, Accuracy: 181/198 (91.4141%)
___Train Local_ResNet_18,  epoch 270, local model 42, internal_epoch   2,  Average loss: 0.0024, Accuracy: 191/198 (96.4646%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 10.0952, Accuracy: 2809/10000 (28.0900%)
___Train Local_ResNet_18,  epoch 270, local model 46, internal_epoch   1,  Average loss: 0.0011, Accuracy: 595/601 (99.0017%)
___Train Local_ResNet_18,  epoch 270, local model 46, internal_epoch   2,  Average loss: 0.0002, Accuracy: 600/601 (99.8336%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 1.3351, Accuracy: 6202/10000 (62.0200%)
___Train Local_ResNet_18,  epoch 270, local model 88, internal_epoch   1,  Average loss: 0.0069, Accuracy: 386/447 (86.3535%)
___Train Local_ResNet_18,  epoch 270, local model 88, internal_epoch   2,  Average loss: 0.0030, Accuracy: 414/447 (92.6174%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.9871, Accuracy: 3482/10000 (34.8200%)
___Train Local_ResNet_18,  epoch 270, local model 92, internal_epoch   1,  Average loss: 0.0044, Accuracy: 734/796 (92.2111%)
___Train Local_ResNet_18,  epoch 270, local model 92, internal_epoch   2,  Average loss: 0.0084, Accuracy: 687/796 (86.3065%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 8.8036, Accuracy: 2397/10000 (23.9700%)
___Train Local_ResNet_18,  epoch 270, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 715/756 (94.5767%)
___Train Local_ResNet_18,  epoch 270, local model 38, internal_epoch   2,  Average loss: 0.0028, Accuracy: 714/756 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.2714, Accuracy: 4310/10000 (43.1000%)
time spent on training: 52.131386518478394
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [977, 529, 397, 569, 468, 198, 601, 447, 796, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.57423449 0.         1.         0.         1.
 1.         1.         0.57423449 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 270: Average loss: 0.6365, Accuracy: 7887/10000 (78.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 270: Average loss: 6.4271, Accuracy: 336/9000 (3.7333%)
Done in 119.96183371543884 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:271 choose agents : [53, 41, 66, 33, 0, 84, 78, 6, 8, 67]. Adversary List: []
___Train Local_ResNet_18,  epoch 271, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 580/625 (92.8000%)
___Train Local_ResNet_18,  epoch 271, local model 53, internal_epoch   2,  Average loss: 0.0030, Accuracy: 590/625 (94.4000%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.0824, Accuracy: 4030/10000 (40.3000%)
___Train Local_ResNet_18,  epoch 271, local model 41, internal_epoch   1,  Average loss: 0.0202, Accuracy: 432/513 (84.2105%)
___Train Local_ResNet_18,  epoch 271, local model 41, internal_epoch   2,  Average loss: 0.0113, Accuracy: 407/513 (79.3372%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 8.1621, Accuracy: 2479/10000 (24.7900%)
___Train Local_ResNet_18,  epoch 271, local model 66, internal_epoch   1,  Average loss: 0.0026, Accuracy: 530/555 (95.4955%)
___Train Local_ResNet_18,  epoch 271, local model 66, internal_epoch   2,  Average loss: 0.0006, Accuracy: 548/555 (98.7387%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.4629, Accuracy: 4028/10000 (40.2800%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 271, local model 33, internal_epoch   1,  Average loss: 0.0047, Accuracy: 491/527 (93.1689%)
___Train Local_ResNet_18,  epoch 271, local model 33, internal_epoch   2,  Average loss: 0.0076, Accuracy: 463/527 (87.8558%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 7.6410, Accuracy: 2314/10000 (23.1400%)
___Train Local_ResNet_18,  epoch 271, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 326/367 (88.8283%)
___Train Local_ResNet_18,  epoch 271, local model 0, internal_epoch   2,  Average loss: 0.0015, Accuracy: 358/367 (97.5477%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 5.2660, Accuracy: 2598/10000 (25.9800%)
___Train Local_ResNet_18,  epoch 271, local model 84, internal_epoch   1,  Average loss: 0.0021, Accuracy: 1013/1053 (96.2013%)
___Train Local_ResNet_18,  epoch 271, local model 84, internal_epoch   2,  Average loss: 0.0029, Accuracy: 992/1053 (94.2070%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.5748, Accuracy: 4966/10000 (49.6600%)
___Train Local_ResNet_18,  epoch 271, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 226/255 (88.6275%)
___Train Local_ResNet_18,  epoch 271, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.0824, Accuracy: 4266/10000 (42.6600%)
___Train Local_ResNet_18,  epoch 271, local model 6, internal_epoch   1,  Average loss: 0.0026, Accuracy: 494/520 (95.0000%)
___Train Local_ResNet_18,  epoch 271, local model 6, internal_epoch   2,  Average loss: 0.0034, Accuracy: 492/520 (94.6154%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.0345, Accuracy: 3511/10000 (35.1100%)
___Train Local_ResNet_18,  epoch 271, local model 8, internal_epoch   1,  Average loss: 0.0027, Accuracy: 500/534 (93.6330%)
___Train Local_ResNet_18,  epoch 271, local model 8, internal_epoch   2,  Average loss: 0.0025, Accuracy: 515/534 (96.4419%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.0876, Accuracy: 4829/10000 (48.2900%)
___Train Local_ResNet_18,  epoch 271, local model 67, internal_epoch   1,  Average loss: 0.0037, Accuracy: 786/842 (93.3492%)
___Train Local_ResNet_18,  epoch 271, local model 67, internal_epoch   2,  Average loss: 0.0107, Accuracy: 683/842 (81.1164%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 20.2848, Accuracy: 2422/10000 (24.2200%)
time spent on training: 62.54847717285156
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09100328095320324  data num: [625, 513, 555, 527, 367, 1053, 255, 520, 534, 842]
[foolsgold agg] considering poison per batch poison_fraction: 0.007109631324469004
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.98305854
 0.98305854 0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 271: Average loss: 0.6372, Accuracy: 7881/10000 (78.8100%)
___Test Target_ResNet_18 poisoned: True, epoch: 271: Average loss: 6.4626, Accuracy: 333/9000 (3.7000%)
Done in 130.4454083442688 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:272 choose agents : [70, 2, 35, 42, 1, 56, 66, 71, 57, 80]. Adversary List: []
___Train Local_ResNet_18,  epoch 272, local model 70, internal_epoch   1,  Average loss: 0.0029, Accuracy: 579/610 (94.9180%)
___Train Local_ResNet_18,  epoch 272, local model 70, internal_epoch   2,  Average loss: 0.0024, Accuracy: 586/610 (96.0656%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.8516, Accuracy: 5184/10000 (51.8400%)
___Train Local_ResNet_18,  epoch 272, local model 2, internal_epoch   1,  Average loss: 0.0068, Accuracy: 403/461 (87.4187%)
___Train Local_ResNet_18,  epoch 272, local model 2, internal_epoch   2,  Average loss: 0.0121, Accuracy: 382/461 (82.8633%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.3527, Accuracy: 2898/10000 (28.9800%)
___Train Local_ResNet_18,  epoch 272, local model 35, internal_epoch   1,  Average loss: 0.0055, Accuracy: 371/419 (88.5442%)
___Train Local_ResNet_18,  epoch 272, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 404/419 (96.4200%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.8720, Accuracy: 4101/10000 (41.0100%)
___Train Local_ResNet_18,  epoch 272, local model 42, internal_epoch   1,  Average loss: 0.0179, Accuracy: 181/198 (91.4141%)
___Train Local_ResNet_18,  epoch 272, local model 42, internal_epoch   2,  Average loss: 0.0054, Accuracy: 183/198 (92.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 11.5755, Accuracy: 1329/10000 (13.2900%)
___Train Local_ResNet_18,  epoch 272, local model 1, internal_epoch   1,  Average loss: 0.0048, Accuracy: 604/641 (94.2278%)
___Train Local_ResNet_18,  epoch 272, local model 1, internal_epoch   2,  Average loss: 0.0119, Accuracy: 576/641 (89.8596%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.7764, Accuracy: 3750/10000 (37.5000%)
___Train Local_ResNet_18,  epoch 272, local model 56, internal_epoch   1,  Average loss: 0.0016, Accuracy: 728/743 (97.9812%)
___Train Local_ResNet_18,  epoch 272, local model 56, internal_epoch   2,  Average loss: 0.0011, Accuracy: 734/743 (98.7887%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.7997, Accuracy: 5581/10000 (55.8100%)
___Train Local_ResNet_18,  epoch 272, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 518/555 (93.3333%)
___Train Local_ResNet_18,  epoch 272, local model 66, internal_epoch   2,  Average loss: 0.0013, Accuracy: 544/555 (98.0180%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.4721, Accuracy: 3620/10000 (36.2000%)
___Train Local_ResNet_18,  epoch 272, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 1083/1166 (92.8816%)
___Train Local_ResNet_18,  epoch 272, local model 71, internal_epoch   2,  Average loss: 0.0101, Accuracy: 948/1166 (81.3036%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 9.8640, Accuracy: 2325/10000 (23.2500%)
___Train Local_ResNet_18,  epoch 272, local model 57, internal_epoch   1,  Average loss: 0.0048, Accuracy: 262/290 (90.3448%)
___Train Local_ResNet_18,  epoch 272, local model 57, internal_epoch   2,  Average loss: 0.0007, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.9457, Accuracy: 4692/10000 (46.9200%)
___Train Local_ResNet_18,  epoch 272, local model 80, internal_epoch   1,  Average loss: 0.0051, Accuracy: 322/363 (88.7052%)
___Train Local_ResNet_18,  epoch 272, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.2211, Accuracy: 3704/10000 (37.0400%)
time spent on training: 52.909969329833984
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [610, 461, 419, 198, 641, 743, 555, 1166, 290, 363]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.7167673  0.61018302 0.75760913
 0.61018302 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 272: Average loss: 0.6363, Accuracy: 7887/10000 (78.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 272: Average loss: 6.4696, Accuracy: 337/9000 (3.7444%)
Done in 120.45366358757019 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:273 choose agents : [17, 62, 81, 52, 9, 7, 60, 39, 47, 77]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 273, local model 17, internal_epoch   1,  Average loss: 0.0028, Accuracy: 505/526 (96.0076%)
___Train Local_ResNet_18,  epoch 273, local model 17, internal_epoch   2,  Average loss: 0.0051, Accuracy: 484/526 (92.0152%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 3.2665, Accuracy: 3908/10000 (39.0800%)
___Train Local_ResNet_18,  epoch 273, local model 62, internal_epoch   1,  Average loss: 0.0017, Accuracy: 347/358 (96.9274%)
___Train Local_ResNet_18,  epoch 273, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.0258, Accuracy: 6843/10000 (68.4300%)
___Train Local_ResNet_18,  epoch 273, local model 81, internal_epoch   1,  Average loss: 0.0053, Accuracy: 930/1034 (89.9420%)
___Train Local_ResNet_18,  epoch 273, local model 81, internal_epoch   2,  Average loss: 0.0099, Accuracy: 838/1034 (81.0445%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 7.0903, Accuracy: 2621/10000 (26.2100%)
___Train Local_ResNet_18,  epoch 273, local model 52, internal_epoch   1,  Average loss: 0.0056, Accuracy: 195/214 (91.1215%)
___Train Local_ResNet_18,  epoch 273, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 210/214 (98.1308%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.9039, Accuracy: 4390/10000 (43.9000%)
___Train Local_ResNet_18,  epoch 273, local model 9, internal_epoch   1,  Average loss: 0.0036, Accuracy: 340/368 (92.3913%)
___Train Local_ResNet_18,  epoch 273, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 4.0339, Accuracy: 3247/10000 (32.4700%)
___Train Local_ResNet_18,  epoch 273, local model 7, internal_epoch   1,  Average loss: 0.0025, Accuracy: 338/352 (96.0227%)
___Train Local_ResNet_18,  epoch 273, local model 7, internal_epoch   2,  Average loss: 0.0007, Accuracy: 349/352 (99.1477%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.5571, Accuracy: 5703/10000 (57.0300%)
___Train Local_ResNet_18,  epoch 273, local model 60, internal_epoch   1,  Average loss: 0.0039, Accuracy: 264/284 (92.9577%)
___Train Local_ResNet_18,  epoch 273, local model 60, internal_epoch   2,  Average loss: 0.0013, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.4619, Accuracy: 4337/10000 (43.3700%)
___Train Local_ResNet_18,  epoch 273, local model 39, internal_epoch   1,  Average loss: 0.0048, Accuracy: 196/217 (90.3226%)
___Train Local_ResNet_18,  epoch 273, local model 39, internal_epoch   2,  Average loss: 0.0006, Accuracy: 216/217 (99.5392%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.2251, Accuracy: 4882/10000 (48.8200%)
___Train Local_ResNet_18,  epoch 273, local model 47, internal_epoch   1,  Average loss: 0.0033, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 273, local model 47, internal_epoch   2,  Average loss: 0.0059, Accuracy: 588/654 (89.9083%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 3.1853, Accuracy: 3883/10000 (38.8300%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   1,  Average loss: 0.0024, Accuracy: 474/496 (95.5645%)
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 488/496 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.3074, Accuracy: 6094/10000 (60.9400%)
time spent on training: 70.45053958892822
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.22695980457472795  data num: [526, 358, 1034, 214, 368, 352, 284, 217, 654, 496]
[foolsgold agg] considering poison per batch poison_fraction: 0.01773123473240062
[foolsgold agg] wv: [0. 1. 1. 1. 1. 1. 0. 0. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 273: Average loss: 0.6369, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 273: Average loss: 6.4738, Accuracy: 335/9000 (3.7222%)
Done in 137.73469734191895 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:274 choose agents : [86, 75, 23, 20, 40, 58, 9, 59, 19, 79]. Adversary List: []
___Train Local_ResNet_18,  epoch 274, local model 86, internal_epoch   1,  Average loss: 0.0038, Accuracy: 201/212 (94.8113%)
___Train Local_ResNet_18,  epoch 274, local model 86, internal_epoch   2,  Average loss: 0.0014, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.1731, Accuracy: 6687/10000 (66.8700%)
___Train Local_ResNet_18,  epoch 274, local model 75, internal_epoch   1,  Average loss: 0.0077, Accuracy: 546/578 (94.4637%)
___Train Local_ResNet_18,  epoch 274, local model 75, internal_epoch   2,  Average loss: 0.0256, Accuracy: 343/578 (59.3426%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 355.8905, Accuracy: 1003/10000 (10.0300%)
___Train Local_ResNet_18,  epoch 274, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 233/248 (93.9516%)
___Train Local_ResNet_18,  epoch 274, local model 23, internal_epoch   2,  Average loss: 0.0004, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.5539, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch 274, local model 20, internal_epoch   1,  Average loss: 0.0066, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 274, local model 20, internal_epoch   2,  Average loss: 0.0018, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 6.1475, Accuracy: 2822/10000 (28.2200%)
___Train Local_ResNet_18,  epoch 274, local model 40, internal_epoch   1,  Average loss: 0.0047, Accuracy: 598/652 (91.7178%)
___Train Local_ResNet_18,  epoch 274, local model 40, internal_epoch   2,  Average loss: 0.0108, Accuracy: 541/652 (82.9755%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 15.5117, Accuracy: 1248/10000 (12.4800%)
___Train Local_ResNet_18,  epoch 274, local model 58, internal_epoch   1,  Average loss: 0.0075, Accuracy: 200/234 (85.4701%)
___Train Local_ResNet_18,  epoch 274, local model 58, internal_epoch   2,  Average loss: 0.0008, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.5822, Accuracy: 2331/10000 (23.3100%)
___Train Local_ResNet_18,  epoch 274, local model 9, internal_epoch   1,  Average loss: 0.0038, Accuracy: 341/368 (92.6630%)
___Train Local_ResNet_18,  epoch 274, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 362/368 (98.3696%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 8.4612, Accuracy: 1986/10000 (19.8600%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   1,  Average loss: 0.0039, Accuracy: 612/642 (95.3271%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   2,  Average loss: 0.0124, Accuracy: 520/642 (80.9969%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 18.7883, Accuracy: 1837/10000 (18.3700%)
___Train Local_ResNet_18,  epoch 274, local model 19, internal_epoch   1,  Average loss: 0.0127, Accuracy: 130/173 (75.1445%)
___Train Local_ResNet_18,  epoch 274, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 169/173 (97.6879%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.9113, Accuracy: 3305/10000 (33.0500%)
___Train Local_ResNet_18,  epoch 274, local model 79, internal_epoch   1,  Average loss: 0.0060, Accuracy: 137/154 (88.9610%)
___Train Local_ResNet_18,  epoch 274, local model 79, internal_epoch   2,  Average loss: 0.0010, Accuracy: 152/154 (98.7013%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.1455, Accuracy: 6699/10000 (66.9900%)
time spent on training: 52.700321674346924
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 578, 248, 362, 652, 234, 368, 642, 173, 154]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 1. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 274: Average loss: 0.6362, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 274: Average loss: 6.5072, Accuracy: 330/9000 (3.6667%)
Done in 119.01569247245789 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:275 choose agents : [68, 60, 87, 9, 57, 40, 20, 39, 73, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 275, local model 68, internal_epoch   1,  Average loss: 0.0026, Accuracy: 399/416 (95.9135%)
___Train Local_ResNet_18,  epoch 275, local model 68, internal_epoch   2,  Average loss: 0.0010, Accuracy: 414/416 (99.5192%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 1.4546, Accuracy: 6180/10000 (61.8000%)
___Train Local_ResNet_18,  epoch 275, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 261/284 (91.9014%)
___Train Local_ResNet_18,  epoch 275, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.2773, Accuracy: 4608/10000 (46.0800%)
___Train Local_ResNet_18,  epoch 275, local model 87, internal_epoch   1,  Average loss: 0.0077, Accuracy: 340/397 (85.6423%)
___Train Local_ResNet_18,  epoch 275, local model 87, internal_epoch   2,  Average loss: 0.0047, Accuracy: 365/397 (91.9395%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.3245, Accuracy: 4729/10000 (47.2900%)
___Train Local_ResNet_18,  epoch 275, local model 9, internal_epoch   1,  Average loss: 0.0039, Accuracy: 338/368 (91.8478%)
___Train Local_ResNet_18,  epoch 275, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 359/368 (97.5543%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 3.1900, Accuracy: 3813/10000 (38.1300%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   1,  Average loss: 0.0051, Accuracy: 259/290 (89.3103%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   2,  Average loss: 0.0015, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.7537, Accuracy: 4711/10000 (47.1100%)
___Train Local_ResNet_18,  epoch 275, local model 40, internal_epoch   1,  Average loss: 0.0052, Accuracy: 600/652 (92.0245%)
___Train Local_ResNet_18,  epoch 275, local model 40, internal_epoch   2,  Average loss: 0.0120, Accuracy: 542/652 (83.1288%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 11.0821, Accuracy: 1605/10000 (16.0500%)
___Train Local_ResNet_18,  epoch 275, local model 20, internal_epoch   1,  Average loss: 0.0063, Accuracy: 320/362 (88.3978%)
___Train Local_ResNet_18,  epoch 275, local model 20, internal_epoch   2,  Average loss: 0.0022, Accuracy: 346/362 (95.5801%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 4.6261, Accuracy: 3550/10000 (35.5000%)
___Train Local_ResNet_18,  epoch 275, local model 39, internal_epoch   1,  Average loss: 0.0057, Accuracy: 192/217 (88.4793%)
___Train Local_ResNet_18,  epoch 275, local model 39, internal_epoch   2,  Average loss: 0.0016, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.4908, Accuracy: 4452/10000 (44.5200%)
___Train Local_ResNet_18,  epoch 275, local model 73, internal_epoch   1,  Average loss: 0.0094, Accuracy: 417/500 (83.4000%)
___Train Local_ResNet_18,  epoch 275, local model 73, internal_epoch   2,  Average loss: 0.0038, Accuracy: 462/500 (92.4000%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.8938, Accuracy: 4049/10000 (40.4900%)
___Train Local_ResNet_18,  epoch 275, local model 48, internal_epoch   1,  Average loss: 0.0048, Accuracy: 340/378 (89.9471%)
___Train Local_ResNet_18,  epoch 275, local model 48, internal_epoch   2,  Average loss: 0.0014, Accuracy: 370/378 (97.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.4369, Accuracy: 4449/10000 (44.4900%)
time spent on training: 52.75647163391113
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [416, 284, 397, 368, 290, 652, 362, 217, 500, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.       0.       0.       1.       1.       0.       0.764499 0.
 0.       0.      ]
___Test Target_ResNet_18 poisoned: False, epoch: 275: Average loss: 0.6362, Accuracy: 7889/10000 (78.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 275: Average loss: 6.4995, Accuracy: 329/9000 (3.6556%)
Done in 119.40349960327148 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:276 choose agents : [20, 11, 42, 73, 76, 87, 74, 85, 23, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 276, local model 20, internal_epoch   1,  Average loss: 0.0072, Accuracy: 317/362 (87.5691%)
___Train Local_ResNet_18,  epoch 276, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 4.6993, Accuracy: 3585/10000 (35.8500%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   1,  Average loss: 0.0026, Accuracy: 521/546 (95.4212%)
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   2,  Average loss: 0.0032, Accuracy: 511/546 (93.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.5869, Accuracy: 4637/10000 (46.3700%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   1,  Average loss: 0.0062, Accuracy: 187/198 (94.4444%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   2,  Average loss: 0.0046, Accuracy: 181/198 (91.4141%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 6.6171, Accuracy: 2340/10000 (23.4000%)
___Train Local_ResNet_18,  epoch 276, local model 73, internal_epoch   1,  Average loss: 0.0082, Accuracy: 425/500 (85.0000%)
___Train Local_ResNet_18,  epoch 276, local model 73, internal_epoch   2,  Average loss: 0.0042, Accuracy: 456/500 (91.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.4399, Accuracy: 3931/10000 (39.3100%)
___Train Local_ResNet_18,  epoch 276, local model 76, internal_epoch   1,  Average loss: 0.0327, Accuracy: 62/65 (95.3846%)
___Train Local_ResNet_18,  epoch 276, local model 76, internal_epoch   2,  Average loss: 0.0470, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 0.8365, Accuracy: 7412/10000 (74.1200%)
___Train Local_ResNet_18,  epoch 276, local model 87, internal_epoch   1,  Average loss: 0.0079, Accuracy: 349/397 (87.9093%)
___Train Local_ResNet_18,  epoch 276, local model 87, internal_epoch   2,  Average loss: 0.0074, Accuracy: 347/397 (87.4055%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 6.8041, Accuracy: 2015/10000 (20.1500%)
___Train Local_ResNet_18,  epoch 276, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 434/469 (92.5373%)
___Train Local_ResNet_18,  epoch 276, local model 74, internal_epoch   2,  Average loss: 0.0027, Accuracy: 450/469 (95.9488%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.2188, Accuracy: 4599/10000 (45.9900%)
___Train Local_ResNet_18,  epoch 276, local model 85, internal_epoch   1,  Average loss: 0.0062, Accuracy: 320/364 (87.9121%)
___Train Local_ResNet_18,  epoch 276, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 347/364 (95.3297%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.4918, Accuracy: 3326/10000 (33.2600%)
___Train Local_ResNet_18,  epoch 276, local model 23, internal_epoch   1,  Average loss: 0.0039, Accuracy: 229/248 (92.3387%)
___Train Local_ResNet_18,  epoch 276, local model 23, internal_epoch   2,  Average loss: 0.0007, Accuracy: 246/248 (99.1935%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 1.8697, Accuracy: 5064/10000 (50.6400%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   1,  Average loss: 0.0050, Accuracy: 339/378 (89.6825%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   2,  Average loss: 0.0013, Accuracy: 370/378 (97.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.1517, Accuracy: 3687/10000 (36.8700%)
time spent on training: 60.99524807929993
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.15480578395236744  data num: [362, 546, 198, 500, 65, 397, 469, 364, 248, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.012094201871278706
[foolsgold agg] wv: [1.         1.         1.         0.         0.34006347 1.
 0.34006347 0.70671462 0.70671462 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 276: Average loss: 0.6366, Accuracy: 7888/10000 (78.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 276: Average loss: 6.4757, Accuracy: 335/9000 (3.7222%)
Done in 128.36010909080505 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:277 choose agents : [41, 48, 71, 70, 84, 28, 96, 77, 17, 87]. Adversary List: []
___Train Local_ResNet_18,  epoch 277, local model 41, internal_epoch   1,  Average loss: 0.0187, Accuracy: 441/513 (85.9649%)
___Train Local_ResNet_18,  epoch 277, local model 41, internal_epoch   2,  Average loss: 0.0131, Accuracy: 412/513 (80.3119%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 4.5189, Accuracy: 2555/10000 (25.5500%)
___Train Local_ResNet_18,  epoch 277, local model 48, internal_epoch   1,  Average loss: 0.0054, Accuracy: 335/378 (88.6243%)
___Train Local_ResNet_18,  epoch 277, local model 48, internal_epoch   2,  Average loss: 0.0019, Accuracy: 365/378 (96.5608%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 3.8779, Accuracy: 3260/10000 (32.6000%)
___Train Local_ResNet_18,  epoch 277, local model 71, internal_epoch   1,  Average loss: 0.0033, Accuracy: 1088/1166 (93.3105%)
___Train Local_ResNet_18,  epoch 277, local model 71, internal_epoch   2,  Average loss: 0.0065, Accuracy: 1016/1166 (87.1355%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 7.3372, Accuracy: 2331/10000 (23.3100%)
___Train Local_ResNet_18,  epoch 277, local model 70, internal_epoch   1,  Average loss: 0.0024, Accuracy: 581/610 (95.2459%)
___Train Local_ResNet_18,  epoch 277, local model 70, internal_epoch   2,  Average loss: 0.0017, Accuracy: 588/610 (96.3934%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 3.1702, Accuracy: 3884/10000 (38.8400%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   1,  Average loss: 0.0024, Accuracy: 1006/1053 (95.5366%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   2,  Average loss: 0.0024, Accuracy: 1006/1053 (95.5366%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.1514, Accuracy: 4827/10000 (48.2700%)
___Train Local_ResNet_18,  epoch 277, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 406/423 (95.9811%)
___Train Local_ResNet_18,  epoch 277, local model 28, internal_epoch   2,  Average loss: 0.0009, Accuracy: 418/423 (98.8180%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 1.9909, Accuracy: 5501/10000 (55.0100%)
___Train Local_ResNet_18,  epoch 277, local model 96, internal_epoch   1,  Average loss: 0.0038, Accuracy: 673/708 (95.0565%)
___Train Local_ResNet_18,  epoch 277, local model 96, internal_epoch   2,  Average loss: 0.0206, Accuracy: 450/708 (63.5593%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 68.7373, Accuracy: 1653/10000 (16.5300%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 277, local model 77, internal_epoch   1,  Average loss: 0.0025, Accuracy: 474/496 (95.5645%)
___Train Local_ResNet_18,  epoch 277, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 489/496 (98.5887%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 1.4813, Accuracy: 5873/10000 (58.7300%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 277, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 507/526 (96.3878%)
___Train Local_ResNet_18,  epoch 277, local model 17, internal_epoch   2,  Average loss: 0.0031, Accuracy: 508/526 (96.5779%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.4374, Accuracy: 4869/10000 (48.6900%)
___Train Local_ResNet_18,  epoch 277, local model 87, internal_epoch   1,  Average loss: 0.0096, Accuracy: 330/397 (83.1234%)
___Train Local_ResNet_18,  epoch 277, local model 87, internal_epoch   2,  Average loss: 0.0103, Accuracy: 341/397 (85.8942%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 5.0884, Accuracy: 2917/10000 (29.1700%)
time spent on training: 74.06247401237488
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.16299840510366825  data num: [513, 378, 1166, 610, 1053, 423, 708, 496, 526, 397]
[foolsgold agg] considering poison per batch poison_fraction: 0.012734250398724082
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 277: Average loss: 0.6369, Accuracy: 7894/10000 (78.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 277: Average loss: 6.5171, Accuracy: 329/9000 (3.6556%)
Done in 141.3388454914093 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:278 choose agents : [70, 47, 40, 19, 26, 10, 32, 75, 93, 24]. Adversary List: []
___Train Local_ResNet_18,  epoch 278, local model 70, internal_epoch   1,  Average loss: 0.0028, Accuracy: 579/610 (94.9180%)
___Train Local_ResNet_18,  epoch 278, local model 70, internal_epoch   2,  Average loss: 0.0017, Accuracy: 589/610 (96.5574%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.2539, Accuracy: 4584/10000 (45.8400%)
___Train Local_ResNet_18,  epoch 278, local model 47, internal_epoch   1,  Average loss: 0.0023, Accuracy: 624/654 (95.4128%)
___Train Local_ResNet_18,  epoch 278, local model 47, internal_epoch   2,  Average loss: 0.0023, Accuracy: 631/654 (96.4832%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.8268, Accuracy: 5611/10000 (56.1100%)
___Train Local_ResNet_18,  epoch 278, local model 40, internal_epoch   1,  Average loss: 0.0057, Accuracy: 591/652 (90.6442%)
___Train Local_ResNet_18,  epoch 278, local model 40, internal_epoch   2,  Average loss: 0.0102, Accuracy: 551/652 (84.5092%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 8.0339, Accuracy: 2259/10000 (22.5900%)
___Train Local_ResNet_18,  epoch 278, local model 19, internal_epoch   1,  Average loss: 0.0136, Accuracy: 135/173 (78.0347%)
___Train Local_ResNet_18,  epoch 278, local model 19, internal_epoch   2,  Average loss: 0.0010, Accuracy: 173/173 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 6.3835, Accuracy: 3069/10000 (30.6900%)
___Train Local_ResNet_18,  epoch 278, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 436/468 (93.1624%)
___Train Local_ResNet_18,  epoch 278, local model 26, internal_epoch   2,  Average loss: 0.0042, Accuracy: 434/468 (92.7350%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.4170, Accuracy: 4903/10000 (49.0300%)
___Train Local_ResNet_18,  epoch 278, local model 10, internal_epoch   1,  Average loss: 0.0040, Accuracy: 695/752 (92.4202%)
___Train Local_ResNet_18,  epoch 278, local model 10, internal_epoch   2,  Average loss: 0.0024, Accuracy: 718/752 (95.4787%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 4.0195, Accuracy: 3781/10000 (37.8100%)
___Train Local_ResNet_18,  epoch 278, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 788/824 (95.6311%)
___Train Local_ResNet_18,  epoch 278, local model 32, internal_epoch   2,  Average loss: 0.0023, Accuracy: 782/824 (94.9029%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.8957, Accuracy: 4752/10000 (47.5200%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   1,  Average loss: 0.0034, Accuracy: 557/578 (96.3668%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   2,  Average loss: 0.0132, Accuracy: 474/578 (82.0069%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 14.6664, Accuracy: 1801/10000 (18.0100%)
___Train Local_ResNet_18,  epoch 278, local model 93, internal_epoch   1,  Average loss: 0.0021, Accuracy: 562/584 (96.2329%)
___Train Local_ResNet_18,  epoch 278, local model 93, internal_epoch   2,  Average loss: 0.0009, Accuracy: 575/584 (98.4589%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.6045, Accuracy: 5869/10000 (58.6900%)
___Train Local_ResNet_18,  epoch 278, local model 24, internal_epoch   1,  Average loss: 0.0033, Accuracy: 300/320 (93.7500%)
___Train Local_ResNet_18,  epoch 278, local model 24, internal_epoch   2,  Average loss: 0.0003, Accuracy: 319/320 (99.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 3.1008, Accuracy: 3923/10000 (39.2300%)
time spent on training: 53.401305198669434
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [610, 654, 652, 173, 468, 752, 824, 578, 584, 320]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.61217049 1.         0.16955977 1.         0.16955977 1.
 0.40106687 1.         1.         0.40106687]
___Test Target_ResNet_18 poisoned: False, epoch: 278: Average loss: 0.6382, Accuracy: 7891/10000 (78.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 278: Average loss: 6.5423, Accuracy: 324/9000 (3.6000%)
Done in 119.8830132484436 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:279 choose agents : [43, 60, 3, 89, 87, 20, 66, 54, 27, 90]. Adversary List: []
___Train Local_ResNet_18,  epoch 279, local model 43, internal_epoch   1,  Average loss: 0.0060, Accuracy: 310/345 (89.8551%)
___Train Local_ResNet_18,  epoch 279, local model 43, internal_epoch   2,  Average loss: 0.0025, Accuracy: 335/345 (97.1014%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 4.0817, Accuracy: 3976/10000 (39.7600%)
___Train Local_ResNet_18,  epoch 279, local model 60, internal_epoch   1,  Average loss: 0.0038, Accuracy: 264/284 (92.9577%)
___Train Local_ResNet_18,  epoch 279, local model 60, internal_epoch   2,  Average loss: 0.0006, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.9980, Accuracy: 5092/10000 (50.9200%)
___Train Local_ResNet_18,  epoch 279, local model 3, internal_epoch   1,  Average loss: 0.0054, Accuracy: 712/780 (91.2821%)
___Train Local_ResNet_18,  epoch 279, local model 3, internal_epoch   2,  Average loss: 0.0122, Accuracy: 622/780 (79.7436%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 23.4598, Accuracy: 1875/10000 (18.7500%)
___Train Local_ResNet_18,  epoch 279, local model 89, internal_epoch   1,  Average loss: 0.0076, Accuracy: 349/413 (84.5036%)
___Train Local_ResNet_18,  epoch 279, local model 89, internal_epoch   2,  Average loss: 0.0056, Accuracy: 376/413 (91.0412%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 4.2611, Accuracy: 3103/10000 (31.0300%)
___Train Local_ResNet_18,  epoch 279, local model 87, internal_epoch   1,  Average loss: 0.0090, Accuracy: 336/397 (84.6348%)
___Train Local_ResNet_18,  epoch 279, local model 87, internal_epoch   2,  Average loss: 0.0055, Accuracy: 359/397 (90.4282%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 2.5884, Accuracy: 4062/10000 (40.6200%)
___Train Local_ResNet_18,  epoch 279, local model 20, internal_epoch   1,  Average loss: 0.0067, Accuracy: 311/362 (85.9116%)
___Train Local_ResNet_18,  epoch 279, local model 20, internal_epoch   2,  Average loss: 0.0016, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 6.2810, Accuracy: 2923/10000 (29.2300%)
___Train Local_ResNet_18,  epoch 279, local model 66, internal_epoch   1,  Average loss: 0.0029, Accuracy: 528/555 (95.1351%)
___Train Local_ResNet_18,  epoch 279, local model 66, internal_epoch   2,  Average loss: 0.0010, Accuracy: 546/555 (98.3784%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.0291, Accuracy: 4278/10000 (42.7800%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   2,  Average loss: 0.0008, Accuracy: 435/440 (98.8636%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.1940, Accuracy: 4410/10000 (44.1000%)
___Train Local_ResNet_18,  epoch 279, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 279, local model 27, internal_epoch   2,  Average loss: 0.0010, Accuracy: 391/397 (98.4887%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.8160, Accuracy: 5719/10000 (57.1900%)
___Train Local_ResNet_18,  epoch 279, local model 90, internal_epoch   1,  Average loss: 0.0050, Accuracy: 525/578 (90.8304%)
___Train Local_ResNet_18,  epoch 279, local model 90, internal_epoch   2,  Average loss: 0.0135, Accuracy: 535/578 (92.5606%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 12.4477, Accuracy: 1291/10000 (12.9100%)
time spent on training: 53.494781255722046
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [345, 284, 780, 413, 397, 362, 555, 440, 397, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.67723159 0.19926781 0.19926781 1.
 1.         0.67723159 0.79278089 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 279: Average loss: 0.6405, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 279: Average loss: 6.5455, Accuracy: 323/9000 (3.5889%)
Done in 121.08107328414917 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:280 choose agents : [37, 13, 78, 67, 65, 16, 82, 33, 3, 46]. Adversary List: []
___Train Local_ResNet_18,  epoch 280, local model 37, internal_epoch   1,  Average loss: 0.0060, Accuracy: 645/725 (88.9655%)
___Train Local_ResNet_18,  epoch 280, local model 37, internal_epoch   2,  Average loss: 0.0120, Accuracy: 575/725 (79.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 14.1540, Accuracy: 1259/10000 (12.5900%)
___Train Local_ResNet_18,  epoch 280, local model 13, internal_epoch   1,  Average loss: 0.0058, Accuracy: 551/620 (88.8710%)
___Train Local_ResNet_18,  epoch 280, local model 13, internal_epoch   2,  Average loss: 0.0042, Accuracy: 565/620 (91.1290%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 4.2896, Accuracy: 3465/10000 (34.6500%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   1,  Average loss: 0.0043, Accuracy: 237/255 (92.9412%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 253/255 (99.2157%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.3973, Accuracy: 4977/10000 (49.7700%)
___Train Local_ResNet_18,  epoch 280, local model 67, internal_epoch   1,  Average loss: 0.0027, Accuracy: 791/842 (93.9430%)
___Train Local_ResNet_18,  epoch 280, local model 67, internal_epoch   2,  Average loss: 0.0053, Accuracy: 752/842 (89.3112%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 5.1759, Accuracy: 3389/10000 (33.8900%)
___Train Local_ResNet_18,  epoch 280, local model 65, internal_epoch   1,  Average loss: 0.0035, Accuracy: 295/314 (93.9490%)
___Train Local_ResNet_18,  epoch 280, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 314/314 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.5025, Accuracy: 3858/10000 (38.5800%)
___Train Local_ResNet_18,  epoch 280, local model 16, internal_epoch   1,  Average loss: 0.0033, Accuracy: 734/773 (94.9547%)
___Train Local_ResNet_18,  epoch 280, local model 16, internal_epoch   2,  Average loss: 0.0100, Accuracy: 652/773 (84.3467%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 5.1438, Accuracy: 2679/10000 (26.7900%)
___Train Local_ResNet_18,  epoch 280, local model 82, internal_epoch   1,  Average loss: 0.0019, Accuracy: 577/601 (96.0067%)
___Train Local_ResNet_18,  epoch 280, local model 82, internal_epoch   2,  Average loss: 0.0014, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.0597, Accuracy: 5106/10000 (51.0600%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 280, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 501/527 (95.0664%)
___Train Local_ResNet_18,  epoch 280, local model 33, internal_epoch   2,  Average loss: 0.0033, Accuracy: 503/527 (95.4459%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.4747, Accuracy: 4692/10000 (46.9200%)
___Train Local_ResNet_18,  epoch 280, local model 3, internal_epoch   1,  Average loss: 0.0072, Accuracy: 693/780 (88.8462%)
___Train Local_ResNet_18,  epoch 280, local model 3, internal_epoch   2,  Average loss: 0.0136, Accuracy: 595/780 (76.2821%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 32.5083, Accuracy: 1058/10000 (10.5800%)
___Train Local_ResNet_18,  epoch 280, local model 46, internal_epoch   1,  Average loss: 0.0014, Accuracy: 591/601 (98.3361%)
___Train Local_ResNet_18,  epoch 280, local model 46, internal_epoch   2,  Average loss: 0.0009, Accuracy: 594/601 (98.8353%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 1.5326, Accuracy: 5899/10000 (58.9900%)
time spent on training: 63.07265901565552
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08728055647565419  data num: [725, 620, 255, 842, 314, 773, 601, 527, 780, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.006818793474660484
[foolsgold agg] wv: [1.         0.         0.         1.         1.         1.
 0.90458711 1.         1.         0.90458711]
___Test Target_ResNet_18 poisoned: False, epoch: 280: Average loss: 0.6385, Accuracy: 7884/10000 (78.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 280: Average loss: 6.5010, Accuracy: 335/9000 (3.7222%)
Done in 131.02452087402344 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:281 choose agents : [35, 74, 98, 38, 82, 6, 15, 71, 65, 57]. Adversary List: []
___Train Local_ResNet_18,  epoch 281, local model 35, internal_epoch   1,  Average loss: 0.0064, Accuracy: 369/419 (88.0668%)
___Train Local_ResNet_18,  epoch 281, local model 35, internal_epoch   2,  Average loss: 0.0021, Accuracy: 398/419 (94.9881%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.6751, Accuracy: 3197/10000 (31.9700%)
___Train Local_ResNet_18,  epoch 281, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 438/469 (93.3902%)
___Train Local_ResNet_18,  epoch 281, local model 74, internal_epoch   2,  Average loss: 0.0019, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 1.7980, Accuracy: 5235/10000 (52.3500%)
___Train Local_ResNet_18,  epoch 281, local model 98, internal_epoch   1,  Average loss: 0.0038, Accuracy: 744/802 (92.7681%)
___Train Local_ResNet_18,  epoch 281, local model 98, internal_epoch   2,  Average loss: 0.0053, Accuracy: 726/802 (90.5237%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 5.2465, Accuracy: 2807/10000 (28.0700%)
___Train Local_ResNet_18,  epoch 281, local model 38, internal_epoch   1,  Average loss: 0.0028, Accuracy: 715/756 (94.5767%)
___Train Local_ResNet_18,  epoch 281, local model 38, internal_epoch   2,  Average loss: 0.0035, Accuracy: 705/756 (93.2540%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.8572, Accuracy: 4013/10000 (40.1300%)
___Train Local_ResNet_18,  epoch 281, local model 82, internal_epoch   1,  Average loss: 0.0021, Accuracy: 581/601 (96.6722%)
___Train Local_ResNet_18,  epoch 281, local model 82, internal_epoch   2,  Average loss: 0.0014, Accuracy: 584/601 (97.1714%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.1028, Accuracy: 5153/10000 (51.5300%)
___Train Local_ResNet_18,  epoch 281, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 484/520 (93.0769%)
___Train Local_ResNet_18,  epoch 281, local model 6, internal_epoch   2,  Average loss: 0.0094, Accuracy: 433/520 (83.2692%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 8.5016, Accuracy: 1648/10000 (16.4800%)
___Train Local_ResNet_18,  epoch 281, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 291/341 (85.3372%)
___Train Local_ResNet_18,  epoch 281, local model 15, internal_epoch   2,  Average loss: 0.0079, Accuracy: 306/341 (89.7361%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 4.6097, Accuracy: 3099/10000 (30.9900%)
___Train Local_ResNet_18,  epoch 281, local model 71, internal_epoch   1,  Average loss: 0.0034, Accuracy: 1093/1166 (93.7393%)
___Train Local_ResNet_18,  epoch 281, local model 71, internal_epoch   2,  Average loss: 0.0084, Accuracy: 974/1166 (83.5334%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 13.6508, Accuracy: 2564/10000 (25.6400%)
___Train Local_ResNet_18,  epoch 281, local model 65, internal_epoch   1,  Average loss: 0.0034, Accuracy: 292/314 (92.9936%)
___Train Local_ResNet_18,  epoch 281, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.5034, Accuracy: 4546/10000 (45.4600%)
___Train Local_ResNet_18,  epoch 281, local model 57, internal_epoch   1,  Average loss: 0.0044, Accuracy: 266/290 (91.7241%)
___Train Local_ResNet_18,  epoch 281, local model 57, internal_epoch   2,  Average loss: 0.0006, Accuracy: 289/290 (99.6552%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.2920, Accuracy: 4344/10000 (43.4400%)
time spent on training: 54.155327796936035
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [419, 469, 802, 756, 601, 520, 341, 1166, 314, 290]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.32323176 0.46682378 1.         0.263264   0.263264   1.
 0.68591435 1.         0.32323176 0.46682378]
___Test Target_ResNet_18 poisoned: False, epoch: 281: Average loss: 0.6386, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 281: Average loss: 6.4955, Accuracy: 337/9000 (3.7444%)
Done in 122.38036274909973 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:282 choose agents : [43, 72, 83, 9, 7, 27, 11, 15, 20, 26]. Adversary List: []
___Train Local_ResNet_18,  epoch 282, local model 43, internal_epoch   1,  Average loss: 0.0059, Accuracy: 303/345 (87.8261%)
___Train Local_ResNet_18,  epoch 282, local model 43, internal_epoch   2,  Average loss: 0.0028, Accuracy: 334/345 (96.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 3.8812, Accuracy: 4421/10000 (44.2100%)
___Train Local_ResNet_18,  epoch 282, local model 72, internal_epoch   1,  Average loss: 0.0073, Accuracy: 529/618 (85.5987%)
___Train Local_ResNet_18,  epoch 282, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 548/618 (88.6731%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 8.2528, Accuracy: 2316/10000 (23.1600%)
___Train Local_ResNet_18,  epoch 282, local model 83, internal_epoch   1,  Average loss: 0.0022, Accuracy: 351/366 (95.9016%)
___Train Local_ResNet_18,  epoch 282, local model 83, internal_epoch   2,  Average loss: 0.0006, Accuracy: 364/366 (99.4536%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.5539, Accuracy: 5904/10000 (59.0400%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   1,  Average loss: 0.0033, Accuracy: 345/368 (93.7500%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 3.6312, Accuracy: 3855/10000 (38.5500%)
___Train Local_ResNet_18,  epoch 282, local model 7, internal_epoch   1,  Average loss: 0.0022, Accuracy: 340/352 (96.5909%)
___Train Local_ResNet_18,  epoch 282, local model 7, internal_epoch   2,  Average loss: 0.0004, Accuracy: 351/352 (99.7159%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.7327, Accuracy: 5311/10000 (53.1100%)
___Train Local_ResNet_18,  epoch 282, local model 27, internal_epoch   1,  Average loss: 0.0017, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 282, local model 27, internal_epoch   2,  Average loss: 0.0008, Accuracy: 395/397 (99.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.3350, Accuracy: 6363/10000 (63.6300%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 282, local model 11, internal_epoch   1,  Average loss: 0.0027, Accuracy: 523/546 (95.7875%)
___Train Local_ResNet_18,  epoch 282, local model 11, internal_epoch   2,  Average loss: 0.0022, Accuracy: 522/546 (95.6044%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.7838, Accuracy: 5327/10000 (53.2700%)
___Train Local_ResNet_18,  epoch 282, local model 15, internal_epoch   1,  Average loss: 0.0078, Accuracy: 294/341 (86.2170%)
___Train Local_ResNet_18,  epoch 282, local model 15, internal_epoch   2,  Average loss: 0.0026, Accuracy: 325/341 (95.3079%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 7.4813, Accuracy: 1684/10000 (16.8400%)
___Train Local_ResNet_18,  epoch 282, local model 20, internal_epoch   1,  Average loss: 0.0068, Accuracy: 314/362 (86.7403%)
___Train Local_ResNet_18,  epoch 282, local model 20, internal_epoch   2,  Average loss: 0.0011, Accuracy: 353/362 (97.5138%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 6.4387, Accuracy: 2807/10000 (28.0700%)
___Train Local_ResNet_18,  epoch 282, local model 26, internal_epoch   1,  Average loss: 0.0030, Accuracy: 443/468 (94.6581%)
___Train Local_ResNet_18,  epoch 282, local model 26, internal_epoch   2,  Average loss: 0.0017, Accuracy: 454/468 (97.0085%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.6477, Accuracy: 5953/10000 (59.5300%)
time spent on training: 58.75744676589966
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13115541676675474  data num: [345, 618, 366, 368, 352, 397, 546, 341, 362, 468]
[foolsgold agg] considering poison per batch poison_fraction: 0.010246516934902715
[foolsgold agg] wv: [1.         0.         0.14178624 1.         1.         1.
 1.         0.         1.         0.14178624]
___Test Target_ResNet_18 poisoned: False, epoch: 282: Average loss: 0.6394, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 282: Average loss: 6.4915, Accuracy: 337/9000 (3.7444%)
Done in 126.89165878295898 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:283 choose agents : [71, 99, 72, 0, 21, 93, 62, 8, 3, 49]. Adversary List: []
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 1090/1166 (93.4820%)
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   2,  Average loss: 0.0091, Accuracy: 971/1166 (83.2762%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 7.4013, Accuracy: 3060/10000 (30.6000%)
___Train Local_ResNet_18,  epoch 283, local model 99, internal_epoch   1,  Average loss: 0.0042, Accuracy: 360/391 (92.0716%)
___Train Local_ResNet_18,  epoch 283, local model 99, internal_epoch   2,  Average loss: 0.0029, Accuracy: 375/391 (95.9079%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.4443, Accuracy: 3302/10000 (33.0200%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   1,  Average loss: 0.0100, Accuracy: 515/618 (83.3333%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   2,  Average loss: 0.0054, Accuracy: 542/618 (87.7023%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.0135, Accuracy: 3674/10000 (36.7400%)
___Train Local_ResNet_18,  epoch 283, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 335/367 (91.2807%)
___Train Local_ResNet_18,  epoch 283, local model 0, internal_epoch   2,  Average loss: 0.0018, Accuracy: 356/367 (97.0027%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 6.9277, Accuracy: 2164/10000 (21.6400%)
___Train Local_ResNet_18,  epoch 283, local model 21, internal_epoch   1,  Average loss: 0.0035, Accuracy: 247/262 (94.2748%)
___Train Local_ResNet_18,  epoch 283, local model 21, internal_epoch   2,  Average loss: 0.0054, Accuracy: 259/262 (98.8550%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 3.5491, Accuracy: 3236/10000 (32.3600%)
___Train Local_ResNet_18,  epoch 283, local model 93, internal_epoch   1,  Average loss: 0.0022, Accuracy: 562/584 (96.2329%)
___Train Local_ResNet_18,  epoch 283, local model 93, internal_epoch   2,  Average loss: 0.0019, Accuracy: 566/584 (96.9178%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.5674, Accuracy: 5816/10000 (58.1600%)
___Train Local_ResNet_18,  epoch 283, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 347/358 (96.9274%)
___Train Local_ResNet_18,  epoch 283, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.0719, Accuracy: 6828/10000 (68.2800%)
___Train Local_ResNet_18,  epoch 283, local model 8, internal_epoch   1,  Average loss: 0.0029, Accuracy: 504/534 (94.3820%)
___Train Local_ResNet_18,  epoch 283, local model 8, internal_epoch   2,  Average loss: 0.0020, Accuracy: 516/534 (96.6292%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 3.1961, Accuracy: 3260/10000 (32.6000%)
___Train Local_ResNet_18,  epoch 283, local model 3, internal_epoch   1,  Average loss: 0.0056, Accuracy: 702/780 (90.0000%)
___Train Local_ResNet_18,  epoch 283, local model 3, internal_epoch   2,  Average loss: 0.0087, Accuracy: 670/780 (85.8974%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.1512, Accuracy: 3192/10000 (31.9200%)
___Train Local_ResNet_18,  epoch 283, local model 49, internal_epoch   1,  Average loss: 0.0034, Accuracy: 397/426 (93.1925%)
___Train Local_ResNet_18,  epoch 283, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 416/426 (97.6526%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.9735, Accuracy: 5145/10000 (51.4500%)
time spent on training: 51.847556591033936
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 391, 618, 367, 262, 584, 358, 534, 780, 426]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.68079104 0.68079104 1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 283: Average loss: 0.6393, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 283: Average loss: 6.4909, Accuracy: 337/9000 (3.7444%)
Done in 118.9490020275116 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:284 choose agents : [96, 95, 79, 42, 86, 36, 44, 73, 62, 27]. Adversary List: []
___Train Local_ResNet_18,  epoch 284, local model 96, internal_epoch   1,  Average loss: 0.0032, Accuracy: 669/708 (94.4915%)
___Train Local_ResNet_18,  epoch 284, local model 96, internal_epoch   2,  Average loss: 0.0175, Accuracy: 502/708 (70.9040%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 37.6059, Accuracy: 1118/10000 (11.1800%)
___Train Local_ResNet_18,  epoch 284, local model 95, internal_epoch   1,  Average loss: 0.0073, Accuracy: 484/569 (85.0615%)
___Train Local_ResNet_18,  epoch 284, local model 95, internal_epoch   2,  Average loss: 0.0045, Accuracy: 514/569 (90.3339%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 11.9378, Accuracy: 1627/10000 (16.2700%)
___Train Local_ResNet_18,  epoch 284, local model 79, internal_epoch   1,  Average loss: 0.0057, Accuracy: 138/154 (89.6104%)
___Train Local_ResNet_18,  epoch 284, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.0250, Accuracy: 6980/10000 (69.8000%)
___Train Local_ResNet_18,  epoch 284, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 284, local model 42, internal_epoch   2,  Average loss: 0.0016, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 3.0617, Accuracy: 3644/10000 (36.4400%)
___Train Local_ResNet_18,  epoch 284, local model 86, internal_epoch   1,  Average loss: 0.0034, Accuracy: 201/212 (94.8113%)
___Train Local_ResNet_18,  epoch 284, local model 86, internal_epoch   2,  Average loss: 0.0016, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.0693, Accuracy: 6901/10000 (69.0100%)
___Train Local_ResNet_18,  epoch 284, local model 36, internal_epoch   1,  Average loss: 0.0049, Accuracy: 768/849 (90.4594%)
___Train Local_ResNet_18,  epoch 284, local model 36, internal_epoch   2,  Average loss: 0.0115, Accuracy: 665/849 (78.3274%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 10.7627, Accuracy: 1798/10000 (17.9800%)
___Train Local_ResNet_18,  epoch 284, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 405/436 (92.8899%)
___Train Local_ResNet_18,  epoch 284, local model 44, internal_epoch   2,  Average loss: 0.0019, Accuracy: 421/436 (96.5596%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.5802, Accuracy: 5681/10000 (56.8100%)
___Train Local_ResNet_18,  epoch 284, local model 73, internal_epoch   1,  Average loss: 0.0107, Accuracy: 396/500 (79.2000%)
___Train Local_ResNet_18,  epoch 284, local model 73, internal_epoch   2,  Average loss: 0.0037, Accuracy: 461/500 (92.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 4.5543, Accuracy: 3174/10000 (31.7400%)
___Train Local_ResNet_18,  epoch 284, local model 62, internal_epoch   1,  Average loss: 0.0015, Accuracy: 352/358 (98.3240%)
___Train Local_ResNet_18,  epoch 284, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 0.9333, Accuracy: 7122/10000 (71.2200%)
___Train Local_ResNet_18,  epoch 284, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 383/397 (96.4736%)
___Train Local_ResNet_18,  epoch 284, local model 27, internal_epoch   2,  Average loss: 0.0004, Accuracy: 396/397 (99.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.9959, Accuracy: 5463/10000 (54.6300%)
time spent on training: 54.250489234924316
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [708, 569, 154, 198, 212, 849, 436, 500, 358, 397]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.34825326 0.38958162 0.38958162 0.34825326 0.97819963 1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 284: Average loss: 0.6393, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 284: Average loss: 6.5074, Accuracy: 335/9000 (3.7222%)
Done in 120.37624597549438 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:285 choose agents : [44, 71, 61, 88, 23, 50, 20, 47, 67, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 406/436 (93.1193%)
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.4363, Accuracy: 5920/10000 (59.2000%)
___Train Local_ResNet_18,  epoch 285, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 1106/1166 (94.8542%)
___Train Local_ResNet_18,  epoch 285, local model 71, internal_epoch   2,  Average loss: 0.0071, Accuracy: 1017/1166 (87.2213%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 5.1797, Accuracy: 3912/10000 (39.1200%)
___Train Local_ResNet_18,  epoch 285, local model 61, internal_epoch   1,  Average loss: 0.0046, Accuracy: 543/590 (92.0339%)
___Train Local_ResNet_18,  epoch 285, local model 61, internal_epoch   2,  Average loss: 0.0070, Accuracy: 515/590 (87.2881%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 13.8550, Accuracy: 1358/10000 (13.5800%)
___Train Local_ResNet_18,  epoch 285, local model 88, internal_epoch   1,  Average loss: 0.0057, Accuracy: 392/447 (87.6957%)
___Train Local_ResNet_18,  epoch 285, local model 88, internal_epoch   2,  Average loss: 0.0018, Accuracy: 426/447 (95.3020%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 5.0623, Accuracy: 3014/10000 (30.1400%)
___Train Local_ResNet_18,  epoch 285, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 230/248 (92.7419%)
___Train Local_ResNet_18,  epoch 285, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.3706, Accuracy: 6017/10000 (60.1700%)
___Train Local_ResNet_18,  epoch 285, local model 50, internal_epoch   1,  Average loss: 0.0019, Accuracy: 389/401 (97.0075%)
___Train Local_ResNet_18,  epoch 285, local model 50, internal_epoch   2,  Average loss: 0.0005, Accuracy: 399/401 (99.5012%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 2.0319, Accuracy: 5585/10000 (55.8500%)
___Train Local_ResNet_18,  epoch 285, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 317/362 (87.5691%)
___Train Local_ResNet_18,  epoch 285, local model 20, internal_epoch   2,  Average loss: 0.0009, Accuracy: 359/362 (99.1713%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 5.4020, Accuracy: 3085/10000 (30.8500%)
___Train Local_ResNet_18,  epoch 285, local model 47, internal_epoch   1,  Average loss: 0.0023, Accuracy: 621/654 (94.9541%)
___Train Local_ResNet_18,  epoch 285, local model 47, internal_epoch   2,  Average loss: 0.0023, Accuracy: 638/654 (97.5535%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.8849, Accuracy: 5345/10000 (53.4500%)
___Train Local_ResNet_18,  epoch 285, local model 67, internal_epoch   1,  Average loss: 0.0027, Accuracy: 806/842 (95.7245%)
___Train Local_ResNet_18,  epoch 285, local model 67, internal_epoch   2,  Average loss: 0.0146, Accuracy: 636/842 (75.5344%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 95.6533, Accuracy: 1039/10000 (10.3900%)
___Train Local_ResNet_18,  epoch 285, local model 48, internal_epoch   1,  Average loss: 0.0043, Accuracy: 346/378 (91.5344%)
___Train Local_ResNet_18,  epoch 285, local model 48, internal_epoch   2,  Average loss: 0.0010, Accuracy: 373/378 (98.6772%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 3.3760, Accuracy: 3486/10000 (34.8600%)
time spent on training: 55.14868664741516
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [436, 1166, 590, 447, 248, 401, 362, 654, 842, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.27410293 1.         0.3469715  0.30521401 0.27410293 1.
 1.         1.         0.3469715  1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 285: Average loss: 0.6393, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 285: Average loss: 6.5145, Accuracy: 337/9000 (3.7444%)
Done in 122.29335761070251 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:286 choose agents : [85, 82, 19, 56, 41, 95, 18, 55, 21, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 286, local model 85, internal_epoch   1,  Average loss: 0.0058, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 286, local model 85, internal_epoch   2,  Average loss: 0.0024, Accuracy: 350/364 (96.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.9034, Accuracy: 3268/10000 (32.6800%)
___Train Local_ResNet_18,  epoch 286, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 583/601 (97.0050%)
___Train Local_ResNet_18,  epoch 286, local model 82, internal_epoch   2,  Average loss: 0.0015, Accuracy: 591/601 (98.3361%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.8427, Accuracy: 5486/10000 (54.8600%)
___Train Local_ResNet_18,  epoch 286, local model 19, internal_epoch   1,  Average loss: 0.0117, Accuracy: 136/173 (78.6127%)
___Train Local_ResNet_18,  epoch 286, local model 19, internal_epoch   2,  Average loss: 0.0017, Accuracy: 169/173 (97.6879%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.6797, Accuracy: 3692/10000 (36.9200%)
___Train Local_ResNet_18,  epoch 286, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 724/743 (97.4428%)
___Train Local_ResNet_18,  epoch 286, local model 56, internal_epoch   2,  Average loss: 0.0006, Accuracy: 735/743 (98.9233%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.1655, Accuracy: 6726/10000 (67.2600%)
___Train Local_ResNet_18,  epoch 286, local model 41, internal_epoch   1,  Average loss: 0.0081, Accuracy: 442/513 (86.1598%)
___Train Local_ResNet_18,  epoch 286, local model 41, internal_epoch   2,  Average loss: 0.0039, Accuracy: 468/513 (91.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 5.9972, Accuracy: 2797/10000 (27.9700%)
___Train Local_ResNet_18,  epoch 286, local model 95, internal_epoch   1,  Average loss: 0.0068, Accuracy: 490/569 (86.1160%)
___Train Local_ResNet_18,  epoch 286, local model 95, internal_epoch   2,  Average loss: 0.0040, Accuracy: 519/569 (91.2127%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.2239, Accuracy: 3181/10000 (31.8100%)
___Train Local_ResNet_18,  epoch 286, local model 18, internal_epoch   1,  Average loss: 0.0038, Accuracy: 359/386 (93.0052%)
___Train Local_ResNet_18,  epoch 286, local model 18, internal_epoch   2,  Average loss: 0.0153, Accuracy: 355/386 (91.9689%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.3582, Accuracy: 2993/10000 (29.9300%)
___Train Local_ResNet_18,  epoch 286, local model 55, internal_epoch   1,  Average loss: 0.0046, Accuracy: 274/299 (91.6388%)
___Train Local_ResNet_18,  epoch 286, local model 55, internal_epoch   2,  Average loss: 0.0007, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 8.5978, Accuracy: 1971/10000 (19.7100%)
___Train Local_ResNet_18,  epoch 286, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 244/262 (93.1298%)
___Train Local_ResNet_18,  epoch 286, local model 21, internal_epoch   2,  Average loss: 0.0021, Accuracy: 255/262 (97.3282%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.4074, Accuracy: 3643/10000 (36.4300%)
___Train Local_ResNet_18,  epoch 286, local model 10, internal_epoch   1,  Average loss: 0.0029, Accuracy: 710/752 (94.4149%)
___Train Local_ResNet_18,  epoch 286, local model 10, internal_epoch   2,  Average loss: 0.0023, Accuracy: 721/752 (95.8777%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.1586, Accuracy: 4095/10000 (40.9500%)
time spent on training: 53.76815319061279
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [364, 601, 173, 743, 513, 569, 386, 299, 262, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.35946987 0.         0.45223203 0.         1.
 1.         0.         0.35946987 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 286: Average loss: 0.6394, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 286: Average loss: 6.4879, Accuracy: 338/9000 (3.7556%)
Done in 120.69246459007263 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:287 choose agents : [57, 72, 11, 86, 1, 99, 5, 80, 42, 26]. Adversary List: []
___Train Local_ResNet_18,  epoch 287, local model 57, internal_epoch   1,  Average loss: 0.0051, Accuracy: 262/290 (90.3448%)
___Train Local_ResNet_18,  epoch 287, local model 57, internal_epoch   2,  Average loss: 0.0009, Accuracy: 287/290 (98.9655%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.7867, Accuracy: 4346/10000 (43.4600%)
___Train Local_ResNet_18,  epoch 287, local model 72, internal_epoch   1,  Average loss: 0.0078, Accuracy: 523/618 (84.6278%)
___Train Local_ResNet_18,  epoch 287, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 542/618 (87.7023%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 6.9017, Accuracy: 2392/10000 (23.9200%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 287, local model 11, internal_epoch   1,  Average loss: 0.0028, Accuracy: 519/546 (95.0549%)
___Train Local_ResNet_18,  epoch 287, local model 11, internal_epoch   2,  Average loss: 0.0025, Accuracy: 520/546 (95.2381%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.2354, Accuracy: 4712/10000 (47.1200%)
___Train Local_ResNet_18,  epoch 287, local model 86, internal_epoch   1,  Average loss: 0.0035, Accuracy: 199/212 (93.8679%)
___Train Local_ResNet_18,  epoch 287, local model 86, internal_epoch   2,  Average loss: 0.0007, Accuracy: 212/212 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.1707, Accuracy: 6754/10000 (67.5400%)
___Train Local_ResNet_18,  epoch 287, local model 1, internal_epoch   1,  Average loss: 0.0060, Accuracy: 605/641 (94.3838%)
___Train Local_ResNet_18,  epoch 287, local model 1, internal_epoch   2,  Average loss: 0.0039, Accuracy: 589/641 (91.8877%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 3.2414, Accuracy: 4487/10000 (44.8700%)
___Train Local_ResNet_18,  epoch 287, local model 99, internal_epoch   1,  Average loss: 0.0056, Accuracy: 357/391 (91.3043%)
___Train Local_ResNet_18,  epoch 287, local model 99, internal_epoch   2,  Average loss: 0.0148, Accuracy: 306/391 (78.2609%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 17.0319, Accuracy: 1249/10000 (12.4900%)
___Train Local_ResNet_18,  epoch 287, local model 5, internal_epoch   1,  Average loss: 0.0022, Accuracy: 348/365 (95.3425%)
___Train Local_ResNet_18,  epoch 287, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.6010, Accuracy: 6043/10000 (60.4300%)
___Train Local_ResNet_18,  epoch 287, local model 80, internal_epoch   1,  Average loss: 0.0049, Accuracy: 324/363 (89.2562%)
___Train Local_ResNet_18,  epoch 287, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 358/363 (98.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 4.3869, Accuracy: 3615/10000 (36.1500%)
___Train Local_ResNet_18,  epoch 287, local model 42, internal_epoch   1,  Average loss: 0.0035, Accuracy: 187/198 (94.4444%)
___Train Local_ResNet_18,  epoch 287, local model 42, internal_epoch   2,  Average loss: 0.0007, Accuracy: 197/198 (99.4949%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.6057, Accuracy: 5739/10000 (57.3900%)
___Train Local_ResNet_18,  epoch 287, local model 26, internal_epoch   1,  Average loss: 0.0032, Accuracy: 442/468 (94.4444%)
___Train Local_ResNet_18,  epoch 287, local model 26, internal_epoch   2,  Average loss: 0.0023, Accuracy: 449/468 (95.9402%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.1944, Accuracy: 5041/10000 (50.4100%)
time spent on training: 61.49051213264465
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13343108504398826  data num: [290, 618, 546, 212, 641, 391, 365, 363, 198, 468]
[foolsgold agg] considering poison per batch poison_fraction: 0.010424303519061583
[foolsgold agg] wv: [1.         0.3527958  0.50792143 0.34535848 0.60760467 0.34535848
 1.         1.         0.60760467 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 287: Average loss: 0.6398, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 287: Average loss: 6.4762, Accuracy: 339/9000 (3.7667%)
Done in 129.67205834388733 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:288 choose agents : [17, 31, 21, 57, 8, 87, 64, 12, 42, 65]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 288, local model 17, internal_epoch   1,  Average loss: 0.0031, Accuracy: 495/526 (94.1065%)
___Train Local_ResNet_18,  epoch 288, local model 17, internal_epoch   2,  Average loss: 0.0044, Accuracy: 489/526 (92.9658%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.2909, Accuracy: 4884/10000 (48.8400%)
___Train Local_ResNet_18,  epoch 288, local model 31, internal_epoch   1,  Average loss: 0.0026, Accuracy: 672/706 (95.1841%)
___Train Local_ResNet_18,  epoch 288, local model 31, internal_epoch   2,  Average loss: 0.0070, Accuracy: 667/706 (94.4759%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 3.5996, Accuracy: 3324/10000 (33.2400%)
___Train Local_ResNet_18,  epoch 288, local model 21, internal_epoch   1,  Average loss: 0.0051, Accuracy: 244/262 (93.1298%)
___Train Local_ResNet_18,  epoch 288, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 245/262 (93.5115%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 3.2099, Accuracy: 3680/10000 (36.8000%)
___Train Local_ResNet_18,  epoch 288, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 259/290 (89.3103%)
___Train Local_ResNet_18,  epoch 288, local model 57, internal_epoch   2,  Average loss: 0.0010, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.7550, Accuracy: 4614/10000 (46.1400%)
___Train Local_ResNet_18,  epoch 288, local model 8, internal_epoch   1,  Average loss: 0.0025, Accuracy: 507/534 (94.9438%)
___Train Local_ResNet_18,  epoch 288, local model 8, internal_epoch   2,  Average loss: 0.0018, Accuracy: 522/534 (97.7528%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.3554, Accuracy: 4491/10000 (44.9100%)
___Train Local_ResNet_18,  epoch 288, local model 87, internal_epoch   1,  Average loss: 0.0085, Accuracy: 341/397 (85.8942%)
___Train Local_ResNet_18,  epoch 288, local model 87, internal_epoch   2,  Average loss: 0.0111, Accuracy: 347/397 (87.4055%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 4.0265, Accuracy: 2993/10000 (29.9300%)
___Train Local_ResNet_18,  epoch 288, local model 64, internal_epoch   1,  Average loss: 0.0034, Accuracy: 634/686 (92.4198%)
___Train Local_ResNet_18,  epoch 288, local model 64, internal_epoch   2,  Average loss: 0.0023, Accuracy: 657/686 (95.7726%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.4978, Accuracy: 4546/10000 (45.4600%)
___Train Local_ResNet_18,  epoch 288, local model 12, internal_epoch   1,  Average loss: 0.0035, Accuracy: 904/977 (92.5281%)
___Train Local_ResNet_18,  epoch 288, local model 12, internal_epoch   2,  Average loss: 0.0070, Accuracy: 860/977 (88.0246%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 6.0393, Accuracy: 3029/10000 (30.2900%)
___Train Local_ResNet_18,  epoch 288, local model 42, internal_epoch   1,  Average loss: 0.0041, Accuracy: 187/198 (94.4444%)
___Train Local_ResNet_18,  epoch 288, local model 42, internal_epoch   2,  Average loss: 0.0025, Accuracy: 193/198 (97.4747%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.2399, Accuracy: 4565/10000 (45.6500%)
___Train Local_ResNet_18,  epoch 288, local model 65, internal_epoch   1,  Average loss: 0.0032, Accuracy: 299/314 (95.2229%)
___Train Local_ResNet_18,  epoch 288, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 314/314 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.7185, Accuracy: 4247/10000 (42.4700%)
time spent on training: 62.60541534423828
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10756646216768916  data num: [526, 706, 262, 290, 534, 397, 686, 977, 198, 314]
[foolsgold agg] considering poison per batch poison_fraction: 0.008403629856850715
[foolsgold agg] wv: [1.         1.         1.         1.         0.83225546 1.
 1.         1.         0.83225546 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 288: Average loss: 0.6383, Accuracy: 7888/10000 (78.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 288: Average loss: 6.4509, Accuracy: 347/9000 (3.8556%)
Done in 127.81522369384766 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:289 choose agents : [14, 42, 13, 92, 5, 34, 33, 74, 94, 15]. Adversary List: []
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   1,  Average loss: 0.0059, Accuracy: 276/318 (86.7925%)
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   2,  Average loss: 0.0011, Accuracy: 310/318 (97.4843%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 7.9516, Accuracy: 2108/10000 (21.0800%)
___Train Local_ResNet_18,  epoch 289, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 186/198 (93.9394%)
___Train Local_ResNet_18,  epoch 289, local model 42, internal_epoch   2,  Average loss: 0.0016, Accuracy: 194/198 (97.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.2085, Accuracy: 4602/10000 (46.0200%)
___Train Local_ResNet_18,  epoch 289, local model 13, internal_epoch   1,  Average loss: 0.0055, Accuracy: 552/620 (89.0323%)
___Train Local_ResNet_18,  epoch 289, local model 13, internal_epoch   2,  Average loss: 0.0031, Accuracy: 581/620 (93.7097%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.1280, Accuracy: 3597/10000 (35.9700%)
___Train Local_ResNet_18,  epoch 289, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 731/796 (91.8342%)
___Train Local_ResNet_18,  epoch 289, local model 92, internal_epoch   2,  Average loss: 0.0055, Accuracy: 713/796 (89.5729%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 8.7818, Accuracy: 2166/10000 (21.6600%)
___Train Local_ResNet_18,  epoch 289, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 353/365 (96.7123%)
___Train Local_ResNet_18,  epoch 289, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 364/365 (99.7260%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 1.3012, Accuracy: 6437/10000 (64.3700%)
___Train Local_ResNet_18,  epoch 289, local model 34, internal_epoch   1,  Average loss: 0.0047, Accuracy: 313/349 (89.6848%)
___Train Local_ResNet_18,  epoch 289, local model 34, internal_epoch   2,  Average loss: 0.0019, Accuracy: 339/349 (97.1347%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 5.1044, Accuracy: 2657/10000 (26.5700%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 289, local model 33, internal_epoch   1,  Average loss: 0.0039, Accuracy: 490/527 (92.9791%)
___Train Local_ResNet_18,  epoch 289, local model 33, internal_epoch   2,  Average loss: 0.0036, Accuracy: 493/527 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.5209, Accuracy: 4623/10000 (46.2300%)
___Train Local_ResNet_18,  epoch 289, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 442/469 (94.2431%)
___Train Local_ResNet_18,  epoch 289, local model 74, internal_epoch   2,  Average loss: 0.0016, Accuracy: 458/469 (97.6546%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.1636, Accuracy: 4876/10000 (48.7600%)
___Train Local_ResNet_18,  epoch 289, local model 94, internal_epoch   1,  Average loss: 0.0076, Accuracy: 169/203 (83.2512%)
___Train Local_ResNet_18,  epoch 289, local model 94, internal_epoch   2,  Average loss: 0.0063, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.0702, Accuracy: 3619/10000 (36.1900%)
___Train Local_ResNet_18,  epoch 289, local model 15, internal_epoch   1,  Average loss: 0.0076, Accuracy: 298/341 (87.3900%)
___Train Local_ResNet_18,  epoch 289, local model 15, internal_epoch   2,  Average loss: 0.0022, Accuracy: 328/341 (96.1877%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.4193, Accuracy: 3440/10000 (34.4000%)
time spent on training: 61.65471172332764
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12589584328714765  data num: [318, 198, 620, 796, 365, 349, 527, 469, 203, 341]
[foolsgold agg] considering poison per batch poison_fraction: 0.00983561275680841
[foolsgold agg] wv: [0.50597632 0.50597632 0.54559897 1.         0.34015518 0.
 0.34015518 1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 289: Average loss: 0.6384, Accuracy: 7889/10000 (78.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 289: Average loss: 6.4397, Accuracy: 349/9000 (3.8778%)
Done in 129.69004893302917 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:290 choose agents : [58, 17, 50, 51, 27, 6, 8, 20, 39, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 290, local model 58, internal_epoch   1,  Average loss: 0.0077, Accuracy: 202/234 (86.3248%)
___Train Local_ResNet_18,  epoch 290, local model 58, internal_epoch   2,  Average loss: 0.0003, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 6.0047, Accuracy: 2062/10000 (20.6200%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 290, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 506/526 (96.1977%)
___Train Local_ResNet_18,  epoch 290, local model 17, internal_epoch   2,  Average loss: 0.0012, Accuracy: 516/526 (98.0989%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.3485, Accuracy: 6293/10000 (62.9300%)
___Train Local_ResNet_18,  epoch 290, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 384/401 (95.7606%)
___Train Local_ResNet_18,  epoch 290, local model 50, internal_epoch   2,  Average loss: 0.0008, Accuracy: 397/401 (99.0025%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.6843, Accuracy: 5641/10000 (56.4100%)
___Train Local_ResNet_18,  epoch 290, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 449/479 (93.7370%)
___Train Local_ResNet_18,  epoch 290, local model 51, internal_epoch   2,  Average loss: 0.0015, Accuracy: 469/479 (97.9123%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 4.1810, Accuracy: 3359/10000 (33.5900%)
___Train Local_ResNet_18,  epoch 290, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 290, local model 27, internal_epoch   2,  Average loss: 0.0005, Accuracy: 395/397 (99.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.5642, Accuracy: 5990/10000 (59.9000%)
___Train Local_ResNet_18,  epoch 290, local model 6, internal_epoch   1,  Average loss: 0.0031, Accuracy: 490/520 (94.2308%)
___Train Local_ResNet_18,  epoch 290, local model 6, internal_epoch   2,  Average loss: 0.0028, Accuracy: 492/520 (94.6154%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.0045, Accuracy: 5193/10000 (51.9300%)
___Train Local_ResNet_18,  epoch 290, local model 8, internal_epoch   1,  Average loss: 0.0024, Accuracy: 515/534 (96.4419%)
___Train Local_ResNet_18,  epoch 290, local model 8, internal_epoch   2,  Average loss: 0.0018, Accuracy: 517/534 (96.8165%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.8130, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch 290, local model 20, internal_epoch   1,  Average loss: 0.0058, Accuracy: 318/362 (87.8453%)
___Train Local_ResNet_18,  epoch 290, local model 20, internal_epoch   2,  Average loss: 0.0016, Accuracy: 349/362 (96.4088%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 4.3168, Accuracy: 3607/10000 (36.0700%)
___Train Local_ResNet_18,  epoch 290, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 190/217 (87.5576%)
___Train Local_ResNet_18,  epoch 290, local model 39, internal_epoch   2,  Average loss: 0.0019, Accuracy: 212/217 (97.6959%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.4061, Accuracy: 4421/10000 (44.2100%)
___Train Local_ResNet_18,  epoch 290, local model 38, internal_epoch   1,  Average loss: 0.0023, Accuracy: 720/756 (95.2381%)
___Train Local_ResNet_18,  epoch 290, local model 38, internal_epoch   2,  Average loss: 0.0019, Accuracy: 726/756 (96.0317%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.3021, Accuracy: 5184/10000 (51.8400%)
time spent on training: 61.69174647331238
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11884319927699954  data num: [234, 526, 401, 479, 397, 520, 534, 362, 217, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.00928462494351559
[foolsgold agg] wv: [0.         0.         1.         1.         0.         0.
 0.         0.60953417 0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 290: Average loss: 0.6383, Accuracy: 7890/10000 (78.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 290: Average loss: 6.4425, Accuracy: 347/9000 (3.8556%)
Done in 128.83327627182007 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:291 choose agents : [34, 55, 96, 49, 88, 20, 8, 16, 35, 71]. Adversary List: []
___Train Local_ResNet_18,  epoch 291, local model 34, internal_epoch   1,  Average loss: 0.0047, Accuracy: 316/349 (90.5444%)
___Train Local_ResNet_18,  epoch 291, local model 34, internal_epoch   2,  Average loss: 0.0012, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.5734, Accuracy: 3829/10000 (38.2900%)
___Train Local_ResNet_18,  epoch 291, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 275/299 (91.9732%)
___Train Local_ResNet_18,  epoch 291, local model 55, internal_epoch   2,  Average loss: 0.0009, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.5332, Accuracy: 2786/10000 (27.8600%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   1,  Average loss: 0.0059, Accuracy: 662/708 (93.5028%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   2,  Average loss: 0.0267, Accuracy: 380/708 (53.6723%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 320.7225, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 291, local model 49, internal_epoch   1,  Average loss: 0.0028, Accuracy: 405/426 (95.0704%)
___Train Local_ResNet_18,  epoch 291, local model 49, internal_epoch   2,  Average loss: 0.0011, Accuracy: 419/426 (98.3568%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 2.5249, Accuracy: 4819/10000 (48.1900%)
___Train Local_ResNet_18,  epoch 291, local model 88, internal_epoch   1,  Average loss: 0.0059, Accuracy: 392/447 (87.6957%)
___Train Local_ResNet_18,  epoch 291, local model 88, internal_epoch   2,  Average loss: 0.0025, Accuracy: 422/447 (94.4072%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.9630, Accuracy: 2649/10000 (26.4900%)
___Train Local_ResNet_18,  epoch 291, local model 20, internal_epoch   1,  Average loss: 0.0055, Accuracy: 320/362 (88.3978%)
___Train Local_ResNet_18,  epoch 291, local model 20, internal_epoch   2,  Average loss: 0.0013, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 6.0593, Accuracy: 3039/10000 (30.3900%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 489/534 (91.5730%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   2,  Average loss: 0.0034, Accuracy: 498/534 (93.2584%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 4.7980, Accuracy: 2482/10000 (24.8200%)
___Train Local_ResNet_18,  epoch 291, local model 16, internal_epoch   1,  Average loss: 0.0024, Accuracy: 745/773 (96.3777%)
___Train Local_ResNet_18,  epoch 291, local model 16, internal_epoch   2,  Average loss: 0.0102, Accuracy: 642/773 (83.0530%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 11.1627, Accuracy: 1443/10000 (14.4300%)
___Train Local_ResNet_18,  epoch 291, local model 35, internal_epoch   1,  Average loss: 0.0066, Accuracy: 370/419 (88.3055%)
___Train Local_ResNet_18,  epoch 291, local model 35, internal_epoch   2,  Average loss: 0.0039, Accuracy: 391/419 (93.3174%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.7517, Accuracy: 3388/10000 (33.8800%)
___Train Local_ResNet_18,  epoch 291, local model 71, internal_epoch   1,  Average loss: 0.0033, Accuracy: 1088/1166 (93.3105%)
___Train Local_ResNet_18,  epoch 291, local model 71, internal_epoch   2,  Average loss: 0.0061, Accuracy: 1029/1166 (88.2504%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 4.2261, Accuracy: 3292/10000 (32.9200%)
time spent on training: 54.22094655036926
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [349, 299, 708, 426, 447, 362, 534, 773, 419, 1166]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 1. 1. 0. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 291: Average loss: 0.6364, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 291: Average loss: 6.4096, Accuracy: 359/9000 (3.9889%)
Done in 121.4975266456604 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:292 choose agents : [84, 32, 75, 4, 70, 91, 28, 55, 47, 92]. Adversary List: []
___Train Local_ResNet_18,  epoch 292, local model 84, internal_epoch   1,  Average loss: 0.0024, Accuracy: 1010/1053 (95.9164%)
___Train Local_ResNet_18,  epoch 292, local model 84, internal_epoch   2,  Average loss: 0.0031, Accuracy: 989/1053 (93.9221%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.6638, Accuracy: 5712/10000 (57.1200%)
___Train Local_ResNet_18,  epoch 292, local model 32, internal_epoch   1,  Average loss: 0.0024, Accuracy: 786/824 (95.3883%)
___Train Local_ResNet_18,  epoch 292, local model 32, internal_epoch   2,  Average loss: 0.0021, Accuracy: 786/824 (95.3883%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.8404, Accuracy: 4813/10000 (48.1300%)
___Train Local_ResNet_18,  epoch 292, local model 75, internal_epoch   1,  Average loss: 0.0025, Accuracy: 561/578 (97.0588%)
___Train Local_ResNet_18,  epoch 292, local model 75, internal_epoch   2,  Average loss: 0.0111, Accuracy: 475/578 (82.1799%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 16.9293, Accuracy: 1758/10000 (17.5800%)
___Train Local_ResNet_18,  epoch 292, local model 4, internal_epoch   1,  Average loss: 0.0046, Accuracy: 511/557 (91.7415%)
___Train Local_ResNet_18,  epoch 292, local model 4, internal_epoch   2,  Average loss: 0.0032, Accuracy: 520/557 (93.3573%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.7115, Accuracy: 4806/10000 (48.0600%)
___Train Local_ResNet_18,  epoch 292, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 570/610 (93.4426%)
___Train Local_ResNet_18,  epoch 292, local model 70, internal_epoch   2,  Average loss: 0.0018, Accuracy: 590/610 (96.7213%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.0642, Accuracy: 4898/10000 (48.9800%)
___Train Local_ResNet_18,  epoch 292, local model 91, internal_epoch   1,  Average loss: 0.0032, Accuracy: 220/234 (94.0171%)
___Train Local_ResNet_18,  epoch 292, local model 91, internal_epoch   2,  Average loss: 0.0007, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.3524, Accuracy: 6088/10000 (60.8800%)
___Train Local_ResNet_18,  epoch 292, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 402/423 (95.0355%)
___Train Local_ResNet_18,  epoch 292, local model 28, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/423 (98.5816%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.7588, Accuracy: 5672/10000 (56.7200%)
___Train Local_ResNet_18,  epoch 292, local model 55, internal_epoch   1,  Average loss: 0.0039, Accuracy: 275/299 (91.9732%)
___Train Local_ResNet_18,  epoch 292, local model 55, internal_epoch   2,  Average loss: 0.0005, Accuracy: 298/299 (99.6656%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 7.7100, Accuracy: 2224/10000 (22.2400%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   1,  Average loss: 0.0028, Accuracy: 623/654 (95.2599%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   2,  Average loss: 0.0034, Accuracy: 618/654 (94.4954%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.7598, Accuracy: 5008/10000 (50.0800%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   1,  Average loss: 0.0047, Accuracy: 734/796 (92.2111%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   2,  Average loss: 0.0083, Accuracy: 676/796 (84.9246%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 8.3637, Accuracy: 2387/10000 (23.8700%)
time spent on training: 51.919978857040405
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1053, 824, 578, 557, 610, 234, 423, 299, 654, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.51857691 0.28510938 1.         0.28510938 1.         0.51857691
 1.         1.         0.543188   1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 292: Average loss: 0.6359, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 292: Average loss: 6.4140, Accuracy: 356/9000 (3.9556%)
Done in 119.14313673973083 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:293 choose agents : [12, 99, 32, 86, 68, 93, 55, 94, 84, 89]. Adversary List: []
___Train Local_ResNet_18,  epoch 293, local model 12, internal_epoch   1,  Average loss: 0.0064, Accuracy: 880/977 (90.0716%)
___Train Local_ResNet_18,  epoch 293, local model 12, internal_epoch   2,  Average loss: 0.0141, Accuracy: 714/977 (73.0809%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 12.3290, Accuracy: 1986/10000 (19.8600%)
___Train Local_ResNet_18,  epoch 293, local model 99, internal_epoch   1,  Average loss: 0.0040, Accuracy: 363/391 (92.8389%)
___Train Local_ResNet_18,  epoch 293, local model 99, internal_epoch   2,  Average loss: 0.0038, Accuracy: 379/391 (96.9309%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.9266, Accuracy: 3840/10000 (38.4000%)
___Train Local_ResNet_18,  epoch 293, local model 32, internal_epoch   1,  Average loss: 0.0026, Accuracy: 781/824 (94.7816%)
___Train Local_ResNet_18,  epoch 293, local model 32, internal_epoch   2,  Average loss: 0.0022, Accuracy: 786/824 (95.3883%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.7537, Accuracy: 4894/10000 (48.9400%)
___Train Local_ResNet_18,  epoch 293, local model 86, internal_epoch   1,  Average loss: 0.0030, Accuracy: 201/212 (94.8113%)
___Train Local_ResNet_18,  epoch 293, local model 86, internal_epoch   2,  Average loss: 0.0009, Accuracy: 211/212 (99.5283%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2021, Accuracy: 6638/10000 (66.3800%)
___Train Local_ResNet_18,  epoch 293, local model 68, internal_epoch   1,  Average loss: 0.0024, Accuracy: 401/416 (96.3942%)
___Train Local_ResNet_18,  epoch 293, local model 68, internal_epoch   2,  Average loss: 0.0009, Accuracy: 413/416 (99.2788%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2109, Accuracy: 6527/10000 (65.2700%)
___Train Local_ResNet_18,  epoch 293, local model 93, internal_epoch   1,  Average loss: 0.0024, Accuracy: 557/584 (95.3767%)
___Train Local_ResNet_18,  epoch 293, local model 93, internal_epoch   2,  Average loss: 0.0010, Accuracy: 576/584 (98.6301%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.6539, Accuracy: 5649/10000 (56.4900%)
___Train Local_ResNet_18,  epoch 293, local model 55, internal_epoch   1,  Average loss: 0.0044, Accuracy: 274/299 (91.6388%)
___Train Local_ResNet_18,  epoch 293, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 8.0722, Accuracy: 1967/10000 (19.6700%)
___Train Local_ResNet_18,  epoch 293, local model 94, internal_epoch   1,  Average loss: 0.0070, Accuracy: 178/203 (87.6847%)
___Train Local_ResNet_18,  epoch 293, local model 94, internal_epoch   2,  Average loss: 0.0031, Accuracy: 196/203 (96.5517%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 3.6904, Accuracy: 3060/10000 (30.6000%)
___Train Local_ResNet_18,  epoch 293, local model 84, internal_epoch   1,  Average loss: 0.0022, Accuracy: 1010/1053 (95.9164%)
___Train Local_ResNet_18,  epoch 293, local model 84, internal_epoch   2,  Average loss: 0.0029, Accuracy: 997/1053 (94.6819%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.8694, Accuracy: 5551/10000 (55.5100%)
___Train Local_ResNet_18,  epoch 293, local model 89, internal_epoch   1,  Average loss: 0.0055, Accuracy: 364/413 (88.1356%)
___Train Local_ResNet_18,  epoch 293, local model 89, internal_epoch   2,  Average loss: 0.0027, Accuracy: 390/413 (94.4310%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 4.8129, Accuracy: 2557/10000 (25.5700%)
time spent on training: 52.01919436454773
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [977, 391, 824, 212, 416, 584, 299, 203, 1053, 413]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.11734815 1.         0.11734815 0.50470117 1.
 1.         0.         0.67179684 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 293: Average loss: 0.6356, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 293: Average loss: 6.4063, Accuracy: 357/9000 (3.9667%)
Done in 120.43146705627441 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:294 choose agents : [85, 53, 21, 90, 35, 87, 11, 29, 63, 6]. Adversary List: []
___Train Local_ResNet_18,  epoch 294, local model 85, internal_epoch   1,  Average loss: 0.0062, Accuracy: 316/364 (86.8132%)
___Train Local_ResNet_18,  epoch 294, local model 85, internal_epoch   2,  Average loss: 0.0016, Accuracy: 355/364 (97.5275%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.0756, Accuracy: 2412/10000 (24.1200%)
___Train Local_ResNet_18,  epoch 294, local model 53, internal_epoch   1,  Average loss: 0.0030, Accuracy: 590/625 (94.4000%)
___Train Local_ResNet_18,  epoch 294, local model 53, internal_epoch   2,  Average loss: 0.0020, Accuracy: 599/625 (95.8400%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 2.6933, Accuracy: 4602/10000 (46.0200%)
___Train Local_ResNet_18,  epoch 294, local model 21, internal_epoch   1,  Average loss: 0.0030, Accuracy: 251/262 (95.8015%)
___Train Local_ResNet_18,  epoch 294, local model 21, internal_epoch   2,  Average loss: 0.0030, Accuracy: 260/262 (99.2366%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 3.9616, Accuracy: 3575/10000 (35.7500%)
___Train Local_ResNet_18,  epoch 294, local model 90, internal_epoch   1,  Average loss: 0.0158, Accuracy: 534/578 (92.3875%)
___Train Local_ResNet_18,  epoch 294, local model 90, internal_epoch   2,  Average loss: 0.0110, Accuracy: 478/578 (82.6990%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 11.9579, Accuracy: 1820/10000 (18.2000%)
___Train Local_ResNet_18,  epoch 294, local model 35, internal_epoch   1,  Average loss: 0.0053, Accuracy: 376/419 (89.7375%)
___Train Local_ResNet_18,  epoch 294, local model 35, internal_epoch   2,  Average loss: 0.0021, Accuracy: 399/419 (95.2267%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.3509, Accuracy: 2827/10000 (28.2700%)
___Train Local_ResNet_18,  epoch 294, local model 87, internal_epoch   1,  Average loss: 0.0077, Accuracy: 341/397 (85.8942%)
___Train Local_ResNet_18,  epoch 294, local model 87, internal_epoch   2,  Average loss: 0.0089, Accuracy: 340/397 (85.6423%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 4.5686, Accuracy: 3068/10000 (30.6800%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 294, local model 11, internal_epoch   1,  Average loss: 0.0029, Accuracy: 524/546 (95.9707%)
___Train Local_ResNet_18,  epoch 294, local model 11, internal_epoch   2,  Average loss: 0.0031, Accuracy: 516/546 (94.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.4375, Accuracy: 5947/10000 (59.4700%)
___Train Local_ResNet_18,  epoch 294, local model 29, internal_epoch   1,  Average loss: 0.0046, Accuracy: 774/848 (91.2736%)
___Train Local_ResNet_18,  epoch 294, local model 29, internal_epoch   2,  Average loss: 0.0040, Accuracy: 791/848 (93.2783%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 11.0683, Accuracy: 1908/10000 (19.0800%)
___Train Local_ResNet_18,  epoch 294, local model 63, internal_epoch   1,  Average loss: 0.0021, Accuracy: 720/752 (95.7447%)
___Train Local_ResNet_18,  epoch 294, local model 63, internal_epoch   2,  Average loss: 0.0016, Accuracy: 724/752 (96.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.0672, Accuracy: 6780/10000 (67.8000%)
___Train Local_ResNet_18,  epoch 294, local model 6, internal_epoch   1,  Average loss: 0.0039, Accuracy: 486/520 (93.4615%)
___Train Local_ResNet_18,  epoch 294, local model 6, internal_epoch   2,  Average loss: 0.0091, Accuracy: 462/520 (88.8462%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.9760, Accuracy: 2175/10000 (21.7500%)
time spent on training: 62.38217854499817
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10280549802297119  data num: [364, 625, 262, 578, 419, 397, 546, 848, 752, 520]
[foolsgold agg] considering poison per batch poison_fraction: 0.008031679533044624
[foolsgold agg] wv: [0.91986725 1.         0.79440906 1.         1.         1.
 0.91986725 1.         1.         0.79440906]
___Test Target_ResNet_18 poisoned: False, epoch: 294: Average loss: 0.6348, Accuracy: 7894/10000 (78.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 294: Average loss: 6.3921, Accuracy: 363/9000 (4.0333%)
Done in 129.69845247268677 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:295 choose agents : [12, 32, 40, 95, 41, 87, 33, 94, 45, 52]. Adversary List: []
___Train Local_ResNet_18,  epoch 295, local model 12, internal_epoch   1,  Average loss: 0.0049, Accuracy: 895/977 (91.6070%)
___Train Local_ResNet_18,  epoch 295, local model 12, internal_epoch   2,  Average loss: 0.0103, Accuracy: 794/977 (81.2692%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 6.9799, Accuracy: 2544/10000 (25.4400%)
___Train Local_ResNet_18,  epoch 295, local model 32, internal_epoch   1,  Average loss: 0.0020, Accuracy: 794/824 (96.3592%)
___Train Local_ResNet_18,  epoch 295, local model 32, internal_epoch   2,  Average loss: 0.0018, Accuracy: 801/824 (97.2087%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 1.8324, Accuracy: 5838/10000 (58.3800%)
___Train Local_ResNet_18,  epoch 295, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 595/652 (91.2577%)
___Train Local_ResNet_18,  epoch 295, local model 40, internal_epoch   2,  Average loss: 0.0077, Accuracy: 569/652 (87.2699%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 5.5835, Accuracy: 2720/10000 (27.2000%)
___Train Local_ResNet_18,  epoch 295, local model 95, internal_epoch   1,  Average loss: 0.0079, Accuracy: 472/569 (82.9525%)
___Train Local_ResNet_18,  epoch 295, local model 95, internal_epoch   2,  Average loss: 0.0047, Accuracy: 517/569 (90.8612%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 6.8414, Accuracy: 2687/10000 (26.8700%)
___Train Local_ResNet_18,  epoch 295, local model 41, internal_epoch   1,  Average loss: 0.0190, Accuracy: 449/513 (87.5244%)
___Train Local_ResNet_18,  epoch 295, local model 41, internal_epoch   2,  Average loss: 0.0081, Accuracy: 431/513 (84.0156%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 7.1292, Accuracy: 2331/10000 (23.3100%)
___Train Local_ResNet_18,  epoch 295, local model 87, internal_epoch   1,  Average loss: 0.0074, Accuracy: 333/397 (83.8791%)
___Train Local_ResNet_18,  epoch 295, local model 87, internal_epoch   2,  Average loss: 0.0055, Accuracy: 359/397 (90.4282%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.2636, Accuracy: 4569/10000 (45.6900%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 295, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 490/527 (92.9791%)
___Train Local_ResNet_18,  epoch 295, local model 33, internal_epoch   2,  Average loss: 0.0085, Accuracy: 465/527 (88.2353%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.8862, Accuracy: 3918/10000 (39.1800%)
___Train Local_ResNet_18,  epoch 295, local model 94, internal_epoch   1,  Average loss: 0.0060, Accuracy: 173/203 (85.2217%)
___Train Local_ResNet_18,  epoch 295, local model 94, internal_epoch   2,  Average loss: 0.0014, Accuracy: 200/203 (98.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 3.5848, Accuracy: 3337/10000 (33.3700%)
___Train Local_ResNet_18,  epoch 295, local model 45, internal_epoch   1,  Average loss: 0.0057, Accuracy: 473/529 (89.4140%)
___Train Local_ResNet_18,  epoch 295, local model 45, internal_epoch   2,  Average loss: 0.0081, Accuracy: 460/529 (86.9565%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 7.6465, Accuracy: 2231/10000 (22.3100%)
___Train Local_ResNet_18,  epoch 295, local model 52, internal_epoch   1,  Average loss: 0.0061, Accuracy: 191/214 (89.2523%)
___Train Local_ResNet_18,  epoch 295, local model 52, internal_epoch   2,  Average loss: 0.0012, Accuracy: 212/214 (99.0654%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.6298, Accuracy: 4580/10000 (45.8000%)
time spent on training: 58.28439283370972
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09750231267345051  data num: [977, 824, 652, 569, 513, 397, 527, 203, 529, 214]
[foolsgold agg] considering poison per batch poison_fraction: 0.007617368177613321
[foolsgold agg] wv: [0.94424533 1.         0.         1.         0.         0.
 1.         0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 295: Average loss: 0.6361, Accuracy: 7884/10000 (78.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 295: Average loss: 6.3775, Accuracy: 362/9000 (4.0222%)
Done in 123.08207106590271 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:296 choose agents : [32, 46, 40, 24, 98, 10, 59, 96, 71, 78]. Adversary List: []
___Train Local_ResNet_18,  epoch 296, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 785/824 (95.2670%)
___Train Local_ResNet_18,  epoch 296, local model 32, internal_epoch   2,  Average loss: 0.0018, Accuracy: 797/824 (96.7233%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.0032, Accuracy: 5691/10000 (56.9100%)
___Train Local_ResNet_18,  epoch 296, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 588/601 (97.8369%)
___Train Local_ResNet_18,  epoch 296, local model 46, internal_epoch   2,  Average loss: 0.0005, Accuracy: 598/601 (99.5008%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.8033, Accuracy: 5355/10000 (53.5500%)
___Train Local_ResNet_18,  epoch 296, local model 40, internal_epoch   1,  Average loss: 0.0078, Accuracy: 573/652 (87.8834%)
___Train Local_ResNet_18,  epoch 296, local model 40, internal_epoch   2,  Average loss: 0.0173, Accuracy: 469/652 (71.9325%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 30.5152, Accuracy: 1041/10000 (10.4100%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   1,  Average loss: 0.0032, Accuracy: 299/320 (93.4375%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   2,  Average loss: 0.0003, Accuracy: 319/320 (99.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.0048, Accuracy: 5197/10000 (51.9700%)
___Train Local_ResNet_18,  epoch 296, local model 98, internal_epoch   1,  Average loss: 0.0040, Accuracy: 736/802 (91.7706%)
___Train Local_ResNet_18,  epoch 296, local model 98, internal_epoch   2,  Average loss: 0.0068, Accuracy: 690/802 (86.0349%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 10.1188, Accuracy: 2393/10000 (23.9300%)
___Train Local_ResNet_18,  epoch 296, local model 10, internal_epoch   1,  Average loss: 0.0055, Accuracy: 671/752 (89.2287%)
___Train Local_ResNet_18,  epoch 296, local model 10, internal_epoch   2,  Average loss: 0.0043, Accuracy: 689/752 (91.6223%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 5.9103, Accuracy: 2912/10000 (29.1200%)
___Train Local_ResNet_18,  epoch 296, local model 59, internal_epoch   1,  Average loss: 0.0034, Accuracy: 605/642 (94.2368%)
___Train Local_ResNet_18,  epoch 296, local model 59, internal_epoch   2,  Average loss: 0.0192, Accuracy: 491/642 (76.4798%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 437.5932, Accuracy: 998/10000 (9.9800%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   1,  Average loss: 0.0028, Accuracy: 678/708 (95.7627%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   2,  Average loss: 0.0183, Accuracy: 507/708 (71.6102%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 649.4915, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 296, local model 71, internal_epoch   1,  Average loss: 0.0029, Accuracy: 1097/1166 (94.0823%)
___Train Local_ResNet_18,  epoch 296, local model 71, internal_epoch   2,  Average loss: 0.0078, Accuracy: 995/1166 (85.3345%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 5.6510, Accuracy: 2912/10000 (29.1200%)
___Train Local_ResNet_18,  epoch 296, local model 78, internal_epoch   1,  Average loss: 0.0048, Accuracy: 229/255 (89.8039%)
___Train Local_ResNet_18,  epoch 296, local model 78, internal_epoch   2,  Average loss: 0.0011, Accuracy: 251/255 (98.4314%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.8912, Accuracy: 4274/10000 (42.7400%)
time spent on training: 51.30551600456238
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [824, 601, 652, 320, 802, 752, 642, 708, 1166, 255]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.47314855 1.         1.         1.
 0.         0.47314855 1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 296: Average loss: 0.6356, Accuracy: 7899/10000 (78.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 296: Average loss: 6.3885, Accuracy: 363/9000 (4.0333%)
Done in 116.73966407775879 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:297 choose agents : [95, 43, 1, 8, 17, 19, 94, 71, 63, 23]. Adversary List: []
___Train Local_ResNet_18,  epoch 297, local model 95, internal_epoch   1,  Average loss: 0.0080, Accuracy: 478/569 (84.0070%)
___Train Local_ResNet_18,  epoch 297, local model 95, internal_epoch   2,  Average loss: 0.0041, Accuracy: 521/569 (91.5641%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.4914, Accuracy: 2888/10000 (28.8800%)
___Train Local_ResNet_18,  epoch 297, local model 43, internal_epoch   1,  Average loss: 0.0056, Accuracy: 306/345 (88.6957%)
___Train Local_ResNet_18,  epoch 297, local model 43, internal_epoch   2,  Average loss: 0.0016, Accuracy: 338/345 (97.9710%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.6399, Accuracy: 3465/10000 (34.6500%)
___Train Local_ResNet_18,  epoch 297, local model 1, internal_epoch   1,  Average loss: 0.0032, Accuracy: 607/641 (94.6958%)
___Train Local_ResNet_18,  epoch 297, local model 1, internal_epoch   2,  Average loss: 0.0091, Accuracy: 619/641 (96.5679%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 2.6402, Accuracy: 4325/10000 (43.2500%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   1,  Average loss: 0.0029, Accuracy: 505/534 (94.5693%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   2,  Average loss: 0.0027, Accuracy: 514/534 (96.2547%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.9919, Accuracy: 4996/10000 (49.9600%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 297, local model 17, internal_epoch   1,  Average loss: 0.0025, Accuracy: 508/526 (96.5779%)
___Train Local_ResNet_18,  epoch 297, local model 17, internal_epoch   2,  Average loss: 0.0032, Accuracy: 506/526 (96.1977%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.9451, Accuracy: 5093/10000 (50.9300%)
___Train Local_ResNet_18,  epoch 297, local model 19, internal_epoch   1,  Average loss: 0.0129, Accuracy: 130/173 (75.1445%)
___Train Local_ResNet_18,  epoch 297, local model 19, internal_epoch   2,  Average loss: 0.0016, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 6.0172, Accuracy: 3208/10000 (32.0800%)
___Train Local_ResNet_18,  epoch 297, local model 94, internal_epoch   1,  Average loss: 0.0066, Accuracy: 176/203 (86.6995%)
___Train Local_ResNet_18,  epoch 297, local model 94, internal_epoch   2,  Average loss: 0.0008, Accuracy: 201/203 (99.0148%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.4617, Accuracy: 2613/10000 (26.1300%)
___Train Local_ResNet_18,  epoch 297, local model 71, internal_epoch   1,  Average loss: 0.0037, Accuracy: 1085/1166 (93.0532%)
___Train Local_ResNet_18,  epoch 297, local model 71, internal_epoch   2,  Average loss: 0.0100, Accuracy: 935/1166 (80.1887%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 7.9374, Accuracy: 2034/10000 (20.3400%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   1,  Average loss: 0.0020, Accuracy: 727/752 (96.6755%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   2,  Average loss: 0.0010, Accuracy: 742/752 (98.6702%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.1939, Accuracy: 6513/10000 (65.1300%)
___Train Local_ResNet_18,  epoch 297, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 232/248 (93.5484%)
___Train Local_ResNet_18,  epoch 297, local model 23, internal_epoch   2,  Average loss: 0.0006, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.5300, Accuracy: 5642/10000 (56.4200%)
time spent on training: 58.89409923553467
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10199728524335855  data num: [569, 345, 641, 534, 526, 173, 203, 1166, 752, 248]
[foolsgold agg] considering poison per batch poison_fraction: 0.007968537909637387
[foolsgold agg] wv: [1. 0. 1. 1. 1. 0. 0. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 297: Average loss: 0.6364, Accuracy: 7894/10000 (78.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 297: Average loss: 6.3889, Accuracy: 368/9000 (4.0889%)
Done in 124.67350769042969 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:298 choose agents : [38, 15, 57, 55, 80, 77, 88, 43, 28, 98]. Adversary List: []
___Train Local_ResNet_18,  epoch 298, local model 38, internal_epoch   1,  Average loss: 0.0023, Accuracy: 725/756 (95.8995%)
___Train Local_ResNet_18,  epoch 298, local model 38, internal_epoch   2,  Average loss: 0.0021, Accuracy: 727/756 (96.1640%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.3141, Accuracy: 4982/10000 (49.8200%)
___Train Local_ResNet_18,  epoch 298, local model 15, internal_epoch   1,  Average loss: 0.0077, Accuracy: 292/341 (85.6305%)
___Train Local_ResNet_18,  epoch 298, local model 15, internal_epoch   2,  Average loss: 0.0047, Accuracy: 310/341 (90.9091%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.4758, Accuracy: 3462/10000 (34.6200%)
___Train Local_ResNet_18,  epoch 298, local model 57, internal_epoch   1,  Average loss: 0.0043, Accuracy: 271/290 (93.4483%)
___Train Local_ResNet_18,  epoch 298, local model 57, internal_epoch   2,  Average loss: 0.0006, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.4909, Accuracy: 4823/10000 (48.2300%)
___Train Local_ResNet_18,  epoch 298, local model 55, internal_epoch   1,  Average loss: 0.0035, Accuracy: 282/299 (94.3144%)
___Train Local_ResNet_18,  epoch 298, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 9.6713, Accuracy: 2009/10000 (20.0900%)
___Train Local_ResNet_18,  epoch 298, local model 80, internal_epoch   1,  Average loss: 0.0052, Accuracy: 325/363 (89.5317%)
___Train Local_ResNet_18,  epoch 298, local model 80, internal_epoch   2,  Average loss: 0.0015, Accuracy: 355/363 (97.7961%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.8349, Accuracy: 4158/10000 (41.5800%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 298, local model 77, internal_epoch   1,  Average loss: 0.0019, Accuracy: 478/496 (96.3710%)
___Train Local_ResNet_18,  epoch 298, local model 77, internal_epoch   2,  Average loss: 0.0010, Accuracy: 490/496 (98.7903%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.4455, Accuracy: 6090/10000 (60.9000%)
___Train Local_ResNet_18,  epoch 298, local model 88, internal_epoch   1,  Average loss: 0.0064, Accuracy: 393/447 (87.9195%)
___Train Local_ResNet_18,  epoch 298, local model 88, internal_epoch   2,  Average loss: 0.0028, Accuracy: 416/447 (93.0649%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 4.8355, Accuracy: 2790/10000 (27.9000%)
___Train Local_ResNet_18,  epoch 298, local model 43, internal_epoch   1,  Average loss: 0.0051, Accuracy: 313/345 (90.7246%)
___Train Local_ResNet_18,  epoch 298, local model 43, internal_epoch   2,  Average loss: 0.0018, Accuracy: 335/345 (97.1014%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 4.6743, Accuracy: 3505/10000 (35.0500%)
___Train Local_ResNet_18,  epoch 298, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 409/423 (96.6903%)
___Train Local_ResNet_18,  epoch 298, local model 28, internal_epoch   2,  Average loss: 0.0006, Accuracy: 421/423 (99.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.4195, Accuracy: 6226/10000 (62.2600%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   1,  Average loss: 0.0029, Accuracy: 760/802 (94.7631%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   2,  Average loss: 0.0035, Accuracy: 744/802 (92.7681%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.9940, Accuracy: 4590/10000 (45.9000%)
time spent on training: 57.82042336463928
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10872424375274002  data num: [756, 341, 290, 299, 363, 496, 447, 345, 423, 802]
[foolsgold agg] considering poison per batch poison_fraction: 0.008494081543182814
[foolsgold agg] wv: [1.         1.         0.26055505 1.         1.         0.26055505
 0.35183267 0.         0.35183267 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 298: Average loss: 0.6363, Accuracy: 7893/10000 (78.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 298: Average loss: 6.3834, Accuracy: 366/9000 (4.0667%)
Done in 124.70796489715576 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:299 choose agents : [51, 96, 59, 53, 85, 64, 4, 80, 66, 21]. Adversary List: []
___Train Local_ResNet_18,  epoch 299, local model 51, internal_epoch   1,  Average loss: 0.0044, Accuracy: 430/479 (89.7704%)
___Train Local_ResNet_18,  epoch 299, local model 51, internal_epoch   2,  Average loss: 0.0016, Accuracy: 464/479 (96.8685%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 7.2671, Accuracy: 2577/10000 (25.7700%)
___Train Local_ResNet_18,  epoch 299, local model 96, internal_epoch   1,  Average loss: 0.0047, Accuracy: 670/708 (94.6328%)
___Train Local_ResNet_18,  epoch 299, local model 96, internal_epoch   2,  Average loss: 0.0242, Accuracy: 445/708 (62.8531%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 11.2373, Accuracy: 1374/10000 (13.7400%)
___Train Local_ResNet_18,  epoch 299, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 606/642 (94.3925%)
___Train Local_ResNet_18,  epoch 299, local model 59, internal_epoch   2,  Average loss: 0.0040, Accuracy: 625/642 (97.3520%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 6.1464, Accuracy: 2494/10000 (24.9400%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   1,  Average loss: 0.0029, Accuracy: 596/625 (95.3600%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   2,  Average loss: 0.0016, Accuracy: 607/625 (97.1200%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.6661, Accuracy: 4520/10000 (45.2000%)
___Train Local_ResNet_18,  epoch 299, local model 85, internal_epoch   1,  Average loss: 0.0051, Accuracy: 334/364 (91.7582%)
___Train Local_ResNet_18,  epoch 299, local model 85, internal_epoch   2,  Average loss: 0.0022, Accuracy: 353/364 (96.9780%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.7636, Accuracy: 3370/10000 (33.7000%)
___Train Local_ResNet_18,  epoch 299, local model 64, internal_epoch   1,  Average loss: 0.0034, Accuracy: 641/686 (93.4402%)
___Train Local_ResNet_18,  epoch 299, local model 64, internal_epoch   2,  Average loss: 0.0029, Accuracy: 649/686 (94.6064%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.4199, Accuracy: 4779/10000 (47.7900%)
___Train Local_ResNet_18,  epoch 299, local model 4, internal_epoch   1,  Average loss: 0.0039, Accuracy: 513/557 (92.1005%)
___Train Local_ResNet_18,  epoch 299, local model 4, internal_epoch   2,  Average loss: 0.0025, Accuracy: 534/557 (95.8707%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.0817, Accuracy: 4653/10000 (46.5300%)
___Train Local_ResNet_18,  epoch 299, local model 80, internal_epoch   1,  Average loss: 0.0049, Accuracy: 326/363 (89.8072%)
___Train Local_ResNet_18,  epoch 299, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 358/363 (98.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.5940, Accuracy: 4513/10000 (45.1300%)
___Train Local_ResNet_18,  epoch 299, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 522/555 (94.0541%)
___Train Local_ResNet_18,  epoch 299, local model 66, internal_epoch   2,  Average loss: 0.0008, Accuracy: 548/555 (98.7387%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.0131, Accuracy: 4204/10000 (42.0400%)
___Train Local_ResNet_18,  epoch 299, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 243/262 (92.7481%)
___Train Local_ResNet_18,  epoch 299, local model 21, internal_epoch   2,  Average loss: 0.0006, Accuracy: 257/262 (98.0916%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.3241, Accuracy: 4623/10000 (46.2300%)
time spent on training: 48.67579460144043
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [479, 708, 642, 625, 364, 686, 557, 363, 555, 262]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 0. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 299: Average loss: 0.6364, Accuracy: 7891/10000 (78.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 299: Average loss: 6.3764, Accuracy: 370/9000 (4.1111%)
Done in 113.90645146369934 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:300 choose agents : [17, 39, 59, 89, 57, 76, 93, 68, 65, 73]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 300, local model 17, internal_epoch   1,  Average loss: 0.0018, Accuracy: 517/526 (98.2890%)
___Train Local_ResNet_18,  epoch 300, local model 17, internal_epoch   2,  Average loss: 0.0008, Accuracy: 521/526 (99.0494%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.2890, Accuracy: 6487/10000 (64.8700%)
___Train Local_ResNet_18,  epoch 300, local model 39, internal_epoch   1,  Average loss: 0.0047, Accuracy: 196/217 (90.3226%)
___Train Local_ResNet_18,  epoch 300, local model 39, internal_epoch   2,  Average loss: 0.0007, Accuracy: 217/217 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 2.4956, Accuracy: 4599/10000 (45.9900%)
___Train Local_ResNet_18,  epoch 300, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 616/642 (95.9502%)
___Train Local_ResNet_18,  epoch 300, local model 59, internal_epoch   2,  Average loss: 0.0201, Accuracy: 466/642 (72.5857%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 442.1865, Accuracy: 1046/10000 (10.4600%)
___Train Local_ResNet_18,  epoch 300, local model 89, internal_epoch   1,  Average loss: 0.0068, Accuracy: 358/413 (86.6828%)
___Train Local_ResNet_18,  epoch 300, local model 89, internal_epoch   2,  Average loss: 0.0026, Accuracy: 395/413 (95.6416%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 4.5154, Accuracy: 2872/10000 (28.7200%)
___Train Local_ResNet_18,  epoch 300, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 262/290 (90.3448%)
___Train Local_ResNet_18,  epoch 300, local model 57, internal_epoch   2,  Average loss: 0.0007, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.0364, Accuracy: 4419/10000 (44.1900%)
___Train Local_ResNet_18,  epoch 300, local model 76, internal_epoch   1,  Average loss: 0.0275, Accuracy: 64/65 (98.4615%)
___Train Local_ResNet_18,  epoch 300, local model 76, internal_epoch   2,  Average loss: 0.0461, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 0.8466, Accuracy: 7373/10000 (73.7300%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   1,  Average loss: 0.0027, Accuracy: 549/584 (94.0068%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   2,  Average loss: 0.0034, Accuracy: 562/584 (96.2329%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.3592, Accuracy: 4155/10000 (41.5500%)
___Train Local_ResNet_18,  epoch 300, local model 68, internal_epoch   1,  Average loss: 0.0024, Accuracy: 404/416 (97.1154%)
___Train Local_ResNet_18,  epoch 300, local model 68, internal_epoch   2,  Average loss: 0.0006, Accuracy: 414/416 (99.5192%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.3889, Accuracy: 6238/10000 (62.3800%)
___Train Local_ResNet_18,  epoch 300, local model 65, internal_epoch   1,  Average loss: 0.0036, Accuracy: 294/314 (93.6306%)
___Train Local_ResNet_18,  epoch 300, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.0060, Accuracy: 3744/10000 (37.4400%)
___Train Local_ResNet_18,  epoch 300, local model 73, internal_epoch   1,  Average loss: 0.0097, Accuracy: 412/500 (82.4000%)
___Train Local_ResNet_18,  epoch 300, local model 73, internal_epoch   2,  Average loss: 0.0039, Accuracy: 464/500 (92.8000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.4885, Accuracy: 3733/10000 (37.3300%)
time spent on training: 57.413390159606934
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13259389967229646  data num: [526, 217, 642, 413, 290, 65, 584, 416, 314, 500]
[foolsgold agg] considering poison per batch poison_fraction: 0.01035889841189816
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 0. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 300: Average loss: 0.6366, Accuracy: 7902/10000 (79.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 300: Average loss: 6.3532, Accuracy: 372/9000 (4.1333%)
Done in 123.2444121837616 sec.
Saving all the graphs.
This run has a label: Nov.13_08.32.54. Visdom environment: cifar
