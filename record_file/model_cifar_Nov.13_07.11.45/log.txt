current path: saved_models/model_cifar_Nov.13_07.11.45
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.1 and current epoch is 201
create model done
Poisoned following participants: [17, 33, 77, 11]
We use following environment for graphs:  cifar
----------------------------------Start one training epoch------------------------------------------
Server Epoch:201 choose agents : [37, 53, 39, 11, 57, 63, 48, 50, 72, 88]. Adversary List: []
___Train Local_ResNet_18,  epoch 201, local model 37, internal_epoch   1,  Average loss: 0.0088, Accuracy: 601/725 (82.8966%)
___Train Local_ResNet_18,  epoch 201, local model 37, internal_epoch   2,  Average loss: 0.0158, Accuracy: 534/725 (73.6552%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 24.4553, Accuracy: 1823/10000 (18.2300%)
___Train Local_ResNet_18,  epoch 201, local model 53, internal_epoch   1,  Average loss: 0.0048, Accuracy: 562/625 (89.9200%)
___Train Local_ResNet_18,  epoch 201, local model 53, internal_epoch   2,  Average loss: 0.0037, Accuracy: 581/625 (92.9600%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 5.2039, Accuracy: 2695/10000 (26.9500%)
___Train Local_ResNet_18,  epoch 201, local model 39, internal_epoch   1,  Average loss: 0.0081, Accuracy: 182/217 (83.8710%)
___Train Local_ResNet_18,  epoch 201, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.2960, Accuracy: 3031/10000 (30.3100%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 201, local model 11, internal_epoch   1,  Average loss: 0.0036, Accuracy: 509/546 (93.2234%)
___Train Local_ResNet_18,  epoch 201, local model 11, internal_epoch   2,  Average loss: 0.0022, Accuracy: 520/546 (95.2381%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.1260, Accuracy: 5097/10000 (50.9700%)
___Train Local_ResNet_18,  epoch 201, local model 57, internal_epoch   1,  Average loss: 0.0064, Accuracy: 251/290 (86.5517%)
___Train Local_ResNet_18,  epoch 201, local model 57, internal_epoch   2,  Average loss: 0.0012, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.8988, Accuracy: 3814/10000 (38.1400%)
___Train Local_ResNet_18,  epoch 201, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 703/752 (93.4840%)
___Train Local_ResNet_18,  epoch 201, local model 63, internal_epoch   2,  Average loss: 0.0029, Accuracy: 710/752 (94.4149%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.6742, Accuracy: 4772/10000 (47.7200%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   1,  Average loss: 0.0063, Accuracy: 327/378 (86.5079%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   2,  Average loss: 0.0024, Accuracy: 358/378 (94.7090%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.1365, Accuracy: 3974/10000 (39.7400%)
___Train Local_ResNet_18,  epoch 201, local model 50, internal_epoch   1,  Average loss: 0.0027, Accuracy: 384/401 (95.7606%)
___Train Local_ResNet_18,  epoch 201, local model 50, internal_epoch   2,  Average loss: 0.0022, Accuracy: 391/401 (97.5062%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.6172, Accuracy: 3828/10000 (38.2800%)
___Train Local_ResNet_18,  epoch 201, local model 72, internal_epoch   1,  Average loss: 0.0081, Accuracy: 527/618 (85.2751%)
___Train Local_ResNet_18,  epoch 201, local model 72, internal_epoch   2,  Average loss: 0.0083, Accuracy: 537/618 (86.8932%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 8.7728, Accuracy: 2787/10000 (27.8700%)
___Train Local_ResNet_18,  epoch 201, local model 88, internal_epoch   1,  Average loss: 0.0086, Accuracy: 372/447 (83.2215%)
___Train Local_ResNet_18,  epoch 201, local model 88, internal_epoch   2,  Average loss: 0.0050, Accuracy: 401/447 (89.7092%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.1966, Accuracy: 3032/10000 (30.3200%)
time spent on training: 53.93802857398987
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10922184436887378  data num: [725, 625, 217, 546, 290, 752, 378, 401, 618, 447]
[foolsgold agg] considering poison per batch poison_fraction: 0.008532956591318263
[foolsgold agg] wv: [1.         0.97087836 1.         1.         0.         0.
 0.97087836 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 201: Average loss: 0.7347, Accuracy: 7598/10000 (75.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 201: Average loss: 6.6292, Accuracy: 199/9000 (2.2111%)
Done in 91.79338073730469 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:202 choose agents : [71, 92, 23, 26, 50, 14, 76, 49, 86, 58]. Adversary List: []
___Train Local_ResNet_18,  epoch 202, local model 71, internal_epoch   1,  Average loss: 0.0054, Accuracy: 1043/1166 (89.4511%)
___Train Local_ResNet_18,  epoch 202, local model 71, internal_epoch   2,  Average loss: 0.0098, Accuracy: 939/1166 (80.5317%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 22.9088, Accuracy: 1426/10000 (14.2600%)
___Train Local_ResNet_18,  epoch 202, local model 92, internal_epoch   1,  Average loss: 0.0078, Accuracy: 691/796 (86.8090%)
___Train Local_ResNet_18,  epoch 202, local model 92, internal_epoch   2,  Average loss: 0.0072, Accuracy: 689/796 (86.5578%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 4.4169, Accuracy: 2731/10000 (27.3100%)
___Train Local_ResNet_18,  epoch 202, local model 23, internal_epoch   1,  Average loss: 0.0051, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 202, local model 23, internal_epoch   2,  Average loss: 0.0012, Accuracy: 244/248 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 3.4277, Accuracy: 3458/10000 (34.5800%)
___Train Local_ResNet_18,  epoch 202, local model 26, internal_epoch   1,  Average loss: 0.0060, Accuracy: 418/468 (89.3162%)
___Train Local_ResNet_18,  epoch 202, local model 26, internal_epoch   2,  Average loss: 0.0071, Accuracy: 410/468 (87.6068%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 3.4676, Accuracy: 3896/10000 (38.9600%)
___Train Local_ResNet_18,  epoch 202, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 383/401 (95.5112%)
___Train Local_ResNet_18,  epoch 202, local model 50, internal_epoch   2,  Average loss: 0.0010, Accuracy: 393/401 (98.0050%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.4653, Accuracy: 4878/10000 (48.7800%)
___Train Local_ResNet_18,  epoch 202, local model 14, internal_epoch   1,  Average loss: 0.0091, Accuracy: 259/318 (81.4465%)
___Train Local_ResNet_18,  epoch 202, local model 14, internal_epoch   2,  Average loss: 0.0027, Accuracy: 302/318 (94.9686%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 10.6293, Accuracy: 1799/10000 (17.9900%)
___Train Local_ResNet_18,  epoch 202, local model 76, internal_epoch   1,  Average loss: 0.0462, Accuracy: 57/65 (87.6923%)
___Train Local_ResNet_18,  epoch 202, local model 76, internal_epoch   2,  Average loss: 0.0028, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.3909, Accuracy: 4037/10000 (40.3700%)
___Train Local_ResNet_18,  epoch 202, local model 49, internal_epoch   1,  Average loss: 0.0040, Accuracy: 398/426 (93.4272%)
___Train Local_ResNet_18,  epoch 202, local model 49, internal_epoch   2,  Average loss: 0.0018, Accuracy: 412/426 (96.7136%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.0238, Accuracy: 5026/10000 (50.2600%)
___Train Local_ResNet_18,  epoch 202, local model 86, internal_epoch   1,  Average loss: 0.0059, Accuracy: 189/212 (89.1509%)
___Train Local_ResNet_18,  epoch 202, local model 86, internal_epoch   2,  Average loss: 0.0023, Accuracy: 208/212 (98.1132%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 1.7866, Accuracy: 5635/10000 (56.3500%)
___Train Local_ResNet_18,  epoch 202, local model 58, internal_epoch   1,  Average loss: 0.0098, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 202, local model 58, internal_epoch   2,  Average loss: 0.0007, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 7.7152, Accuracy: 1680/10000 (16.8000%)
time spent on training: 40.463316679000854
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 796, 248, 468, 401, 318, 65, 426, 212, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.97496685 1.         1.         1.         0.
 0.         0.97496685 1.         0.7967503 ]
___Test Target_ResNet_18 poisoned: False, epoch: 202: Average loss: 0.7325, Accuracy: 7612/10000 (76.1200%)
___Test Target_ResNet_18 poisoned: True, epoch: 202: Average loss: 6.6431, Accuracy: 199/9000 (2.2111%)
Done in 77.42821741104126 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:203 choose agents : [17, 6, 94, 61, 33, 71, 8, 69, 89, 64]. Adversary List: [17]
poison local model 17 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   1,  Average loss: 0.0179, Accuracy: 443/526 (84.2205%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   2,  Average loss: 0.0172, Accuracy: 420/526 (79.8479%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   3,  Average loss: 0.0086, Accuracy: 455/526 (86.5019%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   4,  Average loss: 0.0051, Accuracy: 499/526 (94.8669%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   5,  Average loss: 0.0047, Accuracy: 507/526 (96.3878%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 17, internal_epoch   6,  Average loss: 0.0019, Accuracy: 515/526 (97.9087%), train_poison_data_count: 45
Global model norm: 37.66258537214436.
Norm before scaling: 39.033991159248785. Distance: 11.872510147074324
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 1.7583, Accuracy: 4693/10000 (46.9300%)
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: 0.4777, Accuracy: 7603/9000 (84.4778%)
Scaling by  100
Scaled Norm after poisoning: 1186.3413821493373, distance: 1187.2510265314577
Total norm for 2 adversaries is: 1186.3413821493373. distance: 1187.2510265314577
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 477/520 (91.7308%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   2,  Average loss: 0.0035, Accuracy: 487/520 (93.6538%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.1620, Accuracy: 4185/10000 (41.8500%)
___Train Local_ResNet_18,  epoch 203, local model 94, internal_epoch   1,  Average loss: 0.0082, Accuracy: 167/203 (82.2660%)
___Train Local_ResNet_18,  epoch 203, local model 94, internal_epoch   2,  Average loss: 0.0053, Accuracy: 190/203 (93.5961%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 5.0257, Accuracy: 2550/10000 (25.5000%)
___Train Local_ResNet_18,  epoch 203, local model 61, internal_epoch   1,  Average loss: 0.0042, Accuracy: 546/590 (92.5424%)
___Train Local_ResNet_18,  epoch 203, local model 61, internal_epoch   2,  Average loss: 0.0051, Accuracy: 536/590 (90.8475%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.8613, Accuracy: 2849/10000 (28.4900%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 203, local model 33, internal_epoch   1,  Average loss: 0.0051, Accuracy: 476/527 (90.3226%)
___Train Local_ResNet_18,  epoch 203, local model 33, internal_epoch   2,  Average loss: 0.0044, Accuracy: 486/527 (92.2201%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.9819, Accuracy: 2897/10000 (28.9700%)
___Train Local_ResNet_18,  epoch 203, local model 71, internal_epoch   1,  Average loss: 0.0047, Accuracy: 1061/1166 (90.9949%)
___Train Local_ResNet_18,  epoch 203, local model 71, internal_epoch   2,  Average loss: 0.0064, Accuracy: 1017/1166 (87.2213%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.1323, Accuracy: 3380/10000 (33.8000%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   1,  Average loss: 0.0045, Accuracy: 496/534 (92.8839%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   2,  Average loss: 0.0049, Accuracy: 490/534 (91.7603%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 1.9799, Accuracy: 5012/10000 (50.1200%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   1,  Average loss: 0.0072, Accuracy: 186/216 (86.1111%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 8.3611, Accuracy: 1290/10000 (12.9000%)
___Train Local_ResNet_18,  epoch 203, local model 89, internal_epoch   1,  Average loss: 0.0086, Accuracy: 344/413 (83.2930%)
___Train Local_ResNet_18,  epoch 203, local model 89, internal_epoch   2,  Average loss: 0.0045, Accuracy: 382/413 (92.4939%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 5.5407, Accuracy: 2615/10000 (26.1500%)
___Train Local_ResNet_18,  epoch 203, local model 64, internal_epoch   1,  Average loss: 0.0054, Accuracy: 602/686 (87.7551%)
___Train Local_ResNet_18,  epoch 203, local model 64, internal_epoch   2,  Average loss: 0.0058, Accuracy: 600/686 (87.4636%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.1310, Accuracy: 4006/10000 (40.0600%)
time spent on training: 87.20643091201782
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.19568853372979  data num: [526, 520, 203, 590, 527, 1166, 534, 216, 413, 686]
[foolsgold agg] considering poison per batch poison_fraction: 0.015288166697639844
[foolsgold agg] wv: [1.        1.        1.        1.        1.        1.        0.6076823
 1.        1.        0.6076823]
___Test Target_ResNet_18 poisoned: False, epoch: 203: Average loss: 0.7251, Accuracy: 7620/10000 (76.2000%)
___Test Target_ResNet_18 poisoned: True, epoch: 203: Average loss: 6.6106, Accuracy: 210/9000 (2.3333%)
Done in 129.19892144203186 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:204 choose agents : [38, 77, 64, 29, 23, 83, 43, 56, 45, 1]. Adversary List: []
___Train Local_ResNet_18,  epoch 204, local model 38, internal_epoch   1,  Average loss: 0.0035, Accuracy: 706/756 (93.3862%)
___Train Local_ResNet_18,  epoch 204, local model 38, internal_epoch   2,  Average loss: 0.0042, Accuracy: 697/756 (92.1958%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 3.3484, Accuracy: 4241/10000 (42.4100%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 204, local model 77, internal_epoch   1,  Average loss: 0.0037, Accuracy: 458/496 (92.3387%)
___Train Local_ResNet_18,  epoch 204, local model 77, internal_epoch   2,  Average loss: 0.0023, Accuracy: 479/496 (96.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.4572, Accuracy: 5698/10000 (56.9800%)
___Train Local_ResNet_18,  epoch 204, local model 64, internal_epoch   1,  Average loss: 0.0045, Accuracy: 620/686 (90.3790%)
___Train Local_ResNet_18,  epoch 204, local model 64, internal_epoch   2,  Average loss: 0.0048, Accuracy: 621/686 (90.5248%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 3.1459, Accuracy: 3548/10000 (35.4800%)
___Train Local_ResNet_18,  epoch 204, local model 29, internal_epoch   1,  Average loss: 0.0069, Accuracy: 746/848 (87.9717%)
___Train Local_ResNet_18,  epoch 204, local model 29, internal_epoch   2,  Average loss: 0.0074, Accuracy: 734/848 (86.5566%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 8.3925, Accuracy: 2196/10000 (21.9600%)
___Train Local_ResNet_18,  epoch 204, local model 23, internal_epoch   1,  Average loss: 0.0050, Accuracy: 219/248 (88.3065%)
___Train Local_ResNet_18,  epoch 204, local model 23, internal_epoch   2,  Average loss: 0.0015, Accuracy: 241/248 (97.1774%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.6625, Accuracy: 4094/10000 (40.9400%)
___Train Local_ResNet_18,  epoch 204, local model 83, internal_epoch   1,  Average loss: 0.0029, Accuracy: 343/366 (93.7158%)
___Train Local_ResNet_18,  epoch 204, local model 83, internal_epoch   2,  Average loss: 0.0010, Accuracy: 361/366 (98.6339%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 2.2239, Accuracy: 5194/10000 (51.9400%)
___Train Local_ResNet_18,  epoch 204, local model 43, internal_epoch   1,  Average loss: 0.0074, Accuracy: 300/345 (86.9565%)
___Train Local_ResNet_18,  epoch 204, local model 43, internal_epoch   2,  Average loss: 0.0024, Accuracy: 324/345 (93.9130%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 10.1545, Accuracy: 1907/10000 (19.0700%)
___Train Local_ResNet_18,  epoch 204, local model 56, internal_epoch   1,  Average loss: 0.0019, Accuracy: 714/743 (96.0969%)
___Train Local_ResNet_18,  epoch 204, local model 56, internal_epoch   2,  Average loss: 0.0018, Accuracy: 719/743 (96.7699%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.5563, Accuracy: 5932/10000 (59.3200%)
___Train Local_ResNet_18,  epoch 204, local model 45, internal_epoch   1,  Average loss: 0.0091, Accuracy: 454/529 (85.8223%)
___Train Local_ResNet_18,  epoch 204, local model 45, internal_epoch   2,  Average loss: 0.0110, Accuracy: 434/529 (82.0416%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 17.5921, Accuracy: 1101/10000 (11.0100%)
___Train Local_ResNet_18,  epoch 204, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 586/641 (91.4197%)
___Train Local_ResNet_18,  epoch 204, local model 1, internal_epoch   2,  Average loss: 0.0122, Accuracy: 517/641 (80.6552%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 6.6094, Accuracy: 3486/10000 (34.8600%)
time spent on training: 55.72613859176636
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08766348533050548  data num: [756, 496, 686, 848, 248, 366, 345, 743, 529, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.006848709791445741
[foolsgold agg] wv: [1.         1.         0.58785425 1.         1.         1.
 1.         1.         0.58785425 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 204: Average loss: 0.7222, Accuracy: 7635/10000 (76.3500%)
___Test Target_ResNet_18 poisoned: True, epoch: 204: Average loss: 6.5953, Accuracy: 218/9000 (2.4222%)
Done in 92.54460716247559 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:205 choose agents : [33, 50, 16, 12, 44, 86, 20, 49, 43, 28]. Adversary List: [33]
poison local model 33 index 1 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   1,  Average loss: 0.0134, Accuracy: 445/527 (84.4402%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   2,  Average loss: 0.0119, Accuracy: 451/527 (85.5787%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   3,  Average loss: 0.0071, Accuracy: 468/527 (88.8046%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   4,  Average loss: 0.0039, Accuracy: 497/527 (94.3074%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   5,  Average loss: 0.0030, Accuracy: 508/527 (96.3947%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 33, internal_epoch   6,  Average loss: 0.0035, Accuracy: 506/527 (96.0152%), train_poison_data_count: 45
Global model norm: 37.66287059278757.
Norm before scaling: 38.55828013276623. Distance: 10.020036841532274
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.7745, Accuracy: 4886/10000 (48.8600%)
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: 0.2335, Accuracy: 8336/9000 (92.6222%)
Scaling by  100
Scaled Norm after poisoning: 1001.1067001074362, distance: 1002.0036801329624
Total norm for 1 adversaries is: 1001.1067001074362. distance: 1002.0036801329624
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 205, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 383/401 (95.5112%)
___Train Local_ResNet_18,  epoch 205, local model 50, internal_epoch   2,  Average loss: 0.0016, Accuracy: 390/401 (97.2569%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.3544, Accuracy: 4682/10000 (46.8200%)
___Train Local_ResNet_18,  epoch 205, local model 16, internal_epoch   1,  Average loss: 0.0063, Accuracy: 707/773 (91.4618%)
___Train Local_ResNet_18,  epoch 205, local model 16, internal_epoch   2,  Average loss: 0.0214, Accuracy: 503/773 (65.0712%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 297.1543, Accuracy: 1208/10000 (12.0800%)
___Train Local_ResNet_18,  epoch 205, local model 12, internal_epoch   1,  Average loss: 0.0068, Accuracy: 866/977 (88.6387%)
___Train Local_ResNet_18,  epoch 205, local model 12, internal_epoch   2,  Average loss: 0.0072, Accuracy: 840/977 (85.9775%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 9.4015, Accuracy: 2656/10000 (26.5600%)
___Train Local_ResNet_18,  epoch 205, local model 44, internal_epoch   1,  Average loss: 0.0049, Accuracy: 387/436 (88.7615%)
___Train Local_ResNet_18,  epoch 205, local model 44, internal_epoch   2,  Average loss: 0.0026, Accuracy: 413/436 (94.7248%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 3.0659, Accuracy: 3827/10000 (38.2700%)
___Train Local_ResNet_18,  epoch 205, local model 86, internal_epoch   1,  Average loss: 0.0051, Accuracy: 188/212 (88.6792%)
___Train Local_ResNet_18,  epoch 205, local model 86, internal_epoch   2,  Average loss: 0.0038, Accuracy: 208/212 (98.1132%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.6374, Accuracy: 5693/10000 (56.9300%)
___Train Local_ResNet_18,  epoch 205, local model 20, internal_epoch   1,  Average loss: 0.0079, Accuracy: 308/362 (85.0829%)
___Train Local_ResNet_18,  epoch 205, local model 20, internal_epoch   2,  Average loss: 0.0017, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 5.3575, Accuracy: 3030/10000 (30.3000%)
___Train Local_ResNet_18,  epoch 205, local model 49, internal_epoch   1,  Average loss: 0.0037, Accuracy: 399/426 (93.6620%)
___Train Local_ResNet_18,  epoch 205, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 420/426 (98.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.4905, Accuracy: 4503/10000 (45.0300%)
___Train Local_ResNet_18,  epoch 205, local model 43, internal_epoch   1,  Average loss: 0.0085, Accuracy: 298/345 (86.3768%)
___Train Local_ResNet_18,  epoch 205, local model 43, internal_epoch   2,  Average loss: 0.0050, Accuracy: 325/345 (94.2029%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 4.1495, Accuracy: 3690/10000 (36.9000%)
___Train Local_ResNet_18,  epoch 205, local model 28, internal_epoch   1,  Average loss: 0.0028, Accuracy: 397/423 (93.8534%)
___Train Local_ResNet_18,  epoch 205, local model 28, internal_epoch   2,  Average loss: 0.0018, Accuracy: 413/423 (97.6359%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.6977, Accuracy: 5592/10000 (55.9200%)
time spent on training: 83.26728057861328
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10794756247439574  data num: [527, 401, 773, 977, 436, 212, 362, 426, 345, 423]
[foolsgold agg] considering poison per batch poison_fraction: 0.008433403318312167
[foolsgold agg] wv: [1.         1.         1.         0.         1.         0.51421276
 0.         1.         0.51421276 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 205: Average loss: 0.7191, Accuracy: 7644/10000 (76.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 205: Average loss: 6.5588, Accuracy: 223/9000 (2.4778%)
Done in 120.15892028808594 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:206 choose agents : [51, 4, 97, 85, 17, 59, 13, 57, 76, 80]. Adversary List: []
___Train Local_ResNet_18,  epoch 206, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 444/479 (92.6931%)
___Train Local_ResNet_18,  epoch 206, local model 51, internal_epoch   2,  Average loss: 0.0025, Accuracy: 456/479 (95.1983%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.2799, Accuracy: 3748/10000 (37.4800%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   1,  Average loss: 0.0059, Accuracy: 491/557 (88.1508%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   2,  Average loss: 0.0057, Accuracy: 494/557 (88.6894%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 5.1432, Accuracy: 3263/10000 (32.6300%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   1,  Average loss: 0.0029, Accuracy: 395/418 (94.4976%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   2,  Average loss: 0.0014, Accuracy: 411/418 (98.3254%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.8437, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch 206, local model 85, internal_epoch   1,  Average loss: 0.0085, Accuracy: 295/364 (81.0440%)
___Train Local_ResNet_18,  epoch 206, local model 85, internal_epoch   2,  Average loss: 0.0040, Accuracy: 338/364 (92.8571%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 6.2218, Accuracy: 2211/10000 (22.1100%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 206, local model 17, internal_epoch   1,  Average loss: 0.0030, Accuracy: 498/526 (94.6768%)
___Train Local_ResNet_18,  epoch 206, local model 17, internal_epoch   2,  Average loss: 0.0032, Accuracy: 501/526 (95.2471%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 2.3719, Accuracy: 4962/10000 (49.6200%)
___Train Local_ResNet_18,  epoch 206, local model 59, internal_epoch   1,  Average loss: 0.0038, Accuracy: 595/642 (92.6791%)
___Train Local_ResNet_18,  epoch 206, local model 59, internal_epoch   2,  Average loss: 0.0043, Accuracy: 585/642 (91.1215%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 7.7818, Accuracy: 2478/10000 (24.7800%)
___Train Local_ResNet_18,  epoch 206, local model 13, internal_epoch   1,  Average loss: 0.0049, Accuracy: 565/620 (91.1290%)
___Train Local_ResNet_18,  epoch 206, local model 13, internal_epoch   2,  Average loss: 0.0041, Accuracy: 575/620 (92.7419%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 2.8215, Accuracy: 4180/10000 (41.8000%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   1,  Average loss: 0.0072, Accuracy: 245/290 (84.4828%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   2,  Average loss: 0.0017, Accuracy: 282/290 (97.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.7504, Accuracy: 4018/10000 (40.1800%)
___Train Local_ResNet_18,  epoch 206, local model 76, internal_epoch   1,  Average loss: 0.0325, Accuracy: 58/65 (89.2308%)
___Train Local_ResNet_18,  epoch 206, local model 76, internal_epoch   2,  Average loss: 0.0522, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.1921, Accuracy: 6349/10000 (63.4900%)
___Train Local_ResNet_18,  epoch 206, local model 80, internal_epoch   1,  Average loss: 0.0063, Accuracy: 321/363 (88.4298%)
___Train Local_ResNet_18,  epoch 206, local model 80, internal_epoch   2,  Average loss: 0.0016, Accuracy: 352/363 (96.9697%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.7693, Accuracy: 3546/10000 (35.4600%)
time spent on training: 55.238295555114746
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12164662349676225  data num: [479, 557, 418, 364, 526, 642, 620, 290, 65, 363]
[foolsgold agg] considering poison per batch poison_fraction: 0.009503642460684551
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 0. 0. 0. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 206: Average loss: 0.7175, Accuracy: 7649/10000 (76.4900%)
___Test Target_ResNet_18 poisoned: True, epoch: 206: Average loss: 6.5614, Accuracy: 223/9000 (2.4778%)
Done in 95.90116906166077 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:207 choose agents : [77, 85, 90, 24, 63, 1, 52, 31, 59, 67]. Adversary List: [77]
poison local model 77 index 2 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   1,  Average loss: 0.0104, Accuracy: 434/496 (87.5000%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   2,  Average loss: 0.0076, Accuracy: 435/496 (87.7016%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   3,  Average loss: 0.0035, Accuracy: 472/496 (95.1613%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   4,  Average loss: 0.0017, Accuracy: 483/496 (97.3790%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   5,  Average loss: 0.0007, Accuracy: 490/496 (98.7903%), train_poison_data_count: 40
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 77, internal_epoch   6,  Average loss: 0.0004, Accuracy: 494/496 (99.5968%), train_poison_data_count: 40
Global model norm: 37.66111223795707.
Norm before scaling: 37.91939146430804. Distance: 6.591442988185812
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 1.0581, Accuracy: 6510/10000 (65.1000%)
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: 0.1756, Accuracy: 8605/9000 (95.6111%)
Scaling by  100
Scaled Norm after poisoning: 658.4048906258215, distance: 659.1443079857399
Total norm for 1 adversaries is: 658.4048906258215. distance: 659.1443079857399
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 207, local model 85, internal_epoch   1,  Average loss: 0.0078, Accuracy: 307/364 (84.3407%)
___Train Local_ResNet_18,  epoch 207, local model 85, internal_epoch   2,  Average loss: 0.0036, Accuracy: 345/364 (94.7802%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.3165, Accuracy: 2865/10000 (28.6500%)
___Train Local_ResNet_18,  epoch 207, local model 90, internal_epoch   1,  Average loss: 0.0078, Accuracy: 529/578 (91.5225%)
___Train Local_ResNet_18,  epoch 207, local model 90, internal_epoch   2,  Average loss: 0.0344, Accuracy: 368/578 (63.6678%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 1477.4961, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 207, local model 24, internal_epoch   1,  Average loss: 0.0044, Accuracy: 288/320 (90.0000%)
___Train Local_ResNet_18,  epoch 207, local model 24, internal_epoch   2,  Average loss: 0.0010, Accuracy: 313/320 (97.8125%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.5469, Accuracy: 2435/10000 (24.3500%)
___Train Local_ResNet_18,  epoch 207, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 702/752 (93.3511%)
___Train Local_ResNet_18,  epoch 207, local model 63, internal_epoch   2,  Average loss: 0.0037, Accuracy: 693/752 (92.1543%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 2.3983, Accuracy: 4918/10000 (49.1800%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   1,  Average loss: 0.0058, Accuracy: 587/641 (91.5757%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   2,  Average loss: 0.0118, Accuracy: 548/641 (85.4914%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.6746, Accuracy: 3465/10000 (34.6500%)
___Train Local_ResNet_18,  epoch 207, local model 52, internal_epoch   1,  Average loss: 0.0083, Accuracy: 182/214 (85.0467%)
___Train Local_ResNet_18,  epoch 207, local model 52, internal_epoch   2,  Average loss: 0.0035, Accuracy: 202/214 (94.3925%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.9342, Accuracy: 3509/10000 (35.0900%)
___Train Local_ResNet_18,  epoch 207, local model 31, internal_epoch   1,  Average loss: 0.0060, Accuracy: 641/706 (90.7932%)
___Train Local_ResNet_18,  epoch 207, local model 31, internal_epoch   2,  Average loss: 0.0199, Accuracy: 443/706 (62.7479%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 140.3339, Accuracy: 1009/10000 (10.0900%)
___Train Local_ResNet_18,  epoch 207, local model 59, internal_epoch   1,  Average loss: 0.0063, Accuracy: 586/642 (91.2773%)
___Train Local_ResNet_18,  epoch 207, local model 59, internal_epoch   2,  Average loss: 0.0264, Accuracy: 450/642 (70.0935%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 40.0267, Accuracy: 1251/10000 (12.5100%)
___Train Local_ResNet_18,  epoch 207, local model 67, internal_epoch   1,  Average loss: 0.0053, Accuracy: 751/842 (89.1924%)
___Train Local_ResNet_18,  epoch 207, local model 67, internal_epoch   2,  Average loss: 0.0115, Accuracy: 661/842 (78.5036%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 24.3421, Accuracy: 1791/10000 (17.9100%)
time spent on training: 82.30919647216797
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0892889288928893  data num: [496, 364, 578, 320, 752, 641, 214, 706, 642, 842]
[foolsgold agg] considering poison per batch poison_fraction: 0.006975697569756976
[foolsgold agg] wv: [1.         1.         1.         1.         0.75492574 1.
 0.75492574 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 207: Average loss: 0.7114, Accuracy: 7661/10000 (76.6100%)
___Test Target_ResNet_18 poisoned: True, epoch: 207: Average loss: 6.5514, Accuracy: 223/9000 (2.4778%)
Done in 121.59574127197266 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:208 choose agents : [71, 66, 76, 96, 80, 81, 22, 72, 64, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 208, local model 71, internal_epoch   1,  Average loss: 0.0047, Accuracy: 1074/1166 (92.1098%)
___Train Local_ResNet_18,  epoch 208, local model 71, internal_epoch   2,  Average loss: 0.0101, Accuracy: 934/1166 (80.1029%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 6.2715, Accuracy: 3531/10000 (35.3100%)
___Train Local_ResNet_18,  epoch 208, local model 66, internal_epoch   1,  Average loss: 0.0043, Accuracy: 512/555 (92.2523%)
___Train Local_ResNet_18,  epoch 208, local model 66, internal_epoch   2,  Average loss: 0.0027, Accuracy: 528/555 (95.1351%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 8.0120, Accuracy: 2551/10000 (25.5100%)
___Train Local_ResNet_18,  epoch 208, local model 76, internal_epoch   1,  Average loss: 0.0351, Accuracy: 59/65 (90.7692%)
___Train Local_ResNet_18,  epoch 208, local model 76, internal_epoch   2,  Average loss: 0.0025, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 1.4053, Accuracy: 5909/10000 (59.0900%)
___Train Local_ResNet_18,  epoch 208, local model 96, internal_epoch   1,  Average loss: 0.0063, Accuracy: 643/708 (90.8192%)
___Train Local_ResNet_18,  epoch 208, local model 96, internal_epoch   2,  Average loss: 0.0329, Accuracy: 365/708 (51.5537%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 83.9569, Accuracy: 1879/10000 (18.7900%)
___Train Local_ResNet_18,  epoch 208, local model 80, internal_epoch   1,  Average loss: 0.0065, Accuracy: 317/363 (87.3278%)
___Train Local_ResNet_18,  epoch 208, local model 80, internal_epoch   2,  Average loss: 0.0031, Accuracy: 345/363 (95.0413%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 6.2017, Accuracy: 2902/10000 (29.0200%)
___Train Local_ResNet_18,  epoch 208, local model 81, internal_epoch   1,  Average loss: 0.0084, Accuracy: 907/1034 (87.7176%)
___Train Local_ResNet_18,  epoch 208, local model 81, internal_epoch   2,  Average loss: 0.0217, Accuracy: 613/1034 (59.2843%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 109.6018, Accuracy: 1038/10000 (10.3800%)
___Train Local_ResNet_18,  epoch 208, local model 22, internal_epoch   1,  Average loss: 0.0058, Accuracy: 438/494 (88.6640%)
___Train Local_ResNet_18,  epoch 208, local model 22, internal_epoch   2,  Average loss: 0.0024, Accuracy: 469/494 (94.9393%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 4.1141, Accuracy: 3306/10000 (33.0600%)
___Train Local_ResNet_18,  epoch 208, local model 72, internal_epoch   1,  Average loss: 0.0114, Accuracy: 491/618 (79.4498%)
___Train Local_ResNet_18,  epoch 208, local model 72, internal_epoch   2,  Average loss: 0.0082, Accuracy: 522/618 (84.4660%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 13.1251, Accuracy: 2438/10000 (24.3800%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   1,  Average loss: 0.0055, Accuracy: 600/686 (87.4636%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   2,  Average loss: 0.0040, Accuracy: 633/686 (92.2741%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 7.6621, Accuracy: 2522/10000 (25.2200%)
___Train Local_ResNet_18,  epoch 208, local model 45, internal_epoch   1,  Average loss: 0.0083, Accuracy: 453/529 (85.6333%)
___Train Local_ResNet_18,  epoch 208, local model 45, internal_epoch   2,  Average loss: 0.0111, Accuracy: 432/529 (81.6635%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 6.3457, Accuracy: 2447/10000 (24.4700%)
time spent on training: 49.00470232963562
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 555, 65, 708, 363, 1034, 494, 618, 686, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.82377587 1.         0.82377587 1.         1.         1.
 0.82852695 1.         1.         0.82852695]
___Test Target_ResNet_18 poisoned: False, epoch: 208: Average loss: 0.7033, Accuracy: 7679/10000 (76.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 208: Average loss: 6.5655, Accuracy: 224/9000 (2.4889%)
Done in 87.69414591789246 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:209 choose agents : [11, 80, 54, 44, 35, 68, 25, 4, 79, 43]. Adversary List: [11]
poison local model 11 index 3 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   1,  Average loss: 0.0100, Accuracy: 474/546 (86.8132%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   2,  Average loss: 0.0069, Accuracy: 501/546 (91.7582%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   3,  Average loss: 0.0029, Accuracy: 522/546 (95.6044%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   4,  Average loss: 0.0017, Accuracy: 537/546 (98.3516%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   5,  Average loss: 0.0011, Accuracy: 540/546 (98.9011%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 11, internal_epoch   6,  Average loss: 0.0008, Accuracy: 543/546 (99.4505%), train_poison_data_count: 45
Global model norm: 37.66119002866213.
Norm before scaling: 37.95653899579179. Distance: 7.19162187558662
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.2716, Accuracy: 6127/10000 (61.2700%)
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: 0.2953, Accuracy: 8340/9000 (92.6667%)
Scaling by  100
Scaled Norm after poisoning: 718.1044492272695, distance: 719.1622078849806
Total norm for 1 adversaries is: 718.1044492272695. distance: 719.1622078849806
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 209, local model 80, internal_epoch   1,  Average loss: 0.0058, Accuracy: 318/363 (87.6033%)
___Train Local_ResNet_18,  epoch 209, local model 80, internal_epoch   2,  Average loss: 0.0021, Accuracy: 351/363 (96.6942%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.4843, Accuracy: 4077/10000 (40.7700%)
___Train Local_ResNet_18,  epoch 209, local model 54, internal_epoch   1,  Average loss: 0.0037, Accuracy: 409/440 (92.9545%)
___Train Local_ResNet_18,  epoch 209, local model 54, internal_epoch   2,  Average loss: 0.0014, Accuracy: 432/440 (98.1818%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.0356, Accuracy: 4384/10000 (43.8400%)
___Train Local_ResNet_18,  epoch 209, local model 44, internal_epoch   1,  Average loss: 0.0042, Accuracy: 395/436 (90.5963%)
___Train Local_ResNet_18,  epoch 209, local model 44, internal_epoch   2,  Average loss: 0.0030, Accuracy: 411/436 (94.2661%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.7376, Accuracy: 3445/10000 (34.4500%)
___Train Local_ResNet_18,  epoch 209, local model 35, internal_epoch   1,  Average loss: 0.0069, Accuracy: 365/419 (87.1122%)
___Train Local_ResNet_18,  epoch 209, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 402/419 (95.9427%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.3403, Accuracy: 4023/10000 (40.2300%)
___Train Local_ResNet_18,  epoch 209, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 391/416 (93.9904%)
___Train Local_ResNet_18,  epoch 209, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.5826, Accuracy: 5876/10000 (58.7600%)
___Train Local_ResNet_18,  epoch 209, local model 25, internal_epoch   1,  Average loss: 0.0044, Accuracy: 507/545 (93.0275%)
___Train Local_ResNet_18,  epoch 209, local model 25, internal_epoch   2,  Average loss: 0.0013, Accuracy: 530/545 (97.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 2.9221, Accuracy: 4218/10000 (42.1800%)
___Train Local_ResNet_18,  epoch 209, local model 4, internal_epoch   1,  Average loss: 0.0054, Accuracy: 493/557 (88.5099%)
___Train Local_ResNet_18,  epoch 209, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 514/557 (92.2801%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.3810, Accuracy: 4282/10000 (42.8200%)
___Train Local_ResNet_18,  epoch 209, local model 79, internal_epoch   1,  Average loss: 0.0087, Accuracy: 127/154 (82.4675%)
___Train Local_ResNet_18,  epoch 209, local model 79, internal_epoch   2,  Average loss: 0.0005, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.0692, Accuracy: 6803/10000 (68.0300%)
___Train Local_ResNet_18,  epoch 209, local model 43, internal_epoch   1,  Average loss: 0.0068, Accuracy: 301/345 (87.2464%)
___Train Local_ResNet_18,  epoch 209, local model 43, internal_epoch   2,  Average loss: 0.0022, Accuracy: 329/345 (95.3623%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 6.5837, Accuracy: 2949/10000 (29.4900%)
time spent on training: 78.04813742637634
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12935323383084577  data num: [546, 363, 440, 436, 419, 416, 545, 557, 154, 345]
[foolsgold agg] considering poison per batch poison_fraction: 0.010105721393034825
[foolsgold agg] wv: [0.83646011 1.         1.         1.         1.         0.83646011
 1.         1.         0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 209: Average loss: 0.7010, Accuracy: 7682/10000 (76.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 209: Average loss: 6.5451, Accuracy: 228/9000 (2.5333%)
Done in 118.96483993530273 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:210 choose agents : [63, 35, 49, 8, 12, 18, 94, 57, 83, 37]. Adversary List: []
___Train Local_ResNet_18,  epoch 210, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 712/752 (94.6809%)
___Train Local_ResNet_18,  epoch 210, local model 63, internal_epoch   2,  Average loss: 0.0025, Accuracy: 710/752 (94.4149%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.1177, Accuracy: 5206/10000 (52.0600%)
___Train Local_ResNet_18,  epoch 210, local model 35, internal_epoch   1,  Average loss: 0.0073, Accuracy: 361/419 (86.1575%)
___Train Local_ResNet_18,  epoch 210, local model 35, internal_epoch   2,  Average loss: 0.0036, Accuracy: 396/419 (94.5107%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 4.0821, Accuracy: 3348/10000 (33.4800%)
___Train Local_ResNet_18,  epoch 210, local model 49, internal_epoch   1,  Average loss: 0.0038, Accuracy: 387/426 (90.8451%)
___Train Local_ResNet_18,  epoch 210, local model 49, internal_epoch   2,  Average loss: 0.0013, Accuracy: 417/426 (97.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.1821, Accuracy: 5031/10000 (50.3100%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   1,  Average loss: 0.0046, Accuracy: 483/534 (90.4494%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   2,  Average loss: 0.0036, Accuracy: 500/534 (93.6330%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.6161, Accuracy: 4261/10000 (42.6100%)
___Train Local_ResNet_18,  epoch 210, local model 12, internal_epoch   1,  Average loss: 0.0060, Accuracy: 871/977 (89.1505%)
___Train Local_ResNet_18,  epoch 210, local model 12, internal_epoch   2,  Average loss: 0.0090, Accuracy: 824/977 (84.3398%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 11.7800, Accuracy: 1823/10000 (18.2300%)
___Train Local_ResNet_18,  epoch 210, local model 18, internal_epoch   1,  Average loss: 0.0040, Accuracy: 359/386 (93.0052%)
___Train Local_ResNet_18,  epoch 210, local model 18, internal_epoch   2,  Average loss: 0.0104, Accuracy: 374/386 (96.8912%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.8990, Accuracy: 4134/10000 (41.3400%)
___Train Local_ResNet_18,  epoch 210, local model 94, internal_epoch   1,  Average loss: 0.0127, Accuracy: 168/203 (82.7586%)
___Train Local_ResNet_18,  epoch 210, local model 94, internal_epoch   2,  Average loss: 0.0124, Accuracy: 191/203 (94.0887%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 6.2974, Accuracy: 1883/10000 (18.8300%)
___Train Local_ResNet_18,  epoch 210, local model 57, internal_epoch   1,  Average loss: 0.0062, Accuracy: 249/290 (85.8621%)
___Train Local_ResNet_18,  epoch 210, local model 57, internal_epoch   2,  Average loss: 0.0015, Accuracy: 282/290 (97.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.2595, Accuracy: 4384/10000 (43.8400%)
___Train Local_ResNet_18,  epoch 210, local model 83, internal_epoch   1,  Average loss: 0.0033, Accuracy: 338/366 (92.3497%)
___Train Local_ResNet_18,  epoch 210, local model 83, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/366 (98.6339%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.0727, Accuracy: 5170/10000 (51.7000%)
___Train Local_ResNet_18,  epoch 210, local model 37, internal_epoch   1,  Average loss: 0.0072, Accuracy: 627/725 (86.4828%)
___Train Local_ResNet_18,  epoch 210, local model 37, internal_epoch   2,  Average loss: 0.0101, Accuracy: 595/725 (82.0690%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 8.1224, Accuracy: 2484/10000 (24.8400%)
time spent on training: 48.34961700439453
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [752, 419, 426, 534, 977, 386, 203, 290, 366, 725]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.17216618 0.67119697 0.67119697 0.15520517 0.         1.
 0.         0.15520517 1.         0.48099308]
___Test Target_ResNet_18 poisoned: False, epoch: 210: Average loss: 0.6994, Accuracy: 7686/10000 (76.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 210: Average loss: 6.5309, Accuracy: 232/9000 (2.5778%)
Done in 86.25705289840698 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:211 choose agents : [22, 38, 65, 29, 18, 53, 15, 7, 86, 60]. Adversary List: []
___Train Local_ResNet_18,  epoch 211, local model 22, internal_epoch   1,  Average loss: 0.0068, Accuracy: 421/494 (85.2227%)
___Train Local_ResNet_18,  epoch 211, local model 22, internal_epoch   2,  Average loss: 0.0039, Accuracy: 448/494 (90.6883%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 5.5191, Accuracy: 2949/10000 (29.4900%)
___Train Local_ResNet_18,  epoch 211, local model 38, internal_epoch   1,  Average loss: 0.0038, Accuracy: 698/756 (92.3280%)
___Train Local_ResNet_18,  epoch 211, local model 38, internal_epoch   2,  Average loss: 0.0053, Accuracy: 679/756 (89.8148%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.9964, Accuracy: 4203/10000 (42.0300%)
___Train Local_ResNet_18,  epoch 211, local model 65, internal_epoch   1,  Average loss: 0.0042, Accuracy: 290/314 (92.3567%)
___Train Local_ResNet_18,  epoch 211, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 311/314 (99.0446%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 3.4461, Accuracy: 3534/10000 (35.3400%)
___Train Local_ResNet_18,  epoch 211, local model 29, internal_epoch   1,  Average loss: 0.0063, Accuracy: 749/848 (88.3255%)
___Train Local_ResNet_18,  epoch 211, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 789/848 (93.0425%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 12.1194, Accuracy: 1626/10000 (16.2600%)
___Train Local_ResNet_18,  epoch 211, local model 18, internal_epoch   1,  Average loss: 0.0030, Accuracy: 363/386 (94.0415%)
___Train Local_ResNet_18,  epoch 211, local model 18, internal_epoch   2,  Average loss: 0.0122, Accuracy: 376/386 (97.4093%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.1474, Accuracy: 4875/10000 (48.7500%)
___Train Local_ResNet_18,  epoch 211, local model 53, internal_epoch   1,  Average loss: 0.0042, Accuracy: 567/625 (90.7200%)
___Train Local_ResNet_18,  epoch 211, local model 53, internal_epoch   2,  Average loss: 0.0029, Accuracy: 595/625 (95.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.4905, Accuracy: 4673/10000 (46.7300%)
___Train Local_ResNet_18,  epoch 211, local model 15, internal_epoch   1,  Average loss: 0.0089, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 211, local model 15, internal_epoch   2,  Average loss: 0.0035, Accuracy: 319/341 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 4.8890, Accuracy: 2802/10000 (28.0200%)
___Train Local_ResNet_18,  epoch 211, local model 7, internal_epoch   1,  Average loss: 0.0028, Accuracy: 328/352 (93.1818%)
___Train Local_ResNet_18,  epoch 211, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 348/352 (98.8636%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.8758, Accuracy: 3765/10000 (37.6500%)
___Train Local_ResNet_18,  epoch 211, local model 86, internal_epoch   1,  Average loss: 0.0052, Accuracy: 194/212 (91.5094%)
___Train Local_ResNet_18,  epoch 211, local model 86, internal_epoch   2,  Average loss: 0.0014, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 1.3934, Accuracy: 6190/10000 (61.9000%)
___Train Local_ResNet_18,  epoch 211, local model 60, internal_epoch   1,  Average loss: 0.0046, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 211, local model 60, internal_epoch   2,  Average loss: 0.0014, Accuracy: 279/284 (98.2394%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.7722, Accuracy: 4143/10000 (41.4300%)
time spent on training: 45.718703746795654
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [494, 756, 314, 848, 386, 625, 341, 352, 212, 284]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.         0.66409616 1.         1.
 1.         1.         1.         0.66409616]
___Test Target_ResNet_18 poisoned: False, epoch: 211: Average loss: 0.6981, Accuracy: 7691/10000 (76.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 211: Average loss: 6.5460, Accuracy: 226/9000 (2.5111%)
Done in 82.64764213562012 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:212 choose agents : [81, 8, 28, 77, 1, 93, 53, 12, 50, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 212, local model 81, internal_epoch   1,  Average loss: 0.0076, Accuracy: 896/1034 (86.6538%)
___Train Local_ResNet_18,  epoch 212, local model 81, internal_epoch   2,  Average loss: 0.0178, Accuracy: 674/1034 (65.1838%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 19.2523, Accuracy: 1749/10000 (17.4900%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   1,  Average loss: 0.0049, Accuracy: 485/534 (90.8240%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   2,  Average loss: 0.0047, Accuracy: 491/534 (91.9476%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 3.9372, Accuracy: 3516/10000 (35.1600%)
___Train Local_ResNet_18,  epoch 212, local model 28, internal_epoch   1,  Average loss: 0.0027, Accuracy: 402/423 (95.0355%)
___Train Local_ResNet_18,  epoch 212, local model 28, internal_epoch   2,  Average loss: 0.0016, Accuracy: 411/423 (97.1631%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 1.9363, Accuracy: 5293/10000 (52.9300%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 212, local model 77, internal_epoch   1,  Average loss: 0.0032, Accuracy: 462/496 (93.1452%)
___Train Local_ResNet_18,  epoch 212, local model 77, internal_epoch   2,  Average loss: 0.0020, Accuracy: 484/496 (97.5806%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 1.5492, Accuracy: 5565/10000 (55.6500%)
___Train Local_ResNet_18,  epoch 212, local model 1, internal_epoch   1,  Average loss: 0.0066, Accuracy: 594/641 (92.6677%)
___Train Local_ResNet_18,  epoch 212, local model 1, internal_epoch   2,  Average loss: 0.0120, Accuracy: 540/641 (84.2434%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 4.4847, Accuracy: 3021/10000 (30.2100%)
___Train Local_ResNet_18,  epoch 212, local model 93, internal_epoch   1,  Average loss: 0.0043, Accuracy: 538/584 (92.1233%)
___Train Local_ResNet_18,  epoch 212, local model 93, internal_epoch   2,  Average loss: 0.0075, Accuracy: 505/584 (86.4726%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 7.4630, Accuracy: 1927/10000 (19.2700%)
___Train Local_ResNet_18,  epoch 212, local model 53, internal_epoch   1,  Average loss: 0.0038, Accuracy: 578/625 (92.4800%)
___Train Local_ResNet_18,  epoch 212, local model 53, internal_epoch   2,  Average loss: 0.0024, Accuracy: 593/625 (94.8800%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.7903, Accuracy: 4367/10000 (43.6700%)
___Train Local_ResNet_18,  epoch 212, local model 12, internal_epoch   1,  Average loss: 0.0063, Accuracy: 858/977 (87.8199%)
___Train Local_ResNet_18,  epoch 212, local model 12, internal_epoch   2,  Average loss: 0.0092, Accuracy: 806/977 (82.4974%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 4.8199, Accuracy: 3263/10000 (32.6300%)
___Train Local_ResNet_18,  epoch 212, local model 50, internal_epoch   1,  Average loss: 0.0028, Accuracy: 382/401 (95.2618%)
___Train Local_ResNet_18,  epoch 212, local model 50, internal_epoch   2,  Average loss: 0.0019, Accuracy: 388/401 (96.7581%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.1461, Accuracy: 5166/10000 (51.6600%)
___Train Local_ResNet_18,  epoch 212, local model 10, internal_epoch   1,  Average loss: 0.0042, Accuracy: 693/752 (92.1543%)
___Train Local_ResNet_18,  epoch 212, local model 10, internal_epoch   2,  Average loss: 0.0032, Accuracy: 702/752 (93.3511%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 7.4605, Accuracy: 2407/10000 (24.0700%)
time spent on training: 54.43126678466797
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0766970774702335  data num: [1034, 534, 423, 496, 641, 584, 625, 977, 401, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.005991959177361991
[foolsgold agg] wv: [0.29584681 0.62149911 1.         0.62149911 1.         1.
 0.65563206 0.29584681 1.         0.65563206]
___Test Target_ResNet_18 poisoned: False, epoch: 212: Average loss: 0.6947, Accuracy: 7701/10000 (77.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 212: Average loss: 6.5713, Accuracy: 224/9000 (2.4889%)
Done in 97.48736810684204 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:213 choose agents : [18, 39, 62, 65, 87, 12, 74, 4, 7, 35]. Adversary List: []
___Train Local_ResNet_18,  epoch 213, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 358/386 (92.7461%)
___Train Local_ResNet_18,  epoch 213, local model 18, internal_epoch   2,  Average loss: 0.0031, Accuracy: 372/386 (96.3731%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.8647, Accuracy: 5440/10000 (54.4000%)
___Train Local_ResNet_18,  epoch 213, local model 39, internal_epoch   1,  Average loss: 0.0063, Accuracy: 186/217 (85.7143%)
___Train Local_ResNet_18,  epoch 213, local model 39, internal_epoch   2,  Average loss: 0.0012, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.7546, Accuracy: 3504/10000 (35.0400%)
___Train Local_ResNet_18,  epoch 213, local model 62, internal_epoch   1,  Average loss: 0.0025, Accuracy: 342/358 (95.5307%)
___Train Local_ResNet_18,  epoch 213, local model 62, internal_epoch   2,  Average loss: 0.0012, Accuracy: 352/358 (98.3240%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.0712, Accuracy: 6719/10000 (67.1900%)
___Train Local_ResNet_18,  epoch 213, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 291/314 (92.6752%)
___Train Local_ResNet_18,  epoch 213, local model 65, internal_epoch   2,  Average loss: 0.0006, Accuracy: 311/314 (99.0446%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.0132, Accuracy: 3843/10000 (38.4300%)
___Train Local_ResNet_18,  epoch 213, local model 87, internal_epoch   1,  Average loss: 0.0093, Accuracy: 329/397 (82.8715%)
___Train Local_ResNet_18,  epoch 213, local model 87, internal_epoch   2,  Average loss: 0.0081, Accuracy: 338/397 (85.1385%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 5.3475, Accuracy: 2767/10000 (27.6700%)
___Train Local_ResNet_18,  epoch 213, local model 12, internal_epoch   1,  Average loss: 0.0069, Accuracy: 848/977 (86.7963%)
___Train Local_ResNet_18,  epoch 213, local model 12, internal_epoch   2,  Average loss: 0.0108, Accuracy: 775/977 (79.3245%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 7.5216, Accuracy: 3099/10000 (30.9900%)
___Train Local_ResNet_18,  epoch 213, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 426/469 (90.8316%)
___Train Local_ResNet_18,  epoch 213, local model 74, internal_epoch   2,  Average loss: 0.0068, Accuracy: 420/469 (89.5522%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.2047, Accuracy: 3565/10000 (35.6500%)
___Train Local_ResNet_18,  epoch 213, local model 4, internal_epoch   1,  Average loss: 0.0057, Accuracy: 495/557 (88.8689%)
___Train Local_ResNet_18,  epoch 213, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 509/557 (91.3824%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.0776, Accuracy: 4272/10000 (42.7200%)
___Train Local_ResNet_18,  epoch 213, local model 7, internal_epoch   1,  Average loss: 0.0029, Accuracy: 336/352 (95.4545%)
___Train Local_ResNet_18,  epoch 213, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 346/352 (98.2955%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 2.2198, Accuracy: 4618/10000 (46.1800%)
___Train Local_ResNet_18,  epoch 213, local model 35, internal_epoch   1,  Average loss: 0.0079, Accuracy: 367/419 (87.5895%)
___Train Local_ResNet_18,  epoch 213, local model 35, internal_epoch   2,  Average loss: 0.0036, Accuracy: 393/419 (93.7947%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.3188, Accuracy: 4097/10000 (40.9700%)
time spent on training: 48.86540699005127
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [386, 217, 358, 314, 397, 977, 469, 557, 352, 419]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.21886604 1.         0.34055395 1.         1.
 0.21886604 1.         1.         0.34055395]
___Test Target_ResNet_18 poisoned: False, epoch: 213: Average loss: 0.6920, Accuracy: 7709/10000 (77.0900%)
___Test Target_ResNet_18 poisoned: True, epoch: 213: Average loss: 6.5741, Accuracy: 224/9000 (2.4889%)
Done in 92.32869505882263 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:214 choose agents : [17, 30, 72, 51, 63, 46, 54, 95, 26, 2]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 214, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 502/526 (95.4373%)
___Train Local_ResNet_18,  epoch 214, local model 17, internal_epoch   2,  Average loss: 0.0021, Accuracy: 510/526 (96.9582%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.5246, Accuracy: 5939/10000 (59.3900%)
___Train Local_ResNet_18,  epoch 214, local model 30, internal_epoch   1,  Average loss: 0.0058, Accuracy: 299/337 (88.7240%)
___Train Local_ResNet_18,  epoch 214, local model 30, internal_epoch   2,  Average loss: 0.0071, Accuracy: 304/337 (90.2077%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 3.7420, Accuracy: 3227/10000 (32.2700%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   1,  Average loss: 0.0080, Accuracy: 519/618 (83.9806%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 546/618 (88.3495%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 4.5079, Accuracy: 3371/10000 (33.7100%)
___Train Local_ResNet_18,  epoch 214, local model 51, internal_epoch   1,  Average loss: 0.0036, Accuracy: 444/479 (92.6931%)
___Train Local_ResNet_18,  epoch 214, local model 51, internal_epoch   2,  Average loss: 0.0031, Accuracy: 451/479 (94.1545%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 6.9677, Accuracy: 2571/10000 (25.7100%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   1,  Average loss: 0.0025, Accuracy: 720/752 (95.7447%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   2,  Average loss: 0.0015, Accuracy: 730/752 (97.0745%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.2600, Accuracy: 6392/10000 (63.9200%)
___Train Local_ResNet_18,  epoch 214, local model 46, internal_epoch   1,  Average loss: 0.0015, Accuracy: 587/601 (97.6705%)
___Train Local_ResNet_18,  epoch 214, local model 46, internal_epoch   2,  Average loss: 0.0008, Accuracy: 595/601 (99.0017%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 1.7034, Accuracy: 5671/10000 (56.7100%)
___Train Local_ResNet_18,  epoch 214, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 414/440 (94.0909%)
___Train Local_ResNet_18,  epoch 214, local model 54, internal_epoch   2,  Average loss: 0.0011, Accuracy: 429/440 (97.5000%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 2.8330, Accuracy: 4573/10000 (45.7300%)
___Train Local_ResNet_18,  epoch 214, local model 95, internal_epoch   1,  Average loss: 0.0089, Accuracy: 460/569 (80.8436%)
___Train Local_ResNet_18,  epoch 214, local model 95, internal_epoch   2,  Average loss: 0.0064, Accuracy: 505/569 (88.7522%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 5.9990, Accuracy: 2479/10000 (24.7900%)
___Train Local_ResNet_18,  epoch 214, local model 26, internal_epoch   1,  Average loss: 0.0045, Accuracy: 429/468 (91.6667%)
___Train Local_ResNet_18,  epoch 214, local model 26, internal_epoch   2,  Average loss: 0.0048, Accuracy: 428/468 (91.4530%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 2.1491, Accuracy: 4991/10000 (49.9100%)
___Train Local_ResNet_18,  epoch 214, local model 2, internal_epoch   1,  Average loss: 0.0103, Accuracy: 391/461 (84.8156%)
___Train Local_ResNet_18,  epoch 214, local model 2, internal_epoch   2,  Average loss: 0.0152, Accuracy: 356/461 (77.2234%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 15.2198, Accuracy: 1605/10000 (16.0500%)
time spent on training: 55.73064374923706
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.1001713959245858  data num: [526, 337, 618, 479, 752, 601, 440, 569, 468, 461]
[foolsgold agg] considering poison per batch poison_fraction: 0.007825890306608265
[foolsgold agg] wv: [0.47554454 1.         0.84366522 1.         0.59275098 0.86063488
 1.         0.59275098 0.47554454 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 214: Average loss: 0.6911, Accuracy: 7714/10000 (77.1400%)
___Test Target_ResNet_18 poisoned: True, epoch: 214: Average loss: 6.5793, Accuracy: 223/9000 (2.4778%)
Done in 96.04465627670288 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:215 choose agents : [95, 82, 45, 0, 34, 62, 66, 10, 12, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 215, local model 95, internal_epoch   1,  Average loss: 0.0105, Accuracy: 449/569 (78.9104%)
___Train Local_ResNet_18,  epoch 215, local model 95, internal_epoch   2,  Average loss: 0.0071, Accuracy: 489/569 (85.9402%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 13.1492, Accuracy: 1927/10000 (19.2700%)
___Train Local_ResNet_18,  epoch 215, local model 82, internal_epoch   1,  Average loss: 0.0024, Accuracy: 574/601 (95.5075%)
___Train Local_ResNet_18,  epoch 215, local model 82, internal_epoch   2,  Average loss: 0.0019, Accuracy: 580/601 (96.5058%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.5729, Accuracy: 4199/10000 (41.9900%)
___Train Local_ResNet_18,  epoch 215, local model 45, internal_epoch   1,  Average loss: 0.0079, Accuracy: 464/529 (87.7127%)
___Train Local_ResNet_18,  epoch 215, local model 45, internal_epoch   2,  Average loss: 0.0084, Accuracy: 442/529 (83.5539%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 6.4077, Accuracy: 2477/10000 (24.7700%)
___Train Local_ResNet_18,  epoch 215, local model 0, internal_epoch   1,  Average loss: 0.0067, Accuracy: 320/367 (87.1935%)
___Train Local_ResNet_18,  epoch 215, local model 0, internal_epoch   2,  Average loss: 0.0024, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 6.3852, Accuracy: 2152/10000 (21.5200%)
___Train Local_ResNet_18,  epoch 215, local model 34, internal_epoch   1,  Average loss: 0.0052, Accuracy: 310/349 (88.8252%)
___Train Local_ResNet_18,  epoch 215, local model 34, internal_epoch   2,  Average loss: 0.0020, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.9289, Accuracy: 3318/10000 (33.1800%)
___Train Local_ResNet_18,  epoch 215, local model 62, internal_epoch   1,  Average loss: 0.0019, Accuracy: 342/358 (95.5307%)
___Train Local_ResNet_18,  epoch 215, local model 62, internal_epoch   2,  Average loss: 0.0007, Accuracy: 355/358 (99.1620%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 1.2153, Accuracy: 6477/10000 (64.7700%)
___Train Local_ResNet_18,  epoch 215, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 510/555 (91.8919%)
___Train Local_ResNet_18,  epoch 215, local model 66, internal_epoch   2,  Average loss: 0.0017, Accuracy: 534/555 (96.2162%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 3.7452, Accuracy: 4034/10000 (40.3400%)
___Train Local_ResNet_18,  epoch 215, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 694/752 (92.2872%)
___Train Local_ResNet_18,  epoch 215, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 705/752 (93.7500%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 5.0631, Accuracy: 3192/10000 (31.9200%)
___Train Local_ResNet_18,  epoch 215, local model 12, internal_epoch   1,  Average loss: 0.0057, Accuracy: 875/977 (89.5599%)
___Train Local_ResNet_18,  epoch 215, local model 12, internal_epoch   2,  Average loss: 0.0103, Accuracy: 779/977 (79.7339%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 16.7669, Accuracy: 1535/10000 (15.3500%)
___Train Local_ResNet_18,  epoch 215, local model 38, internal_epoch   1,  Average loss: 0.0021, Accuracy: 731/756 (96.6931%)
___Train Local_ResNet_18,  epoch 215, local model 38, internal_epoch   2,  Average loss: 0.0021, Accuracy: 721/756 (95.3704%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.8708, Accuracy: 4340/10000 (43.4000%)
time spent on training: 47.76193451881409
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [569, 601, 529, 367, 349, 358, 555, 752, 977, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.89382648 1.         1.         0.         1.
 1.         1.         0.         0.89382648]
___Test Target_ResNet_18 poisoned: False, epoch: 215: Average loss: 0.6896, Accuracy: 7722/10000 (77.2200%)
___Test Target_ResNet_18 poisoned: True, epoch: 215: Average loss: 6.5660, Accuracy: 227/9000 (2.5222%)
Done in 85.04562783241272 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:216 choose agents : [41, 4, 68, 55, 30, 39, 10, 64, 23, 60]. Adversary List: []
___Train Local_ResNet_18,  epoch 216, local model 41, internal_epoch   1,  Average loss: 0.0095, Accuracy: 421/513 (82.0663%)
___Train Local_ResNet_18,  epoch 216, local model 41, internal_epoch   2,  Average loss: 0.0205, Accuracy: 454/513 (88.4990%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.5064, Accuracy: 2357/10000 (23.5700%)
___Train Local_ResNet_18,  epoch 216, local model 4, internal_epoch   1,  Average loss: 0.0055, Accuracy: 498/557 (89.4075%)
___Train Local_ResNet_18,  epoch 216, local model 4, internal_epoch   2,  Average loss: 0.0042, Accuracy: 509/557 (91.3824%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.5795, Accuracy: 4855/10000 (48.5500%)
___Train Local_ResNet_18,  epoch 216, local model 68, internal_epoch   1,  Average loss: 0.0028, Accuracy: 395/416 (94.9519%)
___Train Local_ResNet_18,  epoch 216, local model 68, internal_epoch   2,  Average loss: 0.0020, Accuracy: 403/416 (96.8750%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 1.5076, Accuracy: 5852/10000 (58.5200%)
___Train Local_ResNet_18,  epoch 216, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 269/299 (89.9666%)
___Train Local_ResNet_18,  epoch 216, local model 55, internal_epoch   2,  Average loss: 0.0015, Accuracy: 292/299 (97.6589%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.7309, Accuracy: 2293/10000 (22.9300%)
___Train Local_ResNet_18,  epoch 216, local model 30, internal_epoch   1,  Average loss: 0.0050, Accuracy: 307/337 (91.0979%)
___Train Local_ResNet_18,  epoch 216, local model 30, internal_epoch   2,  Average loss: 0.0017, Accuracy: 331/337 (98.2196%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 4.0363, Accuracy: 3325/10000 (33.2500%)
___Train Local_ResNet_18,  epoch 216, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 185/217 (85.2535%)
___Train Local_ResNet_18,  epoch 216, local model 39, internal_epoch   2,  Average loss: 0.0015, Accuracy: 213/217 (98.1567%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.8769, Accuracy: 3436/10000 (34.3600%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   1,  Average loss: 0.0047, Accuracy: 690/752 (91.7553%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   2,  Average loss: 0.0045, Accuracy: 686/752 (91.2234%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 5.3220, Accuracy: 2695/10000 (26.9500%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   1,  Average loss: 0.0050, Accuracy: 615/686 (89.6501%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   2,  Average loss: 0.0043, Accuracy: 623/686 (90.8163%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.7507, Accuracy: 3597/10000 (35.9700%)
___Train Local_ResNet_18,  epoch 216, local model 23, internal_epoch   1,  Average loss: 0.0045, Accuracy: 224/248 (90.3226%)
___Train Local_ResNet_18,  epoch 216, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.1341, Accuracy: 4799/10000 (47.9900%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   1,  Average loss: 0.0044, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 2.7803, Accuracy: 4328/10000 (43.2800%)
time spent on training: 49.28877854347229
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [513, 557, 416, 299, 337, 217, 752, 686, 248, 284]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.         1.         0.16368679
 0.         1.         0.17156163 0.16368679]
___Test Target_ResNet_18 poisoned: False, epoch: 216: Average loss: 0.6871, Accuracy: 7726/10000 (77.2600%)
___Test Target_ResNet_18 poisoned: True, epoch: 216: Average loss: 6.5306, Accuracy: 231/9000 (2.5667%)
Done in 87.07944798469543 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:217 choose agents : [23, 34, 52, 92, 57, 74, 67, 16, 64, 30]. Adversary List: []
___Train Local_ResNet_18,  epoch 217, local model 23, internal_epoch   1,  Average loss: 0.0046, Accuracy: 220/248 (88.7097%)
___Train Local_ResNet_18,  epoch 217, local model 23, internal_epoch   2,  Average loss: 0.0012, Accuracy: 243/248 (97.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 2.7660, Accuracy: 4033/10000 (40.3300%)
___Train Local_ResNet_18,  epoch 217, local model 34, internal_epoch   1,  Average loss: 0.0054, Accuracy: 307/349 (87.9656%)
___Train Local_ResNet_18,  epoch 217, local model 34, internal_epoch   2,  Average loss: 0.0023, Accuracy: 335/349 (95.9885%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 4.5252, Accuracy: 3470/10000 (34.7000%)
___Train Local_ResNet_18,  epoch 217, local model 52, internal_epoch   1,  Average loss: 0.0071, Accuracy: 184/214 (85.9813%)
___Train Local_ResNet_18,  epoch 217, local model 52, internal_epoch   2,  Average loss: 0.0014, Accuracy: 212/214 (99.0654%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.9036, Accuracy: 3580/10000 (35.8000%)
___Train Local_ResNet_18,  epoch 217, local model 92, internal_epoch   1,  Average loss: 0.0056, Accuracy: 711/796 (89.3216%)
___Train Local_ResNet_18,  epoch 217, local model 92, internal_epoch   2,  Average loss: 0.0071, Accuracy: 700/796 (87.9397%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 6.6001, Accuracy: 2579/10000 (25.7900%)
___Train Local_ResNet_18,  epoch 217, local model 57, internal_epoch   1,  Average loss: 0.0060, Accuracy: 254/290 (87.5862%)
___Train Local_ResNet_18,  epoch 217, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 283/290 (97.5862%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.4607, Accuracy: 3131/10000 (31.3100%)
___Train Local_ResNet_18,  epoch 217, local model 74, internal_epoch   1,  Average loss: 0.0046, Accuracy: 429/469 (91.4712%)
___Train Local_ResNet_18,  epoch 217, local model 74, internal_epoch   2,  Average loss: 0.0013, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.0923, Accuracy: 4152/10000 (41.5200%)
___Train Local_ResNet_18,  epoch 217, local model 67, internal_epoch   1,  Average loss: 0.0051, Accuracy: 776/842 (92.1615%)
___Train Local_ResNet_18,  epoch 217, local model 67, internal_epoch   2,  Average loss: 0.0194, Accuracy: 550/842 (65.3207%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 74.6074, Accuracy: 1376/10000 (13.7600%)
___Train Local_ResNet_18,  epoch 217, local model 16, internal_epoch   1,  Average loss: 0.0046, Accuracy: 707/773 (91.4618%)
___Train Local_ResNet_18,  epoch 217, local model 16, internal_epoch   2,  Average loss: 0.0139, Accuracy: 617/773 (79.8189%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 19.8547, Accuracy: 1687/10000 (16.8700%)
___Train Local_ResNet_18,  epoch 217, local model 64, internal_epoch   1,  Average loss: 0.0045, Accuracy: 619/686 (90.2332%)
___Train Local_ResNet_18,  epoch 217, local model 64, internal_epoch   2,  Average loss: 0.0043, Accuracy: 635/686 (92.5656%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 6.9532, Accuracy: 2571/10000 (25.7100%)
___Train Local_ResNet_18,  epoch 217, local model 30, internal_epoch   1,  Average loss: 0.0062, Accuracy: 305/337 (90.5045%)
___Train Local_ResNet_18,  epoch 217, local model 30, internal_epoch   2,  Average loss: 0.0067, Accuracy: 303/337 (89.9110%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 6.3804, Accuracy: 2391/10000 (23.9100%)
time spent on training: 46.925007343292236
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [248, 349, 214, 796, 290, 469, 842, 773, 686, 337]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.3846171  1.         1.         0.95244002 0.49232418 0.54430642
 1.         0.49232418 0.6620955  0.3846171 ]
___Test Target_ResNet_18 poisoned: False, epoch: 217: Average loss: 0.6841, Accuracy: 7734/10000 (77.3400%)
___Test Target_ResNet_18 poisoned: True, epoch: 217: Average loss: 6.5287, Accuracy: 238/9000 (2.6444%)
Done in 86.0962553024292 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:218 choose agents : [35, 81, 62, 68, 2, 74, 39, 1, 64, 29]. Adversary List: []
___Train Local_ResNet_18,  epoch 218, local model 35, internal_epoch   1,  Average loss: 0.0070, Accuracy: 362/419 (86.3962%)
___Train Local_ResNet_18,  epoch 218, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 397/419 (94.7494%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 4.0261, Accuracy: 3427/10000 (34.2700%)
___Train Local_ResNet_18,  epoch 218, local model 81, internal_epoch   1,  Average loss: 0.0073, Accuracy: 893/1034 (86.3636%)
___Train Local_ResNet_18,  epoch 218, local model 81, internal_epoch   2,  Average loss: 0.0108, Accuracy: 830/1034 (80.2708%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 12.1443, Accuracy: 2800/10000 (28.0000%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   1,  Average loss: 0.0022, Accuracy: 342/358 (95.5307%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   2,  Average loss: 0.0006, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.2088, Accuracy: 6397/10000 (63.9700%)
___Train Local_ResNet_18,  epoch 218, local model 68, internal_epoch   1,  Average loss: 0.0029, Accuracy: 393/416 (94.4712%)
___Train Local_ResNet_18,  epoch 218, local model 68, internal_epoch   2,  Average loss: 0.0017, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.6137, Accuracy: 5824/10000 (58.2400%)
___Train Local_ResNet_18,  epoch 218, local model 2, internal_epoch   1,  Average loss: 0.0091, Accuracy: 385/461 (83.5141%)
___Train Local_ResNet_18,  epoch 218, local model 2, internal_epoch   2,  Average loss: 0.0068, Accuracy: 407/461 (88.2863%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 14.8927, Accuracy: 1361/10000 (13.6100%)
___Train Local_ResNet_18,  epoch 218, local model 74, internal_epoch   1,  Average loss: 0.0047, Accuracy: 431/469 (91.8977%)
___Train Local_ResNet_18,  epoch 218, local model 74, internal_epoch   2,  Average loss: 0.0021, Accuracy: 452/469 (96.3753%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.3342, Accuracy: 4675/10000 (46.7500%)
___Train Local_ResNet_18,  epoch 218, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 189/217 (87.0968%)
___Train Local_ResNet_18,  epoch 218, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.5077, Accuracy: 4397/10000 (43.9700%)
___Train Local_ResNet_18,  epoch 218, local model 1, internal_epoch   1,  Average loss: 0.0055, Accuracy: 603/641 (94.0718%)
___Train Local_ResNet_18,  epoch 218, local model 1, internal_epoch   2,  Average loss: 0.0115, Accuracy: 578/641 (90.1716%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 3.2219, Accuracy: 4595/10000 (45.9500%)
___Train Local_ResNet_18,  epoch 218, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 629/686 (91.6910%)
___Train Local_ResNet_18,  epoch 218, local model 64, internal_epoch   2,  Average loss: 0.0033, Accuracy: 646/686 (94.1691%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 2.3163, Accuracy: 4620/10000 (46.2000%)
___Train Local_ResNet_18,  epoch 218, local model 29, internal_epoch   1,  Average loss: 0.0048, Accuracy: 770/848 (90.8019%)
___Train Local_ResNet_18,  epoch 218, local model 29, internal_epoch   2,  Average loss: 0.0068, Accuracy: 756/848 (89.1509%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 4.4874, Accuracy: 3071/10000 (30.7100%)
time spent on training: 48.94801568984985
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [419, 1034, 358, 416, 461, 469, 217, 641, 686, 848]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.96555    0.34080072 1.         0.34080072
 0.36385961 0.91151267 0.         0.36385961]
___Test Target_ResNet_18 poisoned: False, epoch: 218: Average loss: 0.6808, Accuracy: 7738/10000 (77.3800%)
___Test Target_ResNet_18 poisoned: True, epoch: 218: Average loss: 6.5158, Accuracy: 243/9000 (2.7000%)
Done in 87.51797890663147 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:219 choose agents : [11, 21, 39, 95, 90, 68, 38, 97, 3, 98]. Adversary List: []
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 219, local model 11, internal_epoch   1,  Average loss: 0.0029, Accuracy: 517/546 (94.6886%)
___Train Local_ResNet_18,  epoch 219, local model 11, internal_epoch   2,  Average loss: 0.0019, Accuracy: 531/546 (97.2527%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.8547, Accuracy: 5426/10000 (54.2600%)
___Train Local_ResNet_18,  epoch 219, local model 21, internal_epoch   1,  Average loss: 0.0040, Accuracy: 241/262 (91.9847%)
___Train Local_ResNet_18,  epoch 219, local model 21, internal_epoch   2,  Average loss: 0.0009, Accuracy: 262/262 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 4.5506, Accuracy: 3248/10000 (32.4800%)
___Train Local_ResNet_18,  epoch 219, local model 39, internal_epoch   1,  Average loss: 0.0069, Accuracy: 187/217 (86.1751%)
___Train Local_ResNet_18,  epoch 219, local model 39, internal_epoch   2,  Average loss: 0.0011, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 4.6233, Accuracy: 3174/10000 (31.7400%)
___Train Local_ResNet_18,  epoch 219, local model 95, internal_epoch   1,  Average loss: 0.0102, Accuracy: 452/569 (79.4376%)
___Train Local_ResNet_18,  epoch 219, local model 95, internal_epoch   2,  Average loss: 0.0059, Accuracy: 501/569 (88.0492%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 6.9439, Accuracy: 2640/10000 (26.4000%)
___Train Local_ResNet_18,  epoch 219, local model 90, internal_epoch   1,  Average loss: 0.0052, Accuracy: 530/578 (91.6955%)
___Train Local_ResNet_18,  epoch 219, local model 90, internal_epoch   2,  Average loss: 0.0020, Accuracy: 552/578 (95.5017%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 3.4081, Accuracy: 3697/10000 (36.9700%)
___Train Local_ResNet_18,  epoch 219, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 393/416 (94.4712%)
___Train Local_ResNet_18,  epoch 219, local model 68, internal_epoch   2,  Average loss: 0.0009, Accuracy: 409/416 (98.3173%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.6940, Accuracy: 5768/10000 (57.6800%)
___Train Local_ResNet_18,  epoch 219, local model 38, internal_epoch   1,  Average loss: 0.0026, Accuracy: 724/756 (95.7672%)
___Train Local_ResNet_18,  epoch 219, local model 38, internal_epoch   2,  Average loss: 0.0030, Accuracy: 716/756 (94.7090%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 2.0512, Accuracy: 5218/10000 (52.1800%)
___Train Local_ResNet_18,  epoch 219, local model 97, internal_epoch   1,  Average loss: 0.0035, Accuracy: 388/418 (92.8230%)
___Train Local_ResNet_18,  epoch 219, local model 97, internal_epoch   2,  Average loss: 0.0023, Accuracy: 400/418 (95.6938%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 2.3733, Accuracy: 4903/10000 (49.0300%)
___Train Local_ResNet_18,  epoch 219, local model 3, internal_epoch   1,  Average loss: 0.0069, Accuracy: 674/780 (86.4103%)
___Train Local_ResNet_18,  epoch 219, local model 3, internal_epoch   2,  Average loss: 0.0154, Accuracy: 559/780 (71.6667%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 13.4157, Accuracy: 1412/10000 (14.1200%)
___Train Local_ResNet_18,  epoch 219, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 746/802 (93.0175%)
___Train Local_ResNet_18,  epoch 219, local model 98, internal_epoch   2,  Average loss: 0.0072, Accuracy: 693/802 (86.4090%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 5.5018, Accuracy: 3376/10000 (33.7600%)
time spent on training: 54.38899874687195
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10217065868263472  data num: [546, 262, 217, 569, 578, 416, 756, 418, 780, 802]
[foolsgold agg] considering poison per batch poison_fraction: 0.007982082709580838
[foolsgold agg] wv: [0.51478488 1.         1.         1.         1.         0.51478488
 1.         1.         0.57863318 0.57863318]
___Test Target_ResNet_18 poisoned: False, epoch: 219: Average loss: 0.6783, Accuracy: 7740/10000 (77.4000%)
___Test Target_ResNet_18 poisoned: True, epoch: 219: Average loss: 6.5068, Accuracy: 250/9000 (2.7778%)
Done in 102.11951494216919 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:220 choose agents : [90, 88, 25, 27, 56, 93, 42, 18, 66, 82]. Adversary List: []
___Train Local_ResNet_18,  epoch 220, local model 90, internal_epoch   1,  Average loss: 0.0080, Accuracy: 517/578 (89.4464%)
___Train Local_ResNet_18,  epoch 220, local model 90, internal_epoch   2,  Average loss: 0.0116, Accuracy: 466/578 (80.6228%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 159.7246, Accuracy: 1271/10000 (12.7100%)
___Train Local_ResNet_18,  epoch 220, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 372/447 (83.2215%)
___Train Local_ResNet_18,  epoch 220, local model 88, internal_epoch   2,  Average loss: 0.0041, Accuracy: 413/447 (92.3937%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 7.4898, Accuracy: 1982/10000 (19.8200%)
___Train Local_ResNet_18,  epoch 220, local model 25, internal_epoch   1,  Average loss: 0.0036, Accuracy: 505/545 (92.6606%)
___Train Local_ResNet_18,  epoch 220, local model 25, internal_epoch   2,  Average loss: 0.0019, Accuracy: 532/545 (97.6147%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 5.3696, Accuracy: 3423/10000 (34.2300%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   1,  Average loss: 0.0018, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   2,  Average loss: 0.0004, Accuracy: 396/397 (99.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.4927, Accuracy: 6091/10000 (60.9100%)
___Train Local_ResNet_18,  epoch 220, local model 56, internal_epoch   1,  Average loss: 0.0023, Accuracy: 716/743 (96.3661%)
___Train Local_ResNet_18,  epoch 220, local model 56, internal_epoch   2,  Average loss: 0.0015, Accuracy: 715/743 (96.2315%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.8514, Accuracy: 5532/10000 (55.3200%)
___Train Local_ResNet_18,  epoch 220, local model 93, internal_epoch   1,  Average loss: 0.0034, Accuracy: 549/584 (94.0068%)
___Train Local_ResNet_18,  epoch 220, local model 93, internal_epoch   2,  Average loss: 0.0068, Accuracy: 514/584 (88.0137%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 12.6326, Accuracy: 2141/10000 (21.4100%)
___Train Local_ResNet_18,  epoch 220, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 178/198 (89.8990%)
___Train Local_ResNet_18,  epoch 220, local model 42, internal_epoch   2,  Average loss: 0.0005, Accuracy: 198/198 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 3.6204, Accuracy: 3591/10000 (35.9100%)
___Train Local_ResNet_18,  epoch 220, local model 18, internal_epoch   1,  Average loss: 0.0038, Accuracy: 365/386 (94.5596%)
___Train Local_ResNet_18,  epoch 220, local model 18, internal_epoch   2,  Average loss: 0.0204, Accuracy: 343/386 (88.8601%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 7.4817, Accuracy: 2064/10000 (20.6400%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 507/555 (91.3514%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   2,  Average loss: 0.0012, Accuracy: 543/555 (97.8378%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 4.5268, Accuracy: 3689/10000 (36.8900%)
___Train Local_ResNet_18,  epoch 220, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 572/601 (95.1747%)
___Train Local_ResNet_18,  epoch 220, local model 82, internal_epoch   2,  Average loss: 0.0027, Accuracy: 570/601 (94.8419%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 2.1450, Accuracy: 5012/10000 (50.1200%)
time spent on training: 48.27177143096924
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [578, 447, 545, 397, 743, 584, 198, 386, 555, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.         0.         0.50757319 0.66227631
 0.         0.         0.50757319 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 220: Average loss: 0.6771, Accuracy: 7757/10000 (77.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 220: Average loss: 6.5490, Accuracy: 242/9000 (2.6889%)
Done in 92.12463092803955 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:221 choose agents : [86, 67, 38, 29, 30, 96, 0, 3, 8, 68]. Adversary List: []
___Train Local_ResNet_18,  epoch 221, local model 86, internal_epoch   1,  Average loss: 0.0044, Accuracy: 196/212 (92.4528%)
___Train Local_ResNet_18,  epoch 221, local model 86, internal_epoch   2,  Average loss: 0.0008, Accuracy: 211/212 (99.5283%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.4832, Accuracy: 6050/10000 (60.5000%)
___Train Local_ResNet_18,  epoch 221, local model 67, internal_epoch   1,  Average loss: 0.0039, Accuracy: 785/842 (93.2304%)
___Train Local_ResNet_18,  epoch 221, local model 67, internal_epoch   2,  Average loss: 0.0153, Accuracy: 656/842 (77.9097%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 38.6224, Accuracy: 1708/10000 (17.0800%)
___Train Local_ResNet_18,  epoch 221, local model 38, internal_epoch   1,  Average loss: 0.0024, Accuracy: 718/756 (94.9735%)
___Train Local_ResNet_18,  epoch 221, local model 38, internal_epoch   2,  Average loss: 0.0020, Accuracy: 720/756 (95.2381%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.7398, Accuracy: 5580/10000 (55.8000%)
___Train Local_ResNet_18,  epoch 221, local model 29, internal_epoch   1,  Average loss: 0.0058, Accuracy: 748/848 (88.2075%)
___Train Local_ResNet_18,  epoch 221, local model 29, internal_epoch   2,  Average loss: 0.0057, Accuracy: 764/848 (90.0943%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 11.6655, Accuracy: 1543/10000 (15.4300%)
___Train Local_ResNet_18,  epoch 221, local model 30, internal_epoch   1,  Average loss: 0.0062, Accuracy: 301/337 (89.3175%)
___Train Local_ResNet_18,  epoch 221, local model 30, internal_epoch   2,  Average loss: 0.0027, Accuracy: 322/337 (95.5490%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 3.6147, Accuracy: 3292/10000 (32.9200%)
___Train Local_ResNet_18,  epoch 221, local model 96, internal_epoch   1,  Average loss: 0.0043, Accuracy: 642/708 (90.6780%)
___Train Local_ResNet_18,  epoch 221, local model 96, internal_epoch   2,  Average loss: 0.0120, Accuracy: 581/708 (82.0621%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 9.7198, Accuracy: 1648/10000 (16.4800%)
___Train Local_ResNet_18,  epoch 221, local model 0, internal_epoch   1,  Average loss: 0.0074, Accuracy: 313/367 (85.2861%)
___Train Local_ResNet_18,  epoch 221, local model 0, internal_epoch   2,  Average loss: 0.0024, Accuracy: 349/367 (95.0954%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 5.0767, Accuracy: 2653/10000 (26.5300%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   1,  Average loss: 0.0077, Accuracy: 672/780 (86.1538%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   2,  Average loss: 0.0122, Accuracy: 608/780 (77.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 8.4958, Accuracy: 1899/10000 (18.9900%)
___Train Local_ResNet_18,  epoch 221, local model 8, internal_epoch   1,  Average loss: 0.0040, Accuracy: 494/534 (92.5094%)
___Train Local_ResNet_18,  epoch 221, local model 8, internal_epoch   2,  Average loss: 0.0050, Accuracy: 487/534 (91.1985%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 3.1879, Accuracy: 3639/10000 (36.3900%)
___Train Local_ResNet_18,  epoch 221, local model 68, internal_epoch   1,  Average loss: 0.0027, Accuracy: 396/416 (95.1923%)
___Train Local_ResNet_18,  epoch 221, local model 68, internal_epoch   2,  Average loss: 0.0016, Accuracy: 408/416 (98.0769%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 1.4980, Accuracy: 5903/10000 (59.0300%)
time spent on training: 50.79631996154785
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 842, 756, 848, 337, 708, 367, 780, 534, 416]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.31867212 0.92364296 1.         1.         0.358286   1.
 0.41879125 1.         0.358286   0.31867212]
___Test Target_ResNet_18 poisoned: False, epoch: 221: Average loss: 0.6751, Accuracy: 7750/10000 (77.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 221: Average loss: 6.5056, Accuracy: 256/9000 (2.8444%)
Done in 89.61257648468018 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:222 choose agents : [79, 90, 21, 25, 53, 14, 6, 12, 7, 58]. Adversary List: []
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   1,  Average loss: 0.0068, Accuracy: 134/154 (87.0130%)
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.2539, Accuracy: 6512/10000 (65.1200%)
___Train Local_ResNet_18,  epoch 222, local model 90, internal_epoch   1,  Average loss: 0.0138, Accuracy: 533/578 (92.2145%)
___Train Local_ResNet_18,  epoch 222, local model 90, internal_epoch   2,  Average loss: 0.0306, Accuracy: 347/578 (60.0346%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 2241.1424, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 222, local model 21, internal_epoch   1,  Average loss: 0.0047, Accuracy: 242/262 (92.3664%)
___Train Local_ResNet_18,  epoch 222, local model 21, internal_epoch   2,  Average loss: 0.0073, Accuracy: 242/262 (92.3664%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 6.2193, Accuracy: 2239/10000 (22.3900%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   1,  Average loss: 0.0040, Accuracy: 505/545 (92.6606%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   2,  Average loss: 0.0019, Accuracy: 526/545 (96.5138%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.3431, Accuracy: 4106/10000 (41.0600%)
___Train Local_ResNet_18,  epoch 222, local model 53, internal_epoch   1,  Average loss: 0.0044, Accuracy: 564/625 (90.2400%)
___Train Local_ResNet_18,  epoch 222, local model 53, internal_epoch   2,  Average loss: 0.0035, Accuracy: 576/625 (92.1600%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.3541, Accuracy: 4078/10000 (40.7800%)
___Train Local_ResNet_18,  epoch 222, local model 14, internal_epoch   1,  Average loss: 0.0084, Accuracy: 266/318 (83.6478%)
___Train Local_ResNet_18,  epoch 222, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 298/318 (93.7107%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 9.1902, Accuracy: 1954/10000 (19.5400%)
___Train Local_ResNet_18,  epoch 222, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 476/520 (91.5385%)
___Train Local_ResNet_18,  epoch 222, local model 6, internal_epoch   2,  Average loss: 0.0035, Accuracy: 482/520 (92.6923%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 3.1869, Accuracy: 4016/10000 (40.1600%)
___Train Local_ResNet_18,  epoch 222, local model 12, internal_epoch   1,  Average loss: 0.0066, Accuracy: 857/977 (87.7175%)
___Train Local_ResNet_18,  epoch 222, local model 12, internal_epoch   2,  Average loss: 0.0086, Accuracy: 807/977 (82.5998%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 7.4625, Accuracy: 3189/10000 (31.8900%)
___Train Local_ResNet_18,  epoch 222, local model 7, internal_epoch   1,  Average loss: 0.0028, Accuracy: 331/352 (94.0341%)
___Train Local_ResNet_18,  epoch 222, local model 7, internal_epoch   2,  Average loss: 0.0009, Accuracy: 347/352 (98.5795%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.9175, Accuracy: 5253/10000 (52.5300%)
___Train Local_ResNet_18,  epoch 222, local model 58, internal_epoch   1,  Average loss: 0.0084, Accuracy: 196/234 (83.7607%)
___Train Local_ResNet_18,  epoch 222, local model 58, internal_epoch   2,  Average loss: 0.0006, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 7.0819, Accuracy: 1870/10000 (18.7000%)
time spent on training: 48.18829822540283
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [154, 578, 262, 545, 625, 318, 520, 977, 352, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.95551295 0.         1.         0.
 0.00611548 1.         1.         0.10552409]
___Test Target_ResNet_18 poisoned: False, epoch: 222: Average loss: 0.6721, Accuracy: 7763/10000 (77.6300%)
___Test Target_ResNet_18 poisoned: True, epoch: 222: Average loss: 6.4750, Accuracy: 265/9000 (2.9444%)
Done in 92.34542751312256 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:223 choose agents : [65, 0, 98, 20, 45, 82, 88, 17, 11, 46]. Adversary List: []
___Train Local_ResNet_18,  epoch 223, local model 65, internal_epoch   1,  Average loss: 0.0046, Accuracy: 286/314 (91.0828%)
___Train Local_ResNet_18,  epoch 223, local model 65, internal_epoch   2,  Average loss: 0.0007, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 4.7443, Accuracy: 2605/10000 (26.0500%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   1,  Average loss: 0.0079, Accuracy: 306/367 (83.3787%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   2,  Average loss: 0.0021, Accuracy: 349/367 (95.0954%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.1076, Accuracy: 2775/10000 (27.7500%)
___Train Local_ResNet_18,  epoch 223, local model 98, internal_epoch   1,  Average loss: 0.0040, Accuracy: 742/802 (92.5187%)
___Train Local_ResNet_18,  epoch 223, local model 98, internal_epoch   2,  Average loss: 0.0050, Accuracy: 720/802 (89.7756%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 3.2956, Accuracy: 4277/10000 (42.7700%)
___Train Local_ResNet_18,  epoch 223, local model 20, internal_epoch   1,  Average loss: 0.0074, Accuracy: 303/362 (83.7017%)
___Train Local_ResNet_18,  epoch 223, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 338/362 (93.3702%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.1813, Accuracy: 3456/10000 (34.5600%)
___Train Local_ResNet_18,  epoch 223, local model 45, internal_epoch   1,  Average loss: 0.0065, Accuracy: 461/529 (87.1456%)
___Train Local_ResNet_18,  epoch 223, local model 45, internal_epoch   2,  Average loss: 0.0074, Accuracy: 461/529 (87.1456%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 12.6642, Accuracy: 1698/10000 (16.9800%)
___Train Local_ResNet_18,  epoch 223, local model 82, internal_epoch   1,  Average loss: 0.0023, Accuracy: 582/601 (96.8386%)
___Train Local_ResNet_18,  epoch 223, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 566/601 (94.1764%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.3004, Accuracy: 4950/10000 (49.5000%)
___Train Local_ResNet_18,  epoch 223, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 373/447 (83.4452%)
___Train Local_ResNet_18,  epoch 223, local model 88, internal_epoch   2,  Average loss: 0.0038, Accuracy: 411/447 (91.9463%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 6.7488, Accuracy: 2487/10000 (24.8700%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 223, local model 17, internal_epoch   1,  Average loss: 0.0026, Accuracy: 499/526 (94.8669%)
___Train Local_ResNet_18,  epoch 223, local model 17, internal_epoch   2,  Average loss: 0.0019, Accuracy: 512/526 (97.3384%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.7058, Accuracy: 5841/10000 (58.4100%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 223, local model 11, internal_epoch   1,  Average loss: 0.0032, Accuracy: 510/546 (93.4066%)
___Train Local_ResNet_18,  epoch 223, local model 11, internal_epoch   2,  Average loss: 0.0031, Accuracy: 511/546 (93.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.9758, Accuracy: 5234/10000 (52.3400%)
___Train Local_ResNet_18,  epoch 223, local model 46, internal_epoch   1,  Average loss: 0.0017, Accuracy: 587/601 (97.6705%)
___Train Local_ResNet_18,  epoch 223, local model 46, internal_epoch   2,  Average loss: 0.0010, Accuracy: 593/601 (98.6689%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.4772, Accuracy: 6055/10000 (60.5500%)
time spent on training: 59.71026539802551
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21040235525024534  data num: [314, 367, 802, 362, 529, 601, 447, 526, 546, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.016437684003925417
[foolsgold agg] wv: [1.         0.98354385 1.         1.         1.         1.
 0.98354385 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 223: Average loss: 0.6705, Accuracy: 7762/10000 (77.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 223: Average loss: 6.4719, Accuracy: 268/9000 (2.9778%)
Done in 98.34431648254395 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:224 choose agents : [85, 42, 29, 8, 63, 48, 69, 96, 88, 17]. Adversary List: []
___Train Local_ResNet_18,  epoch 224, local model 85, internal_epoch   1,  Average loss: 0.0065, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 224, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 351/364 (96.4286%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.0147, Accuracy: 2972/10000 (29.7200%)
___Train Local_ResNet_18,  epoch 224, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 183/198 (92.4242%)
___Train Local_ResNet_18,  epoch 224, local model 42, internal_epoch   2,  Average loss: 0.0079, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.5567, Accuracy: 4302/10000 (43.0200%)
___Train Local_ResNet_18,  epoch 224, local model 29, internal_epoch   1,  Average loss: 0.0041, Accuracy: 775/848 (91.3915%)
___Train Local_ResNet_18,  epoch 224, local model 29, internal_epoch   2,  Average loss: 0.0046, Accuracy: 776/848 (91.5094%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.6225, Accuracy: 3250/10000 (32.5000%)
___Train Local_ResNet_18,  epoch 224, local model 8, internal_epoch   1,  Average loss: 0.0039, Accuracy: 501/534 (93.8202%)
___Train Local_ResNet_18,  epoch 224, local model 8, internal_epoch   2,  Average loss: 0.0031, Accuracy: 502/534 (94.0075%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.9987, Accuracy: 3992/10000 (39.9200%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 704/752 (93.6170%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   2,  Average loss: 0.0022, Accuracy: 724/752 (96.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.1166, Accuracy: 5299/10000 (52.9900%)
___Train Local_ResNet_18,  epoch 224, local model 48, internal_epoch   1,  Average loss: 0.0058, Accuracy: 340/378 (89.9471%)
___Train Local_ResNet_18,  epoch 224, local model 48, internal_epoch   2,  Average loss: 0.0020, Accuracy: 365/378 (96.5608%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.5755, Accuracy: 3628/10000 (36.2800%)
___Train Local_ResNet_18,  epoch 224, local model 69, internal_epoch   1,  Average loss: 0.0075, Accuracy: 189/216 (87.5000%)
___Train Local_ResNet_18,  epoch 224, local model 69, internal_epoch   2,  Average loss: 0.0008, Accuracy: 214/216 (99.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 12.3734, Accuracy: 1015/10000 (10.1500%)
___Train Local_ResNet_18,  epoch 224, local model 96, internal_epoch   1,  Average loss: 0.0053, Accuracy: 649/708 (91.6667%)
___Train Local_ResNet_18,  epoch 224, local model 96, internal_epoch   2,  Average loss: 0.0164, Accuracy: 514/708 (72.5989%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 21.4610, Accuracy: 2162/10000 (21.6200%)
___Train Local_ResNet_18,  epoch 224, local model 88, internal_epoch   1,  Average loss: 0.0065, Accuracy: 394/447 (88.1432%)
___Train Local_ResNet_18,  epoch 224, local model 88, internal_epoch   2,  Average loss: 0.0031, Accuracy: 414/447 (92.6174%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.6232, Accuracy: 3328/10000 (33.2800%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 224, local model 17, internal_epoch   1,  Average loss: 0.0023, Accuracy: 506/526 (96.1977%)
___Train Local_ResNet_18,  epoch 224, local model 17, internal_epoch   2,  Average loss: 0.0036, Accuracy: 509/526 (96.7681%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 1.6271, Accuracy: 5613/10000 (56.1300%)
time spent on training: 55.36188626289368
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10581371957352645  data num: [364, 198, 848, 534, 752, 378, 216, 708, 447, 526]
[foolsgold agg] considering poison per batch poison_fraction: 0.008266696841681754
[foolsgold agg] wv: [0.23217281 0.         1.         0.8806005  1.         1.
 0.         1.         0.23217281 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 224: Average loss: 0.6686, Accuracy: 7773/10000 (77.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 224: Average loss: 6.4803, Accuracy: 265/9000 (2.9444%)
Done in 93.28258848190308 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:225 choose agents : [20, 71, 51, 95, 80, 24, 55, 13, 63, 61]. Adversary List: []
___Train Local_ResNet_18,  epoch 225, local model 20, internal_epoch   1,  Average loss: 0.0071, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 225, local model 20, internal_epoch   2,  Average loss: 0.0015, Accuracy: 349/362 (96.4088%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.4116, Accuracy: 2610/10000 (26.1000%)
___Train Local_ResNet_18,  epoch 225, local model 71, internal_epoch   1,  Average loss: 0.0044, Accuracy: 1070/1166 (91.7667%)
___Train Local_ResNet_18,  epoch 225, local model 71, internal_epoch   2,  Average loss: 0.0086, Accuracy: 969/1166 (83.1046%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 5.0066, Accuracy: 3492/10000 (34.9200%)
___Train Local_ResNet_18,  epoch 225, local model 51, internal_epoch   1,  Average loss: 0.0032, Accuracy: 447/479 (93.3194%)
___Train Local_ResNet_18,  epoch 225, local model 51, internal_epoch   2,  Average loss: 0.0020, Accuracy: 461/479 (96.2422%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 2.7446, Accuracy: 4056/10000 (40.5600%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   1,  Average loss: 0.0075, Accuracy: 489/569 (85.9402%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   2,  Average loss: 0.0051, Accuracy: 514/569 (90.3339%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 5.8920, Accuracy: 2692/10000 (26.9200%)
___Train Local_ResNet_18,  epoch 225, local model 80, internal_epoch   1,  Average loss: 0.0067, Accuracy: 311/363 (85.6749%)
___Train Local_ResNet_18,  epoch 225, local model 80, internal_epoch   2,  Average loss: 0.0019, Accuracy: 352/363 (96.9697%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 2.9065, Accuracy: 4099/10000 (40.9900%)
___Train Local_ResNet_18,  epoch 225, local model 24, internal_epoch   1,  Average loss: 0.0039, Accuracy: 291/320 (90.9375%)
___Train Local_ResNet_18,  epoch 225, local model 24, internal_epoch   2,  Average loss: 0.0007, Accuracy: 317/320 (99.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 3.0924, Accuracy: 3637/10000 (36.3700%)
___Train Local_ResNet_18,  epoch 225, local model 55, internal_epoch   1,  Average loss: 0.0049, Accuracy: 271/299 (90.6355%)
___Train Local_ResNet_18,  epoch 225, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 7.6568, Accuracy: 2125/10000 (21.2500%)
___Train Local_ResNet_18,  epoch 225, local model 13, internal_epoch   1,  Average loss: 0.0056, Accuracy: 549/620 (88.5484%)
___Train Local_ResNet_18,  epoch 225, local model 13, internal_epoch   2,  Average loss: 0.0030, Accuracy: 581/620 (93.7097%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 4.8153, Accuracy: 3353/10000 (33.5300%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   1,  Average loss: 0.0028, Accuracy: 705/752 (93.7500%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   2,  Average loss: 0.0021, Accuracy: 724/752 (96.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.4137, Accuracy: 6013/10000 (60.1300%)
___Train Local_ResNet_18,  epoch 225, local model 61, internal_epoch   1,  Average loss: 0.0048, Accuracy: 537/590 (91.0169%)
___Train Local_ResNet_18,  epoch 225, local model 61, internal_epoch   2,  Average loss: 0.0097, Accuracy: 501/590 (84.9153%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 8.4579, Accuracy: 2623/10000 (26.2300%)
time spent on training: 47.74904274940491
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [362, 1166, 479, 569, 363, 320, 299, 620, 752, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.75542711 0.         1.         0.         0.75542711
 0.         0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 225: Average loss: 0.6671, Accuracy: 7776/10000 (77.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 225: Average loss: 6.4826, Accuracy: 268/9000 (2.9778%)
Done in 87.24790573120117 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:226 choose agents : [41, 90, 74, 85, 14, 21, 78, 1, 2, 9]. Adversary List: []
___Train Local_ResNet_18,  epoch 226, local model 41, internal_epoch   1,  Average loss: 0.0231, Accuracy: 418/513 (81.4815%)
___Train Local_ResNet_18,  epoch 226, local model 41, internal_epoch   2,  Average loss: 0.0119, Accuracy: 403/513 (78.5575%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.8006, Accuracy: 2607/10000 (26.0700%)
___Train Local_ResNet_18,  epoch 226, local model 90, internal_epoch   1,  Average loss: 0.0062, Accuracy: 531/578 (91.8685%)
___Train Local_ResNet_18,  epoch 226, local model 90, internal_epoch   2,  Average loss: 0.0287, Accuracy: 316/578 (54.6713%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 1514.7878, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 226, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 434/469 (92.5373%)
___Train Local_ResNet_18,  epoch 226, local model 74, internal_epoch   2,  Average loss: 0.0018, Accuracy: 456/469 (97.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 2.7557, Accuracy: 4526/10000 (45.2600%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   1,  Average loss: 0.0067, Accuracy: 314/364 (86.2637%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   2,  Average loss: 0.0030, Accuracy: 341/364 (93.6813%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.8971, Accuracy: 3048/10000 (30.4800%)
___Train Local_ResNet_18,  epoch 226, local model 14, internal_epoch   1,  Average loss: 0.0068, Accuracy: 277/318 (87.1069%)
___Train Local_ResNet_18,  epoch 226, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 308/318 (96.8553%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 11.4921, Accuracy: 1794/10000 (17.9400%)
___Train Local_ResNet_18,  epoch 226, local model 21, internal_epoch   1,  Average loss: 0.0042, Accuracy: 241/262 (91.9847%)
___Train Local_ResNet_18,  epoch 226, local model 21, internal_epoch   2,  Average loss: 0.0047, Accuracy: 255/262 (97.3282%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.1759, Accuracy: 3589/10000 (35.8900%)
___Train Local_ResNet_18,  epoch 226, local model 78, internal_epoch   1,  Average loss: 0.0055, Accuracy: 225/255 (88.2353%)
___Train Local_ResNet_18,  epoch 226, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.0854, Accuracy: 3941/10000 (39.4100%)
___Train Local_ResNet_18,  epoch 226, local model 1, internal_epoch   1,  Average loss: 0.0079, Accuracy: 609/641 (95.0078%)
___Train Local_ResNet_18,  epoch 226, local model 1, internal_epoch   2,  Average loss: 0.0144, Accuracy: 527/641 (82.2153%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.9464, Accuracy: 3511/10000 (35.1100%)
___Train Local_ResNet_18,  epoch 226, local model 2, internal_epoch   1,  Average loss: 0.0083, Accuracy: 390/461 (84.5987%)
___Train Local_ResNet_18,  epoch 226, local model 2, internal_epoch   2,  Average loss: 0.0059, Accuracy: 424/461 (91.9740%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 2.9553, Accuracy: 4199/10000 (41.9900%)
___Train Local_ResNet_18,  epoch 226, local model 9, internal_epoch   1,  Average loss: 0.0043, Accuracy: 337/368 (91.5761%)
___Train Local_ResNet_18,  epoch 226, local model 9, internal_epoch   2,  Average loss: 0.0013, Accuracy: 362/368 (98.3696%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 7.2162, Accuracy: 2337/10000 (23.3700%)
time spent on training: 46.023815631866455
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [513, 578, 469, 364, 318, 262, 255, 641, 461, 368]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.04315301 1.         1.         1.         0.04315301 1.
 1.         1.         0.53926497 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 226: Average loss: 0.6690, Accuracy: 7788/10000 (77.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 226: Average loss: 6.5363, Accuracy: 253/9000 (2.8111%)
Done in 87.84468579292297 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:227 choose agents : [9, 5, 16, 36, 94, 57, 63, 92, 28, 56]. Adversary List: []
___Train Local_ResNet_18,  epoch 227, local model 9, internal_epoch   1,  Average loss: 0.0043, Accuracy: 333/368 (90.4891%)
___Train Local_ResNet_18,  epoch 227, local model 9, internal_epoch   2,  Average loss: 0.0018, Accuracy: 353/368 (95.9239%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.6575, Accuracy: 2871/10000 (28.7100%)
___Train Local_ResNet_18,  epoch 227, local model 5, internal_epoch   1,  Average loss: 0.0020, Accuracy: 352/365 (96.4384%)
___Train Local_ResNet_18,  epoch 227, local model 5, internal_epoch   2,  Average loss: 0.0007, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.5845, Accuracy: 6063/10000 (60.6300%)
___Train Local_ResNet_18,  epoch 227, local model 16, internal_epoch   1,  Average loss: 0.0040, Accuracy: 717/773 (92.7555%)
___Train Local_ResNet_18,  epoch 227, local model 16, internal_epoch   2,  Average loss: 0.0091, Accuracy: 681/773 (88.0983%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 5.3111, Accuracy: 2578/10000 (25.7800%)
___Train Local_ResNet_18,  epoch 227, local model 36, internal_epoch   1,  Average loss: 0.0074, Accuracy: 736/849 (86.6902%)
___Train Local_ResNet_18,  epoch 227, local model 36, internal_epoch   2,  Average loss: 0.0173, Accuracy: 588/849 (69.2580%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 35.6014, Accuracy: 1762/10000 (17.6200%)
___Train Local_ResNet_18,  epoch 227, local model 94, internal_epoch   1,  Average loss: 0.0080, Accuracy: 172/203 (84.7291%)
___Train Local_ResNet_18,  epoch 227, local model 94, internal_epoch   2,  Average loss: 0.0019, Accuracy: 201/203 (99.0148%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.7751, Accuracy: 2690/10000 (26.9000%)
___Train Local_ResNet_18,  epoch 227, local model 57, internal_epoch   1,  Average loss: 0.0053, Accuracy: 259/290 (89.3103%)
___Train Local_ResNet_18,  epoch 227, local model 57, internal_epoch   2,  Average loss: 0.0013, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 3.1416, Accuracy: 4590/10000 (45.9000%)
___Train Local_ResNet_18,  epoch 227, local model 63, internal_epoch   1,  Average loss: 0.0026, Accuracy: 713/752 (94.8138%)
___Train Local_ResNet_18,  epoch 227, local model 63, internal_epoch   2,  Average loss: 0.0021, Accuracy: 718/752 (95.4787%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.4259, Accuracy: 6014/10000 (60.1400%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   1,  Average loss: 0.0052, Accuracy: 724/796 (90.9548%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   2,  Average loss: 0.0065, Accuracy: 702/796 (88.1910%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 5.3990, Accuracy: 2874/10000 (28.7400%)
___Train Local_ResNet_18,  epoch 227, local model 28, internal_epoch   1,  Average loss: 0.0031, Accuracy: 399/423 (94.3262%)
___Train Local_ResNet_18,  epoch 227, local model 28, internal_epoch   2,  Average loss: 0.0016, Accuracy: 410/423 (96.9267%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 2.0032, Accuracy: 5230/10000 (52.3000%)
___Train Local_ResNet_18,  epoch 227, local model 56, internal_epoch   1,  Average loss: 0.0022, Accuracy: 718/743 (96.6353%)
___Train Local_ResNet_18,  epoch 227, local model 56, internal_epoch   2,  Average loss: 0.0011, Accuracy: 727/743 (97.8466%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.4416, Accuracy: 6319/10000 (63.1900%)
time spent on training: 48.001505851745605
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [368, 365, 773, 849, 203, 290, 752, 796, 423, 743]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.83497247 0.76379802 1.         0.70634966 0.23430563
 0.23430563 1.         0.83497247 0.70634966]
___Test Target_ResNet_18 poisoned: False, epoch: 227: Average loss: 0.6672, Accuracy: 7792/10000 (77.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 227: Average loss: 6.5473, Accuracy: 257/9000 (2.8556%)
Done in 84.53521871566772 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:228 choose agents : [44, 40, 74, 85, 2, 99, 35, 70, 88, 50]. Adversary List: []
___Train Local_ResNet_18,  epoch 228, local model 44, internal_epoch   1,  Average loss: 0.0043, Accuracy: 399/436 (91.5138%)
___Train Local_ResNet_18,  epoch 228, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 424/436 (97.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 1.4538, Accuracy: 5843/10000 (58.4300%)
___Train Local_ResNet_18,  epoch 228, local model 40, internal_epoch   1,  Average loss: 0.0088, Accuracy: 567/652 (86.9632%)
___Train Local_ResNet_18,  epoch 228, local model 40, internal_epoch   2,  Average loss: 0.0089, Accuracy: 539/652 (82.6687%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 7.2335, Accuracy: 2400/10000 (24.0000%)
___Train Local_ResNet_18,  epoch 228, local model 74, internal_epoch   1,  Average loss: 0.0047, Accuracy: 435/469 (92.7505%)
___Train Local_ResNet_18,  epoch 228, local model 74, internal_epoch   2,  Average loss: 0.0030, Accuracy: 447/469 (95.3092%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.3248, Accuracy: 3705/10000 (37.0500%)
___Train Local_ResNet_18,  epoch 228, local model 85, internal_epoch   1,  Average loss: 0.0074, Accuracy: 317/364 (87.0879%)
___Train Local_ResNet_18,  epoch 228, local model 85, internal_epoch   2,  Average loss: 0.0027, Accuracy: 348/364 (95.6044%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.6743, Accuracy: 3100/10000 (31.0000%)
___Train Local_ResNet_18,  epoch 228, local model 2, internal_epoch   1,  Average loss: 0.0077, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 228, local model 2, internal_epoch   2,  Average loss: 0.0072, Accuracy: 409/461 (88.7202%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 5.9109, Accuracy: 2701/10000 (27.0100%)
___Train Local_ResNet_18,  epoch 228, local model 99, internal_epoch   1,  Average loss: 0.0049, Accuracy: 357/391 (91.3043%)
___Train Local_ResNet_18,  epoch 228, local model 99, internal_epoch   2,  Average loss: 0.0087, Accuracy: 351/391 (89.7698%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 4.0153, Accuracy: 3444/10000 (34.4400%)
___Train Local_ResNet_18,  epoch 228, local model 35, internal_epoch   1,  Average loss: 0.0067, Accuracy: 366/419 (87.3508%)
___Train Local_ResNet_18,  epoch 228, local model 35, internal_epoch   2,  Average loss: 0.0020, Accuracy: 401/419 (95.7041%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.9498, Accuracy: 2987/10000 (29.8700%)
___Train Local_ResNet_18,  epoch 228, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 576/610 (94.4262%)
___Train Local_ResNet_18,  epoch 228, local model 70, internal_epoch   2,  Average loss: 0.0043, Accuracy: 565/610 (92.6230%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.4602, Accuracy: 3873/10000 (38.7300%)
___Train Local_ResNet_18,  epoch 228, local model 88, internal_epoch   1,  Average loss: 0.0063, Accuracy: 392/447 (87.6957%)
___Train Local_ResNet_18,  epoch 228, local model 88, internal_epoch   2,  Average loss: 0.0025, Accuracy: 423/447 (94.6309%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 4.0119, Accuracy: 3533/10000 (35.3300%)
___Train Local_ResNet_18,  epoch 228, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 387/401 (96.5087%)
___Train Local_ResNet_18,  epoch 228, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 3.1031, Accuracy: 4294/10000 (42.9400%)
time spent on training: 46.4585976600647
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [436, 652, 469, 364, 461, 391, 419, 610, 447, 401]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.58219698 0.         0.58219698 0.19977756 0.         1.
 1.         0.66294374 0.19977756 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 228: Average loss: 0.6662, Accuracy: 7795/10000 (77.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 228: Average loss: 6.5678, Accuracy: 255/9000 (2.8333%)
Done in 82.64299178123474 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:229 choose agents : [86, 60, 41, 79, 76, 67, 9, 40, 72, 44]. Adversary List: []
___Train Local_ResNet_18,  epoch 229, local model 86, internal_epoch   1,  Average loss: 0.0051, Accuracy: 203/212 (95.7547%)
___Train Local_ResNet_18,  epoch 229, local model 86, internal_epoch   2,  Average loss: 0.0023, Accuracy: 206/212 (97.1698%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 2.8287, Accuracy: 4399/10000 (43.9900%)
___Train Local_ResNet_18,  epoch 229, local model 60, internal_epoch   1,  Average loss: 0.0044, Accuracy: 258/284 (90.8451%)
___Train Local_ResNet_18,  epoch 229, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 281/284 (98.9437%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 3.0000, Accuracy: 4296/10000 (42.9600%)
___Train Local_ResNet_18,  epoch 229, local model 41, internal_epoch   1,  Average loss: 0.0084, Accuracy: 423/513 (82.4561%)
___Train Local_ResNet_18,  epoch 229, local model 41, internal_epoch   2,  Average loss: 0.0236, Accuracy: 466/513 (90.8382%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 3.9834, Accuracy: 3166/10000 (31.6600%)
___Train Local_ResNet_18,  epoch 229, local model 79, internal_epoch   1,  Average loss: 0.0065, Accuracy: 133/154 (86.3636%)
___Train Local_ResNet_18,  epoch 229, local model 79, internal_epoch   2,  Average loss: 0.0009, Accuracy: 153/154 (99.3506%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.0547, Accuracy: 6855/10000 (68.5500%)
___Train Local_ResNet_18,  epoch 229, local model 76, internal_epoch   1,  Average loss: 0.0403, Accuracy: 60/65 (92.3077%)
___Train Local_ResNet_18,  epoch 229, local model 76, internal_epoch   2,  Average loss: 0.0455, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.2453, Accuracy: 6460/10000 (64.6000%)
___Train Local_ResNet_18,  epoch 229, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 786/842 (93.3492%)
___Train Local_ResNet_18,  epoch 229, local model 67, internal_epoch   2,  Average loss: 0.0138, Accuracy: 649/842 (77.0784%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 17.2376, Accuracy: 1686/10000 (16.8600%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   1,  Average loss: 0.0037, Accuracy: 338/368 (91.8478%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 358/368 (97.2826%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 4.4178, Accuracy: 3204/10000 (32.0400%)
___Train Local_ResNet_18,  epoch 229, local model 40, internal_epoch   1,  Average loss: 0.0057, Accuracy: 571/652 (87.5767%)
___Train Local_ResNet_18,  epoch 229, local model 40, internal_epoch   2,  Average loss: 0.0053, Accuracy: 583/652 (89.4172%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 5.6396, Accuracy: 2953/10000 (29.5300%)
___Train Local_ResNet_18,  epoch 229, local model 72, internal_epoch   1,  Average loss: 0.0081, Accuracy: 517/618 (83.6570%)
___Train Local_ResNet_18,  epoch 229, local model 72, internal_epoch   2,  Average loss: 0.0071, Accuracy: 533/618 (86.2460%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 10.1219, Accuracy: 1879/10000 (18.7900%)
___Train Local_ResNet_18,  epoch 229, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 408/436 (93.5780%)
___Train Local_ResNet_18,  epoch 229, local model 44, internal_epoch   2,  Average loss: 0.0012, Accuracy: 425/436 (97.4771%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 1.9892, Accuracy: 5149/10000 (51.4900%)
time spent on training: 45.08434009552002
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 284, 513, 154, 65, 842, 368, 652, 618, 436]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         0.24518428 1.         0.         1.
 1.         0.24518428 0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 229: Average loss: 0.6654, Accuracy: 7799/10000 (77.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 229: Average loss: 6.5815, Accuracy: 252/9000 (2.8000%)
Done in 79.56866645812988 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:230 choose agents : [46, 96, 54, 39, 67, 82, 21, 80, 11, 33]. Adversary List: []
___Train Local_ResNet_18,  epoch 230, local model 46, internal_epoch   1,  Average loss: 0.0017, Accuracy: 585/601 (97.3378%)
___Train Local_ResNet_18,  epoch 230, local model 46, internal_epoch   2,  Average loss: 0.0010, Accuracy: 593/601 (98.6689%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 1.9147, Accuracy: 5444/10000 (54.4400%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   1,  Average loss: 0.0039, Accuracy: 659/708 (93.0791%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   2,  Average loss: 0.0054, Accuracy: 645/708 (91.1017%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.7020, Accuracy: 3631/10000 (36.3100%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   1,  Average loss: 0.0034, Accuracy: 406/440 (92.2727%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   2,  Average loss: 0.0013, Accuracy: 430/440 (97.7273%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.2713, Accuracy: 4396/10000 (43.9600%)
___Train Local_ResNet_18,  epoch 230, local model 39, internal_epoch   1,  Average loss: 0.0057, Accuracy: 194/217 (89.4009%)
___Train Local_ResNet_18,  epoch 230, local model 39, internal_epoch   2,  Average loss: 0.0009, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.0993, Accuracy: 3937/10000 (39.3700%)
___Train Local_ResNet_18,  epoch 230, local model 67, internal_epoch   1,  Average loss: 0.0037, Accuracy: 789/842 (93.7055%)
___Train Local_ResNet_18,  epoch 230, local model 67, internal_epoch   2,  Average loss: 0.0209, Accuracy: 564/842 (66.9834%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 44.4584, Accuracy: 1177/10000 (11.7700%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   1,  Average loss: 0.0022, Accuracy: 581/601 (96.6722%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   2,  Average loss: 0.0017, Accuracy: 585/601 (97.3378%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.3661, Accuracy: 4910/10000 (49.1000%)
___Train Local_ResNet_18,  epoch 230, local model 21, internal_epoch   1,  Average loss: 0.0110, Accuracy: 237/262 (90.4580%)
___Train Local_ResNet_18,  epoch 230, local model 21, internal_epoch   2,  Average loss: 0.0242, Accuracy: 207/262 (79.0076%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 21.9779, Accuracy: 1451/10000 (14.5100%)
___Train Local_ResNet_18,  epoch 230, local model 80, internal_epoch   1,  Average loss: 0.0057, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 230, local model 80, internal_epoch   2,  Average loss: 0.0014, Accuracy: 355/363 (97.7961%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 4.0708, Accuracy: 3665/10000 (36.6500%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 230, local model 11, internal_epoch   1,  Average loss: 0.0031, Accuracy: 509/546 (93.2234%)
___Train Local_ResNet_18,  epoch 230, local model 11, internal_epoch   2,  Average loss: 0.0029, Accuracy: 515/546 (94.3223%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 3.4039, Accuracy: 4050/10000 (40.5000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 230, local model 33, internal_epoch   1,  Average loss: 0.0046, Accuracy: 486/527 (92.2201%)
___Train Local_ResNet_18,  epoch 230, local model 33, internal_epoch   2,  Average loss: 0.0037, Accuracy: 490/527 (92.9791%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 2.4277, Accuracy: 4747/10000 (47.4700%)
time spent on training: 56.772215366363525
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21010377912668887  data num: [601, 708, 440, 217, 842, 601, 262, 363, 546, 527]
[foolsgold agg] considering poison per batch poison_fraction: 0.016414357744272568
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.40526717
 0.40526717 1.         0.83867874 0.83867874]
___Test Target_ResNet_18 poisoned: False, epoch: 230: Average loss: 0.6650, Accuracy: 7802/10000 (78.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 230: Average loss: 6.5675, Accuracy: 258/9000 (2.8667%)
Done in 93.59674167633057 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:231 choose agents : [91, 23, 65, 69, 44, 38, 93, 2, 16, 36]. Adversary List: []
___Train Local_ResNet_18,  epoch 231, local model 91, internal_epoch   1,  Average loss: 0.0036, Accuracy: 215/234 (91.8803%)
___Train Local_ResNet_18,  epoch 231, local model 91, internal_epoch   2,  Average loss: 0.0005, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 1.7304, Accuracy: 5583/10000 (55.8300%)
___Train Local_ResNet_18,  epoch 231, local model 23, internal_epoch   1,  Average loss: 0.0043, Accuracy: 220/248 (88.7097%)
___Train Local_ResNet_18,  epoch 231, local model 23, internal_epoch   2,  Average loss: 0.0007, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.4457, Accuracy: 4387/10000 (43.8700%)
___Train Local_ResNet_18,  epoch 231, local model 65, internal_epoch   1,  Average loss: 0.0040, Accuracy: 291/314 (92.6752%)
___Train Local_ResNet_18,  epoch 231, local model 65, internal_epoch   2,  Average loss: 0.0007, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 5.0881, Accuracy: 2655/10000 (26.5500%)
___Train Local_ResNet_18,  epoch 231, local model 69, internal_epoch   1,  Average loss: 0.0075, Accuracy: 193/216 (89.3519%)
___Train Local_ResNet_18,  epoch 231, local model 69, internal_epoch   2,  Average loss: 0.0009, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 8.2995, Accuracy: 1355/10000 (13.5500%)
___Train Local_ResNet_18,  epoch 231, local model 44, internal_epoch   1,  Average loss: 0.0041, Accuracy: 400/436 (91.7431%)
___Train Local_ResNet_18,  epoch 231, local model 44, internal_epoch   2,  Average loss: 0.0013, Accuracy: 427/436 (97.9358%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 3.1418, Accuracy: 3936/10000 (39.3600%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   1,  Average loss: 0.0029, Accuracy: 708/756 (93.6508%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   2,  Average loss: 0.0035, Accuracy: 705/756 (93.2540%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.5506, Accuracy: 4923/10000 (49.2300%)
___Train Local_ResNet_18,  epoch 231, local model 93, internal_epoch   1,  Average loss: 0.0031, Accuracy: 550/584 (94.1781%)
___Train Local_ResNet_18,  epoch 231, local model 93, internal_epoch   2,  Average loss: 0.0043, Accuracy: 552/584 (94.5205%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 7.4744, Accuracy: 2358/10000 (23.5800%)
___Train Local_ResNet_18,  epoch 231, local model 2, internal_epoch   1,  Average loss: 0.0082, Accuracy: 397/461 (86.1171%)
___Train Local_ResNet_18,  epoch 231, local model 2, internal_epoch   2,  Average loss: 0.0076, Accuracy: 407/461 (88.2863%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 11.3454, Accuracy: 1630/10000 (16.3000%)
___Train Local_ResNet_18,  epoch 231, local model 16, internal_epoch   1,  Average loss: 0.0085, Accuracy: 694/773 (89.7801%)
___Train Local_ResNet_18,  epoch 231, local model 16, internal_epoch   2,  Average loss: 0.0217, Accuracy: 482/773 (62.3545%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 50.6502, Accuracy: 1368/10000 (13.6800%)
___Train Local_ResNet_18,  epoch 231, local model 36, internal_epoch   1,  Average loss: 0.0068, Accuracy: 739/849 (87.0436%)
___Train Local_ResNet_18,  epoch 231, local model 36, internal_epoch   2,  Average loss: 0.0121, Accuracy: 641/849 (75.5006%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 17.5530, Accuracy: 2128/10000 (21.2800%)
time spent on training: 46.47700381278992
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [234, 248, 314, 216, 436, 756, 584, 461, 773, 849]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.36345271 0.20192816 1.         1.         0.20192816 1.
 0.36345271 1.         0.73418758 0.73418758]
___Test Target_ResNet_18 poisoned: False, epoch: 231: Average loss: 0.6633, Accuracy: 7799/10000 (77.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 231: Average loss: 6.6071, Accuracy: 255/9000 (2.8333%)
Done in 87.45489406585693 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:232 choose agents : [36, 26, 95, 49, 48, 27, 74, 94, 29, 76]. Adversary List: []
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   1,  Average loss: 0.0064, Accuracy: 753/849 (88.6926%)
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   2,  Average loss: 0.0140, Accuracy: 637/849 (75.0294%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 36.4744, Accuracy: 1468/10000 (14.6800%)
___Train Local_ResNet_18,  epoch 232, local model 26, internal_epoch   1,  Average loss: 0.0039, Accuracy: 435/468 (92.9487%)
___Train Local_ResNet_18,  epoch 232, local model 26, internal_epoch   2,  Average loss: 0.0027, Accuracy: 439/468 (93.8034%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 1.5992, Accuracy: 5985/10000 (59.8500%)
___Train Local_ResNet_18,  epoch 232, local model 95, internal_epoch   1,  Average loss: 0.0077, Accuracy: 478/569 (84.0070%)
___Train Local_ResNet_18,  epoch 232, local model 95, internal_epoch   2,  Average loss: 0.0043, Accuracy: 518/569 (91.0369%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 6.6975, Accuracy: 2682/10000 (26.8200%)
___Train Local_ResNet_18,  epoch 232, local model 49, internal_epoch   1,  Average loss: 0.0038, Accuracy: 393/426 (92.2535%)
___Train Local_ResNet_18,  epoch 232, local model 49, internal_epoch   2,  Average loss: 0.0027, Accuracy: 411/426 (96.4789%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.1979, Accuracy: 5142/10000 (51.4200%)
___Train Local_ResNet_18,  epoch 232, local model 48, internal_epoch   1,  Average loss: 0.0057, Accuracy: 328/378 (86.7725%)
___Train Local_ResNet_18,  epoch 232, local model 48, internal_epoch   2,  Average loss: 0.0022, Accuracy: 360/378 (95.2381%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.7884, Accuracy: 4081/10000 (40.8100%)
___Train Local_ResNet_18,  epoch 232, local model 27, internal_epoch   1,  Average loss: 0.0018, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 232, local model 27, internal_epoch   2,  Average loss: 0.0011, Accuracy: 393/397 (98.9924%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.4770, Accuracy: 5195/10000 (51.9500%)
___Train Local_ResNet_18,  epoch 232, local model 74, internal_epoch   1,  Average loss: 0.0043, Accuracy: 436/469 (92.9638%)
___Train Local_ResNet_18,  epoch 232, local model 74, internal_epoch   2,  Average loss: 0.0017, Accuracy: 453/469 (96.5885%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 2.9648, Accuracy: 4219/10000 (42.1900%)
___Train Local_ResNet_18,  epoch 232, local model 94, internal_epoch   1,  Average loss: 0.0070, Accuracy: 170/203 (83.7438%)
___Train Local_ResNet_18,  epoch 232, local model 94, internal_epoch   2,  Average loss: 0.0015, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 3.5027, Accuracy: 3362/10000 (33.6200%)
___Train Local_ResNet_18,  epoch 232, local model 29, internal_epoch   1,  Average loss: 0.0056, Accuracy: 764/848 (90.0943%)
___Train Local_ResNet_18,  epoch 232, local model 29, internal_epoch   2,  Average loss: 0.0062, Accuracy: 758/848 (89.3868%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 6.4233, Accuracy: 2915/10000 (29.1500%)
___Train Local_ResNet_18,  epoch 232, local model 76, internal_epoch   1,  Average loss: 0.0322, Accuracy: 61/65 (93.8462%)
___Train Local_ResNet_18,  epoch 232, local model 76, internal_epoch   2,  Average loss: 0.0430, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 1.4625, Accuracy: 5952/10000 (59.5200%)
time spent on training: 46.79929184913635
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [849, 468, 569, 426, 378, 397, 469, 203, 848, 65]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.81903367 0.81903367 1.
 0.         1.         0.72506288 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 232: Average loss: 0.6611, Accuracy: 7804/10000 (78.0400%)
___Test Target_ResNet_18 poisoned: True, epoch: 232: Average loss: 6.6044, Accuracy: 260/9000 (2.8889%)
Done in 90.54217457771301 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:233 choose agents : [70, 99, 76, 10, 58, 65, 75, 17, 11, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 233, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 562/610 (92.1311%)
___Train Local_ResNet_18,  epoch 233, local model 70, internal_epoch   2,  Average loss: 0.0018, Accuracy: 584/610 (95.7377%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.5261, Accuracy: 4230/10000 (42.3000%)
___Train Local_ResNet_18,  epoch 233, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 360/391 (92.0716%)
___Train Local_ResNet_18,  epoch 233, local model 99, internal_epoch   2,  Average loss: 0.0056, Accuracy: 361/391 (92.3274%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.2066, Accuracy: 3290/10000 (32.9000%)
___Train Local_ResNet_18,  epoch 233, local model 76, internal_epoch   1,  Average loss: 0.0398, Accuracy: 61/65 (93.8462%)
___Train Local_ResNet_18,  epoch 233, local model 76, internal_epoch   2,  Average loss: 0.0475, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 1.8828, Accuracy: 5200/10000 (52.0000%)
___Train Local_ResNet_18,  epoch 233, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 704/752 (93.6170%)
___Train Local_ResNet_18,  epoch 233, local model 10, internal_epoch   2,  Average loss: 0.0031, Accuracy: 709/752 (94.2819%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.8701, Accuracy: 3457/10000 (34.5700%)
___Train Local_ResNet_18,  epoch 233, local model 58, internal_epoch   1,  Average loss: 0.0088, Accuracy: 198/234 (84.6154%)
___Train Local_ResNet_18,  epoch 233, local model 58, internal_epoch   2,  Average loss: 0.0009, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 7.3826, Accuracy: 1756/10000 (17.5600%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   1,  Average loss: 0.0039, Accuracy: 291/314 (92.6752%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 311/314 (99.0446%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.1313, Accuracy: 3990/10000 (39.9000%)
___Train Local_ResNet_18,  epoch 233, local model 75, internal_epoch   1,  Average loss: 0.0110, Accuracy: 543/578 (93.9446%)
___Train Local_ResNet_18,  epoch 233, local model 75, internal_epoch   2,  Average loss: 0.0290, Accuracy: 306/578 (52.9412%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2993.6085, Accuracy: 1001/10000 (10.0100%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 233, local model 17, internal_epoch   1,  Average loss: 0.0022, Accuracy: 510/526 (96.9582%)
___Train Local_ResNet_18,  epoch 233, local model 17, internal_epoch   2,  Average loss: 0.0013, Accuracy: 512/526 (97.3384%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 2.4127, Accuracy: 5258/10000 (52.5800%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 233, local model 11, internal_epoch   1,  Average loss: 0.0035, Accuracy: 504/546 (92.3077%)
___Train Local_ResNet_18,  epoch 233, local model 11, internal_epoch   2,  Average loss: 0.0026, Accuracy: 515/546 (94.3223%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.7513, Accuracy: 3512/10000 (35.1200%)
___Train Local_ResNet_18,  epoch 233, local model 48, internal_epoch   1,  Average loss: 0.0045, Accuracy: 341/378 (90.2116%)
___Train Local_ResNet_18,  epoch 233, local model 48, internal_epoch   2,  Average loss: 0.0012, Accuracy: 370/378 (97.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.1694, Accuracy: 2960/10000 (29.6000%)
time spent on training: 54.85464596748352
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.24396904870277653  data num: [610, 391, 65, 752, 234, 314, 578, 526, 546, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.019060081929904417
[foolsgold agg] wv: [1.         0.91173628 0.         1.         0.         0.
 1.         1.         0.91173628 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 233: Average loss: 0.6622, Accuracy: 7803/10000 (78.0300%)
___Test Target_ResNet_18 poisoned: True, epoch: 233: Average loss: 6.6447, Accuracy: 246/9000 (2.7333%)
Done in 96.52249431610107 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:234 choose agents : [64, 16, 97, 52, 24, 10, 34, 27, 49, 56]. Adversary List: []
___Train Local_ResNet_18,  epoch 234, local model 64, internal_epoch   1,  Average loss: 0.0033, Accuracy: 638/686 (93.0029%)
___Train Local_ResNet_18,  epoch 234, local model 64, internal_epoch   2,  Average loss: 0.0027, Accuracy: 650/686 (94.7522%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.7806, Accuracy: 3739/10000 (37.3900%)
___Train Local_ResNet_18,  epoch 234, local model 16, internal_epoch   1,  Average loss: 0.0043, Accuracy: 723/773 (93.5317%)
___Train Local_ResNet_18,  epoch 234, local model 16, internal_epoch   2,  Average loss: 0.0239, Accuracy: 462/773 (59.7671%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 122.3761, Accuracy: 1174/10000 (11.7400%)
___Train Local_ResNet_18,  epoch 234, local model 97, internal_epoch   1,  Average loss: 0.0027, Accuracy: 393/418 (94.0191%)
___Train Local_ResNet_18,  epoch 234, local model 97, internal_epoch   2,  Average loss: 0.0010, Accuracy: 415/418 (99.2823%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.0598, Accuracy: 5396/10000 (53.9600%)
___Train Local_ResNet_18,  epoch 234, local model 52, internal_epoch   1,  Average loss: 0.0072, Accuracy: 186/214 (86.9159%)
___Train Local_ResNet_18,  epoch 234, local model 52, internal_epoch   2,  Average loss: 0.0018, Accuracy: 211/214 (98.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.9670, Accuracy: 3483/10000 (34.8300%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   1,  Average loss: 0.0039, Accuracy: 296/320 (92.5000%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   2,  Average loss: 0.0012, Accuracy: 313/320 (97.8125%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.6745, Accuracy: 4196/10000 (41.9600%)
___Train Local_ResNet_18,  epoch 234, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 695/752 (92.4202%)
___Train Local_ResNet_18,  epoch 234, local model 10, internal_epoch   2,  Average loss: 0.0026, Accuracy: 719/752 (95.6117%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 5.0939, Accuracy: 2772/10000 (27.7200%)
___Train Local_ResNet_18,  epoch 234, local model 34, internal_epoch   1,  Average loss: 0.0052, Accuracy: 315/349 (90.2579%)
___Train Local_ResNet_18,  epoch 234, local model 34, internal_epoch   2,  Average loss: 0.0016, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 3.3585, Accuracy: 3976/10000 (39.7600%)
___Train Local_ResNet_18,  epoch 234, local model 27, internal_epoch   1,  Average loss: 0.0040, Accuracy: 381/397 (95.9698%)
___Train Local_ResNet_18,  epoch 234, local model 27, internal_epoch   2,  Average loss: 0.0021, Accuracy: 387/397 (97.4811%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.6723, Accuracy: 5562/10000 (55.6200%)
___Train Local_ResNet_18,  epoch 234, local model 49, internal_epoch   1,  Average loss: 0.0031, Accuracy: 400/426 (93.8967%)
___Train Local_ResNet_18,  epoch 234, local model 49, internal_epoch   2,  Average loss: 0.0015, Accuracy: 412/426 (96.7136%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 2.3549, Accuracy: 4818/10000 (48.1800%)
___Train Local_ResNet_18,  epoch 234, local model 56, internal_epoch   1,  Average loss: 0.0019, Accuracy: 717/743 (96.5007%)
___Train Local_ResNet_18,  epoch 234, local model 56, internal_epoch   2,  Average loss: 0.0015, Accuracy: 724/743 (97.4428%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 1.3525, Accuracy: 6425/10000 (64.2500%)
time spent on training: 48.0741183757782
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [686, 773, 418, 214, 320, 752, 349, 397, 426, 743]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.20681434 1.         1.         1.
 1.         0.20681434 1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 234: Average loss: 0.6598, Accuracy: 7814/10000 (78.1400%)
___Test Target_ResNet_18 poisoned: True, epoch: 234: Average loss: 6.6446, Accuracy: 248/9000 (2.7556%)
Done in 90.6628565788269 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:235 choose agents : [48, 14, 45, 65, 37, 38, 24, 99, 56, 20]. Adversary List: []
___Train Local_ResNet_18,  epoch 235, local model 48, internal_epoch   1,  Average loss: 0.0055, Accuracy: 328/378 (86.7725%)
___Train Local_ResNet_18,  epoch 235, local model 48, internal_epoch   2,  Average loss: 0.0019, Accuracy: 364/378 (96.2963%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.2032, Accuracy: 4825/10000 (48.2500%)
___Train Local_ResNet_18,  epoch 235, local model 14, internal_epoch   1,  Average loss: 0.0081, Accuracy: 274/318 (86.1635%)
___Train Local_ResNet_18,  epoch 235, local model 14, internal_epoch   2,  Average loss: 0.0013, Accuracy: 307/318 (96.5409%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 8.4039, Accuracy: 1939/10000 (19.3900%)
___Train Local_ResNet_18,  epoch 235, local model 45, internal_epoch   1,  Average loss: 0.0077, Accuracy: 467/529 (88.2798%)
___Train Local_ResNet_18,  epoch 235, local model 45, internal_epoch   2,  Average loss: 0.0157, Accuracy: 401/529 (75.8034%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 13.0046, Accuracy: 1906/10000 (19.0600%)
___Train Local_ResNet_18,  epoch 235, local model 65, internal_epoch   1,  Average loss: 0.0049, Accuracy: 284/314 (90.4459%)
___Train Local_ResNet_18,  epoch 235, local model 65, internal_epoch   2,  Average loss: 0.0008, Accuracy: 310/314 (98.7261%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 3.2537, Accuracy: 3561/10000 (35.6100%)
___Train Local_ResNet_18,  epoch 235, local model 37, internal_epoch   1,  Average loss: 0.0074, Accuracy: 623/725 (85.9310%)
___Train Local_ResNet_18,  epoch 235, local model 37, internal_epoch   2,  Average loss: 0.0175, Accuracy: 517/725 (71.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 13.6271, Accuracy: 1885/10000 (18.8500%)
___Train Local_ResNet_18,  epoch 235, local model 38, internal_epoch   1,  Average loss: 0.0029, Accuracy: 726/756 (96.0317%)
___Train Local_ResNet_18,  epoch 235, local model 38, internal_epoch   2,  Average loss: 0.0030, Accuracy: 714/756 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.3134, Accuracy: 5005/10000 (50.0500%)
___Train Local_ResNet_18,  epoch 235, local model 24, internal_epoch   1,  Average loss: 0.0037, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 235, local model 24, internal_epoch   2,  Average loss: 0.0007, Accuracy: 317/320 (99.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 2.8349, Accuracy: 4018/10000 (40.1800%)
___Train Local_ResNet_18,  epoch 235, local model 99, internal_epoch   1,  Average loss: 0.0068, Accuracy: 353/391 (90.2813%)
___Train Local_ResNet_18,  epoch 235, local model 99, internal_epoch   2,  Average loss: 0.0091, Accuracy: 337/391 (86.1893%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 4.8346, Accuracy: 2779/10000 (27.7900%)
___Train Local_ResNet_18,  epoch 235, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 731/743 (98.3849%)
___Train Local_ResNet_18,  epoch 235, local model 56, internal_epoch   2,  Average loss: 0.0007, Accuracy: 735/743 (98.9233%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 1.1916, Accuracy: 6579/10000 (65.7900%)
___Train Local_ResNet_18,  epoch 235, local model 20, internal_epoch   1,  Average loss: 0.0071, Accuracy: 313/362 (86.4641%)
___Train Local_ResNet_18,  epoch 235, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 347/362 (95.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 6.2887, Accuracy: 2892/10000 (28.9200%)
time spent on training: 48.014854431152344
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [378, 318, 529, 314, 725, 756, 320, 391, 743, 362]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.05441849 0.90757497 1.         0.05441849 0.90757497 1.
 1.         1.         0.45551816 0.45551816]
___Test Target_ResNet_18 poisoned: False, epoch: 235: Average loss: 0.6586, Accuracy: 7812/10000 (78.1200%)
___Test Target_ResNet_18 poisoned: True, epoch: 235: Average loss: 6.6368, Accuracy: 249/9000 (2.7667%)
Done in 91.13821911811829 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:236 choose agents : [0, 86, 37, 20, 36, 50, 78, 63, 83, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 236, local model 0, internal_epoch   1,  Average loss: 0.0064, Accuracy: 318/367 (86.6485%)
___Train Local_ResNet_18,  epoch 236, local model 0, internal_epoch   2,  Average loss: 0.0032, Accuracy: 342/367 (93.1880%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.5296, Accuracy: 3342/10000 (33.4200%)
___Train Local_ResNet_18,  epoch 236, local model 86, internal_epoch   1,  Average loss: 0.0050, Accuracy: 196/212 (92.4528%)
___Train Local_ResNet_18,  epoch 236, local model 86, internal_epoch   2,  Average loss: 0.0031, Accuracy: 204/212 (96.2264%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.5686, Accuracy: 5927/10000 (59.2700%)
___Train Local_ResNet_18,  epoch 236, local model 37, internal_epoch   1,  Average loss: 0.0075, Accuracy: 629/725 (86.7586%)
___Train Local_ResNet_18,  epoch 236, local model 37, internal_epoch   2,  Average loss: 0.0120, Accuracy: 574/725 (79.1724%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 6.9885, Accuracy: 3181/10000 (31.8100%)
___Train Local_ResNet_18,  epoch 236, local model 20, internal_epoch   1,  Average loss: 0.0083, Accuracy: 303/362 (83.7017%)
___Train Local_ResNet_18,  epoch 236, local model 20, internal_epoch   2,  Average loss: 0.0028, Accuracy: 343/362 (94.7514%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 5.9327, Accuracy: 2657/10000 (26.5700%)
___Train Local_ResNet_18,  epoch 236, local model 36, internal_epoch   1,  Average loss: 0.0068, Accuracy: 738/849 (86.9258%)
___Train Local_ResNet_18,  epoch 236, local model 36, internal_epoch   2,  Average loss: 0.0164, Accuracy: 607/849 (71.4959%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 38.1206, Accuracy: 1523/10000 (15.2300%)
___Train Local_ResNet_18,  epoch 236, local model 50, internal_epoch   1,  Average loss: 0.0025, Accuracy: 386/401 (96.2594%)
___Train Local_ResNet_18,  epoch 236, local model 50, internal_epoch   2,  Average loss: 0.0015, Accuracy: 391/401 (97.5062%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.9702, Accuracy: 5111/10000 (51.1100%)
___Train Local_ResNet_18,  epoch 236, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 226/255 (88.6275%)
___Train Local_ResNet_18,  epoch 236, local model 78, internal_epoch   2,  Average loss: 0.0010, Accuracy: 252/255 (98.8235%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.0441, Accuracy: 4065/10000 (40.6500%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 708/752 (94.1489%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   2,  Average loss: 0.0030, Accuracy: 704/752 (93.6170%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.9852, Accuracy: 5511/10000 (55.1100%)
___Train Local_ResNet_18,  epoch 236, local model 83, internal_epoch   1,  Average loss: 0.0024, Accuracy: 346/366 (94.5355%)
___Train Local_ResNet_18,  epoch 236, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 364/366 (99.4536%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.7311, Accuracy: 5720/10000 (57.2000%)
___Train Local_ResNet_18,  epoch 236, local model 4, internal_epoch   1,  Average loss: 0.0044, Accuracy: 501/557 (89.9461%)
___Train Local_ResNet_18,  epoch 236, local model 4, internal_epoch   2,  Average loss: 0.0044, Accuracy: 512/557 (91.9210%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.2170, Accuracy: 4466/10000 (44.6600%)
time spent on training: 46.40465474128723
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [367, 212, 725, 362, 849, 401, 255, 752, 366, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.2322852  0.79119078 1.
 0.2322852  1.         1.         0.79119078]
___Test Target_ResNet_18 poisoned: False, epoch: 236: Average loss: 0.6572, Accuracy: 7814/10000 (78.1400%)
___Test Target_ResNet_18 poisoned: True, epoch: 236: Average loss: 6.6271, Accuracy: 253/9000 (2.8111%)
Done in 87.63582634925842 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:237 choose agents : [1, 0, 37, 91, 77, 21, 13, 70, 54, 57]. Adversary List: []
___Train Local_ResNet_18,  epoch 237, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 599/641 (93.4477%)
___Train Local_ResNet_18,  epoch 237, local model 1, internal_epoch   2,  Average loss: 0.0128, Accuracy: 576/641 (89.8596%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 2.6867, Accuracy: 4232/10000 (42.3200%)
___Train Local_ResNet_18,  epoch 237, local model 0, internal_epoch   1,  Average loss: 0.0060, Accuracy: 329/367 (89.6458%)
___Train Local_ResNet_18,  epoch 237, local model 0, internal_epoch   2,  Average loss: 0.0027, Accuracy: 345/367 (94.0054%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 7.8145, Accuracy: 2030/10000 (20.3000%)
___Train Local_ResNet_18,  epoch 237, local model 37, internal_epoch   1,  Average loss: 0.0070, Accuracy: 625/725 (86.2069%)
___Train Local_ResNet_18,  epoch 237, local model 37, internal_epoch   2,  Average loss: 0.0126, Accuracy: 557/725 (76.8276%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 77.7644, Accuracy: 1017/10000 (10.1700%)
___Train Local_ResNet_18,  epoch 237, local model 91, internal_epoch   1,  Average loss: 0.0040, Accuracy: 214/234 (91.4530%)
___Train Local_ResNet_18,  epoch 237, local model 91, internal_epoch   2,  Average loss: 0.0008, Accuracy: 230/234 (98.2906%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 1.6316, Accuracy: 5648/10000 (56.4800%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 237, local model 77, internal_epoch   1,  Average loss: 0.0026, Accuracy: 469/496 (94.5565%)
___Train Local_ResNet_18,  epoch 237, local model 77, internal_epoch   2,  Average loss: 0.0014, Accuracy: 485/496 (97.7823%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 1.4168, Accuracy: 5997/10000 (59.9700%)
___Train Local_ResNet_18,  epoch 237, local model 21, internal_epoch   1,  Average loss: 0.0050, Accuracy: 244/262 (93.1298%)
___Train Local_ResNet_18,  epoch 237, local model 21, internal_epoch   2,  Average loss: 0.0088, Accuracy: 252/262 (96.1832%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.4742, Accuracy: 2990/10000 (29.9000%)
___Train Local_ResNet_18,  epoch 237, local model 13, internal_epoch   1,  Average loss: 0.0047, Accuracy: 559/620 (90.1613%)
___Train Local_ResNet_18,  epoch 237, local model 13, internal_epoch   2,  Average loss: 0.0035, Accuracy: 580/620 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.1020, Accuracy: 3698/10000 (36.9800%)
___Train Local_ResNet_18,  epoch 237, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 571/610 (93.6066%)
___Train Local_ResNet_18,  epoch 237, local model 70, internal_epoch   2,  Average loss: 0.0026, Accuracy: 575/610 (94.2623%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 3.6712, Accuracy: 3293/10000 (32.9300%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   1,  Average loss: 0.0030, Accuracy: 416/440 (94.5455%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   2,  Average loss: 0.0016, Accuracy: 427/440 (97.0455%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.3364, Accuracy: 3748/10000 (37.4800%)
___Train Local_ResNet_18,  epoch 237, local model 57, internal_epoch   1,  Average loss: 0.0055, Accuracy: 251/290 (86.5517%)
___Train Local_ResNet_18,  epoch 237, local model 57, internal_epoch   2,  Average loss: 0.0013, Accuracy: 283/290 (97.5862%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 3.4434, Accuracy: 4267/10000 (42.6700%)
time spent on training: 53.62279176712036
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10586979722518676  data num: [641, 367, 725, 234, 496, 262, 620, 610, 440, 290]
[foolsgold agg] considering poison per batch poison_fraction: 0.008271077908217716
[foolsgold agg] wv: [0.87283285 0.07932586 1.         1.         0.07932586 1.
 0.40752666 0.87283285 0.40752666 0.15541613]
___Test Target_ResNet_18 poisoned: False, epoch: 237: Average loss: 0.6555, Accuracy: 7822/10000 (78.2200%)
___Test Target_ResNet_18 poisoned: True, epoch: 237: Average loss: 6.6242, Accuracy: 259/9000 (2.8778%)
Done in 98.44681286811829 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:238 choose agents : [41, 28, 85, 59, 89, 31, 33, 42, 82, 68]. Adversary List: []
___Train Local_ResNet_18,  epoch 238, local model 41, internal_epoch   1,  Average loss: 0.0072, Accuracy: 444/513 (86.5497%)
___Train Local_ResNet_18,  epoch 238, local model 41, internal_epoch   2,  Average loss: 0.0052, Accuracy: 466/513 (90.8382%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.2512, Accuracy: 2691/10000 (26.9100%)
___Train Local_ResNet_18,  epoch 238, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 238, local model 28, internal_epoch   2,  Average loss: 0.0009, Accuracy: 418/423 (98.8180%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 2.1217, Accuracy: 5348/10000 (53.4800%)
___Train Local_ResNet_18,  epoch 238, local model 85, internal_epoch   1,  Average loss: 0.0070, Accuracy: 320/364 (87.9121%)
___Train Local_ResNet_18,  epoch 238, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 344/364 (94.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 5.0540, Accuracy: 2384/10000 (23.8400%)
___Train Local_ResNet_18,  epoch 238, local model 59, internal_epoch   1,  Average loss: 0.0031, Accuracy: 604/642 (94.0810%)
___Train Local_ResNet_18,  epoch 238, local model 59, internal_epoch   2,  Average loss: 0.0048, Accuracy: 620/642 (96.5732%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 13.7186, Accuracy: 1757/10000 (17.5700%)
___Train Local_ResNet_18,  epoch 238, local model 89, internal_epoch   1,  Average loss: 0.0065, Accuracy: 360/413 (87.1671%)
___Train Local_ResNet_18,  epoch 238, local model 89, internal_epoch   2,  Average loss: 0.0040, Accuracy: 379/413 (91.7676%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 6.8682, Accuracy: 2292/10000 (22.9200%)
___Train Local_ResNet_18,  epoch 238, local model 31, internal_epoch   1,  Average loss: 0.0070, Accuracy: 662/706 (93.7677%)
___Train Local_ResNet_18,  epoch 238, local model 31, internal_epoch   2,  Average loss: 0.0211, Accuracy: 488/706 (69.1218%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 15.7712, Accuracy: 1081/10000 (10.8100%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 238, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 487/527 (92.4099%)
___Train Local_ResNet_18,  epoch 238, local model 33, internal_epoch   2,  Average loss: 0.0046, Accuracy: 482/527 (91.4611%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 2.9154, Accuracy: 3860/10000 (38.6000%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   1,  Average loss: 0.0055, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   2,  Average loss: 0.0042, Accuracy: 193/198 (97.4747%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 6.3706, Accuracy: 2291/10000 (22.9100%)
___Train Local_ResNet_18,  epoch 238, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 573/601 (95.3411%)
___Train Local_ResNet_18,  epoch 238, local model 82, internal_epoch   2,  Average loss: 0.0031, Accuracy: 571/601 (95.0083%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 2.9388, Accuracy: 3975/10000 (39.7500%)
___Train Local_ResNet_18,  epoch 238, local model 68, internal_epoch   1,  Average loss: 0.0026, Accuracy: 395/416 (94.9519%)
___Train Local_ResNet_18,  epoch 238, local model 68, internal_epoch   2,  Average loss: 0.0015, Accuracy: 406/416 (97.5962%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 1.3213, Accuracy: 6124/10000 (61.2400%)
time spent on training: 51.84539270401001
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10972308973558192  data num: [513, 423, 364, 642, 413, 706, 527, 198, 601, 416]
[foolsgold agg] considering poison per batch poison_fraction: 0.008572116385592337
[foolsgold agg] wv: [0.29028605 0.15236313 0.         1.         0.42586294 0.42586294
 0.         0.29028605 1.         0.18469473]
___Test Target_ResNet_18 poisoned: False, epoch: 238: Average loss: 0.6552, Accuracy: 7821/10000 (78.2100%)
___Test Target_ResNet_18 poisoned: True, epoch: 238: Average loss: 6.6264, Accuracy: 257/9000 (2.8556%)
Done in 95.76116347312927 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:239 choose agents : [37, 47, 73, 15, 90, 9, 71, 78, 77, 69]. Adversary List: []
___Train Local_ResNet_18,  epoch 239, local model 37, internal_epoch   1,  Average loss: 0.0068, Accuracy: 638/725 (88.0000%)
___Train Local_ResNet_18,  epoch 239, local model 37, internal_epoch   2,  Average loss: 0.0096, Accuracy: 608/725 (83.8621%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 8.8349, Accuracy: 1772/10000 (17.7200%)
___Train Local_ResNet_18,  epoch 239, local model 47, internal_epoch   1,  Average loss: 0.0032, Accuracy: 614/654 (93.8838%)
___Train Local_ResNet_18,  epoch 239, local model 47, internal_epoch   2,  Average loss: 0.0034, Accuracy: 622/654 (95.1070%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 1.7216, Accuracy: 5625/10000 (56.2500%)
___Train Local_ResNet_18,  epoch 239, local model 73, internal_epoch   1,  Average loss: 0.0124, Accuracy: 391/500 (78.2000%)
___Train Local_ResNet_18,  epoch 239, local model 73, internal_epoch   2,  Average loss: 0.0048, Accuracy: 465/500 (93.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 9.0712, Accuracy: 1570/10000 (15.7000%)
___Train Local_ResNet_18,  epoch 239, local model 15, internal_epoch   1,  Average loss: 0.0085, Accuracy: 288/341 (84.4575%)
___Train Local_ResNet_18,  epoch 239, local model 15, internal_epoch   2,  Average loss: 0.0039, Accuracy: 324/341 (95.0147%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 4.2852, Accuracy: 2979/10000 (29.7900%)
___Train Local_ResNet_18,  epoch 239, local model 90, internal_epoch   1,  Average loss: 0.0088, Accuracy: 529/578 (91.5225%)
___Train Local_ResNet_18,  epoch 239, local model 90, internal_epoch   2,  Average loss: 0.0099, Accuracy: 482/578 (83.3910%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 29.1658, Accuracy: 1336/10000 (13.3600%)
___Train Local_ResNet_18,  epoch 239, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 339/368 (92.1196%)
___Train Local_ResNet_18,  epoch 239, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 360/368 (97.8261%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 6.2745, Accuracy: 2282/10000 (22.8200%)
___Train Local_ResNet_18,  epoch 239, local model 71, internal_epoch   1,  Average loss: 0.0041, Accuracy: 1063/1166 (91.1664%)
___Train Local_ResNet_18,  epoch 239, local model 71, internal_epoch   2,  Average loss: 0.0097, Accuracy: 972/1166 (83.3619%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 4.4430, Accuracy: 3451/10000 (34.5100%)
___Train Local_ResNet_18,  epoch 239, local model 78, internal_epoch   1,  Average loss: 0.0049, Accuracy: 229/255 (89.8039%)
___Train Local_ResNet_18,  epoch 239, local model 78, internal_epoch   2,  Average loss: 0.0006, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.5356, Accuracy: 4543/10000 (45.4300%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 239, local model 77, internal_epoch   1,  Average loss: 0.0027, Accuracy: 472/496 (95.1613%)
___Train Local_ResNet_18,  epoch 239, local model 77, internal_epoch   2,  Average loss: 0.0018, Accuracy: 476/496 (95.9677%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.0206, Accuracy: 5131/10000 (51.3100%)
___Train Local_ResNet_18,  epoch 239, local model 69, internal_epoch   1,  Average loss: 0.0070, Accuracy: 187/216 (86.5741%)
___Train Local_ResNet_18,  epoch 239, local model 69, internal_epoch   2,  Average loss: 0.0009, Accuracy: 214/216 (99.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 7.4950, Accuracy: 1360/10000 (13.6000%)
time spent on training: 56.470579624176025
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09360256652198529  data num: [725, 654, 500, 341, 578, 368, 1166, 255, 496, 216]
[foolsgold agg] considering poison per batch poison_fraction: 0.0073127005095301005
[foolsgold agg] wv: [0.98100039 0.33187732 1.         1.         0.84820393 1.
 1.         0.33187732 0.98100039 0.84820393]
___Test Target_ResNet_18 poisoned: False, epoch: 239: Average loss: 0.6533, Accuracy: 7837/10000 (78.3700%)
___Test Target_ResNet_18 poisoned: True, epoch: 239: Average loss: 6.6266, Accuracy: 254/9000 (2.8222%)
Done in 95.03356051445007 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:240 choose agents : [28, 33, 87, 46, 26, 67, 13, 69, 54, 34]. Adversary List: []
___Train Local_ResNet_18,  epoch 240, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 404/423 (95.5083%)
___Train Local_ResNet_18,  epoch 240, local model 28, internal_epoch   2,  Average loss: 0.0012, Accuracy: 416/423 (98.3452%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.2955, Accuracy: 5056/10000 (50.5600%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 240, local model 33, internal_epoch   1,  Average loss: 0.0056, Accuracy: 473/527 (89.7533%)
___Train Local_ResNet_18,  epoch 240, local model 33, internal_epoch   2,  Average loss: 0.0091, Accuracy: 467/527 (88.6148%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 6.7785, Accuracy: 3357/10000 (33.5700%)
___Train Local_ResNet_18,  epoch 240, local model 87, internal_epoch   1,  Average loss: 0.0078, Accuracy: 336/397 (84.6348%)
___Train Local_ResNet_18,  epoch 240, local model 87, internal_epoch   2,  Average loss: 0.0085, Accuracy: 357/397 (89.9244%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 5.2775, Accuracy: 2964/10000 (29.6400%)
___Train Local_ResNet_18,  epoch 240, local model 46, internal_epoch   1,  Average loss: 0.0015, Accuracy: 587/601 (97.6705%)
___Train Local_ResNet_18,  epoch 240, local model 46, internal_epoch   2,  Average loss: 0.0015, Accuracy: 589/601 (98.0033%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 1.8135, Accuracy: 5317/10000 (53.1700%)
___Train Local_ResNet_18,  epoch 240, local model 26, internal_epoch   1,  Average loss: 0.0040, Accuracy: 438/468 (93.5897%)
___Train Local_ResNet_18,  epoch 240, local model 26, internal_epoch   2,  Average loss: 0.0046, Accuracy: 439/468 (93.8034%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.6198, Accuracy: 4752/10000 (47.5200%)
___Train Local_ResNet_18,  epoch 240, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 781/842 (92.7553%)
___Train Local_ResNet_18,  epoch 240, local model 67, internal_epoch   2,  Average loss: 0.0118, Accuracy: 681/842 (80.8789%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 57.1892, Accuracy: 1026/10000 (10.2600%)
___Train Local_ResNet_18,  epoch 240, local model 13, internal_epoch   1,  Average loss: 0.0050, Accuracy: 555/620 (89.5161%)
___Train Local_ResNet_18,  epoch 240, local model 13, internal_epoch   2,  Average loss: 0.0027, Accuracy: 588/620 (94.8387%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.9536, Accuracy: 4301/10000 (43.0100%)
___Train Local_ResNet_18,  epoch 240, local model 69, internal_epoch   1,  Average loss: 0.0066, Accuracy: 191/216 (88.4259%)
___Train Local_ResNet_18,  epoch 240, local model 69, internal_epoch   2,  Average loss: 0.0005, Accuracy: 216/216 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 5.6405, Accuracy: 1933/10000 (19.3300%)
___Train Local_ResNet_18,  epoch 240, local model 54, internal_epoch   1,  Average loss: 0.0037, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 240, local model 54, internal_epoch   2,  Average loss: 0.0010, Accuracy: 433/440 (98.4091%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 3.3305, Accuracy: 4103/10000 (41.0300%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   1,  Average loss: 0.0045, Accuracy: 319/349 (91.4040%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   2,  Average loss: 0.0014, Accuracy: 340/349 (97.4212%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.7950, Accuracy: 4331/10000 (43.3100%)
time spent on training: 52.21742916107178
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10792545566250256  data num: [423, 527, 397, 601, 468, 842, 620, 216, 440, 349]
[foolsgold agg] considering poison per batch poison_fraction: 0.008431676223633012
[foolsgold agg] wv: [1.         1.         0.40096523 1.         0.40096523 1.
 0.78987331 1.         0.78987331 0.83500765]
___Test Target_ResNet_18 poisoned: False, epoch: 240: Average loss: 0.6526, Accuracy: 7837/10000 (78.3700%)
___Test Target_ResNet_18 poisoned: True, epoch: 240: Average loss: 6.6236, Accuracy: 262/9000 (2.9111%)
Done in 92.84927678108215 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:241 choose agents : [78, 91, 57, 30, 75, 17, 28, 31, 85, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 241, local model 78, internal_epoch   1,  Average loss: 0.0053, Accuracy: 224/255 (87.8431%)
___Train Local_ResNet_18,  epoch 241, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 253/255 (99.2157%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.0366, Accuracy: 4305/10000 (43.0500%)
___Train Local_ResNet_18,  epoch 241, local model 91, internal_epoch   1,  Average loss: 0.0042, Accuracy: 216/234 (92.3077%)
___Train Local_ResNet_18,  epoch 241, local model 91, internal_epoch   2,  Average loss: 0.0011, Accuracy: 231/234 (98.7179%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.4757, Accuracy: 5898/10000 (58.9800%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   1,  Average loss: 0.0056, Accuracy: 252/290 (86.8966%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   2,  Average loss: 0.0015, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.7633, Accuracy: 4038/10000 (40.3800%)
___Train Local_ResNet_18,  epoch 241, local model 30, internal_epoch   1,  Average loss: 0.0055, Accuracy: 298/337 (88.4273%)
___Train Local_ResNet_18,  epoch 241, local model 30, internal_epoch   2,  Average loss: 0.0046, Accuracy: 314/337 (93.1751%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.3597, Accuracy: 3466/10000 (34.6600%)
___Train Local_ResNet_18,  epoch 241, local model 75, internal_epoch   1,  Average loss: 0.0028, Accuracy: 553/578 (95.6747%)
___Train Local_ResNet_18,  epoch 241, local model 75, internal_epoch   2,  Average loss: 0.0104, Accuracy: 523/578 (90.4844%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 3.0254, Accuracy: 3941/10000 (39.4100%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 241, local model 17, internal_epoch   1,  Average loss: 0.0022, Accuracy: 506/526 (96.1977%)
___Train Local_ResNet_18,  epoch 241, local model 17, internal_epoch   2,  Average loss: 0.0015, Accuracy: 513/526 (97.5285%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.6919, Accuracy: 5618/10000 (56.1800%)
___Train Local_ResNet_18,  epoch 241, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 241, local model 28, internal_epoch   2,  Average loss: 0.0011, Accuracy: 416/423 (98.3452%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 2.0998, Accuracy: 5515/10000 (55.1500%)
___Train Local_ResNet_18,  epoch 241, local model 31, internal_epoch   1,  Average loss: 0.0046, Accuracy: 657/706 (93.0595%)
___Train Local_ResNet_18,  epoch 241, local model 31, internal_epoch   2,  Average loss: 0.0238, Accuracy: 468/706 (66.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 128.0071, Accuracy: 1008/10000 (10.0800%)
___Train Local_ResNet_18,  epoch 241, local model 85, internal_epoch   1,  Average loss: 0.0070, Accuracy: 320/364 (87.9121%)
___Train Local_ResNet_18,  epoch 241, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 341/364 (93.6813%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 5.5802, Accuracy: 2643/10000 (26.4300%)
___Train Local_ResNet_18,  epoch 241, local model 45, internal_epoch   1,  Average loss: 0.0076, Accuracy: 465/529 (87.9017%)
___Train Local_ResNet_18,  epoch 241, local model 45, internal_epoch   2,  Average loss: 0.0089, Accuracy: 438/529 (82.7977%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 5.8378, Accuracy: 2469/10000 (24.6900%)
time spent on training: 53.05446696281433
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.123998114097124  data num: [255, 234, 290, 337, 578, 526, 423, 706, 364, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.009687352663837813
[foolsgold agg] wv: [0.53282169 1.         1.         1.         1.         0.53282169
 0.0882077  1.         0.0882077  1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 241: Average loss: 0.6515, Accuracy: 7833/10000 (78.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 241: Average loss: 6.6125, Accuracy: 265/9000 (2.9444%)
Done in 92.3196496963501 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:242 choose agents : [96, 51, 32, 66, 85, 8, 2, 40, 10, 91]. Adversary List: []
___Train Local_ResNet_18,  epoch 242, local model 96, internal_epoch   1,  Average loss: 0.0040, Accuracy: 658/708 (92.9379%)
___Train Local_ResNet_18,  epoch 242, local model 96, internal_epoch   2,  Average loss: 0.0145, Accuracy: 534/708 (75.4237%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 116.0902, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 242, local model 51, internal_epoch   1,  Average loss: 0.0031, Accuracy: 451/479 (94.1545%)
___Train Local_ResNet_18,  epoch 242, local model 51, internal_epoch   2,  Average loss: 0.0017, Accuracy: 460/479 (96.0334%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 5.2220, Accuracy: 3091/10000 (30.9100%)
___Train Local_ResNet_18,  epoch 242, local model 32, internal_epoch   1,  Average loss: 0.0025, Accuracy: 788/824 (95.6311%)
___Train Local_ResNet_18,  epoch 242, local model 32, internal_epoch   2,  Average loss: 0.0020, Accuracy: 793/824 (96.2379%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 2.2948, Accuracy: 5059/10000 (50.5900%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   1,  Average loss: 0.0032, Accuracy: 522/555 (94.0541%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   2,  Average loss: 0.0011, Accuracy: 541/555 (97.4775%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 2.7993, Accuracy: 4380/10000 (43.8000%)
___Train Local_ResNet_18,  epoch 242, local model 85, internal_epoch   1,  Average loss: 0.0065, Accuracy: 312/364 (85.7143%)
___Train Local_ResNet_18,  epoch 242, local model 85, internal_epoch   2,  Average loss: 0.0030, Accuracy: 347/364 (95.3297%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.7498, Accuracy: 2701/10000 (27.0100%)
___Train Local_ResNet_18,  epoch 242, local model 8, internal_epoch   1,  Average loss: 0.0035, Accuracy: 495/534 (92.6966%)
___Train Local_ResNet_18,  epoch 242, local model 8, internal_epoch   2,  Average loss: 0.0047, Accuracy: 488/534 (91.3858%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.9003, Accuracy: 2827/10000 (28.2700%)
___Train Local_ResNet_18,  epoch 242, local model 2, internal_epoch   1,  Average loss: 0.0068, Accuracy: 396/461 (85.9002%)
___Train Local_ResNet_18,  epoch 242, local model 2, internal_epoch   2,  Average loss: 0.0065, Accuracy: 414/461 (89.8048%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 3.2049, Accuracy: 3647/10000 (36.4700%)
___Train Local_ResNet_18,  epoch 242, local model 40, internal_epoch   1,  Average loss: 0.0063, Accuracy: 570/652 (87.4233%)
___Train Local_ResNet_18,  epoch 242, local model 40, internal_epoch   2,  Average loss: 0.0113, Accuracy: 542/652 (83.1288%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 6.1633, Accuracy: 2843/10000 (28.4300%)
___Train Local_ResNet_18,  epoch 242, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 700/752 (93.0851%)
___Train Local_ResNet_18,  epoch 242, local model 10, internal_epoch   2,  Average loss: 0.0030, Accuracy: 709/752 (94.2819%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.4208, Accuracy: 3575/10000 (35.7500%)
___Train Local_ResNet_18,  epoch 242, local model 91, internal_epoch   1,  Average loss: 0.0036, Accuracy: 216/234 (92.3077%)
___Train Local_ResNet_18,  epoch 242, local model 91, internal_epoch   2,  Average loss: 0.0004, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 1.3452, Accuracy: 6054/10000 (60.5400%)
time spent on training: 47.37568688392639
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [708, 479, 824, 555, 364, 534, 461, 652, 752, 234]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.34608868 0.         1.         1.         1.         0.92485953
 0.         0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 242: Average loss: 0.6516, Accuracy: 7831/10000 (78.3100%)
___Test Target_ResNet_18 poisoned: True, epoch: 242: Average loss: 6.6162, Accuracy: 265/9000 (2.9444%)
Done in 81.8218731880188 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:243 choose agents : [59, 80, 32, 77, 16, 83, 57, 96, 3, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 243, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 600/642 (93.4579%)
___Train Local_ResNet_18,  epoch 243, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 621/642 (96.7290%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.0500, Accuracy: 4189/10000 (41.8900%)
___Train Local_ResNet_18,  epoch 243, local model 80, internal_epoch   1,  Average loss: 0.0058, Accuracy: 319/363 (87.8788%)
___Train Local_ResNet_18,  epoch 243, local model 80, internal_epoch   2,  Average loss: 0.0013, Accuracy: 356/363 (98.0716%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.4551, Accuracy: 3897/10000 (38.9700%)
___Train Local_ResNet_18,  epoch 243, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 786/824 (95.3883%)
___Train Local_ResNet_18,  epoch 243, local model 32, internal_epoch   2,  Average loss: 0.0028, Accuracy: 771/824 (93.5680%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 2.3401, Accuracy: 4909/10000 (49.0900%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 243, local model 77, internal_epoch   1,  Average loss: 0.0027, Accuracy: 471/496 (94.9597%)
___Train Local_ResNet_18,  epoch 243, local model 77, internal_epoch   2,  Average loss: 0.0020, Accuracy: 475/496 (95.7661%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 1.5330, Accuracy: 5691/10000 (56.9100%)
___Train Local_ResNet_18,  epoch 243, local model 16, internal_epoch   1,  Average loss: 0.0045, Accuracy: 697/773 (90.1682%)
___Train Local_ResNet_18,  epoch 243, local model 16, internal_epoch   2,  Average loss: 0.0064, Accuracy: 703/773 (90.9444%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 12.6967, Accuracy: 2379/10000 (23.7900%)
___Train Local_ResNet_18,  epoch 243, local model 83, internal_epoch   1,  Average loss: 0.0024, Accuracy: 348/366 (95.0820%)
___Train Local_ResNet_18,  epoch 243, local model 83, internal_epoch   2,  Average loss: 0.0003, Accuracy: 365/366 (99.7268%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 2.1002, Accuracy: 5142/10000 (51.4200%)
___Train Local_ResNet_18,  epoch 243, local model 57, internal_epoch   1,  Average loss: 0.0054, Accuracy: 257/290 (88.6207%)
___Train Local_ResNet_18,  epoch 243, local model 57, internal_epoch   2,  Average loss: 0.0008, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.8111, Accuracy: 4110/10000 (41.1000%)
___Train Local_ResNet_18,  epoch 243, local model 96, internal_epoch   1,  Average loss: 0.0047, Accuracy: 654/708 (92.3729%)
___Train Local_ResNet_18,  epoch 243, local model 96, internal_epoch   2,  Average loss: 0.0180, Accuracy: 521/708 (73.5876%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 17.0161, Accuracy: 2057/10000 (20.5700%)
___Train Local_ResNet_18,  epoch 243, local model 3, internal_epoch   1,  Average loss: 0.0054, Accuracy: 696/780 (89.2308%)
___Train Local_ResNet_18,  epoch 243, local model 3, internal_epoch   2,  Average loss: 0.0077, Accuracy: 665/780 (85.2564%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 9.4522, Accuracy: 2712/10000 (27.1200%)
___Train Local_ResNet_18,  epoch 243, local model 10, internal_epoch   1,  Average loss: 0.0046, Accuracy: 684/752 (90.9574%)
___Train Local_ResNet_18,  epoch 243, local model 10, internal_epoch   2,  Average loss: 0.0040, Accuracy: 697/752 (92.6862%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 7.9789, Accuracy: 2813/10000 (28.1300%)
time spent on training: 55.75222706794739
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08274941608274941  data num: [642, 363, 824, 496, 773, 366, 290, 708, 780, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.006464798131464798
[foolsgold agg] wv: [0.84634696 0.         1.         0.14398604 0.37586168 1.
 0.14398604 1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 243: Average loss: 0.6495, Accuracy: 7836/10000 (78.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 243: Average loss: 6.6039, Accuracy: 275/9000 (3.0556%)
Done in 97.00033402442932 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:244 choose agents : [15, 14, 29, 50, 17, 36, 2, 0, 94, 1]. Adversary List: []
___Train Local_ResNet_18,  epoch 244, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 279/341 (81.8182%)
___Train Local_ResNet_18,  epoch 244, local model 15, internal_epoch   2,  Average loss: 0.0043, Accuracy: 317/341 (92.9619%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 5.3135, Accuracy: 2547/10000 (25.4700%)
___Train Local_ResNet_18,  epoch 244, local model 14, internal_epoch   1,  Average loss: 0.0072, Accuracy: 271/318 (85.2201%)
___Train Local_ResNet_18,  epoch 244, local model 14, internal_epoch   2,  Average loss: 0.0015, Accuracy: 309/318 (97.1698%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 10.3934, Accuracy: 1755/10000 (17.5500%)
___Train Local_ResNet_18,  epoch 244, local model 29, internal_epoch   1,  Average loss: 0.0046, Accuracy: 770/848 (90.8019%)
___Train Local_ResNet_18,  epoch 244, local model 29, internal_epoch   2,  Average loss: 0.0051, Accuracy: 769/848 (90.6840%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 11.0635, Accuracy: 1756/10000 (17.5600%)
___Train Local_ResNet_18,  epoch 244, local model 50, internal_epoch   1,  Average loss: 0.0020, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 244, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 2.2617, Accuracy: 5090/10000 (50.9000%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 244, local model 17, internal_epoch   1,  Average loss: 0.0029, Accuracy: 502/526 (95.4373%)
___Train Local_ResNet_18,  epoch 244, local model 17, internal_epoch   2,  Average loss: 0.0039, Accuracy: 499/526 (94.8669%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.4973, Accuracy: 3782/10000 (37.8200%)
___Train Local_ResNet_18,  epoch 244, local model 36, internal_epoch   1,  Average loss: 0.0060, Accuracy: 740/849 (87.1614%)
___Train Local_ResNet_18,  epoch 244, local model 36, internal_epoch   2,  Average loss: 0.0156, Accuracy: 623/849 (73.3804%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 24.6193, Accuracy: 1500/10000 (15.0000%)
___Train Local_ResNet_18,  epoch 244, local model 2, internal_epoch   1,  Average loss: 0.0070, Accuracy: 398/461 (86.3341%)
___Train Local_ResNet_18,  epoch 244, local model 2, internal_epoch   2,  Average loss: 0.0071, Accuracy: 418/461 (90.6725%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.1750, Accuracy: 4311/10000 (43.1100%)
___Train Local_ResNet_18,  epoch 244, local model 0, internal_epoch   1,  Average loss: 0.0062, Accuracy: 324/367 (88.2834%)
___Train Local_ResNet_18,  epoch 244, local model 0, internal_epoch   2,  Average loss: 0.0021, Accuracy: 354/367 (96.4578%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.4356, Accuracy: 3184/10000 (31.8400%)
___Train Local_ResNet_18,  epoch 244, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 175/203 (86.2069%)
___Train Local_ResNet_18,  epoch 244, local model 94, internal_epoch   2,  Average loss: 0.0024, Accuracy: 199/203 (98.0296%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 3.4303, Accuracy: 3451/10000 (34.5100%)
___Train Local_ResNet_18,  epoch 244, local model 1, internal_epoch   1,  Average loss: 0.0052, Accuracy: 604/641 (94.2278%)
___Train Local_ResNet_18,  epoch 244, local model 1, internal_epoch   2,  Average loss: 0.0109, Accuracy: 584/641 (91.1076%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 4.7053, Accuracy: 4269/10000 (42.6900%)
time spent on training: 51.00898623466492
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10615539858728557  data num: [341, 318, 848, 401, 526, 849, 461, 367, 203, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.008293390514631686
[foolsgold agg] wv: [0.         0.59427328 0.67800517 0.         1.         1.
 0.59427328 0.66921973 0.66921973 0.67800517]
___Test Target_ResNet_18 poisoned: False, epoch: 244: Average loss: 0.6484, Accuracy: 7848/10000 (78.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 244: Average loss: 6.5902, Accuracy: 279/9000 (3.1000%)
Done in 88.99653673171997 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:245 choose agents : [38, 41, 82, 49, 74, 23, 97, 83, 22, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 245, local model 38, internal_epoch   1,  Average loss: 0.0027, Accuracy: 720/756 (95.2381%)
___Train Local_ResNet_18,  epoch 245, local model 38, internal_epoch   2,  Average loss: 0.0021, Accuracy: 725/756 (95.8995%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.1027, Accuracy: 5210/10000 (52.1000%)
___Train Local_ResNet_18,  epoch 245, local model 41, internal_epoch   1,  Average loss: 0.0070, Accuracy: 439/513 (85.5750%)
___Train Local_ResNet_18,  epoch 245, local model 41, internal_epoch   2,  Average loss: 0.0045, Accuracy: 469/513 (91.4230%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 19.9592, Accuracy: 1180/10000 (11.8000%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 567/601 (94.3428%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   2,  Average loss: 0.0018, Accuracy: 586/601 (97.5042%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.3478, Accuracy: 4932/10000 (49.3200%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   1,  Average loss: 0.0032, Accuracy: 399/426 (93.6620%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   2,  Average loss: 0.0012, Accuracy: 414/426 (97.1831%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.6922, Accuracy: 4612/10000 (46.1200%)
___Train Local_ResNet_18,  epoch 245, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 432/469 (92.1109%)
___Train Local_ResNet_18,  epoch 245, local model 74, internal_epoch   2,  Average loss: 0.0022, Accuracy: 457/469 (97.4414%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.4640, Accuracy: 4511/10000 (45.1100%)
___Train Local_ResNet_18,  epoch 245, local model 23, internal_epoch   1,  Average loss: 0.0039, Accuracy: 224/248 (90.3226%)
___Train Local_ResNet_18,  epoch 245, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 248/248 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.8639, Accuracy: 5086/10000 (50.8600%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   1,  Average loss: 0.0027, Accuracy: 395/418 (94.4976%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   2,  Average loss: 0.0017, Accuracy: 408/418 (97.6077%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 2.1310, Accuracy: 5051/10000 (50.5100%)
___Train Local_ResNet_18,  epoch 245, local model 83, internal_epoch   1,  Average loss: 0.0023, Accuracy: 347/366 (94.8087%)
___Train Local_ResNet_18,  epoch 245, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 362/366 (98.9071%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.3955, Accuracy: 6136/10000 (61.3600%)
___Train Local_ResNet_18,  epoch 245, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 442/494 (89.4737%)
___Train Local_ResNet_18,  epoch 245, local model 22, internal_epoch   2,  Average loss: 0.0022, Accuracy: 469/494 (94.9393%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 3.1058, Accuracy: 3887/10000 (38.8700%)
___Train Local_ResNet_18,  epoch 245, local model 4, internal_epoch   1,  Average loss: 0.0050, Accuracy: 498/557 (89.4075%)
___Train Local_ResNet_18,  epoch 245, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 519/557 (93.1777%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 4.2086, Accuracy: 3530/10000 (35.3000%)
time spent on training: 44.56600761413574
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [756, 513, 601, 426, 469, 248, 418, 366, 494, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 0. 1. 1. 1. 0. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 245: Average loss: 0.6477, Accuracy: 7851/10000 (78.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 245: Average loss: 6.5823, Accuracy: 279/9000 (3.1000%)
Done in 81.3855140209198 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:246 choose agents : [43, 92, 33, 62, 59, 26, 11, 93, 86, 90]. Adversary List: []
___Train Local_ResNet_18,  epoch 246, local model 43, internal_epoch   1,  Average loss: 0.0070, Accuracy: 294/345 (85.2174%)
___Train Local_ResNet_18,  epoch 246, local model 43, internal_epoch   2,  Average loss: 0.0013, Accuracy: 336/345 (97.3913%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 4.4589, Accuracy: 3484/10000 (34.8400%)
___Train Local_ResNet_18,  epoch 246, local model 92, internal_epoch   1,  Average loss: 0.0057, Accuracy: 717/796 (90.0754%)
___Train Local_ResNet_18,  epoch 246, local model 92, internal_epoch   2,  Average loss: 0.0080, Accuracy: 692/796 (86.9347%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 4.1065, Accuracy: 2978/10000 (29.7800%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 246, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 491/527 (93.1689%)
___Train Local_ResNet_18,  epoch 246, local model 33, internal_epoch   2,  Average loss: 0.0050, Accuracy: 485/527 (92.0304%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 3.2548, Accuracy: 4114/10000 (41.1400%)
___Train Local_ResNet_18,  epoch 246, local model 62, internal_epoch   1,  Average loss: 0.0015, Accuracy: 348/358 (97.2067%)
___Train Local_ResNet_18,  epoch 246, local model 62, internal_epoch   2,  Average loss: 0.0005, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.0530, Accuracy: 6837/10000 (68.3700%)
___Train Local_ResNet_18,  epoch 246, local model 59, internal_epoch   1,  Average loss: 0.0044, Accuracy: 605/642 (94.2368%)
___Train Local_ResNet_18,  epoch 246, local model 59, internal_epoch   2,  Average loss: 0.0241, Accuracy: 441/642 (68.6916%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 247.3125, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 246, local model 26, internal_epoch   1,  Average loss: 0.0054, Accuracy: 421/468 (89.9573%)
___Train Local_ResNet_18,  epoch 246, local model 26, internal_epoch   2,  Average loss: 0.0048, Accuracy: 436/468 (93.1624%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 3.5213, Accuracy: 3669/10000 (36.6900%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 246, local model 11, internal_epoch   1,  Average loss: 0.0024, Accuracy: 525/546 (96.1538%)
___Train Local_ResNet_18,  epoch 246, local model 11, internal_epoch   2,  Average loss: 0.0017, Accuracy: 534/546 (97.8022%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.9804, Accuracy: 5329/10000 (53.2900%)
___Train Local_ResNet_18,  epoch 246, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 550/584 (94.1781%)
___Train Local_ResNet_18,  epoch 246, local model 93, internal_epoch   2,  Average loss: 0.0045, Accuracy: 551/584 (94.3493%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 2.5283, Accuracy: 4531/10000 (45.3100%)
___Train Local_ResNet_18,  epoch 246, local model 86, internal_epoch   1,  Average loss: 0.0039, Accuracy: 196/212 (92.4528%)
___Train Local_ResNet_18,  epoch 246, local model 86, internal_epoch   2,  Average loss: 0.0018, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.8288, Accuracy: 5487/10000 (54.8700%)
___Train Local_ResNet_18,  epoch 246, local model 90, internal_epoch   1,  Average loss: 0.0067, Accuracy: 520/578 (89.9654%)
___Train Local_ResNet_18,  epoch 246, local model 90, internal_epoch   2,  Average loss: 0.0134, Accuracy: 475/578 (82.1799%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 22.5439, Accuracy: 1170/10000 (11.7000%)
time spent on training: 54.96268343925476
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.21222310126582278  data num: [345, 796, 527, 358, 642, 468, 546, 584, 212, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.016579929786392403
[foolsgold agg] wv: [1.         1.         0.41023897 1.         1.         1.
 0.42375252 1.         0.41023897 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 246: Average loss: 0.6470, Accuracy: 7856/10000 (78.5600%)
___Test Target_ResNet_18 poisoned: True, epoch: 246: Average loss: 6.5833, Accuracy: 280/9000 (3.1111%)
Done in 94.76972913742065 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:247 choose agents : [80, 12, 53, 55, 18, 42, 52, 31, 29, 13]. Adversary List: []
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   1,  Average loss: 0.0050, Accuracy: 325/363 (89.5317%)
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   2,  Average loss: 0.0023, Accuracy: 355/363 (97.7961%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.8094, Accuracy: 3268/10000 (32.6800%)
___Train Local_ResNet_18,  epoch 247, local model 12, internal_epoch   1,  Average loss: 0.0045, Accuracy: 898/977 (91.9140%)
___Train Local_ResNet_18,  epoch 247, local model 12, internal_epoch   2,  Average loss: 0.0064, Accuracy: 864/977 (88.4340%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.0853, Accuracy: 3573/10000 (35.7300%)
___Train Local_ResNet_18,  epoch 247, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 583/625 (93.2800%)
___Train Local_ResNet_18,  epoch 247, local model 53, internal_epoch   2,  Average loss: 0.0032, Accuracy: 590/625 (94.4000%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 3.2693, Accuracy: 3775/10000 (37.7500%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   1,  Average loss: 0.0051, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   2,  Average loss: 0.0004, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 5.2096, Accuracy: 2845/10000 (28.4500%)
___Train Local_ResNet_18,  epoch 247, local model 18, internal_epoch   1,  Average loss: 0.0069, Accuracy: 358/386 (92.7461%)
___Train Local_ResNet_18,  epoch 247, local model 18, internal_epoch   2,  Average loss: 0.0211, Accuracy: 249/386 (64.5078%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 107.2176, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 247, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 180/198 (90.9091%)
___Train Local_ResNet_18,  epoch 247, local model 42, internal_epoch   2,  Average loss: 0.0008, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 3.4670, Accuracy: 3066/10000 (30.6600%)
___Train Local_ResNet_18,  epoch 247, local model 52, internal_epoch   1,  Average loss: 0.0071, Accuracy: 186/214 (86.9159%)
___Train Local_ResNet_18,  epoch 247, local model 52, internal_epoch   2,  Average loss: 0.0019, Accuracy: 210/214 (98.1308%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.8210, Accuracy: 2921/10000 (29.2100%)
___Train Local_ResNet_18,  epoch 247, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 671/706 (95.0425%)
___Train Local_ResNet_18,  epoch 247, local model 31, internal_epoch   2,  Average loss: 0.0026, Accuracy: 667/706 (94.4759%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 1.7409, Accuracy: 5643/10000 (56.4300%)
___Train Local_ResNet_18,  epoch 247, local model 29, internal_epoch   1,  Average loss: 0.0050, Accuracy: 773/848 (91.1557%)
___Train Local_ResNet_18,  epoch 247, local model 29, internal_epoch   2,  Average loss: 0.0050, Accuracy: 769/848 (90.6840%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 6.1320, Accuracy: 2899/10000 (28.9900%)
___Train Local_ResNet_18,  epoch 247, local model 13, internal_epoch   1,  Average loss: 0.0057, Accuracy: 552/620 (89.0323%)
___Train Local_ResNet_18,  epoch 247, local model 13, internal_epoch   2,  Average loss: 0.0034, Accuracy: 578/620 (93.2258%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 4.3066, Accuracy: 3839/10000 (38.3900%)
time spent on training: 44.848806858062744
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [363, 977, 625, 299, 386, 198, 214, 706, 848, 620]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.27522133 1.         0.         0.         0.         1.
 0.96823421 1.         1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 247: Average loss: 0.6463, Accuracy: 7859/10000 (78.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 247: Average loss: 6.5789, Accuracy: 282/9000 (3.1333%)
Done in 82.85444068908691 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:248 choose agents : [28, 59, 11, 20, 4, 19, 50, 93, 13, 55]. Adversary List: []
___Train Local_ResNet_18,  epoch 248, local model 28, internal_epoch   1,  Average loss: 0.0024, Accuracy: 400/423 (94.5626%)
___Train Local_ResNet_18,  epoch 248, local model 28, internal_epoch   2,  Average loss: 0.0012, Accuracy: 413/423 (97.6359%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.6105, Accuracy: 5866/10000 (58.6600%)
___Train Local_ResNet_18,  epoch 248, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 603/642 (93.9252%)
___Train Local_ResNet_18,  epoch 248, local model 59, internal_epoch   2,  Average loss: 0.0030, Accuracy: 618/642 (96.2617%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 4.8818, Accuracy: 3341/10000 (33.4100%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 248, local model 11, internal_epoch   1,  Average loss: 0.0026, Accuracy: 519/546 (95.0549%)
___Train Local_ResNet_18,  epoch 248, local model 11, internal_epoch   2,  Average loss: 0.0015, Accuracy: 531/546 (97.2527%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.6602, Accuracy: 4343/10000 (43.4300%)
___Train Local_ResNet_18,  epoch 248, local model 20, internal_epoch   1,  Average loss: 0.0072, Accuracy: 314/362 (86.7403%)
___Train Local_ResNet_18,  epoch 248, local model 20, internal_epoch   2,  Average loss: 0.0035, Accuracy: 343/362 (94.7514%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 6.4916, Accuracy: 2575/10000 (25.7500%)
___Train Local_ResNet_18,  epoch 248, local model 4, internal_epoch   1,  Average loss: 0.0046, Accuracy: 500/557 (89.7666%)
___Train Local_ResNet_18,  epoch 248, local model 4, internal_epoch   2,  Average loss: 0.0032, Accuracy: 519/557 (93.1777%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.8652, Accuracy: 4613/10000 (46.1300%)
___Train Local_ResNet_18,  epoch 248, local model 19, internal_epoch   1,  Average loss: 0.0139, Accuracy: 129/173 (74.5665%)
___Train Local_ResNet_18,  epoch 248, local model 19, internal_epoch   2,  Average loss: 0.0013, Accuracy: 171/173 (98.8439%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 4.9562, Accuracy: 3582/10000 (35.8200%)
___Train Local_ResNet_18,  epoch 248, local model 50, internal_epoch   1,  Average loss: 0.0018, Accuracy: 390/401 (97.2569%)
___Train Local_ResNet_18,  epoch 248, local model 50, internal_epoch   2,  Average loss: 0.0005, Accuracy: 401/401 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.7831, Accuracy: 5648/10000 (56.4800%)
___Train Local_ResNet_18,  epoch 248, local model 93, internal_epoch   1,  Average loss: 0.0026, Accuracy: 559/584 (95.7192%)
___Train Local_ResNet_18,  epoch 248, local model 93, internal_epoch   2,  Average loss: 0.0056, Accuracy: 537/584 (91.9521%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 2.5326, Accuracy: 4375/10000 (43.7500%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   1,  Average loss: 0.0042, Accuracy: 566/620 (91.2903%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   2,  Average loss: 0.0027, Accuracy: 585/620 (94.3548%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 3.1208, Accuracy: 4074/10000 (40.7400%)
___Train Local_ResNet_18,  epoch 248, local model 55, internal_epoch   1,  Average loss: 0.0049, Accuracy: 269/299 (89.9666%)
___Train Local_ResNet_18,  epoch 248, local model 55, internal_epoch   2,  Average loss: 0.0012, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 6.8970, Accuracy: 2096/10000 (20.9600%)
time spent on training: 48.65078616142273
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11851530280008682  data num: [423, 642, 546, 362, 557, 173, 401, 584, 620, 299]
[foolsgold agg] considering poison per batch poison_fraction: 0.009259008031256783
[foolsgold agg] wv: [1. 0. 1. 0. 1. 0. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 248: Average loss: 0.6460, Accuracy: 7857/10000 (78.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 248: Average loss: 6.5822, Accuracy: 282/9000 (3.1333%)
Done in 90.33896684646606 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:249 choose agents : [13, 33, 16, 5, 8, 3, 39, 27, 19, 93]. Adversary List: []
___Train Local_ResNet_18,  epoch 249, local model 13, internal_epoch   1,  Average loss: 0.0043, Accuracy: 569/620 (91.7742%)
___Train Local_ResNet_18,  epoch 249, local model 13, internal_epoch   2,  Average loss: 0.0030, Accuracy: 586/620 (94.5161%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 3.6766, Accuracy: 3740/10000 (37.4000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 249, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 482/527 (91.4611%)
___Train Local_ResNet_18,  epoch 249, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 480/527 (91.0816%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.6195, Accuracy: 4592/10000 (45.9200%)
___Train Local_ResNet_18,  epoch 249, local model 16, internal_epoch   1,  Average loss: 0.0055, Accuracy: 725/773 (93.7904%)
___Train Local_ResNet_18,  epoch 249, local model 16, internal_epoch   2,  Average loss: 0.0233, Accuracy: 484/773 (62.6132%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 67.6605, Accuracy: 1172/10000 (11.7200%)
___Train Local_ResNet_18,  epoch 249, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 352/365 (96.4384%)
___Train Local_ResNet_18,  epoch 249, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 362/365 (99.1781%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 1.2889, Accuracy: 6406/10000 (64.0600%)
___Train Local_ResNet_18,  epoch 249, local model 8, internal_epoch   1,  Average loss: 0.0036, Accuracy: 497/534 (93.0712%)
___Train Local_ResNet_18,  epoch 249, local model 8, internal_epoch   2,  Average loss: 0.0023, Accuracy: 510/534 (95.5056%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 3.2587, Accuracy: 3803/10000 (38.0300%)
___Train Local_ResNet_18,  epoch 249, local model 3, internal_epoch   1,  Average loss: 0.0061, Accuracy: 686/780 (87.9487%)
___Train Local_ResNet_18,  epoch 249, local model 3, internal_epoch   2,  Average loss: 0.0134, Accuracy: 606/780 (77.6923%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 41.9663, Accuracy: 1016/10000 (10.1600%)
___Train Local_ResNet_18,  epoch 249, local model 39, internal_epoch   1,  Average loss: 0.0053, Accuracy: 191/217 (88.0184%)
___Train Local_ResNet_18,  epoch 249, local model 39, internal_epoch   2,  Average loss: 0.0008, Accuracy: 215/217 (99.0783%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.3442, Accuracy: 4498/10000 (44.9800%)
___Train Local_ResNet_18,  epoch 249, local model 27, internal_epoch   1,  Average loss: 0.0036, Accuracy: 378/397 (95.2141%)
___Train Local_ResNet_18,  epoch 249, local model 27, internal_epoch   2,  Average loss: 0.0043, Accuracy: 381/397 (95.9698%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.3083, Accuracy: 4424/10000 (44.2400%)
___Train Local_ResNet_18,  epoch 249, local model 19, internal_epoch   1,  Average loss: 0.0131, Accuracy: 134/173 (77.4566%)
___Train Local_ResNet_18,  epoch 249, local model 19, internal_epoch   2,  Average loss: 0.0017, Accuracy: 168/173 (97.1098%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 6.1390, Accuracy: 3132/10000 (31.3200%)
___Train Local_ResNet_18,  epoch 249, local model 93, internal_epoch   1,  Average loss: 0.0026, Accuracy: 550/584 (94.1781%)
___Train Local_ResNet_18,  epoch 249, local model 93, internal_epoch   2,  Average loss: 0.0016, Accuracy: 572/584 (97.9452%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 2.3369, Accuracy: 4807/10000 (48.0700%)
time spent on training: 50.76911497116089
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10603621730382294  data num: [620, 527, 773, 365, 534, 780, 217, 397, 173, 584]
[foolsgold agg] considering poison per batch poison_fraction: 0.008284079476861167
[foolsgold agg] wv: [0.         0.86455837 1.         0.86455837 1.         1.
 0.         0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 249: Average loss: 0.6463, Accuracy: 7864/10000 (78.6400%)
___Test Target_ResNet_18 poisoned: True, epoch: 249: Average loss: 6.5694, Accuracy: 284/9000 (3.1556%)
Done in 90.90795278549194 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:250 choose agents : [92, 14, 74, 41, 87, 44, 60, 80, 2, 45]. Adversary List: []
___Train Local_ResNet_18,  epoch 250, local model 92, internal_epoch   1,  Average loss: 0.0047, Accuracy: 716/796 (89.9497%)
___Train Local_ResNet_18,  epoch 250, local model 92, internal_epoch   2,  Average loss: 0.0076, Accuracy: 676/796 (84.9246%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 9.7415, Accuracy: 2462/10000 (24.6200%)
___Train Local_ResNet_18,  epoch 250, local model 14, internal_epoch   1,  Average loss: 0.0069, Accuracy: 273/318 (85.8491%)
___Train Local_ResNet_18,  epoch 250, local model 14, internal_epoch   2,  Average loss: 0.0011, Accuracy: 311/318 (97.7987%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 6.8678, Accuracy: 2392/10000 (23.9200%)
___Train Local_ResNet_18,  epoch 250, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 441/469 (94.0299%)
___Train Local_ResNet_18,  epoch 250, local model 74, internal_epoch   2,  Average loss: 0.0017, Accuracy: 455/469 (97.0149%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.6495, Accuracy: 5474/10000 (54.7400%)
___Train Local_ResNet_18,  epoch 250, local model 41, internal_epoch   1,  Average loss: 0.0255, Accuracy: 422/513 (82.2612%)
___Train Local_ResNet_18,  epoch 250, local model 41, internal_epoch   2,  Average loss: 0.0125, Accuracy: 419/513 (81.6764%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 8.6040, Accuracy: 2635/10000 (26.3500%)
___Train Local_ResNet_18,  epoch 250, local model 87, internal_epoch   1,  Average loss: 0.0086, Accuracy: 337/397 (84.8866%)
___Train Local_ResNet_18,  epoch 250, local model 87, internal_epoch   2,  Average loss: 0.0065, Accuracy: 355/397 (89.4207%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 3.2860, Accuracy: 3431/10000 (34.3100%)
___Train Local_ResNet_18,  epoch 250, local model 44, internal_epoch   1,  Average loss: 0.0038, Accuracy: 401/436 (91.9725%)
___Train Local_ResNet_18,  epoch 250, local model 44, internal_epoch   2,  Average loss: 0.0015, Accuracy: 427/436 (97.9358%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.8251, Accuracy: 5501/10000 (55.0100%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 261/284 (91.9014%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   2,  Average loss: 0.0015, Accuracy: 280/284 (98.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 2.0494, Accuracy: 4999/10000 (49.9900%)
___Train Local_ResNet_18,  epoch 250, local model 80, internal_epoch   1,  Average loss: 0.0057, Accuracy: 320/363 (88.1543%)
___Train Local_ResNet_18,  epoch 250, local model 80, internal_epoch   2,  Average loss: 0.0016, Accuracy: 353/363 (97.2452%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 4.3697, Accuracy: 3767/10000 (37.6700%)
___Train Local_ResNet_18,  epoch 250, local model 2, internal_epoch   1,  Average loss: 0.0078, Accuracy: 393/461 (85.2495%)
___Train Local_ResNet_18,  epoch 250, local model 2, internal_epoch   2,  Average loss: 0.0077, Accuracy: 413/461 (89.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 3.0913, Accuracy: 4003/10000 (40.0300%)
___Train Local_ResNet_18,  epoch 250, local model 45, internal_epoch   1,  Average loss: 0.0067, Accuracy: 459/529 (86.7675%)
___Train Local_ResNet_18,  epoch 250, local model 45, internal_epoch   2,  Average loss: 0.0060, Accuracy: 476/529 (89.9811%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 9.9997, Accuracy: 2237/10000 (22.3700%)
time spent on training: 45.621278524398804
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [796, 318, 469, 513, 397, 436, 284, 363, 461, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.37145429 0.         1.         0.68148757 0.         0.
 0.         1.         0.         0.37145429]
___Test Target_ResNet_18 poisoned: False, epoch: 250: Average loss: 0.6462, Accuracy: 7867/10000 (78.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 250: Average loss: 6.5649, Accuracy: 286/9000 (3.1778%)
Done in 87.90663003921509 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:251 choose agents : [67, 9, 92, 47, 24, 79, 63, 14, 87, 2]. Adversary List: []
___Train Local_ResNet_18,  epoch 251, local model 67, internal_epoch   1,  Average loss: 0.0028, Accuracy: 802/842 (95.2494%)
___Train Local_ResNet_18,  epoch 251, local model 67, internal_epoch   2,  Average loss: 0.0090, Accuracy: 719/842 (85.3919%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 7.0345, Accuracy: 2147/10000 (21.4700%)
___Train Local_ResNet_18,  epoch 251, local model 9, internal_epoch   1,  Average loss: 0.0047, Accuracy: 326/368 (88.5870%)
___Train Local_ResNet_18,  epoch 251, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 358/368 (97.2826%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 4.0846, Accuracy: 3400/10000 (34.0000%)
___Train Local_ResNet_18,  epoch 251, local model 92, internal_epoch   1,  Average loss: 0.0057, Accuracy: 709/796 (89.0704%)
___Train Local_ResNet_18,  epoch 251, local model 92, internal_epoch   2,  Average loss: 0.0073, Accuracy: 693/796 (87.0603%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 8.3513, Accuracy: 2147/10000 (21.4700%)
___Train Local_ResNet_18,  epoch 251, local model 47, internal_epoch   1,  Average loss: 0.0030, Accuracy: 624/654 (95.4128%)
___Train Local_ResNet_18,  epoch 251, local model 47, internal_epoch   2,  Average loss: 0.0029, Accuracy: 620/654 (94.8012%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.0745, Accuracy: 5086/10000 (50.8600%)
___Train Local_ResNet_18,  epoch 251, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 295/320 (92.1875%)
___Train Local_ResNet_18,  epoch 251, local model 24, internal_epoch   2,  Average loss: 0.0010, Accuracy: 314/320 (98.1250%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.3944, Accuracy: 4615/10000 (46.1500%)
___Train Local_ResNet_18,  epoch 251, local model 79, internal_epoch   1,  Average loss: 0.0060, Accuracy: 130/154 (84.4156%)
___Train Local_ResNet_18,  epoch 251, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.1700, Accuracy: 6641/10000 (66.4100%)
___Train Local_ResNet_18,  epoch 251, local model 63, internal_epoch   1,  Average loss: 0.0023, Accuracy: 719/752 (95.6117%)
___Train Local_ResNet_18,  epoch 251, local model 63, internal_epoch   2,  Average loss: 0.0018, Accuracy: 725/752 (96.4096%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.8353, Accuracy: 5648/10000 (56.4800%)
___Train Local_ResNet_18,  epoch 251, local model 14, internal_epoch   1,  Average loss: 0.0070, Accuracy: 271/318 (85.2201%)
___Train Local_ResNet_18,  epoch 251, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 309/318 (97.1698%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 9.9696, Accuracy: 2003/10000 (20.0300%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   1,  Average loss: 0.0095, Accuracy: 334/397 (84.1310%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   2,  Average loss: 0.0104, Accuracy: 333/397 (83.8791%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 13.5388, Accuracy: 1270/10000 (12.7000%)
___Train Local_ResNet_18,  epoch 251, local model 2, internal_epoch   1,  Average loss: 0.0106, Accuracy: 391/461 (84.8156%)
___Train Local_ResNet_18,  epoch 251, local model 2, internal_epoch   2,  Average loss: 0.0142, Accuracy: 379/461 (82.2126%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 21.5218, Accuracy: 1335/10000 (13.3500%)
time spent on training: 43.73498845100403
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [842, 368, 796, 654, 320, 154, 752, 318, 397, 461]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.
 0.         0.         0.         0.27597334]
___Test Target_ResNet_18 poisoned: False, epoch: 251: Average loss: 0.6451, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 251: Average loss: 6.5828, Accuracy: 285/9000 (3.1667%)
Done in 76.20378136634827 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:252 choose agents : [64, 12, 61, 1, 84, 9, 0, 14, 88, 16]. Adversary List: []
___Train Local_ResNet_18,  epoch 252, local model 64, internal_epoch   1,  Average loss: 0.0035, Accuracy: 635/686 (92.5656%)
___Train Local_ResNet_18,  epoch 252, local model 64, internal_epoch   2,  Average loss: 0.0029, Accuracy: 645/686 (94.0233%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.4756, Accuracy: 4693/10000 (46.9300%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 878/977 (89.8669%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   2,  Average loss: 0.0087, Accuracy: 813/977 (83.2139%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 9.4147, Accuracy: 2110/10000 (21.1000%)
___Train Local_ResNet_18,  epoch 252, local model 61, internal_epoch   1,  Average loss: 0.0045, Accuracy: 534/590 (90.5085%)
___Train Local_ResNet_18,  epoch 252, local model 61, internal_epoch   2,  Average loss: 0.0051, Accuracy: 537/590 (91.0169%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.2633, Accuracy: 2742/10000 (27.4200%)
___Train Local_ResNet_18,  epoch 252, local model 1, internal_epoch   1,  Average loss: 0.0054, Accuracy: 597/641 (93.1357%)
___Train Local_ResNet_18,  epoch 252, local model 1, internal_epoch   2,  Average loss: 0.0114, Accuracy: 586/641 (91.4197%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.6304, Accuracy: 4607/10000 (46.0700%)
___Train Local_ResNet_18,  epoch 252, local model 84, internal_epoch   1,  Average loss: 0.0028, Accuracy: 996/1053 (94.5869%)
___Train Local_ResNet_18,  epoch 252, local model 84, internal_epoch   2,  Average loss: 0.0058, Accuracy: 922/1053 (87.5594%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 2.0751, Accuracy: 5174/10000 (51.7400%)
___Train Local_ResNet_18,  epoch 252, local model 9, internal_epoch   1,  Average loss: 0.0041, Accuracy: 339/368 (92.1196%)
___Train Local_ResNet_18,  epoch 252, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 360/368 (97.8261%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 6.8475, Accuracy: 2290/10000 (22.9000%)
___Train Local_ResNet_18,  epoch 252, local model 0, internal_epoch   1,  Average loss: 0.0065, Accuracy: 321/367 (87.4659%)
___Train Local_ResNet_18,  epoch 252, local model 0, internal_epoch   2,  Average loss: 0.0025, Accuracy: 353/367 (96.1853%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.5232, Accuracy: 2557/10000 (25.5700%)
___Train Local_ResNet_18,  epoch 252, local model 14, internal_epoch   1,  Average loss: 0.0063, Accuracy: 277/318 (87.1069%)
___Train Local_ResNet_18,  epoch 252, local model 14, internal_epoch   2,  Average loss: 0.0014, Accuracy: 311/318 (97.7987%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 10.8769, Accuracy: 1785/10000 (17.8500%)
___Train Local_ResNet_18,  epoch 252, local model 88, internal_epoch   1,  Average loss: 0.0067, Accuracy: 386/447 (86.3535%)
___Train Local_ResNet_18,  epoch 252, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 413/447 (92.3937%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.6758, Accuracy: 2409/10000 (24.0900%)
___Train Local_ResNet_18,  epoch 252, local model 16, internal_epoch   1,  Average loss: 0.0037, Accuracy: 725/773 (93.7904%)
___Train Local_ResNet_18,  epoch 252, local model 16, internal_epoch   2,  Average loss: 0.0096, Accuracy: 629/773 (81.3713%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 8.5117, Accuracy: 1758/10000 (17.5800%)
time spent on training: 46.89044666290283
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [686, 977, 590, 641, 1053, 368, 367, 318, 447, 773]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.78125798 1.         1.         0.78125798 1.         1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 252: Average loss: 0.6424, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 252: Average loss: 6.5389, Accuracy: 298/9000 (3.3111%)
Done in 87.86613249778748 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:253 choose agents : [48, 44, 4, 45, 1, 58, 22, 13, 52, 20]. Adversary List: []
___Train Local_ResNet_18,  epoch 253, local model 48, internal_epoch   1,  Average loss: 0.0045, Accuracy: 344/378 (91.0053%)
___Train Local_ResNet_18,  epoch 253, local model 48, internal_epoch   2,  Average loss: 0.0009, Accuracy: 372/378 (98.4127%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.7945, Accuracy: 3195/10000 (31.9500%)
___Train Local_ResNet_18,  epoch 253, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 406/436 (93.1193%)
___Train Local_ResNet_18,  epoch 253, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 423/436 (97.0183%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 1.4131, Accuracy: 6062/10000 (60.6200%)
___Train Local_ResNet_18,  epoch 253, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 501/557 (89.9461%)
___Train Local_ResNet_18,  epoch 253, local model 4, internal_epoch   2,  Average loss: 0.0024, Accuracy: 528/557 (94.7935%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.1676, Accuracy: 4360/10000 (43.6000%)
___Train Local_ResNet_18,  epoch 253, local model 45, internal_epoch   1,  Average loss: 0.0065, Accuracy: 474/529 (89.6030%)
___Train Local_ResNet_18,  epoch 253, local model 45, internal_epoch   2,  Average loss: 0.0109, Accuracy: 453/529 (85.6333%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 7.7285, Accuracy: 2099/10000 (20.9900%)
___Train Local_ResNet_18,  epoch 253, local model 1, internal_epoch   1,  Average loss: 0.0063, Accuracy: 613/641 (95.6318%)
___Train Local_ResNet_18,  epoch 253, local model 1, internal_epoch   2,  Average loss: 0.0106, Accuracy: 565/641 (88.1435%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.1766, Accuracy: 3009/10000 (30.0900%)
___Train Local_ResNet_18,  epoch 253, local model 58, internal_epoch   1,  Average loss: 0.0079, Accuracy: 199/234 (85.0427%)
___Train Local_ResNet_18,  epoch 253, local model 58, internal_epoch   2,  Average loss: 0.0009, Accuracy: 231/234 (98.7179%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.0858, Accuracy: 1986/10000 (19.8600%)
___Train Local_ResNet_18,  epoch 253, local model 22, internal_epoch   1,  Average loss: 0.0050, Accuracy: 439/494 (88.8664%)
___Train Local_ResNet_18,  epoch 253, local model 22, internal_epoch   2,  Average loss: 0.0025, Accuracy: 470/494 (95.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.5258, Accuracy: 3492/10000 (34.9200%)
___Train Local_ResNet_18,  epoch 253, local model 13, internal_epoch   1,  Average loss: 0.0050, Accuracy: 559/620 (90.1613%)
___Train Local_ResNet_18,  epoch 253, local model 13, internal_epoch   2,  Average loss: 0.0043, Accuracy: 563/620 (90.8065%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 3.8123, Accuracy: 3740/10000 (37.4000%)
___Train Local_ResNet_18,  epoch 253, local model 52, internal_epoch   1,  Average loss: 0.0059, Accuracy: 186/214 (86.9159%)
___Train Local_ResNet_18,  epoch 253, local model 52, internal_epoch   2,  Average loss: 0.0009, Accuracy: 213/214 (99.5327%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 2.9319, Accuracy: 4242/10000 (42.4200%)
___Train Local_ResNet_18,  epoch 253, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 311/362 (85.9116%)
___Train Local_ResNet_18,  epoch 253, local model 20, internal_epoch   2,  Average loss: 0.0020, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 4.9833, Accuracy: 3434/10000 (34.3400%)
time spent on training: 43.204405069351196
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [378, 436, 557, 529, 641, 234, 494, 620, 214, 362]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.6860849  0.         1.         0.77019108 1.         0.
 0.6860849  1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 253: Average loss: 0.6430, Accuracy: 7875/10000 (78.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 253: Average loss: 6.5337, Accuracy: 296/9000 (3.2889%)
Done in 81.88215374946594 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:254 choose agents : [95, 47, 93, 56, 5, 31, 75, 13, 77, 4]. Adversary List: []
___Train Local_ResNet_18,  epoch 254, local model 95, internal_epoch   1,  Average loss: 0.0081, Accuracy: 478/569 (84.0070%)
___Train Local_ResNet_18,  epoch 254, local model 95, internal_epoch   2,  Average loss: 0.0043, Accuracy: 512/569 (89.9824%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 7.1103, Accuracy: 2736/10000 (27.3600%)
___Train Local_ResNet_18,  epoch 254, local model 47, internal_epoch   1,  Average loss: 0.0024, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 254, local model 47, internal_epoch   2,  Average loss: 0.0023, Accuracy: 620/654 (94.8012%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.2941, Accuracy: 6312/10000 (63.1200%)
___Train Local_ResNet_18,  epoch 254, local model 93, internal_epoch   1,  Average loss: 0.0032, Accuracy: 546/584 (93.4932%)
___Train Local_ResNet_18,  epoch 254, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 539/584 (92.2945%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.8576, Accuracy: 4171/10000 (41.7100%)
___Train Local_ResNet_18,  epoch 254, local model 56, internal_epoch   1,  Average loss: 0.0015, Accuracy: 726/743 (97.7120%)
___Train Local_ResNet_18,  epoch 254, local model 56, internal_epoch   2,  Average loss: 0.0011, Accuracy: 732/743 (98.5195%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.1808, Accuracy: 6632/10000 (66.3200%)
___Train Local_ResNet_18,  epoch 254, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 351/365 (96.1644%)
___Train Local_ResNet_18,  epoch 254, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.5098, Accuracy: 6003/10000 (60.0300%)
___Train Local_ResNet_18,  epoch 254, local model 31, internal_epoch   1,  Average loss: 0.0028, Accuracy: 667/706 (94.4759%)
___Train Local_ResNet_18,  epoch 254, local model 31, internal_epoch   2,  Average loss: 0.0028, Accuracy: 674/706 (95.4674%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.3623, Accuracy: 4700/10000 (47.0000%)
___Train Local_ResNet_18,  epoch 254, local model 75, internal_epoch   1,  Average loss: 0.0044, Accuracy: 554/578 (95.8478%)
___Train Local_ResNet_18,  epoch 254, local model 75, internal_epoch   2,  Average loss: 0.0348, Accuracy: 339/578 (58.6505%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2099.1638, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   1,  Average loss: 0.0053, Accuracy: 551/620 (88.8710%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   2,  Average loss: 0.0033, Accuracy: 577/620 (93.0645%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 3.7081, Accuracy: 3412/10000 (34.1200%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 254, local model 77, internal_epoch   1,  Average loss: 0.0024, Accuracy: 474/496 (95.5645%)
___Train Local_ResNet_18,  epoch 254, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 488/496 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.5924, Accuracy: 5604/10000 (56.0400%)
___Train Local_ResNet_18,  epoch 254, local model 4, internal_epoch   1,  Average loss: 0.0042, Accuracy: 513/557 (92.1005%)
___Train Local_ResNet_18,  epoch 254, local model 4, internal_epoch   2,  Average loss: 0.0035, Accuracy: 523/557 (93.8959%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 2.5010, Accuracy: 4998/10000 (49.9800%)
time spent on training: 56.52483797073364
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08446866485013624  data num: [569, 654, 584, 743, 365, 706, 578, 620, 496, 557]
[foolsgold agg] considering poison per batch poison_fraction: 0.006599114441416894
[foolsgold agg] wv: [0.18292453 0.         0.97086584 0.97086584 1.         1.
 1.         0.         0.18292453 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 254: Average loss: 0.6431, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 254: Average loss: 6.5492, Accuracy: 290/9000 (3.2222%)
Done in 94.98766160011292 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:255 choose agents : [17, 65, 22, 0, 49, 14, 87, 55, 30, 92]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 255, local model 17, internal_epoch   1,  Average loss: 0.0019, Accuracy: 512/526 (97.3384%)
___Train Local_ResNet_18,  epoch 255, local model 17, internal_epoch   2,  Average loss: 0.0013, Accuracy: 517/526 (98.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 1.1842, Accuracy: 6519/10000 (65.1900%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   1,  Average loss: 0.0035, Accuracy: 294/314 (93.6306%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.7870, Accuracy: 4049/10000 (40.4900%)
___Train Local_ResNet_18,  epoch 255, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 444/494 (89.8785%)
___Train Local_ResNet_18,  epoch 255, local model 22, internal_epoch   2,  Average loss: 0.0021, Accuracy: 476/494 (96.3563%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.4482, Accuracy: 4697/10000 (46.9700%)
___Train Local_ResNet_18,  epoch 255, local model 0, internal_epoch   1,  Average loss: 0.0050, Accuracy: 333/367 (90.7357%)
___Train Local_ResNet_18,  epoch 255, local model 0, internal_epoch   2,  Average loss: 0.0015, Accuracy: 357/367 (97.2752%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 5.2912, Accuracy: 2497/10000 (24.9700%)
___Train Local_ResNet_18,  epoch 255, local model 49, internal_epoch   1,  Average loss: 0.0034, Accuracy: 402/426 (94.3662%)
___Train Local_ResNet_18,  epoch 255, local model 49, internal_epoch   2,  Average loss: 0.0013, Accuracy: 414/426 (97.1831%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 2.8479, Accuracy: 4262/10000 (42.6200%)
___Train Local_ResNet_18,  epoch 255, local model 14, internal_epoch   1,  Average loss: 0.0069, Accuracy: 275/318 (86.4780%)
___Train Local_ResNet_18,  epoch 255, local model 14, internal_epoch   2,  Average loss: 0.0026, Accuracy: 299/318 (94.0252%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 9.5316, Accuracy: 1869/10000 (18.6900%)
___Train Local_ResNet_18,  epoch 255, local model 87, internal_epoch   1,  Average loss: 0.0090, Accuracy: 334/397 (84.1310%)
___Train Local_ResNet_18,  epoch 255, local model 87, internal_epoch   2,  Average loss: 0.0052, Accuracy: 355/397 (89.4207%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.8875, Accuracy: 3172/10000 (31.7200%)
___Train Local_ResNet_18,  epoch 255, local model 55, internal_epoch   1,  Average loss: 0.0044, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 255, local model 55, internal_epoch   2,  Average loss: 0.0005, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 6.1067, Accuracy: 2544/10000 (25.4400%)
___Train Local_ResNet_18,  epoch 255, local model 30, internal_epoch   1,  Average loss: 0.0047, Accuracy: 310/337 (91.9881%)
___Train Local_ResNet_18,  epoch 255, local model 30, internal_epoch   2,  Average loss: 0.0019, Accuracy: 326/337 (96.7359%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.6300, Accuracy: 3453/10000 (34.5300%)
___Train Local_ResNet_18,  epoch 255, local model 92, internal_epoch   1,  Average loss: 0.0047, Accuracy: 717/796 (90.0754%)
___Train Local_ResNet_18,  epoch 255, local model 92, internal_epoch   2,  Average loss: 0.0053, Accuracy: 713/796 (89.5729%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.1832, Accuracy: 3607/10000 (36.0700%)
time spent on training: 52.48475623130798
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12306972391202621  data num: [526, 314, 494, 367, 426, 318, 397, 299, 337, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.009614822180627048
[foolsgold agg] wv: [1.         0.         0.         1.         0.30566931 0.
 0.         1.         0.90078168 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 255: Average loss: 0.6422, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 255: Average loss: 6.5125, Accuracy: 296/9000 (3.2889%)
Done in 91.12335658073425 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:256 choose agents : [89, 69, 73, 15, 31, 36, 22, 1, 0, 96]. Adversary List: []
___Train Local_ResNet_18,  epoch 256, local model 89, internal_epoch   1,  Average loss: 0.0067, Accuracy: 355/413 (85.9564%)
___Train Local_ResNet_18,  epoch 256, local model 89, internal_epoch   2,  Average loss: 0.0032, Accuracy: 385/413 (93.2203%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.2899, Accuracy: 2269/10000 (22.6900%)
___Train Local_ResNet_18,  epoch 256, local model 69, internal_epoch   1,  Average loss: 0.0065, Accuracy: 193/216 (89.3519%)
___Train Local_ResNet_18,  epoch 256, local model 69, internal_epoch   2,  Average loss: 0.0007, Accuracy: 216/216 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.5699, Accuracy: 1521/10000 (15.2100%)
___Train Local_ResNet_18,  epoch 256, local model 73, internal_epoch   1,  Average loss: 0.0117, Accuracy: 394/500 (78.8000%)
___Train Local_ResNet_18,  epoch 256, local model 73, internal_epoch   2,  Average loss: 0.0039, Accuracy: 463/500 (92.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.1420, Accuracy: 2802/10000 (28.0200%)
___Train Local_ResNet_18,  epoch 256, local model 15, internal_epoch   1,  Average loss: 0.0078, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 256, local model 15, internal_epoch   2,  Average loss: 0.0029, Accuracy: 323/341 (94.7214%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 4.7451, Accuracy: 2532/10000 (25.3200%)
___Train Local_ResNet_18,  epoch 256, local model 31, internal_epoch   1,  Average loss: 0.0045, Accuracy: 652/706 (92.3513%)
___Train Local_ResNet_18,  epoch 256, local model 31, internal_epoch   2,  Average loss: 0.0195, Accuracy: 511/706 (72.3796%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 80.1625, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 256, local model 36, internal_epoch   1,  Average loss: 0.0063, Accuracy: 742/849 (87.3969%)
___Train Local_ResNet_18,  epoch 256, local model 36, internal_epoch   2,  Average loss: 0.0161, Accuracy: 614/849 (72.3204%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.6003, Accuracy: 2977/10000 (29.7700%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   1,  Average loss: 0.0050, Accuracy: 453/494 (91.7004%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   2,  Average loss: 0.0029, Accuracy: 469/494 (94.9393%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 3.0509, Accuracy: 4342/10000 (43.4200%)
___Train Local_ResNet_18,  epoch 256, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 607/641 (94.6958%)
___Train Local_ResNet_18,  epoch 256, local model 1, internal_epoch   2,  Average loss: 0.0095, Accuracy: 618/641 (96.4119%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.6845, Accuracy: 4321/10000 (43.2100%)
___Train Local_ResNet_18,  epoch 256, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 325/367 (88.5559%)
___Train Local_ResNet_18,  epoch 256, local model 0, internal_epoch   2,  Average loss: 0.0023, Accuracy: 355/367 (96.7302%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 6.8322, Accuracy: 2100/10000 (21.0000%)
___Train Local_ResNet_18,  epoch 256, local model 96, internal_epoch   1,  Average loss: 0.0028, Accuracy: 674/708 (95.1977%)
___Train Local_ResNet_18,  epoch 256, local model 96, internal_epoch   2,  Average loss: 0.0029, Accuracy: 666/708 (94.0678%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.0550, Accuracy: 5296/10000 (52.9600%)
time spent on training: 44.31998133659363
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [413, 216, 500, 341, 706, 849, 494, 641, 367, 708]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.26603776 1.         0.26603776 1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 256: Average loss: 0.6422, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 256: Average loss: 6.4973, Accuracy: 297/9000 (3.3000%)
Done in 79.15048146247864 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:257 choose agents : [54, 37, 60, 30, 4, 36, 19, 95, 47, 88]. Adversary List: []
___Train Local_ResNet_18,  epoch 257, local model 54, internal_epoch   1,  Average loss: 0.0032, Accuracy: 410/440 (93.1818%)
___Train Local_ResNet_18,  epoch 257, local model 54, internal_epoch   2,  Average loss: 0.0007, Accuracy: 435/440 (98.8636%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 2.1756, Accuracy: 5019/10000 (50.1900%)
___Train Local_ResNet_18,  epoch 257, local model 37, internal_epoch   1,  Average loss: 0.0055, Accuracy: 654/725 (90.2069%)
___Train Local_ResNet_18,  epoch 257, local model 37, internal_epoch   2,  Average loss: 0.0171, Accuracy: 539/725 (74.3448%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 15.7136, Accuracy: 1311/10000 (13.1100%)
___Train Local_ResNet_18,  epoch 257, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 259/284 (91.1972%)
___Train Local_ResNet_18,  epoch 257, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 281/284 (98.9437%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.8968, Accuracy: 5097/10000 (50.9700%)
___Train Local_ResNet_18,  epoch 257, local model 30, internal_epoch   1,  Average loss: 0.0057, Accuracy: 308/337 (91.3947%)
___Train Local_ResNet_18,  epoch 257, local model 30, internal_epoch   2,  Average loss: 0.0022, Accuracy: 323/337 (95.8457%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 4.1478, Accuracy: 3175/10000 (31.7500%)
___Train Local_ResNet_18,  epoch 257, local model 4, internal_epoch   1,  Average loss: 0.0038, Accuracy: 510/557 (91.5619%)
___Train Local_ResNet_18,  epoch 257, local model 4, internal_epoch   2,  Average loss: 0.0020, Accuracy: 537/557 (96.4093%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 3.5572, Accuracy: 4199/10000 (41.9900%)
___Train Local_ResNet_18,  epoch 257, local model 36, internal_epoch   1,  Average loss: 0.0076, Accuracy: 746/849 (87.8681%)
___Train Local_ResNet_18,  epoch 257, local model 36, internal_epoch   2,  Average loss: 0.0232, Accuracy: 513/849 (60.4240%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 41.0830, Accuracy: 1055/10000 (10.5500%)
___Train Local_ResNet_18,  epoch 257, local model 19, internal_epoch   1,  Average loss: 0.0150, Accuracy: 128/173 (73.9884%)
___Train Local_ResNet_18,  epoch 257, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 173/173 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 7.2807, Accuracy: 2954/10000 (29.5400%)
___Train Local_ResNet_18,  epoch 257, local model 95, internal_epoch   1,  Average loss: 0.0082, Accuracy: 475/569 (83.4798%)
___Train Local_ResNet_18,  epoch 257, local model 95, internal_epoch   2,  Average loss: 0.0048, Accuracy: 513/569 (90.1582%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 5.5180, Accuracy: 2668/10000 (26.6800%)
___Train Local_ResNet_18,  epoch 257, local model 47, internal_epoch   1,  Average loss: 0.0024, Accuracy: 629/654 (96.1774%)
___Train Local_ResNet_18,  epoch 257, local model 47, internal_epoch   2,  Average loss: 0.0024, Accuracy: 623/654 (95.2599%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.5879, Accuracy: 6092/10000 (60.9200%)
___Train Local_ResNet_18,  epoch 257, local model 88, internal_epoch   1,  Average loss: 0.0072, Accuracy: 382/447 (85.4586%)
___Train Local_ResNet_18,  epoch 257, local model 88, internal_epoch   2,  Average loss: 0.0041, Accuracy: 408/447 (91.2752%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 3.9771, Accuracy: 3799/10000 (37.9900%)
time spent on training: 46.21888709068298
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [440, 725, 284, 337, 557, 849, 173, 569, 654, 447]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 1. 1. 1. 1. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 257: Average loss: 0.6416, Accuracy: 7874/10000 (78.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 257: Average loss: 6.4913, Accuracy: 301/9000 (3.3444%)
Done in 86.49644088745117 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:258 choose agents : [8, 66, 49, 58, 44, 26, 21, 79, 98, 32]. Adversary List: []
___Train Local_ResNet_18,  epoch 258, local model 8, internal_epoch   1,  Average loss: 0.0034, Accuracy: 503/534 (94.1948%)
___Train Local_ResNet_18,  epoch 258, local model 8, internal_epoch   2,  Average loss: 0.0024, Accuracy: 509/534 (95.3184%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.0180, Accuracy: 4939/10000 (49.3900%)
___Train Local_ResNet_18,  epoch 258, local model 66, internal_epoch   1,  Average loss: 0.0037, Accuracy: 516/555 (92.9730%)
___Train Local_ResNet_18,  epoch 258, local model 66, internal_epoch   2,  Average loss: 0.0015, Accuracy: 539/555 (97.1171%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.8952, Accuracy: 4427/10000 (44.2700%)
___Train Local_ResNet_18,  epoch 258, local model 49, internal_epoch   1,  Average loss: 0.0033, Accuracy: 397/426 (93.1925%)
___Train Local_ResNet_18,  epoch 258, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/426 (97.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.7445, Accuracy: 5573/10000 (55.7300%)
___Train Local_ResNet_18,  epoch 258, local model 58, internal_epoch   1,  Average loss: 0.0095, Accuracy: 197/234 (84.1880%)
___Train Local_ResNet_18,  epoch 258, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 5.6508, Accuracy: 2164/10000 (21.6400%)
___Train Local_ResNet_18,  epoch 258, local model 44, internal_epoch   1,  Average loss: 0.0034, Accuracy: 402/436 (92.2018%)
___Train Local_ResNet_18,  epoch 258, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 423/436 (97.0183%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.5770, Accuracy: 5651/10000 (56.5100%)
___Train Local_ResNet_18,  epoch 258, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 439/468 (93.8034%)
___Train Local_ResNet_18,  epoch 258, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 445/468 (95.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.5866, Accuracy: 5596/10000 (55.9600%)
___Train Local_ResNet_18,  epoch 258, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 258, local model 21, internal_epoch   2,  Average loss: 0.0014, Accuracy: 255/262 (97.3282%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 3.2450, Accuracy: 3918/10000 (39.1800%)
___Train Local_ResNet_18,  epoch 258, local model 79, internal_epoch   1,  Average loss: 0.0059, Accuracy: 135/154 (87.6623%)
___Train Local_ResNet_18,  epoch 258, local model 79, internal_epoch   2,  Average loss: 0.0004, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.0731, Accuracy: 6812/10000 (68.1200%)
___Train Local_ResNet_18,  epoch 258, local model 98, internal_epoch   1,  Average loss: 0.0034, Accuracy: 745/802 (92.8928%)
___Train Local_ResNet_18,  epoch 258, local model 98, internal_epoch   2,  Average loss: 0.0039, Accuracy: 740/802 (92.2693%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 3.5751, Accuracy: 4090/10000 (40.9000%)
___Train Local_ResNet_18,  epoch 258, local model 32, internal_epoch   1,  Average loss: 0.0020, Accuracy: 797/824 (96.7233%)
___Train Local_ResNet_18,  epoch 258, local model 32, internal_epoch   2,  Average loss: 0.0025, Accuracy: 784/824 (95.1456%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 2.7253, Accuracy: 4624/10000 (46.2400%)
time spent on training: 46.408164739608765
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [534, 555, 426, 234, 436, 468, 262, 154, 802, 824]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.81176863 1.         1.         0.         0.         0.81486098
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 258: Average loss: 0.6407, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 258: Average loss: 6.4940, Accuracy: 302/9000 (3.3556%)
Done in 82.83362460136414 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:259 choose agents : [81, 15, 55, 12, 47, 26, 82, 33, 64, 70]. Adversary List: []
___Train Local_ResNet_18,  epoch 259, local model 81, internal_epoch   1,  Average loss: 0.0059, Accuracy: 927/1034 (89.6518%)
___Train Local_ResNet_18,  epoch 259, local model 81, internal_epoch   2,  Average loss: 0.0090, Accuracy: 864/1034 (83.5590%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 13.5194, Accuracy: 1909/10000 (19.0900%)
___Train Local_ResNet_18,  epoch 259, local model 15, internal_epoch   1,  Average loss: 0.0092, Accuracy: 288/341 (84.4575%)
___Train Local_ResNet_18,  epoch 259, local model 15, internal_epoch   2,  Average loss: 0.0056, Accuracy: 316/341 (92.6686%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 6.5852, Accuracy: 2223/10000 (22.2300%)
___Train Local_ResNet_18,  epoch 259, local model 55, internal_epoch   1,  Average loss: 0.0047, Accuracy: 273/299 (91.3043%)
___Train Local_ResNet_18,  epoch 259, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 7.1997, Accuracy: 2255/10000 (22.5500%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   1,  Average loss: 0.0068, Accuracy: 858/977 (87.8199%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   2,  Average loss: 0.0125, Accuracy: 770/977 (78.8127%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 4.7444, Accuracy: 3938/10000 (39.3800%)
___Train Local_ResNet_18,  epoch 259, local model 47, internal_epoch   1,  Average loss: 0.0029, Accuracy: 614/654 (93.8838%)
___Train Local_ResNet_18,  epoch 259, local model 47, internal_epoch   2,  Average loss: 0.0035, Accuracy: 622/654 (95.1070%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 1.7756, Accuracy: 5574/10000 (55.7400%)
___Train Local_ResNet_18,  epoch 259, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 441/468 (94.2308%)
___Train Local_ResNet_18,  epoch 259, local model 26, internal_epoch   2,  Average loss: 0.0055, Accuracy: 428/468 (91.4530%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.3151, Accuracy: 5060/10000 (50.6000%)
___Train Local_ResNet_18,  epoch 259, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 581/601 (96.6722%)
___Train Local_ResNet_18,  epoch 259, local model 82, internal_epoch   2,  Average loss: 0.0015, Accuracy: 584/601 (97.1714%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 1.8892, Accuracy: 5573/10000 (55.7300%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 259, local model 33, internal_epoch   1,  Average loss: 0.0059, Accuracy: 483/527 (91.6509%)
___Train Local_ResNet_18,  epoch 259, local model 33, internal_epoch   2,  Average loss: 0.0053, Accuracy: 474/527 (89.9431%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 6.1933, Accuracy: 2818/10000 (28.1800%)
___Train Local_ResNet_18,  epoch 259, local model 64, internal_epoch   1,  Average loss: 0.0037, Accuracy: 641/686 (93.4402%)
___Train Local_ResNet_18,  epoch 259, local model 64, internal_epoch   2,  Average loss: 0.0037, Accuracy: 634/686 (92.4198%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.3993, Accuracy: 4840/10000 (48.4000%)
___Train Local_ResNet_18,  epoch 259, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 566/610 (92.7869%)
___Train Local_ResNet_18,  epoch 259, local model 70, internal_epoch   2,  Average loss: 0.0014, Accuracy: 594/610 (97.3770%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.8238, Accuracy: 3729/10000 (37.2900%)
time spent on training: 56.81494951248169
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08504114894303695  data num: [1034, 341, 299, 977, 654, 468, 601, 527, 686, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.006643839761174762
[foolsgold agg] wv: [0.         0.45307614 1.         0.         0.97582023 1.
 0.45307614 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 259: Average loss: 0.6403, Accuracy: 7887/10000 (78.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 259: Average loss: 6.5064, Accuracy: 302/9000 (3.3556%)
Done in 93.88589072227478 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:260 choose agents : [62, 25, 12, 16, 22, 72, 58, 28, 15, 29]. Adversary List: []
___Train Local_ResNet_18,  epoch 260, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 348/358 (97.2067%)
___Train Local_ResNet_18,  epoch 260, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 1.1038, Accuracy: 6716/10000 (67.1600%)
___Train Local_ResNet_18,  epoch 260, local model 25, internal_epoch   1,  Average loss: 0.0038, Accuracy: 511/545 (93.7615%)
___Train Local_ResNet_18,  epoch 260, local model 25, internal_epoch   2,  Average loss: 0.0014, Accuracy: 534/545 (97.9817%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 2.7518, Accuracy: 4344/10000 (43.4400%)
___Train Local_ResNet_18,  epoch 260, local model 12, internal_epoch   1,  Average loss: 0.0065, Accuracy: 865/977 (88.5363%)
___Train Local_ResNet_18,  epoch 260, local model 12, internal_epoch   2,  Average loss: 0.0115, Accuracy: 766/977 (78.4033%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 10.2411, Accuracy: 1855/10000 (18.5500%)
___Train Local_ResNet_18,  epoch 260, local model 16, internal_epoch   1,  Average loss: 0.0037, Accuracy: 718/773 (92.8849%)
___Train Local_ResNet_18,  epoch 260, local model 16, internal_epoch   2,  Average loss: 0.0069, Accuracy: 663/773 (85.7697%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 5.3657, Accuracy: 3303/10000 (33.0300%)
___Train Local_ResNet_18,  epoch 260, local model 22, internal_epoch   1,  Average loss: 0.0043, Accuracy: 450/494 (91.0931%)
___Train Local_ResNet_18,  epoch 260, local model 22, internal_epoch   2,  Average loss: 0.0018, Accuracy: 477/494 (96.5587%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 4.3298, Accuracy: 2913/10000 (29.1300%)
___Train Local_ResNet_18,  epoch 260, local model 72, internal_epoch   1,  Average loss: 0.0086, Accuracy: 521/618 (84.3042%)
___Train Local_ResNet_18,  epoch 260, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 533/618 (86.2460%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 14.1085, Accuracy: 1704/10000 (17.0400%)
___Train Local_ResNet_18,  epoch 260, local model 58, internal_epoch   1,  Average loss: 0.0086, Accuracy: 191/234 (81.6239%)
___Train Local_ResNet_18,  epoch 260, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 6.7876, Accuracy: 1959/10000 (19.5900%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 410/423 (96.9267%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   2,  Average loss: 0.0004, Accuracy: 422/423 (99.7636%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 1.7240, Accuracy: 5820/10000 (58.2000%)
___Train Local_ResNet_18,  epoch 260, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 287/341 (84.1642%)
___Train Local_ResNet_18,  epoch 260, local model 15, internal_epoch   2,  Average loss: 0.0026, Accuracy: 320/341 (93.8416%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 3.0238, Accuracy: 4139/10000 (41.3900%)
___Train Local_ResNet_18,  epoch 260, local model 29, internal_epoch   1,  Average loss: 0.0045, Accuracy: 779/848 (91.8632%)
___Train Local_ResNet_18,  epoch 260, local model 29, internal_epoch   2,  Average loss: 0.0085, Accuracy: 735/848 (86.6745%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 6.4957, Accuracy: 1976/10000 (19.7600%)
time spent on training: 66.13710689544678
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [358, 545, 977, 773, 494, 618, 234, 423, 341, 848]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         1.         0.69177817 0.
 0.         0.69177817 0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 260: Average loss: 0.6397, Accuracy: 7888/10000 (78.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 260: Average loss: 6.5065, Accuracy: 305/9000 (3.3889%)
Done in 101.25972485542297 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:261 choose agents : [61, 83, 69, 20, 34, 8, 28, 50, 93, 92]. Adversary List: []
___Train Local_ResNet_18,  epoch 261, local model 61, internal_epoch   1,  Average loss: 0.0044, Accuracy: 543/590 (92.0339%)
___Train Local_ResNet_18,  epoch 261, local model 61, internal_epoch   2,  Average loss: 0.0113, Accuracy: 480/590 (81.3559%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.5106, Accuracy: 2610/10000 (26.1000%)
___Train Local_ResNet_18,  epoch 261, local model 83, internal_epoch   1,  Average loss: 0.0020, Accuracy: 350/366 (95.6284%)
___Train Local_ResNet_18,  epoch 261, local model 83, internal_epoch   2,  Average loss: 0.0005, Accuracy: 364/366 (99.4536%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 1.5409, Accuracy: 5994/10000 (59.9400%)
___Train Local_ResNet_18,  epoch 261, local model 69, internal_epoch   1,  Average loss: 0.0062, Accuracy: 194/216 (89.8148%)
___Train Local_ResNet_18,  epoch 261, local model 69, internal_epoch   2,  Average loss: 0.0006, Accuracy: 215/216 (99.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 6.5289, Accuracy: 1834/10000 (18.3400%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   1,  Average loss: 0.0072, Accuracy: 302/362 (83.4254%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   2,  Average loss: 0.0021, Accuracy: 347/362 (95.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 9.2178, Accuracy: 1673/10000 (16.7300%)
___Train Local_ResNet_18,  epoch 261, local model 34, internal_epoch   1,  Average loss: 0.0051, Accuracy: 311/349 (89.1117%)
___Train Local_ResNet_18,  epoch 261, local model 34, internal_epoch   2,  Average loss: 0.0023, Accuracy: 338/349 (96.8481%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 4.3858, Accuracy: 3375/10000 (33.7500%)
___Train Local_ResNet_18,  epoch 261, local model 8, internal_epoch   1,  Average loss: 0.0033, Accuracy: 504/534 (94.3820%)
___Train Local_ResNet_18,  epoch 261, local model 8, internal_epoch   2,  Average loss: 0.0030, Accuracy: 505/534 (94.5693%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.6337, Accuracy: 4398/10000 (43.9800%)
___Train Local_ResNet_18,  epoch 261, local model 28, internal_epoch   1,  Average loss: 0.0018, Accuracy: 411/423 (97.1631%)
___Train Local_ResNet_18,  epoch 261, local model 28, internal_epoch   2,  Average loss: 0.0005, Accuracy: 421/423 (99.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 1.5315, Accuracy: 6022/10000 (60.2200%)
___Train Local_ResNet_18,  epoch 261, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 386/401 (96.2594%)
___Train Local_ResNet_18,  epoch 261, local model 50, internal_epoch   2,  Average loss: 0.0009, Accuracy: 394/401 (98.2544%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 2.0115, Accuracy: 5393/10000 (53.9300%)
___Train Local_ResNet_18,  epoch 261, local model 93, internal_epoch   1,  Average loss: 0.0035, Accuracy: 553/584 (94.6918%)
___Train Local_ResNet_18,  epoch 261, local model 93, internal_epoch   2,  Average loss: 0.0080, Accuracy: 524/584 (89.7260%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.5689, Accuracy: 2574/10000 (25.7400%)
___Train Local_ResNet_18,  epoch 261, local model 92, internal_epoch   1,  Average loss: 0.0053, Accuracy: 715/796 (89.8241%)
___Train Local_ResNet_18,  epoch 261, local model 92, internal_epoch   2,  Average loss: 0.0060, Accuracy: 698/796 (87.6884%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.5629, Accuracy: 2910/10000 (29.1000%)
time spent on training: 46.94340896606445
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [590, 366, 216, 362, 349, 534, 423, 401, 584, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.98065443 0.46209265 0.         0.         0.98065443
 1.         0.46209265 0.504999   0.504999  ]
___Test Target_ResNet_18 poisoned: False, epoch: 261: Average loss: 0.6391, Accuracy: 7886/10000 (78.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 261: Average loss: 6.4978, Accuracy: 305/9000 (3.3889%)
Done in 84.13928437232971 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:262 choose agents : [60, 95, 5, 2, 44, 0, 6, 41, 19, 53]. Adversary List: []
___Train Local_ResNet_18,  epoch 262, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 262, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 280/284 (98.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.7473, Accuracy: 5414/10000 (54.1400%)
___Train Local_ResNet_18,  epoch 262, local model 95, internal_epoch   1,  Average loss: 0.0084, Accuracy: 478/569 (84.0070%)
___Train Local_ResNet_18,  epoch 262, local model 95, internal_epoch   2,  Average loss: 0.0052, Accuracy: 510/569 (89.6309%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 8.2562, Accuracy: 2441/10000 (24.4100%)
___Train Local_ResNet_18,  epoch 262, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 349/365 (95.6164%)
___Train Local_ResNet_18,  epoch 262, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.1805, Accuracy: 6619/10000 (66.1900%)
___Train Local_ResNet_18,  epoch 262, local model 2, internal_epoch   1,  Average loss: 0.0085, Accuracy: 388/461 (84.1649%)
___Train Local_ResNet_18,  epoch 262, local model 2, internal_epoch   2,  Average loss: 0.0111, Accuracy: 379/461 (82.2126%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 7.9618, Accuracy: 2294/10000 (22.9400%)
___Train Local_ResNet_18,  epoch 262, local model 44, internal_epoch   1,  Average loss: 0.0034, Accuracy: 408/436 (93.5780%)
___Train Local_ResNet_18,  epoch 262, local model 44, internal_epoch   2,  Average loss: 0.0013, Accuracy: 421/436 (96.5596%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.2799, Accuracy: 6294/10000 (62.9400%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   1,  Average loss: 0.0054, Accuracy: 323/367 (88.0109%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   2,  Average loss: 0.0028, Accuracy: 356/367 (97.0027%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 5.0810, Accuracy: 2504/10000 (25.0400%)
___Train Local_ResNet_18,  epoch 262, local model 6, internal_epoch   1,  Average loss: 0.0032, Accuracy: 491/520 (94.4231%)
___Train Local_ResNet_18,  epoch 262, local model 6, internal_epoch   2,  Average loss: 0.0029, Accuracy: 494/520 (95.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 2.6824, Accuracy: 4488/10000 (44.8800%)
___Train Local_ResNet_18,  epoch 262, local model 41, internal_epoch   1,  Average loss: 0.0065, Accuracy: 444/513 (86.5497%)
___Train Local_ResNet_18,  epoch 262, local model 41, internal_epoch   2,  Average loss: 0.0034, Accuracy: 478/513 (93.1774%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 2.4334, Accuracy: 4296/10000 (42.9600%)
___Train Local_ResNet_18,  epoch 262, local model 19, internal_epoch   1,  Average loss: 0.0131, Accuracy: 131/173 (75.7225%)
___Train Local_ResNet_18,  epoch 262, local model 19, internal_epoch   2,  Average loss: 0.0019, Accuracy: 167/173 (96.5318%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 5.1485, Accuracy: 3498/10000 (34.9800%)
___Train Local_ResNet_18,  epoch 262, local model 53, internal_epoch   1,  Average loss: 0.0027, Accuracy: 593/625 (94.8800%)
___Train Local_ResNet_18,  epoch 262, local model 53, internal_epoch   2,  Average loss: 0.0019, Accuracy: 604/625 (96.6400%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 3.5885, Accuracy: 3585/10000 (35.8500%)
time spent on training: 49.32572817802429
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [284, 569, 365, 461, 436, 367, 520, 513, 173, 625]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         1.         0.48402881 0.         0.09977711
 0.53573968 0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 262: Average loss: 0.6388, Accuracy: 7889/10000 (78.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 262: Average loss: 6.4795, Accuracy: 308/9000 (3.4222%)
Done in 84.17056226730347 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:263 choose agents : [33, 50, 21, 14, 79, 18, 71, 99, 97, 72]. Adversary List: []
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 263, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 493/527 (93.5484%)
___Train Local_ResNet_18,  epoch 263, local model 33, internal_epoch   2,  Average loss: 0.0095, Accuracy: 449/527 (85.1992%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 3.2181, Accuracy: 4155/10000 (41.5500%)
___Train Local_ResNet_18,  epoch 263, local model 50, internal_epoch   1,  Average loss: 0.0021, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 263, local model 50, internal_epoch   2,  Average loss: 0.0008, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 2.3173, Accuracy: 5011/10000 (50.1100%)
___Train Local_ResNet_18,  epoch 263, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 247/262 (94.2748%)
___Train Local_ResNet_18,  epoch 263, local model 21, internal_epoch   2,  Average loss: 0.0038, Accuracy: 254/262 (96.9466%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 4.8168, Accuracy: 3098/10000 (30.9800%)
___Train Local_ResNet_18,  epoch 263, local model 14, internal_epoch   1,  Average loss: 0.0071, Accuracy: 276/318 (86.7925%)
___Train Local_ResNet_18,  epoch 263, local model 14, internal_epoch   2,  Average loss: 0.0015, Accuracy: 307/318 (96.5409%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 11.8285, Accuracy: 1746/10000 (17.4600%)
___Train Local_ResNet_18,  epoch 263, local model 79, internal_epoch   1,  Average loss: 0.0052, Accuracy: 141/154 (91.5584%)
___Train Local_ResNet_18,  epoch 263, local model 79, internal_epoch   2,  Average loss: 0.0004, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 1.0046, Accuracy: 7009/10000 (70.0900%)
___Train Local_ResNet_18,  epoch 263, local model 18, internal_epoch   1,  Average loss: 0.0059, Accuracy: 368/386 (95.3368%)
___Train Local_ResNet_18,  epoch 263, local model 18, internal_epoch   2,  Average loss: 0.0107, Accuracy: 326/386 (84.4560%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 11.6404, Accuracy: 1174/10000 (11.7400%)
___Train Local_ResNet_18,  epoch 263, local model 71, internal_epoch   1,  Average loss: 0.0040, Accuracy: 1076/1166 (92.2813%)
___Train Local_ResNet_18,  epoch 263, local model 71, internal_epoch   2,  Average loss: 0.0079, Accuracy: 995/1166 (85.3345%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 37.7613, Accuracy: 1043/10000 (10.4300%)
___Train Local_ResNet_18,  epoch 263, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 361/391 (92.3274%)
___Train Local_ResNet_18,  epoch 263, local model 99, internal_epoch   2,  Average loss: 0.0017, Accuracy: 382/391 (97.6982%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 4.1478, Accuracy: 3063/10000 (30.6300%)
___Train Local_ResNet_18,  epoch 263, local model 97, internal_epoch   1,  Average loss: 0.0029, Accuracy: 390/418 (93.3014%)
___Train Local_ResNet_18,  epoch 263, local model 97, internal_epoch   2,  Average loss: 0.0020, Accuracy: 404/418 (96.6507%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 2.5848, Accuracy: 4745/10000 (47.4500%)
___Train Local_ResNet_18,  epoch 263, local model 72, internal_epoch   1,  Average loss: 0.0103, Accuracy: 500/618 (80.9061%)
___Train Local_ResNet_18,  epoch 263, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 555/618 (89.8058%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 33.8537, Accuracy: 1142/10000 (11.4200%)
time spent on training: 57.26960611343384
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11355311355311355  data num: [527, 401, 262, 318, 154, 386, 1166, 391, 418, 618]
[foolsgold agg] considering poison per batch poison_fraction: 0.008871336996336996
[foolsgold agg] wv: [1.         0.         0.13755965 1.         1.         1.
 0.50205199 0.05683508 0.         0.05683508]
___Test Target_ResNet_18 poisoned: False, epoch: 263: Average loss: 0.6392, Accuracy: 7889/10000 (78.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 263: Average loss: 6.4986, Accuracy: 307/9000 (3.4111%)
Done in 102.35352540016174 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:264 choose agents : [42, 71, 89, 16, 50, 15, 3, 85, 25, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 264, local model 42, internal_epoch   1,  Average loss: 0.0040, Accuracy: 183/198 (92.4242%)
___Train Local_ResNet_18,  epoch 264, local model 42, internal_epoch   2,  Average loss: 0.0014, Accuracy: 197/198 (99.4949%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 2.4602, Accuracy: 4491/10000 (44.9100%)
___Train Local_ResNet_18,  epoch 264, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 1085/1166 (93.0532%)
___Train Local_ResNet_18,  epoch 264, local model 71, internal_epoch   2,  Average loss: 0.0075, Accuracy: 1002/1166 (85.9348%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 4.9684, Accuracy: 3431/10000 (34.3100%)
___Train Local_ResNet_18,  epoch 264, local model 89, internal_epoch   1,  Average loss: 0.0070, Accuracy: 359/413 (86.9249%)
___Train Local_ResNet_18,  epoch 264, local model 89, internal_epoch   2,  Average loss: 0.0033, Accuracy: 391/413 (94.6731%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 4.0763, Accuracy: 3105/10000 (31.0500%)
___Train Local_ResNet_18,  epoch 264, local model 16, internal_epoch   1,  Average loss: 0.0034, Accuracy: 724/773 (93.6611%)
___Train Local_ResNet_18,  epoch 264, local model 16, internal_epoch   2,  Average loss: 0.0175, Accuracy: 599/773 (77.4903%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 51.4205, Accuracy: 1185/10000 (11.8500%)
___Train Local_ResNet_18,  epoch 264, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 388/401 (96.7581%)
___Train Local_ResNet_18,  epoch 264, local model 50, internal_epoch   2,  Average loss: 0.0007, Accuracy: 395/401 (98.5037%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 1.8325, Accuracy: 5546/10000 (55.4600%)
___Train Local_ResNet_18,  epoch 264, local model 15, internal_epoch   1,  Average loss: 0.0095, Accuracy: 289/341 (84.7507%)
___Train Local_ResNet_18,  epoch 264, local model 15, internal_epoch   2,  Average loss: 0.0071, Accuracy: 315/341 (92.3754%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 7.7289, Accuracy: 1887/10000 (18.8700%)
___Train Local_ResNet_18,  epoch 264, local model 3, internal_epoch   1,  Average loss: 0.0052, Accuracy: 700/780 (89.7436%)
___Train Local_ResNet_18,  epoch 264, local model 3, internal_epoch   2,  Average loss: 0.0113, Accuracy: 647/780 (82.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 10.8293, Accuracy: 2351/10000 (23.5100%)
___Train Local_ResNet_18,  epoch 264, local model 85, internal_epoch   1,  Average loss: 0.0061, Accuracy: 322/364 (88.4615%)
___Train Local_ResNet_18,  epoch 264, local model 85, internal_epoch   2,  Average loss: 0.0022, Accuracy: 349/364 (95.8791%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 4.4927, Accuracy: 2912/10000 (29.1200%)
___Train Local_ResNet_18,  epoch 264, local model 25, internal_epoch   1,  Average loss: 0.0034, Accuracy: 507/545 (93.0275%)
___Train Local_ResNet_18,  epoch 264, local model 25, internal_epoch   2,  Average loss: 0.0020, Accuracy: 522/545 (95.7798%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 3.5805, Accuracy: 4039/10000 (40.3900%)
___Train Local_ResNet_18,  epoch 264, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 721/756 (95.3704%)
___Train Local_ResNet_18,  epoch 264, local model 38, internal_epoch   2,  Average loss: 0.0031, Accuracy: 706/756 (93.3862%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 2.1420, Accuracy: 5022/10000 (50.2200%)
time spent on training: 48.86078214645386
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [198, 1166, 413, 773, 401, 341, 780, 364, 545, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.93533857 1.         0.93533857 0.         0.
 1.         1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 264: Average loss: 0.6389, Accuracy: 7890/10000 (78.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 264: Average loss: 6.5166, Accuracy: 306/9000 (3.4000%)
Done in 84.86883497238159 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:265 choose agents : [60, 76, 30, 77, 54, 52, 84, 88, 82, 96]. Adversary List: []
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   1,  Average loss: 0.0034, Accuracy: 267/284 (94.0141%)
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   2,  Average loss: 0.0006, Accuracy: 284/284 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.5591, Accuracy: 4614/10000 (46.1400%)
___Train Local_ResNet_18,  epoch 265, local model 76, internal_epoch   1,  Average loss: 0.0351, Accuracy: 62/65 (95.3846%)
___Train Local_ResNet_18,  epoch 265, local model 76, internal_epoch   2,  Average loss: 0.0055, Accuracy: 65/65 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.4381, Accuracy: 6110/10000 (61.1000%)
___Train Local_ResNet_18,  epoch 265, local model 30, internal_epoch   1,  Average loss: 0.0050, Accuracy: 318/337 (94.3620%)
___Train Local_ResNet_18,  epoch 265, local model 30, internal_epoch   2,  Average loss: 0.0039, Accuracy: 318/337 (94.3620%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.3012, Accuracy: 3509/10000 (35.0900%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 265, local model 77, internal_epoch   1,  Average loss: 0.0022, Accuracy: 481/496 (96.9758%)
___Train Local_ResNet_18,  epoch 265, local model 77, internal_epoch   2,  Average loss: 0.0009, Accuracy: 491/496 (98.9919%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.3433, Accuracy: 6107/10000 (61.0700%)
___Train Local_ResNet_18,  epoch 265, local model 54, internal_epoch   1,  Average loss: 0.0033, Accuracy: 413/440 (93.8636%)
___Train Local_ResNet_18,  epoch 265, local model 54, internal_epoch   2,  Average loss: 0.0014, Accuracy: 426/440 (96.8182%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.9947, Accuracy: 4343/10000 (43.4300%)
___Train Local_ResNet_18,  epoch 265, local model 52, internal_epoch   1,  Average loss: 0.0061, Accuracy: 187/214 (87.3832%)
___Train Local_ResNet_18,  epoch 265, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 213/214 (99.5327%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.5500, Accuracy: 3741/10000 (37.4100%)
___Train Local_ResNet_18,  epoch 265, local model 84, internal_epoch   1,  Average loss: 0.0021, Accuracy: 1009/1053 (95.8215%)
___Train Local_ResNet_18,  epoch 265, local model 84, internal_epoch   2,  Average loss: 0.0032, Accuracy: 986/1053 (93.6372%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 2.8594, Accuracy: 4675/10000 (46.7500%)
___Train Local_ResNet_18,  epoch 265, local model 88, internal_epoch   1,  Average loss: 0.0069, Accuracy: 381/447 (85.2349%)
___Train Local_ResNet_18,  epoch 265, local model 88, internal_epoch   2,  Average loss: 0.0030, Accuracy: 414/447 (92.6174%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.7614, Accuracy: 3447/10000 (34.4700%)
___Train Local_ResNet_18,  epoch 265, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 583/601 (97.0050%)
___Train Local_ResNet_18,  epoch 265, local model 82, internal_epoch   2,  Average loss: 0.0014, Accuracy: 586/601 (97.5042%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 1.9174, Accuracy: 5425/10000 (54.2500%)
___Train Local_ResNet_18,  epoch 265, local model 96, internal_epoch   1,  Average loss: 0.0030, Accuracy: 665/708 (93.9266%)
___Train Local_ResNet_18,  epoch 265, local model 96, internal_epoch   2,  Average loss: 0.0034, Accuracy: 671/708 (94.7740%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.6629, Accuracy: 3919/10000 (39.1900%)
time spent on training: 53.675570487976074
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10678148546824542  data num: [284, 65, 337, 496, 440, 214, 1053, 447, 601, 708]
[foolsgold agg] considering poison per batch poison_fraction: 0.008342303552206673
[foolsgold agg] wv: [0.         0.         0.         1.         1.         0.65066878
 0.65066878 0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 265: Average loss: 0.6396, Accuracy: 7899/10000 (78.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 265: Average loss: 6.5179, Accuracy: 302/9000 (3.3556%)
Done in 89.64121675491333 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:266 choose agents : [84, 78, 54, 95, 6, 36, 46, 81, 13, 55]. Adversary List: []
___Train Local_ResNet_18,  epoch 266, local model 84, internal_epoch   1,  Average loss: 0.0027, Accuracy: 1002/1053 (95.1567%)
___Train Local_ResNet_18,  epoch 266, local model 84, internal_epoch   2,  Average loss: 0.0045, Accuracy: 956/1053 (90.7882%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.6859, Accuracy: 4584/10000 (45.8400%)
___Train Local_ResNet_18,  epoch 266, local model 78, internal_epoch   1,  Average loss: 0.0043, Accuracy: 230/255 (90.1961%)
___Train Local_ResNet_18,  epoch 266, local model 78, internal_epoch   2,  Average loss: 0.0006, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.3024, Accuracy: 4822/10000 (48.2200%)
___Train Local_ResNet_18,  epoch 266, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 266, local model 54, internal_epoch   2,  Average loss: 0.0010, Accuracy: 431/440 (97.9545%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.4004, Accuracy: 4028/10000 (40.2800%)
___Train Local_ResNet_18,  epoch 266, local model 95, internal_epoch   1,  Average loss: 0.0085, Accuracy: 468/569 (82.2496%)
___Train Local_ResNet_18,  epoch 266, local model 95, internal_epoch   2,  Average loss: 0.0060, Accuracy: 509/569 (89.4552%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 7.9012, Accuracy: 2147/10000 (21.4700%)
___Train Local_ResNet_18,  epoch 266, local model 6, internal_epoch   1,  Average loss: 0.0046, Accuracy: 478/520 (91.9231%)
___Train Local_ResNet_18,  epoch 266, local model 6, internal_epoch   2,  Average loss: 0.0130, Accuracy: 441/520 (84.8077%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.7644, Accuracy: 3010/10000 (30.1000%)
___Train Local_ResNet_18,  epoch 266, local model 36, internal_epoch   1,  Average loss: 0.0050, Accuracy: 772/849 (90.9305%)
___Train Local_ResNet_18,  epoch 266, local model 36, internal_epoch   2,  Average loss: 0.0121, Accuracy: 655/849 (77.1496%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 35.6901, Accuracy: 1021/10000 (10.2100%)
___Train Local_ResNet_18,  epoch 266, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 590/601 (98.1697%)
___Train Local_ResNet_18,  epoch 266, local model 46, internal_epoch   2,  Average loss: 0.0020, Accuracy: 580/601 (96.5058%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 1.8640, Accuracy: 5342/10000 (53.4200%)
___Train Local_ResNet_18,  epoch 266, local model 81, internal_epoch   1,  Average loss: 0.0064, Accuracy: 918/1034 (88.7814%)
___Train Local_ResNet_18,  epoch 266, local model 81, internal_epoch   2,  Average loss: 0.0128, Accuracy: 783/1034 (75.7253%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 22.5787, Accuracy: 1792/10000 (17.9200%)
___Train Local_ResNet_18,  epoch 266, local model 13, internal_epoch   1,  Average loss: 0.0050, Accuracy: 551/620 (88.8710%)
___Train Local_ResNet_18,  epoch 266, local model 13, internal_epoch   2,  Average loss: 0.0036, Accuracy: 580/620 (93.5484%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 3.7252, Accuracy: 3686/10000 (36.8600%)
___Train Local_ResNet_18,  epoch 266, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 266, local model 55, internal_epoch   2,  Average loss: 0.0004, Accuracy: 299/299 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 8.9198, Accuracy: 1978/10000 (19.7800%)
time spent on training: 50.892765045166016
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1053, 255, 440, 569, 520, 849, 601, 1034, 620, 299]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.65789446 1.         1.         1.
 1.         1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 266: Average loss: 0.6397, Accuracy: 7897/10000 (78.9700%)
___Test Target_ResNet_18 poisoned: True, epoch: 266: Average loss: 6.5404, Accuracy: 301/9000 (3.3444%)
Done in 87.77930974960327 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:267 choose agents : [67, 80, 33, 13, 16, 30, 47, 50, 87, 61]. Adversary List: []
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   1,  Average loss: 0.0033, Accuracy: 794/842 (94.2993%)
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   2,  Average loss: 0.0136, Accuracy: 662/842 (78.6223%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 54.3446, Accuracy: 1233/10000 (12.3300%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   1,  Average loss: 0.0053, Accuracy: 322/363 (88.7052%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.8196, Accuracy: 3492/10000 (34.9200%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 267, local model 33, internal_epoch   1,  Average loss: 0.0047, Accuracy: 488/527 (92.5996%)
___Train Local_ResNet_18,  epoch 267, local model 33, internal_epoch   2,  Average loss: 0.0034, Accuracy: 489/527 (92.7894%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.3824, Accuracy: 3068/10000 (30.6800%)
___Train Local_ResNet_18,  epoch 267, local model 13, internal_epoch   1,  Average loss: 0.0065, Accuracy: 544/620 (87.7419%)
___Train Local_ResNet_18,  epoch 267, local model 13, internal_epoch   2,  Average loss: 0.0039, Accuracy: 571/620 (92.0968%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.8166, Accuracy: 3384/10000 (33.8400%)
___Train Local_ResNet_18,  epoch 267, local model 16, internal_epoch   1,  Average loss: 0.0030, Accuracy: 730/773 (94.4373%)
___Train Local_ResNet_18,  epoch 267, local model 16, internal_epoch   2,  Average loss: 0.0079, Accuracy: 682/773 (88.2277%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 6.6584, Accuracy: 2462/10000 (24.6200%)
___Train Local_ResNet_18,  epoch 267, local model 30, internal_epoch   1,  Average loss: 0.0048, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 267, local model 30, internal_epoch   2,  Average loss: 0.0021, Accuracy: 329/337 (97.6261%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 3.0736, Accuracy: 3671/10000 (36.7100%)
___Train Local_ResNet_18,  epoch 267, local model 47, internal_epoch   1,  Average loss: 0.0030, Accuracy: 621/654 (94.9541%)
___Train Local_ResNet_18,  epoch 267, local model 47, internal_epoch   2,  Average loss: 0.0035, Accuracy: 615/654 (94.0367%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 1.7197, Accuracy: 5482/10000 (54.8200%)
___Train Local_ResNet_18,  epoch 267, local model 50, internal_epoch   1,  Average loss: 0.0024, Accuracy: 385/401 (96.0100%)
___Train Local_ResNet_18,  epoch 267, local model 50, internal_epoch   2,  Average loss: 0.0021, Accuracy: 388/401 (96.7581%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 1.8608, Accuracy: 5330/10000 (53.3000%)
___Train Local_ResNet_18,  epoch 267, local model 87, internal_epoch   1,  Average loss: 0.0085, Accuracy: 341/397 (85.8942%)
___Train Local_ResNet_18,  epoch 267, local model 87, internal_epoch   2,  Average loss: 0.0082, Accuracy: 356/397 (89.6725%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 3.8622, Accuracy: 3137/10000 (31.3700%)
___Train Local_ResNet_18,  epoch 267, local model 61, internal_epoch   1,  Average loss: 0.0037, Accuracy: 552/590 (93.5593%)
___Train Local_ResNet_18,  epoch 267, local model 61, internal_epoch   2,  Average loss: 0.0052, Accuracy: 545/590 (92.3729%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.7134, Accuracy: 2949/10000 (29.4900%)
time spent on training: 55.07788324356079
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09574854651162791  data num: [842, 363, 527, 620, 773, 337, 654, 401, 397, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.00748035519622093
[foolsgold agg] wv: [0.42928425 0.         1.         0.         1.         0.73597938
 0.         1.         0.73597938 0.42928425]
___Test Target_ResNet_18 poisoned: False, epoch: 267: Average loss: 0.6389, Accuracy: 7897/10000 (78.9700%)
___Test Target_ResNet_18 poisoned: True, epoch: 267: Average loss: 6.5306, Accuracy: 303/9000 (3.3667%)
Done in 90.43248176574707 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:268 choose agents : [42, 8, 37, 58, 30, 34, 82, 0, 53, 74]. Adversary List: []
___Train Local_ResNet_18,  epoch 268, local model 42, internal_epoch   1,  Average loss: 0.0053, Accuracy: 185/198 (93.4343%)
___Train Local_ResNet_18,  epoch 268, local model 42, internal_epoch   2,  Average loss: 0.0160, Accuracy: 186/198 (93.9394%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 4.8096, Accuracy: 3244/10000 (32.4400%)
___Train Local_ResNet_18,  epoch 268, local model 8, internal_epoch   1,  Average loss: 0.0027, Accuracy: 511/534 (95.6929%)
___Train Local_ResNet_18,  epoch 268, local model 8, internal_epoch   2,  Average loss: 0.0014, Accuracy: 519/534 (97.1910%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.1607, Accuracy: 4757/10000 (47.5700%)
___Train Local_ResNet_18,  epoch 268, local model 37, internal_epoch   1,  Average loss: 0.0069, Accuracy: 628/725 (86.6207%)
___Train Local_ResNet_18,  epoch 268, local model 37, internal_epoch   2,  Average loss: 0.0114, Accuracy: 579/725 (79.8621%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 7.0491, Accuracy: 2440/10000 (24.4000%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   1,  Average loss: 0.0084, Accuracy: 194/234 (82.9060%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   2,  Average loss: 0.0005, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.1639, Accuracy: 2162/10000 (21.6200%)
___Train Local_ResNet_18,  epoch 268, local model 30, internal_epoch   1,  Average loss: 0.0046, Accuracy: 309/337 (91.6914%)
___Train Local_ResNet_18,  epoch 268, local model 30, internal_epoch   2,  Average loss: 0.0040, Accuracy: 325/337 (96.4392%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.2889, Accuracy: 3618/10000 (36.1800%)
___Train Local_ResNet_18,  epoch 268, local model 34, internal_epoch   1,  Average loss: 0.0046, Accuracy: 316/349 (90.5444%)
___Train Local_ResNet_18,  epoch 268, local model 34, internal_epoch   2,  Average loss: 0.0018, Accuracy: 342/349 (97.9943%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.9309, Accuracy: 3813/10000 (38.1300%)
___Train Local_ResNet_18,  epoch 268, local model 82, internal_epoch   1,  Average loss: 0.0017, Accuracy: 582/601 (96.8386%)
___Train Local_ResNet_18,  epoch 268, local model 82, internal_epoch   2,  Average loss: 0.0012, Accuracy: 586/601 (97.5042%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 1.8715, Accuracy: 5533/10000 (55.3300%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   1,  Average loss: 0.0051, Accuracy: 325/367 (88.5559%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   2,  Average loss: 0.0016, Accuracy: 358/367 (97.5477%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 6.5107, Accuracy: 2227/10000 (22.2700%)
___Train Local_ResNet_18,  epoch 268, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 576/625 (92.1600%)
___Train Local_ResNet_18,  epoch 268, local model 53, internal_epoch   2,  Average loss: 0.0037, Accuracy: 578/625 (92.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.2945, Accuracy: 4788/10000 (47.8800%)
___Train Local_ResNet_18,  epoch 268, local model 74, internal_epoch   1,  Average loss: 0.0045, Accuracy: 428/469 (91.2580%)
___Train Local_ResNet_18,  epoch 268, local model 74, internal_epoch   2,  Average loss: 0.0020, Accuracy: 455/469 (97.0149%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.6531, Accuracy: 4426/10000 (44.2600%)
time spent on training: 48.76869606971741
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [198, 534, 725, 234, 337, 349, 601, 367, 625, 469]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         0.9322175  0.33714037 0.88966488
 1.         0.7403168  1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 268: Average loss: 0.6385, Accuracy: 7890/10000 (78.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 268: Average loss: 6.5081, Accuracy: 308/9000 (3.4222%)
Done in 89.06965708732605 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:269 choose agents : [63, 59, 29, 16, 50, 97, 34, 65, 4, 86]. Adversary List: []
___Train Local_ResNet_18,  epoch 269, local model 63, internal_epoch   1,  Average loss: 0.0018, Accuracy: 727/752 (96.6755%)
___Train Local_ResNet_18,  epoch 269, local model 63, internal_epoch   2,  Average loss: 0.0013, Accuracy: 734/752 (97.6064%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 1.3678, Accuracy: 6204/10000 (62.0400%)
___Train Local_ResNet_18,  epoch 269, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 608/642 (94.7040%)
___Train Local_ResNet_18,  epoch 269, local model 59, internal_epoch   2,  Average loss: 0.0125, Accuracy: 524/642 (81.6199%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 21.6649, Accuracy: 1480/10000 (14.8000%)
___Train Local_ResNet_18,  epoch 269, local model 29, internal_epoch   1,  Average loss: 0.0052, Accuracy: 773/848 (91.1557%)
___Train Local_ResNet_18,  epoch 269, local model 29, internal_epoch   2,  Average loss: 0.0086, Accuracy: 720/848 (84.9057%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 13.5751, Accuracy: 2293/10000 (22.9300%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   1,  Average loss: 0.0040, Accuracy: 731/773 (94.5666%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   2,  Average loss: 0.0199, Accuracy: 498/773 (64.4243%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 30.7109, Accuracy: 1143/10000 (11.4300%)
___Train Local_ResNet_18,  epoch 269, local model 50, internal_epoch   1,  Average loss: 0.0023, Accuracy: 390/401 (97.2569%)
___Train Local_ResNet_18,  epoch 269, local model 50, internal_epoch   2,  Average loss: 0.0027, Accuracy: 386/401 (96.2594%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.5616, Accuracy: 4763/10000 (47.6300%)
___Train Local_ResNet_18,  epoch 269, local model 97, internal_epoch   1,  Average loss: 0.0028, Accuracy: 391/418 (93.5407%)
___Train Local_ResNet_18,  epoch 269, local model 97, internal_epoch   2,  Average loss: 0.0014, Accuracy: 408/418 (97.6077%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.3047, Accuracy: 4881/10000 (48.8100%)
___Train Local_ResNet_18,  epoch 269, local model 34, internal_epoch   1,  Average loss: 0.0050, Accuracy: 313/349 (89.6848%)
___Train Local_ResNet_18,  epoch 269, local model 34, internal_epoch   2,  Average loss: 0.0013, Accuracy: 340/349 (97.4212%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 3.6737, Accuracy: 3796/10000 (37.9600%)
___Train Local_ResNet_18,  epoch 269, local model 65, internal_epoch   1,  Average loss: 0.0034, Accuracy: 295/314 (93.9490%)
___Train Local_ResNet_18,  epoch 269, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 312/314 (99.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.3184, Accuracy: 4619/10000 (46.1900%)
___Train Local_ResNet_18,  epoch 269, local model 4, internal_epoch   1,  Average loss: 0.0045, Accuracy: 499/557 (89.5871%)
___Train Local_ResNet_18,  epoch 269, local model 4, internal_epoch   2,  Average loss: 0.0029, Accuracy: 522/557 (93.7163%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.8643, Accuracy: 4678/10000 (46.7800%)
___Train Local_ResNet_18,  epoch 269, local model 86, internal_epoch   1,  Average loss: 0.0041, Accuracy: 200/212 (94.3396%)
___Train Local_ResNet_18,  epoch 269, local model 86, internal_epoch   2,  Average loss: 0.0023, Accuracy: 204/212 (96.2264%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 1.9726, Accuracy: 5417/10000 (54.1700%)
time spent on training: 49.764679193496704
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [752, 642, 848, 773, 401, 418, 349, 314, 557, 212]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.47326618 1.         1.         0.         0.
 0.47326618 1.         0.72006352 0.72006352]
___Test Target_ResNet_18 poisoned: False, epoch: 269: Average loss: 0.6383, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 269: Average loss: 6.5372, Accuracy: 307/9000 (3.4111%)
Done in 92.14431810379028 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:270 choose agents : [12, 45, 87, 95, 26, 42, 46, 88, 92, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 270, local model 12, internal_epoch   1,  Average loss: 0.0066, Accuracy: 860/977 (88.0246%)
___Train Local_ResNet_18,  epoch 270, local model 12, internal_epoch   2,  Average loss: 0.0096, Accuracy: 789/977 (80.7574%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 13.7625, Accuracy: 1503/10000 (15.0300%)
___Train Local_ResNet_18,  epoch 270, local model 45, internal_epoch   1,  Average loss: 0.0049, Accuracy: 478/529 (90.3592%)
___Train Local_ResNet_18,  epoch 270, local model 45, internal_epoch   2,  Average loss: 0.0039, Accuracy: 490/529 (92.6276%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 5.6860, Accuracy: 2556/10000 (25.5600%)
___Train Local_ResNet_18,  epoch 270, local model 87, internal_epoch   1,  Average loss: 0.0089, Accuracy: 335/397 (84.3829%)
___Train Local_ResNet_18,  epoch 270, local model 87, internal_epoch   2,  Average loss: 0.0044, Accuracy: 367/397 (92.4433%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.1462, Accuracy: 3651/10000 (36.5100%)
___Train Local_ResNet_18,  epoch 270, local model 95, internal_epoch   1,  Average loss: 0.0076, Accuracy: 483/569 (84.8858%)
___Train Local_ResNet_18,  epoch 270, local model 95, internal_epoch   2,  Average loss: 0.0052, Accuracy: 522/569 (91.7399%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 5.3183, Accuracy: 2868/10000 (28.6800%)
___Train Local_ResNet_18,  epoch 270, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 437/468 (93.3761%)
___Train Local_ResNet_18,  epoch 270, local model 26, internal_epoch   2,  Average loss: 0.0039, Accuracy: 445/468 (95.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 6.0771, Accuracy: 2451/10000 (24.5100%)
___Train Local_ResNet_18,  epoch 270, local model 42, internal_epoch   1,  Average loss: 0.0060, Accuracy: 181/198 (91.4141%)
___Train Local_ResNet_18,  epoch 270, local model 42, internal_epoch   2,  Average loss: 0.0022, Accuracy: 193/198 (97.4747%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 9.0151, Accuracy: 3075/10000 (30.7500%)
___Train Local_ResNet_18,  epoch 270, local model 46, internal_epoch   1,  Average loss: 0.0011, Accuracy: 595/601 (99.0017%)
___Train Local_ResNet_18,  epoch 270, local model 46, internal_epoch   2,  Average loss: 0.0003, Accuracy: 600/601 (99.8336%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 1.3522, Accuracy: 6120/10000 (61.2000%)
___Train Local_ResNet_18,  epoch 270, local model 88, internal_epoch   1,  Average loss: 0.0069, Accuracy: 385/447 (86.1298%)
___Train Local_ResNet_18,  epoch 270, local model 88, internal_epoch   2,  Average loss: 0.0031, Accuracy: 415/447 (92.8412%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 4.0225, Accuracy: 3395/10000 (33.9500%)
___Train Local_ResNet_18,  epoch 270, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 734/796 (92.2111%)
___Train Local_ResNet_18,  epoch 270, local model 92, internal_epoch   2,  Average loss: 0.0097, Accuracy: 666/796 (83.6683%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 15.6557, Accuracy: 1694/10000 (16.9400%)
___Train Local_ResNet_18,  epoch 270, local model 38, internal_epoch   1,  Average loss: 0.0025, Accuracy: 713/756 (94.3122%)
___Train Local_ResNet_18,  epoch 270, local model 38, internal_epoch   2,  Average loss: 0.0028, Accuracy: 716/756 (94.7090%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 3.4413, Accuracy: 4210/10000 (42.1000%)
time spent on training: 49.66311526298523
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [977, 529, 397, 569, 468, 198, 601, 447, 796, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.75136172 0.         1.         0.         1.
 1.         1.         0.75136172 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 270: Average loss: 0.6366, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 270: Average loss: 6.4999, Accuracy: 313/9000 (3.4778%)
Done in 86.69716715812683 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:271 choose agents : [53, 41, 66, 33, 0, 84, 78, 6, 8, 67]. Adversary List: []
___Train Local_ResNet_18,  epoch 271, local model 53, internal_epoch   1,  Average loss: 0.0035, Accuracy: 578/625 (92.4800%)
___Train Local_ResNet_18,  epoch 271, local model 53, internal_epoch   2,  Average loss: 0.0028, Accuracy: 599/625 (95.8400%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.7367, Accuracy: 4396/10000 (43.9600%)
___Train Local_ResNet_18,  epoch 271, local model 41, internal_epoch   1,  Average loss: 0.0203, Accuracy: 432/513 (84.2105%)
___Train Local_ResNet_18,  epoch 271, local model 41, internal_epoch   2,  Average loss: 0.0126, Accuracy: 405/513 (78.9474%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 10.0302, Accuracy: 2766/10000 (27.6600%)
___Train Local_ResNet_18,  epoch 271, local model 66, internal_epoch   1,  Average loss: 0.0026, Accuracy: 528/555 (95.1351%)
___Train Local_ResNet_18,  epoch 271, local model 66, internal_epoch   2,  Average loss: 0.0008, Accuracy: 546/555 (98.3784%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.3156, Accuracy: 4073/10000 (40.7300%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 271, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 491/527 (93.1689%)
___Train Local_ResNet_18,  epoch 271, local model 33, internal_epoch   2,  Average loss: 0.0075, Accuracy: 465/527 (88.2353%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 7.2925, Accuracy: 2733/10000 (27.3300%)
___Train Local_ResNet_18,  epoch 271, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 327/367 (89.1008%)
___Train Local_ResNet_18,  epoch 271, local model 0, internal_epoch   2,  Average loss: 0.0016, Accuracy: 357/367 (97.2752%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 5.1168, Accuracy: 2645/10000 (26.4500%)
___Train Local_ResNet_18,  epoch 271, local model 84, internal_epoch   1,  Average loss: 0.0021, Accuracy: 1014/1053 (96.2963%)
___Train Local_ResNet_18,  epoch 271, local model 84, internal_epoch   2,  Average loss: 0.0034, Accuracy: 981/1053 (93.1624%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 3.4247, Accuracy: 4201/10000 (42.0100%)
___Train Local_ResNet_18,  epoch 271, local model 78, internal_epoch   1,  Average loss: 0.0048, Accuracy: 226/255 (88.6275%)
___Train Local_ResNet_18,  epoch 271, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 254/255 (99.6078%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.9229, Accuracy: 4373/10000 (43.7300%)
___Train Local_ResNet_18,  epoch 271, local model 6, internal_epoch   1,  Average loss: 0.0026, Accuracy: 494/520 (95.0000%)
___Train Local_ResNet_18,  epoch 271, local model 6, internal_epoch   2,  Average loss: 0.0033, Accuracy: 494/520 (95.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.8704, Accuracy: 3835/10000 (38.3500%)
___Train Local_ResNet_18,  epoch 271, local model 8, internal_epoch   1,  Average loss: 0.0026, Accuracy: 501/534 (93.8202%)
___Train Local_ResNet_18,  epoch 271, local model 8, internal_epoch   2,  Average loss: 0.0027, Accuracy: 516/534 (96.6292%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.1895, Accuracy: 4700/10000 (47.0000%)
___Train Local_ResNet_18,  epoch 271, local model 67, internal_epoch   1,  Average loss: 0.0037, Accuracy: 788/842 (93.5867%)
___Train Local_ResNet_18,  epoch 271, local model 67, internal_epoch   2,  Average loss: 0.0141, Accuracy: 653/842 (77.5534%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 25.7822, Accuracy: 1398/10000 (13.9800%)
time spent on training: 55.277092933654785
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09100328095320324  data num: [625, 513, 555, 527, 367, 1053, 255, 520, 534, 842]
[foolsgold agg] considering poison per batch poison_fraction: 0.007109631324469004
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.73672961
 0.73672961 0.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 271: Average loss: 0.6370, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 271: Average loss: 6.5209, Accuracy: 312/9000 (3.4667%)
Done in 92.56652903556824 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:272 choose agents : [70, 2, 35, 42, 1, 56, 66, 71, 57, 80]. Adversary List: []
___Train Local_ResNet_18,  epoch 272, local model 70, internal_epoch   1,  Average loss: 0.0029, Accuracy: 582/610 (95.4098%)
___Train Local_ResNet_18,  epoch 272, local model 70, internal_epoch   2,  Average loss: 0.0024, Accuracy: 584/610 (95.7377%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.8673, Accuracy: 5172/10000 (51.7200%)
___Train Local_ResNet_18,  epoch 272, local model 2, internal_epoch   1,  Average loss: 0.0070, Accuracy: 405/461 (87.8525%)
___Train Local_ResNet_18,  epoch 272, local model 2, internal_epoch   2,  Average loss: 0.0114, Accuracy: 389/461 (84.3818%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.3222, Accuracy: 3013/10000 (30.1300%)
___Train Local_ResNet_18,  epoch 272, local model 35, internal_epoch   1,  Average loss: 0.0055, Accuracy: 369/419 (88.0668%)
___Train Local_ResNet_18,  epoch 272, local model 35, internal_epoch   2,  Average loss: 0.0021, Accuracy: 406/419 (96.8974%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.9528, Accuracy: 3943/10000 (39.4300%)
___Train Local_ResNet_18,  epoch 272, local model 42, internal_epoch   1,  Average loss: 0.0178, Accuracy: 180/198 (90.9091%)
___Train Local_ResNet_18,  epoch 272, local model 42, internal_epoch   2,  Average loss: 0.0053, Accuracy: 183/198 (92.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 7.6752, Accuracy: 1947/10000 (19.4700%)
___Train Local_ResNet_18,  epoch 272, local model 1, internal_epoch   1,  Average loss: 0.0048, Accuracy: 607/641 (94.6958%)
___Train Local_ResNet_18,  epoch 272, local model 1, internal_epoch   2,  Average loss: 0.0122, Accuracy: 585/641 (91.2637%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.0761, Accuracy: 3496/10000 (34.9600%)
___Train Local_ResNet_18,  epoch 272, local model 56, internal_epoch   1,  Average loss: 0.0015, Accuracy: 728/743 (97.9812%)
___Train Local_ResNet_18,  epoch 272, local model 56, internal_epoch   2,  Average loss: 0.0010, Accuracy: 738/743 (99.3271%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.7532, Accuracy: 5658/10000 (56.5800%)
___Train Local_ResNet_18,  epoch 272, local model 66, internal_epoch   1,  Average loss: 0.0032, Accuracy: 518/555 (93.3333%)
___Train Local_ResNet_18,  epoch 272, local model 66, internal_epoch   2,  Average loss: 0.0010, Accuracy: 547/555 (98.5586%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.3546, Accuracy: 3636/10000 (36.3600%)
___Train Local_ResNet_18,  epoch 272, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 1085/1166 (93.0532%)
___Train Local_ResNet_18,  epoch 272, local model 71, internal_epoch   2,  Average loss: 0.0090, Accuracy: 970/1166 (83.1904%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 9.0328, Accuracy: 2201/10000 (22.0100%)
___Train Local_ResNet_18,  epoch 272, local model 57, internal_epoch   1,  Average loss: 0.0048, Accuracy: 263/290 (90.6897%)
___Train Local_ResNet_18,  epoch 272, local model 57, internal_epoch   2,  Average loss: 0.0007, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.9095, Accuracy: 4707/10000 (47.0700%)
___Train Local_ResNet_18,  epoch 272, local model 80, internal_epoch   1,  Average loss: 0.0050, Accuracy: 321/363 (88.4298%)
___Train Local_ResNet_18,  epoch 272, local model 80, internal_epoch   2,  Average loss: 0.0010, Accuracy: 358/363 (98.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 4.2581, Accuracy: 3676/10000 (36.7600%)
time spent on training: 50.75633907318115
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [610, 461, 419, 198, 641, 743, 555, 1166, 290, 363]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.70226487 0.63029287 0.57089619
 0.57089619 1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 272: Average loss: 0.6365, Accuracy: 7879/10000 (78.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 272: Average loss: 6.5144, Accuracy: 317/9000 (3.5222%)
Done in 85.2870569229126 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:273 choose agents : [17, 62, 81, 52, 9, 7, 60, 39, 47, 77]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 273, local model 17, internal_epoch   1,  Average loss: 0.0027, Accuracy: 504/526 (95.8175%)
___Train Local_ResNet_18,  epoch 273, local model 17, internal_epoch   2,  Average loss: 0.0054, Accuracy: 483/526 (91.8251%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 4.1119, Accuracy: 3428/10000 (34.2800%)
___Train Local_ResNet_18,  epoch 273, local model 62, internal_epoch   1,  Average loss: 0.0017, Accuracy: 346/358 (96.6480%)
___Train Local_ResNet_18,  epoch 273, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.0427, Accuracy: 6804/10000 (68.0400%)
___Train Local_ResNet_18,  epoch 273, local model 81, internal_epoch   1,  Average loss: 0.0052, Accuracy: 935/1034 (90.4255%)
___Train Local_ResNet_18,  epoch 273, local model 81, internal_epoch   2,  Average loss: 0.0094, Accuracy: 855/1034 (82.6886%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 12.8237, Accuracy: 2778/10000 (27.7800%)
___Train Local_ResNet_18,  epoch 273, local model 52, internal_epoch   1,  Average loss: 0.0056, Accuracy: 194/214 (90.6542%)
___Train Local_ResNet_18,  epoch 273, local model 52, internal_epoch   2,  Average loss: 0.0010, Accuracy: 210/214 (98.1308%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.9397, Accuracy: 4387/10000 (43.8700%)
___Train Local_ResNet_18,  epoch 273, local model 9, internal_epoch   1,  Average loss: 0.0036, Accuracy: 339/368 (92.1196%)
___Train Local_ResNet_18,  epoch 273, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 3.5630, Accuracy: 3544/10000 (35.4400%)
___Train Local_ResNet_18,  epoch 273, local model 7, internal_epoch   1,  Average loss: 0.0025, Accuracy: 337/352 (95.7386%)
___Train Local_ResNet_18,  epoch 273, local model 7, internal_epoch   2,  Average loss: 0.0007, Accuracy: 350/352 (99.4318%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.6169, Accuracy: 5580/10000 (55.8000%)
___Train Local_ResNet_18,  epoch 273, local model 60, internal_epoch   1,  Average loss: 0.0039, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 273, local model 60, internal_epoch   2,  Average loss: 0.0013, Accuracy: 283/284 (99.6479%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.4170, Accuracy: 4415/10000 (44.1500%)
___Train Local_ResNet_18,  epoch 273, local model 39, internal_epoch   1,  Average loss: 0.0048, Accuracy: 196/217 (90.3226%)
___Train Local_ResNet_18,  epoch 273, local model 39, internal_epoch   2,  Average loss: 0.0006, Accuracy: 216/217 (99.5392%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.2370, Accuracy: 4900/10000 (49.0000%)
___Train Local_ResNet_18,  epoch 273, local model 47, internal_epoch   1,  Average loss: 0.0034, Accuracy: 620/654 (94.8012%)
___Train Local_ResNet_18,  epoch 273, local model 47, internal_epoch   2,  Average loss: 0.0063, Accuracy: 584/654 (89.2966%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.8542, Accuracy: 4186/10000 (41.8600%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   1,  Average loss: 0.0024, Accuracy: 473/496 (95.3629%)
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 488/496 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.2804, Accuracy: 6152/10000 (61.5200%)
time spent on training: 63.48273777961731
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.22695980457472795  data num: [526, 358, 1034, 214, 368, 352, 284, 217, 654, 496]
[foolsgold agg] considering poison per batch poison_fraction: 0.01773123473240062
[foolsgold agg] wv: [0. 1. 1. 1. 1. 1. 0. 0. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 273: Average loss: 0.6370, Accuracy: 7881/10000 (78.8100%)
___Test Target_ResNet_18 poisoned: True, epoch: 273: Average loss: 6.5218, Accuracy: 313/9000 (3.4778%)
Done in 107.21688199043274 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:274 choose agents : [86, 75, 23, 20, 40, 58, 9, 59, 19, 79]. Adversary List: []
___Train Local_ResNet_18,  epoch 274, local model 86, internal_epoch   1,  Average loss: 0.0038, Accuracy: 202/212 (95.2830%)
___Train Local_ResNet_18,  epoch 274, local model 86, internal_epoch   2,  Average loss: 0.0013, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.1758, Accuracy: 6667/10000 (66.6700%)
___Train Local_ResNet_18,  epoch 274, local model 75, internal_epoch   1,  Average loss: 0.0079, Accuracy: 546/578 (94.4637%)
___Train Local_ResNet_18,  epoch 274, local model 75, internal_epoch   2,  Average loss: 0.0258, Accuracy: 344/578 (59.5156%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 320.3508, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 274, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 234/248 (94.3548%)
___Train Local_ResNet_18,  epoch 274, local model 23, internal_epoch   2,  Average loss: 0.0004, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.6162, Accuracy: 5468/10000 (54.6800%)
___Train Local_ResNet_18,  epoch 274, local model 20, internal_epoch   1,  Average loss: 0.0067, Accuracy: 315/362 (87.0166%)
___Train Local_ResNet_18,  epoch 274, local model 20, internal_epoch   2,  Average loss: 0.0018, Accuracy: 350/362 (96.6851%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 6.1973, Accuracy: 2818/10000 (28.1800%)
___Train Local_ResNet_18,  epoch 274, local model 40, internal_epoch   1,  Average loss: 0.0047, Accuracy: 598/652 (91.7178%)
___Train Local_ResNet_18,  epoch 274, local model 40, internal_epoch   2,  Average loss: 0.0107, Accuracy: 542/652 (83.1288%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 14.0652, Accuracy: 1785/10000 (17.8500%)
___Train Local_ResNet_18,  epoch 274, local model 58, internal_epoch   1,  Average loss: 0.0074, Accuracy: 200/234 (85.4701%)
___Train Local_ResNet_18,  epoch 274, local model 58, internal_epoch   2,  Average loss: 0.0008, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.6888, Accuracy: 2309/10000 (23.0900%)
___Train Local_ResNet_18,  epoch 274, local model 9, internal_epoch   1,  Average loss: 0.0037, Accuracy: 340/368 (92.3913%)
___Train Local_ResNet_18,  epoch 274, local model 9, internal_epoch   2,  Average loss: 0.0011, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 8.2514, Accuracy: 2021/10000 (20.2100%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   1,  Average loss: 0.0039, Accuracy: 611/642 (95.1713%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   2,  Average loss: 0.0133, Accuracy: 512/642 (79.7508%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 30.4125, Accuracy: 982/10000 (9.8200%)
___Train Local_ResNet_18,  epoch 274, local model 19, internal_epoch   1,  Average loss: 0.0127, Accuracy: 131/173 (75.7225%)
___Train Local_ResNet_18,  epoch 274, local model 19, internal_epoch   2,  Average loss: 0.0014, Accuracy: 169/173 (97.6879%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.7294, Accuracy: 3354/10000 (33.5400%)
___Train Local_ResNet_18,  epoch 274, local model 79, internal_epoch   1,  Average loss: 0.0060, Accuracy: 138/154 (89.6104%)
___Train Local_ResNet_18,  epoch 274, local model 79, internal_epoch   2,  Average loss: 0.0010, Accuracy: 152/154 (98.7013%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.1338, Accuracy: 6752/10000 (67.5200%)
time spent on training: 46.65086221694946
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [212, 578, 248, 362, 652, 234, 368, 642, 173, 154]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 0. 1. 1. 1. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 274: Average loss: 0.6365, Accuracy: 7877/10000 (78.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 274: Average loss: 6.5464, Accuracy: 314/9000 (3.4889%)
Done in 83.10576367378235 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:275 choose agents : [68, 60, 87, 9, 57, 40, 20, 39, 73, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 275, local model 68, internal_epoch   1,  Average loss: 0.0027, Accuracy: 399/416 (95.9135%)
___Train Local_ResNet_18,  epoch 275, local model 68, internal_epoch   2,  Average loss: 0.0010, Accuracy: 415/416 (99.7596%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 1.4307, Accuracy: 6179/10000 (61.7900%)
___Train Local_ResNet_18,  epoch 275, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 261/284 (91.9014%)
___Train Local_ResNet_18,  epoch 275, local model 60, internal_epoch   2,  Average loss: 0.0007, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.2722, Accuracy: 4647/10000 (46.4700%)
___Train Local_ResNet_18,  epoch 275, local model 87, internal_epoch   1,  Average loss: 0.0077, Accuracy: 338/397 (85.1385%)
___Train Local_ResNet_18,  epoch 275, local model 87, internal_epoch   2,  Average loss: 0.0047, Accuracy: 363/397 (91.4358%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.2976, Accuracy: 4618/10000 (46.1800%)
___Train Local_ResNet_18,  epoch 275, local model 9, internal_epoch   1,  Average loss: 0.0039, Accuracy: 338/368 (91.8478%)
___Train Local_ResNet_18,  epoch 275, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 360/368 (97.8261%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 3.2887, Accuracy: 3781/10000 (37.8100%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   1,  Average loss: 0.0051, Accuracy: 259/290 (89.3103%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   2,  Average loss: 0.0016, Accuracy: 284/290 (97.9310%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.7920, Accuracy: 4648/10000 (46.4800%)
___Train Local_ResNet_18,  epoch 275, local model 40, internal_epoch   1,  Average loss: 0.0053, Accuracy: 597/652 (91.5644%)
___Train Local_ResNet_18,  epoch 275, local model 40, internal_epoch   2,  Average loss: 0.0128, Accuracy: 536/652 (82.2086%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 21.8698, Accuracy: 1168/10000 (11.6800%)
___Train Local_ResNet_18,  epoch 275, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 319/362 (88.1215%)
___Train Local_ResNet_18,  epoch 275, local model 20, internal_epoch   2,  Average loss: 0.0022, Accuracy: 347/362 (95.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 4.5167, Accuracy: 3566/10000 (35.6600%)
___Train Local_ResNet_18,  epoch 275, local model 39, internal_epoch   1,  Average loss: 0.0057, Accuracy: 191/217 (88.0184%)
___Train Local_ResNet_18,  epoch 275, local model 39, internal_epoch   2,  Average loss: 0.0016, Accuracy: 214/217 (98.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.5594, Accuracy: 4352/10000 (43.5200%)
___Train Local_ResNet_18,  epoch 275, local model 73, internal_epoch   1,  Average loss: 0.0093, Accuracy: 418/500 (83.6000%)
___Train Local_ResNet_18,  epoch 275, local model 73, internal_epoch   2,  Average loss: 0.0036, Accuracy: 461/500 (92.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 3.0763, Accuracy: 3913/10000 (39.1300%)
___Train Local_ResNet_18,  epoch 275, local model 48, internal_epoch   1,  Average loss: 0.0048, Accuracy: 339/378 (89.6825%)
___Train Local_ResNet_18,  epoch 275, local model 48, internal_epoch   2,  Average loss: 0.0015, Accuracy: 368/378 (97.3545%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.5726, Accuracy: 4360/10000 (43.6000%)
time spent on training: 49.42098379135132
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [416, 284, 397, 368, 290, 652, 362, 217, 500, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.         1.         1.         0.
 0.75797169 0.         0.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 275: Average loss: 0.6365, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 275: Average loss: 6.5375, Accuracy: 312/9000 (3.4667%)
Done in 84.89159774780273 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:276 choose agents : [20, 11, 42, 73, 76, 87, 74, 85, 23, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 276, local model 20, internal_epoch   1,  Average loss: 0.0073, Accuracy: 315/362 (87.0166%)
___Train Local_ResNet_18,  epoch 276, local model 20, internal_epoch   2,  Average loss: 0.0022, Accuracy: 347/362 (95.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 4.3595, Accuracy: 3774/10000 (37.7400%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   1,  Average loss: 0.0026, Accuracy: 521/546 (95.4212%)
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   2,  Average loss: 0.0031, Accuracy: 512/546 (93.7729%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.3688, Accuracy: 4726/10000 (47.2600%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   1,  Average loss: 0.0061, Accuracy: 187/198 (94.4444%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   2,  Average loss: 0.0045, Accuracy: 183/198 (92.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 6.7950, Accuracy: 2315/10000 (23.1500%)
___Train Local_ResNet_18,  epoch 276, local model 73, internal_epoch   1,  Average loss: 0.0082, Accuracy: 425/500 (85.0000%)
___Train Local_ResNet_18,  epoch 276, local model 73, internal_epoch   2,  Average loss: 0.0041, Accuracy: 453/500 (90.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.1586, Accuracy: 4162/10000 (41.6200%)
___Train Local_ResNet_18,  epoch 276, local model 76, internal_epoch   1,  Average loss: 0.0327, Accuracy: 63/65 (96.9231%)
___Train Local_ResNet_18,  epoch 276, local model 76, internal_epoch   2,  Average loss: 0.0470, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 0.8319, Accuracy: 7378/10000 (73.7800%)
___Train Local_ResNet_18,  epoch 276, local model 87, internal_epoch   1,  Average loss: 0.0079, Accuracy: 348/397 (87.6574%)
___Train Local_ResNet_18,  epoch 276, local model 87, internal_epoch   2,  Average loss: 0.0077, Accuracy: 349/397 (87.9093%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 6.1586, Accuracy: 2126/10000 (21.2600%)
___Train Local_ResNet_18,  epoch 276, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 433/469 (92.3241%)
___Train Local_ResNet_18,  epoch 276, local model 74, internal_epoch   2,  Average loss: 0.0027, Accuracy: 450/469 (95.9488%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.3000, Accuracy: 4501/10000 (45.0100%)
___Train Local_ResNet_18,  epoch 276, local model 85, internal_epoch   1,  Average loss: 0.0062, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 276, local model 85, internal_epoch   2,  Average loss: 0.0026, Accuracy: 344/364 (94.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.4044, Accuracy: 3422/10000 (34.2200%)
___Train Local_ResNet_18,  epoch 276, local model 23, internal_epoch   1,  Average loss: 0.0039, Accuracy: 230/248 (92.7419%)
___Train Local_ResNet_18,  epoch 276, local model 23, internal_epoch   2,  Average loss: 0.0008, Accuracy: 246/248 (99.1935%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 1.8380, Accuracy: 5107/10000 (51.0700%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   1,  Average loss: 0.0050, Accuracy: 341/378 (90.2116%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   2,  Average loss: 0.0012, Accuracy: 370/378 (97.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.9759, Accuracy: 3883/10000 (38.8300%)
time spent on training: 55.14177751541138
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.15480578395236744  data num: [362, 546, 198, 500, 65, 397, 469, 364, 248, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.012094201871278706
[foolsgold agg] wv: [1.         1.         1.         0.         0.38415249 1.
 0.38415249 0.76634604 0.76634604 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 276: Average loss: 0.6367, Accuracy: 7889/10000 (78.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 276: Average loss: 6.5154, Accuracy: 314/9000 (3.4889%)
Done in 99.09079384803772 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:277 choose agents : [41, 48, 71, 70, 84, 28, 96, 77, 17, 87]. Adversary List: []
___Train Local_ResNet_18,  epoch 277, local model 41, internal_epoch   1,  Average loss: 0.0187, Accuracy: 441/513 (85.9649%)
___Train Local_ResNet_18,  epoch 277, local model 41, internal_epoch   2,  Average loss: 0.0135, Accuracy: 405/513 (78.9474%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 5.3250, Accuracy: 2345/10000 (23.4500%)
___Train Local_ResNet_18,  epoch 277, local model 48, internal_epoch   1,  Average loss: 0.0054, Accuracy: 335/378 (88.6243%)
___Train Local_ResNet_18,  epoch 277, local model 48, internal_epoch   2,  Average loss: 0.0019, Accuracy: 366/378 (96.8254%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 4.0792, Accuracy: 3064/10000 (30.6400%)
___Train Local_ResNet_18,  epoch 277, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 1083/1166 (92.8816%)
___Train Local_ResNet_18,  epoch 277, local model 71, internal_epoch   2,  Average loss: 0.0080, Accuracy: 976/1166 (83.7050%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 10.9501, Accuracy: 2088/10000 (20.8800%)
___Train Local_ResNet_18,  epoch 277, local model 70, internal_epoch   1,  Average loss: 0.0024, Accuracy: 583/610 (95.5738%)
___Train Local_ResNet_18,  epoch 277, local model 70, internal_epoch   2,  Average loss: 0.0017, Accuracy: 586/610 (96.0656%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.9851, Accuracy: 4088/10000 (40.8800%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   1,  Average loss: 0.0024, Accuracy: 1007/1053 (95.6315%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   2,  Average loss: 0.0025, Accuracy: 998/1053 (94.7768%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.6296, Accuracy: 4416/10000 (44.1600%)
___Train Local_ResNet_18,  epoch 277, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 407/423 (96.2175%)
___Train Local_ResNet_18,  epoch 277, local model 28, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/423 (98.5816%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.0354, Accuracy: 5439/10000 (54.3900%)
___Train Local_ResNet_18,  epoch 277, local model 96, internal_epoch   1,  Average loss: 0.0040, Accuracy: 672/708 (94.9153%)
___Train Local_ResNet_18,  epoch 277, local model 96, internal_epoch   2,  Average loss: 0.0208, Accuracy: 458/708 (64.6893%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 398.4403, Accuracy: 999/10000 (9.9900%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 277, local model 77, internal_epoch   1,  Average loss: 0.0025, Accuracy: 475/496 (95.7661%)
___Train Local_ResNet_18,  epoch 277, local model 77, internal_epoch   2,  Average loss: 0.0011, Accuracy: 488/496 (98.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 1.4822, Accuracy: 5885/10000 (58.8500%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 277, local model 17, internal_epoch   1,  Average loss: 0.0024, Accuracy: 506/526 (96.1977%)
___Train Local_ResNet_18,  epoch 277, local model 17, internal_epoch   2,  Average loss: 0.0032, Accuracy: 506/526 (96.1977%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 2.4105, Accuracy: 4833/10000 (48.3300%)
___Train Local_ResNet_18,  epoch 277, local model 87, internal_epoch   1,  Average loss: 0.0097, Accuracy: 330/397 (83.1234%)
___Train Local_ResNet_18,  epoch 277, local model 87, internal_epoch   2,  Average loss: 0.0106, Accuracy: 347/397 (87.4055%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 4.3810, Accuracy: 3134/10000 (31.3400%)
time spent on training: 63.15448570251465
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.16299840510366825  data num: [513, 378, 1166, 610, 1053, 423, 708, 496, 526, 397]
[foolsgold agg] considering poison per batch poison_fraction: 0.012734250398724082
[foolsgold agg] wv: [0.74351846 0.66404422 0.55463469 1.         0.55463469 1.
 1.         0.74351846 1.         0.66404422]
___Test Target_ResNet_18 poisoned: False, epoch: 277: Average loss: 0.6365, Accuracy: 7880/10000 (78.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 277: Average loss: 6.5351, Accuracy: 311/9000 (3.4556%)
Done in 100.66845846176147 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:278 choose agents : [70, 47, 40, 19, 26, 10, 32, 75, 93, 24]. Adversary List: []
___Train Local_ResNet_18,  epoch 278, local model 70, internal_epoch   1,  Average loss: 0.0028, Accuracy: 579/610 (94.9180%)
___Train Local_ResNet_18,  epoch 278, local model 70, internal_epoch   2,  Average loss: 0.0017, Accuracy: 587/610 (96.2295%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.4644, Accuracy: 4413/10000 (44.1300%)
___Train Local_ResNet_18,  epoch 278, local model 47, internal_epoch   1,  Average loss: 0.0023, Accuracy: 626/654 (95.7187%)
___Train Local_ResNet_18,  epoch 278, local model 47, internal_epoch   2,  Average loss: 0.0024, Accuracy: 628/654 (96.0245%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.1737, Accuracy: 5307/10000 (53.0700%)
___Train Local_ResNet_18,  epoch 278, local model 40, internal_epoch   1,  Average loss: 0.0057, Accuracy: 591/652 (90.6442%)
___Train Local_ResNet_18,  epoch 278, local model 40, internal_epoch   2,  Average loss: 0.0121, Accuracy: 541/652 (82.9755%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 9.1333, Accuracy: 2033/10000 (20.3300%)
___Train Local_ResNet_18,  epoch 278, local model 19, internal_epoch   1,  Average loss: 0.0136, Accuracy: 134/173 (77.4566%)
___Train Local_ResNet_18,  epoch 278, local model 19, internal_epoch   2,  Average loss: 0.0010, Accuracy: 173/173 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 6.1536, Accuracy: 3130/10000 (31.3000%)
___Train Local_ResNet_18,  epoch 278, local model 26, internal_epoch   1,  Average loss: 0.0036, Accuracy: 436/468 (93.1624%)
___Train Local_ResNet_18,  epoch 278, local model 26, internal_epoch   2,  Average loss: 0.0034, Accuracy: 435/468 (92.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 3.4931, Accuracy: 4459/10000 (44.5900%)
___Train Local_ResNet_18,  epoch 278, local model 10, internal_epoch   1,  Average loss: 0.0040, Accuracy: 693/752 (92.1543%)
___Train Local_ResNet_18,  epoch 278, local model 10, internal_epoch   2,  Average loss: 0.0025, Accuracy: 717/752 (95.3457%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 4.0950, Accuracy: 3780/10000 (37.8000%)
___Train Local_ResNet_18,  epoch 278, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 790/824 (95.8738%)
___Train Local_ResNet_18,  epoch 278, local model 32, internal_epoch   2,  Average loss: 0.0023, Accuracy: 784/824 (95.1456%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.9758, Accuracy: 4873/10000 (48.7300%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   1,  Average loss: 0.0035, Accuracy: 556/578 (96.1938%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   2,  Average loss: 0.0153, Accuracy: 463/578 (80.1038%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 8.9243, Accuracy: 2775/10000 (27.7500%)
___Train Local_ResNet_18,  epoch 278, local model 93, internal_epoch   1,  Average loss: 0.0021, Accuracy: 560/584 (95.8904%)
___Train Local_ResNet_18,  epoch 278, local model 93, internal_epoch   2,  Average loss: 0.0010, Accuracy: 577/584 (98.8014%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.5977, Accuracy: 5877/10000 (58.7700%)
___Train Local_ResNet_18,  epoch 278, local model 24, internal_epoch   1,  Average loss: 0.0033, Accuracy: 299/320 (93.4375%)
___Train Local_ResNet_18,  epoch 278, local model 24, internal_epoch   2,  Average loss: 0.0003, Accuracy: 319/320 (99.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 3.0183, Accuracy: 3983/10000 (39.8300%)
time spent on training: 46.698184967041016
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [610, 654, 652, 173, 468, 752, 824, 578, 584, 320]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.83146097 1.         0.23743573 1.         0.23743573 1.
 0.26812489 1.         1.         0.26812489]
___Test Target_ResNet_18 poisoned: False, epoch: 278: Average loss: 0.6375, Accuracy: 7883/10000 (78.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 278: Average loss: 6.5611, Accuracy: 308/9000 (3.4222%)
Done in 91.46008348464966 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:279 choose agents : [43, 60, 3, 89, 87, 20, 66, 54, 27, 90]. Adversary List: []
___Train Local_ResNet_18,  epoch 279, local model 43, internal_epoch   1,  Average loss: 0.0060, Accuracy: 310/345 (89.8551%)
___Train Local_ResNet_18,  epoch 279, local model 43, internal_epoch   2,  Average loss: 0.0025, Accuracy: 334/345 (96.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 4.3376, Accuracy: 3839/10000 (38.3900%)
___Train Local_ResNet_18,  epoch 279, local model 60, internal_epoch   1,  Average loss: 0.0037, Accuracy: 263/284 (92.6056%)
___Train Local_ResNet_18,  epoch 279, local model 60, internal_epoch   2,  Average loss: 0.0006, Accuracy: 282/284 (99.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.9956, Accuracy: 5082/10000 (50.8200%)
___Train Local_ResNet_18,  epoch 279, local model 3, internal_epoch   1,  Average loss: 0.0053, Accuracy: 713/780 (91.4103%)
___Train Local_ResNet_18,  epoch 279, local model 3, internal_epoch   2,  Average loss: 0.0141, Accuracy: 608/780 (77.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 15.2098, Accuracy: 2343/10000 (23.4300%)
___Train Local_ResNet_18,  epoch 279, local model 89, internal_epoch   1,  Average loss: 0.0077, Accuracy: 346/413 (83.7772%)
___Train Local_ResNet_18,  epoch 279, local model 89, internal_epoch   2,  Average loss: 0.0058, Accuracy: 375/413 (90.7990%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 5.6885, Accuracy: 2746/10000 (27.4600%)
___Train Local_ResNet_18,  epoch 279, local model 87, internal_epoch   1,  Average loss: 0.0091, Accuracy: 336/397 (84.6348%)
___Train Local_ResNet_18,  epoch 279, local model 87, internal_epoch   2,  Average loss: 0.0054, Accuracy: 360/397 (90.6801%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 2.5707, Accuracy: 4215/10000 (42.1500%)
___Train Local_ResNet_18,  epoch 279, local model 20, internal_epoch   1,  Average loss: 0.0067, Accuracy: 311/362 (85.9116%)
___Train Local_ResNet_18,  epoch 279, local model 20, internal_epoch   2,  Average loss: 0.0016, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 6.5143, Accuracy: 2801/10000 (28.0100%)
___Train Local_ResNet_18,  epoch 279, local model 66, internal_epoch   1,  Average loss: 0.0029, Accuracy: 528/555 (95.1351%)
___Train Local_ResNet_18,  epoch 279, local model 66, internal_epoch   2,  Average loss: 0.0010, Accuracy: 546/555 (98.3784%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.0121, Accuracy: 4314/10000 (43.1400%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   1,  Average loss: 0.0031, Accuracy: 411/440 (93.4091%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   2,  Average loss: 0.0008, Accuracy: 434/440 (98.6364%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.0172, Accuracy: 4523/10000 (45.2300%)
___Train Local_ResNet_18,  epoch 279, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 279, local model 27, internal_epoch   2,  Average loss: 0.0010, Accuracy: 391/397 (98.4887%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.9506, Accuracy: 5566/10000 (55.6600%)
___Train Local_ResNet_18,  epoch 279, local model 90, internal_epoch   1,  Average loss: 0.0050, Accuracy: 526/578 (91.0035%)
___Train Local_ResNet_18,  epoch 279, local model 90, internal_epoch   2,  Average loss: 0.0121, Accuracy: 543/578 (93.9446%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 17.9736, Accuracy: 1011/10000 (10.1100%)
time spent on training: 51.94030547142029
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [345, 284, 780, 413, 397, 362, 555, 440, 397, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.72975936 0.19642775 0.19642775 1.
 1.         0.72975936 0.74113059 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 279: Average loss: 0.6394, Accuracy: 7870/10000 (78.7000%)
___Test Target_ResNet_18 poisoned: True, epoch: 279: Average loss: 6.5587, Accuracy: 309/9000 (3.4333%)
Done in 86.73617696762085 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:280 choose agents : [37, 13, 78, 67, 65, 16, 82, 33, 3, 46]. Adversary List: []
___Train Local_ResNet_18,  epoch 280, local model 37, internal_epoch   1,  Average loss: 0.0059, Accuracy: 644/725 (88.8276%)
___Train Local_ResNet_18,  epoch 280, local model 37, internal_epoch   2,  Average loss: 0.0119, Accuracy: 596/725 (82.2069%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 4.5344, Accuracy: 2908/10000 (29.0800%)
___Train Local_ResNet_18,  epoch 280, local model 13, internal_epoch   1,  Average loss: 0.0057, Accuracy: 551/620 (88.8710%)
___Train Local_ResNet_18,  epoch 280, local model 13, internal_epoch   2,  Average loss: 0.0037, Accuracy: 572/620 (92.2581%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 4.9256, Accuracy: 2969/10000 (29.6900%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   1,  Average loss: 0.0043, Accuracy: 236/255 (92.5490%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   2,  Average loss: 0.0008, Accuracy: 253/255 (99.2157%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.3459, Accuracy: 5087/10000 (50.8700%)
___Train Local_ResNet_18,  epoch 280, local model 67, internal_epoch   1,  Average loss: 0.0028, Accuracy: 790/842 (93.8242%)
___Train Local_ResNet_18,  epoch 280, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 750/842 (89.0736%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 8.6200, Accuracy: 1921/10000 (19.2100%)
___Train Local_ResNet_18,  epoch 280, local model 65, internal_epoch   1,  Average loss: 0.0035, Accuracy: 294/314 (93.6306%)
___Train Local_ResNet_18,  epoch 280, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 314/314 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.7078, Accuracy: 3640/10000 (36.4000%)
___Train Local_ResNet_18,  epoch 280, local model 16, internal_epoch   1,  Average loss: 0.0033, Accuracy: 734/773 (94.9547%)
___Train Local_ResNet_18,  epoch 280, local model 16, internal_epoch   2,  Average loss: 0.0098, Accuracy: 645/773 (83.4411%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.3500, Accuracy: 3364/10000 (33.6400%)
___Train Local_ResNet_18,  epoch 280, local model 82, internal_epoch   1,  Average loss: 0.0019, Accuracy: 576/601 (95.8403%)
___Train Local_ResNet_18,  epoch 280, local model 82, internal_epoch   2,  Average loss: 0.0015, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.0243, Accuracy: 5170/10000 (51.7000%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 280, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 500/527 (94.8767%)
___Train Local_ResNet_18,  epoch 280, local model 33, internal_epoch   2,  Average loss: 0.0035, Accuracy: 505/527 (95.8254%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 2.8484, Accuracy: 4314/10000 (43.1400%)
___Train Local_ResNet_18,  epoch 280, local model 3, internal_epoch   1,  Average loss: 0.0070, Accuracy: 689/780 (88.3333%)
___Train Local_ResNet_18,  epoch 280, local model 3, internal_epoch   2,  Average loss: 0.0123, Accuracy: 615/780 (78.8462%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 8.9536, Accuracy: 1596/10000 (15.9600%)
___Train Local_ResNet_18,  epoch 280, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 591/601 (98.3361%)
___Train Local_ResNet_18,  epoch 280, local model 46, internal_epoch   2,  Average loss: 0.0008, Accuracy: 594/601 (98.8353%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 1.5083, Accuracy: 5923/10000 (59.2300%)
time spent on training: 56.034900188446045
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.08728055647565419  data num: [725, 620, 255, 842, 314, 773, 601, 527, 780, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.006818793474660484
[foolsgold agg] wv: [1.         0.         0.         1.         1.         1.
 0.90129747 1.         1.         0.90129747]
___Test Target_ResNet_18 poisoned: False, epoch: 280: Average loss: 0.6378, Accuracy: 7877/10000 (78.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 280: Average loss: 6.5265, Accuracy: 317/9000 (3.5222%)
Done in 97.84361577033997 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:281 choose agents : [35, 74, 98, 38, 82, 6, 15, 71, 65, 57]. Adversary List: []
___Train Local_ResNet_18,  epoch 281, local model 35, internal_epoch   1,  Average loss: 0.0064, Accuracy: 370/419 (88.3055%)
___Train Local_ResNet_18,  epoch 281, local model 35, internal_epoch   2,  Average loss: 0.0022, Accuracy: 396/419 (94.5107%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 4.0549, Accuracy: 2920/10000 (29.2000%)
___Train Local_ResNet_18,  epoch 281, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 441/469 (94.0299%)
___Train Local_ResNet_18,  epoch 281, local model 74, internal_epoch   2,  Average loss: 0.0020, Accuracy: 455/469 (97.0149%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 1.8035, Accuracy: 5206/10000 (52.0600%)
___Train Local_ResNet_18,  epoch 281, local model 98, internal_epoch   1,  Average loss: 0.0037, Accuracy: 745/802 (92.8928%)
___Train Local_ResNet_18,  epoch 281, local model 98, internal_epoch   2,  Average loss: 0.0059, Accuracy: 715/802 (89.1521%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 6.2176, Accuracy: 2527/10000 (25.2700%)
___Train Local_ResNet_18,  epoch 281, local model 38, internal_epoch   1,  Average loss: 0.0028, Accuracy: 713/756 (94.3122%)
___Train Local_ResNet_18,  epoch 281, local model 38, internal_epoch   2,  Average loss: 0.0037, Accuracy: 704/756 (93.1217%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.4470, Accuracy: 3639/10000 (36.3900%)
___Train Local_ResNet_18,  epoch 281, local model 82, internal_epoch   1,  Average loss: 0.0021, Accuracy: 582/601 (96.8386%)
___Train Local_ResNet_18,  epoch 281, local model 82, internal_epoch   2,  Average loss: 0.0012, Accuracy: 585/601 (97.3378%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.0639, Accuracy: 5222/10000 (52.2200%)
___Train Local_ResNet_18,  epoch 281, local model 6, internal_epoch   1,  Average loss: 0.0037, Accuracy: 484/520 (93.0769%)
___Train Local_ResNet_18,  epoch 281, local model 6, internal_epoch   2,  Average loss: 0.0087, Accuracy: 434/520 (83.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 15.9123, Accuracy: 1141/10000 (11.4100%)
___Train Local_ResNet_18,  epoch 281, local model 15, internal_epoch   1,  Average loss: 0.0086, Accuracy: 290/341 (85.0440%)
___Train Local_ResNet_18,  epoch 281, local model 15, internal_epoch   2,  Average loss: 0.0076, Accuracy: 306/341 (89.7361%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 4.1318, Accuracy: 3224/10000 (32.2400%)
___Train Local_ResNet_18,  epoch 281, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 1094/1166 (93.8250%)
___Train Local_ResNet_18,  epoch 281, local model 71, internal_epoch   2,  Average loss: 0.0107, Accuracy: 927/1166 (79.5026%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 10.1959, Accuracy: 2142/10000 (21.4200%)
___Train Local_ResNet_18,  epoch 281, local model 65, internal_epoch   1,  Average loss: 0.0034, Accuracy: 292/314 (92.9936%)
___Train Local_ResNet_18,  epoch 281, local model 65, internal_epoch   2,  Average loss: 0.0005, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 2.4164, Accuracy: 4613/10000 (46.1300%)
___Train Local_ResNet_18,  epoch 281, local model 57, internal_epoch   1,  Average loss: 0.0044, Accuracy: 267/290 (92.0690%)
___Train Local_ResNet_18,  epoch 281, local model 57, internal_epoch   2,  Average loss: 0.0006, Accuracy: 289/290 (99.6552%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.4533, Accuracy: 4206/10000 (42.0600%)
time spent on training: 49.705418825149536
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [419, 469, 802, 756, 601, 520, 341, 1166, 314, 290]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.31663248 0.51698454 1.         0.347028   0.347028   1.
 0.74130444 1.         0.31663248 0.51698454]
___Test Target_ResNet_18 poisoned: False, epoch: 281: Average loss: 0.6375, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 281: Average loss: 6.5201, Accuracy: 321/9000 (3.5667%)
Done in 94.37375116348267 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:282 choose agents : [43, 72, 83, 9, 7, 27, 11, 15, 20, 26]. Adversary List: []
___Train Local_ResNet_18,  epoch 282, local model 43, internal_epoch   1,  Average loss: 0.0058, Accuracy: 304/345 (88.1159%)
___Train Local_ResNet_18,  epoch 282, local model 43, internal_epoch   2,  Average loss: 0.0028, Accuracy: 334/345 (96.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 4.1871, Accuracy: 4188/10000 (41.8800%)
___Train Local_ResNet_18,  epoch 282, local model 72, internal_epoch   1,  Average loss: 0.0070, Accuracy: 532/618 (86.0841%)
___Train Local_ResNet_18,  epoch 282, local model 72, internal_epoch   2,  Average loss: 0.0058, Accuracy: 554/618 (89.6440%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 6.9366, Accuracy: 2593/10000 (25.9300%)
___Train Local_ResNet_18,  epoch 282, local model 83, internal_epoch   1,  Average loss: 0.0022, Accuracy: 349/366 (95.3552%)
___Train Local_ResNet_18,  epoch 282, local model 83, internal_epoch   2,  Average loss: 0.0007, Accuracy: 363/366 (99.1803%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.5903, Accuracy: 5850/10000 (58.5000%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   1,  Average loss: 0.0033, Accuracy: 345/368 (93.7500%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   2,  Average loss: 0.0012, Accuracy: 361/368 (98.0978%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 3.9766, Accuracy: 3632/10000 (36.3200%)
___Train Local_ResNet_18,  epoch 282, local model 7, internal_epoch   1,  Average loss: 0.0023, Accuracy: 341/352 (96.8750%)
___Train Local_ResNet_18,  epoch 282, local model 7, internal_epoch   2,  Average loss: 0.0004, Accuracy: 351/352 (99.7159%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.7260, Accuracy: 5340/10000 (53.4000%)
___Train Local_ResNet_18,  epoch 282, local model 27, internal_epoch   1,  Average loss: 0.0017, Accuracy: 386/397 (97.2292%)
___Train Local_ResNet_18,  epoch 282, local model 27, internal_epoch   2,  Average loss: 0.0008, Accuracy: 395/397 (99.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.3716, Accuracy: 6311/10000 (63.1100%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 282, local model 11, internal_epoch   1,  Average loss: 0.0027, Accuracy: 521/546 (95.4212%)
___Train Local_ResNet_18,  epoch 282, local model 11, internal_epoch   2,  Average loss: 0.0020, Accuracy: 528/546 (96.7033%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.8651, Accuracy: 5224/10000 (52.2400%)
___Train Local_ResNet_18,  epoch 282, local model 15, internal_epoch   1,  Average loss: 0.0077, Accuracy: 292/341 (85.6305%)
___Train Local_ResNet_18,  epoch 282, local model 15, internal_epoch   2,  Average loss: 0.0023, Accuracy: 325/341 (95.3079%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 6.8527, Accuracy: 1806/10000 (18.0600%)
___Train Local_ResNet_18,  epoch 282, local model 20, internal_epoch   1,  Average loss: 0.0068, Accuracy: 315/362 (87.0166%)
___Train Local_ResNet_18,  epoch 282, local model 20, internal_epoch   2,  Average loss: 0.0012, Accuracy: 353/362 (97.5138%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 6.6136, Accuracy: 2770/10000 (27.7000%)
___Train Local_ResNet_18,  epoch 282, local model 26, internal_epoch   1,  Average loss: 0.0030, Accuracy: 442/468 (94.4444%)
___Train Local_ResNet_18,  epoch 282, local model 26, internal_epoch   2,  Average loss: 0.0017, Accuracy: 454/468 (97.0085%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.8944, Accuracy: 5558/10000 (55.5800%)
time spent on training: 55.48333168029785
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13115541676675474  data num: [345, 618, 366, 368, 352, 397, 546, 341, 362, 468]
[foolsgold agg] considering poison per batch poison_fraction: 0.010246516934902715
[foolsgold agg] wv: [1.         0.         0.07051124 1.         1.         1.
 1.         0.         1.         0.07051124]
___Test Target_ResNet_18 poisoned: False, epoch: 282: Average loss: 0.6384, Accuracy: 7873/10000 (78.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 282: Average loss: 6.5155, Accuracy: 318/9000 (3.5333%)
Done in 93.46281385421753 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:283 choose agents : [71, 99, 72, 0, 21, 93, 62, 8, 3, 49]. Adversary List: []
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 1085/1166 (93.0532%)
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   2,  Average loss: 0.0096, Accuracy: 959/1166 (82.2470%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 8.8289, Accuracy: 2610/10000 (26.1000%)
___Train Local_ResNet_18,  epoch 283, local model 99, internal_epoch   1,  Average loss: 0.0042, Accuracy: 360/391 (92.0716%)
___Train Local_ResNet_18,  epoch 283, local model 99, internal_epoch   2,  Average loss: 0.0019, Accuracy: 381/391 (97.4425%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 3.6164, Accuracy: 3784/10000 (37.8400%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   1,  Average loss: 0.0102, Accuracy: 516/618 (83.4951%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   2,  Average loss: 0.0053, Accuracy: 546/618 (88.3495%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.5353, Accuracy: 3518/10000 (35.1800%)
___Train Local_ResNet_18,  epoch 283, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 334/367 (91.0082%)
___Train Local_ResNet_18,  epoch 283, local model 0, internal_epoch   2,  Average loss: 0.0018, Accuracy: 358/367 (97.5477%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 6.9540, Accuracy: 2144/10000 (21.4400%)
___Train Local_ResNet_18,  epoch 283, local model 21, internal_epoch   1,  Average loss: 0.0034, Accuracy: 247/262 (94.2748%)
___Train Local_ResNet_18,  epoch 283, local model 21, internal_epoch   2,  Average loss: 0.0050, Accuracy: 260/262 (99.2366%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 3.7116, Accuracy: 3098/10000 (30.9800%)
___Train Local_ResNet_18,  epoch 283, local model 93, internal_epoch   1,  Average loss: 0.0022, Accuracy: 562/584 (96.2329%)
___Train Local_ResNet_18,  epoch 283, local model 93, internal_epoch   2,  Average loss: 0.0020, Accuracy: 563/584 (96.4041%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.5405, Accuracy: 5828/10000 (58.2800%)
___Train Local_ResNet_18,  epoch 283, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 347/358 (96.9274%)
___Train Local_ResNet_18,  epoch 283, local model 62, internal_epoch   2,  Average loss: 0.0003, Accuracy: 358/358 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.0819, Accuracy: 6792/10000 (67.9200%)
___Train Local_ResNet_18,  epoch 283, local model 8, internal_epoch   1,  Average loss: 0.0028, Accuracy: 505/534 (94.5693%)
___Train Local_ResNet_18,  epoch 283, local model 8, internal_epoch   2,  Average loss: 0.0021, Accuracy: 514/534 (96.2547%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 2.7460, Accuracy: 3850/10000 (38.5000%)
___Train Local_ResNet_18,  epoch 283, local model 3, internal_epoch   1,  Average loss: 0.0056, Accuracy: 703/780 (90.1282%)
___Train Local_ResNet_18,  epoch 283, local model 3, internal_epoch   2,  Average loss: 0.0073, Accuracy: 669/780 (85.7692%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 8.1659, Accuracy: 2554/10000 (25.5400%)
___Train Local_ResNet_18,  epoch 283, local model 49, internal_epoch   1,  Average loss: 0.0034, Accuracy: 397/426 (93.1925%)
___Train Local_ResNet_18,  epoch 283, local model 49, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/426 (97.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.8863, Accuracy: 5308/10000 (53.0800%)
time spent on training: 48.816694259643555
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1166, 391, 618, 367, 262, 584, 358, 534, 780, 426]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.89492271 0.46809117 0.46809117 1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 283: Average loss: 0.6376, Accuracy: 7877/10000 (78.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 283: Average loss: 6.5108, Accuracy: 322/9000 (3.5778%)
Done in 91.79524612426758 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:284 choose agents : [96, 95, 79, 42, 86, 36, 44, 73, 62, 27]. Adversary List: []
___Train Local_ResNet_18,  epoch 284, local model 96, internal_epoch   1,  Average loss: 0.0031, Accuracy: 671/708 (94.7740%)
___Train Local_ResNet_18,  epoch 284, local model 96, internal_epoch   2,  Average loss: 0.0165, Accuracy: 512/708 (72.3164%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 15.1041, Accuracy: 1675/10000 (16.7500%)
___Train Local_ResNet_18,  epoch 284, local model 95, internal_epoch   1,  Average loss: 0.0075, Accuracy: 484/569 (85.0615%)
___Train Local_ResNet_18,  epoch 284, local model 95, internal_epoch   2,  Average loss: 0.0047, Accuracy: 512/569 (89.9824%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 8.2639, Accuracy: 2095/10000 (20.9500%)
___Train Local_ResNet_18,  epoch 284, local model 79, internal_epoch   1,  Average loss: 0.0057, Accuracy: 138/154 (89.6104%)
___Train Local_ResNet_18,  epoch 284, local model 79, internal_epoch   2,  Average loss: 0.0007, Accuracy: 154/154 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.0105, Accuracy: 7014/10000 (70.1400%)
___Train Local_ResNet_18,  epoch 284, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 184/198 (92.9293%)
___Train Local_ResNet_18,  epoch 284, local model 42, internal_epoch   2,  Average loss: 0.0016, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 2.9438, Accuracy: 3747/10000 (37.4700%)
___Train Local_ResNet_18,  epoch 284, local model 86, internal_epoch   1,  Average loss: 0.0034, Accuracy: 202/212 (95.2830%)
___Train Local_ResNet_18,  epoch 284, local model 86, internal_epoch   2,  Average loss: 0.0016, Accuracy: 210/212 (99.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.0859, Accuracy: 6857/10000 (68.5700%)
___Train Local_ResNet_18,  epoch 284, local model 36, internal_epoch   1,  Average loss: 0.0049, Accuracy: 772/849 (90.9305%)
___Train Local_ResNet_18,  epoch 284, local model 36, internal_epoch   2,  Average loss: 0.0103, Accuracy: 685/849 (80.6832%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 6.0496, Accuracy: 2521/10000 (25.2100%)
___Train Local_ResNet_18,  epoch 284, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 405/436 (92.8899%)
___Train Local_ResNet_18,  epoch 284, local model 44, internal_epoch   2,  Average loss: 0.0019, Accuracy: 420/436 (96.3303%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.7153, Accuracy: 5438/10000 (54.3800%)
___Train Local_ResNet_18,  epoch 284, local model 73, internal_epoch   1,  Average loss: 0.0107, Accuracy: 399/500 (79.8000%)
___Train Local_ResNet_18,  epoch 284, local model 73, internal_epoch   2,  Average loss: 0.0037, Accuracy: 460/500 (92.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 7.0355, Accuracy: 2472/10000 (24.7200%)
___Train Local_ResNet_18,  epoch 284, local model 62, internal_epoch   1,  Average loss: 0.0015, Accuracy: 352/358 (98.3240%)
___Train Local_ResNet_18,  epoch 284, local model 62, internal_epoch   2,  Average loss: 0.0004, Accuracy: 356/358 (99.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 0.9406, Accuracy: 7091/10000 (70.9100%)
___Train Local_ResNet_18,  epoch 284, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 383/397 (96.4736%)
___Train Local_ResNet_18,  epoch 284, local model 27, internal_epoch   2,  Average loss: 0.0004, Accuracy: 396/397 (99.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 2.0305, Accuracy: 5387/10000 (53.8700%)
time spent on training: 50.43398427963257
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [708, 569, 154, 198, 212, 849, 436, 500, 358, 397]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.55209912 0.38288465 0.38288465 0.55209912 0.98441077 1.
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 284: Average loss: 0.6371, Accuracy: 7874/10000 (78.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 284: Average loss: 6.5062, Accuracy: 321/9000 (3.5667%)
Done in 94.92601156234741 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:285 choose agents : [44, 71, 61, 88, 23, 50, 20, 47, 67, 48]. Adversary List: []
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 407/436 (93.3486%)
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   2,  Average loss: 0.0016, Accuracy: 422/436 (96.7890%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.3817, Accuracy: 6093/10000 (60.9300%)
___Train Local_ResNet_18,  epoch 285, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 1107/1166 (94.9400%)
___Train Local_ResNet_18,  epoch 285, local model 71, internal_epoch   2,  Average loss: 0.0067, Accuracy: 1020/1166 (87.4786%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 7.5934, Accuracy: 3191/10000 (31.9100%)
___Train Local_ResNet_18,  epoch 285, local model 61, internal_epoch   1,  Average loss: 0.0046, Accuracy: 545/590 (92.3729%)
___Train Local_ResNet_18,  epoch 285, local model 61, internal_epoch   2,  Average loss: 0.0067, Accuracy: 516/590 (87.4576%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 13.7198, Accuracy: 1431/10000 (14.3100%)
___Train Local_ResNet_18,  epoch 285, local model 88, internal_epoch   1,  Average loss: 0.0057, Accuracy: 391/447 (87.4720%)
___Train Local_ResNet_18,  epoch 285, local model 88, internal_epoch   2,  Average loss: 0.0019, Accuracy: 429/447 (95.9732%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 4.8545, Accuracy: 3055/10000 (30.5500%)
___Train Local_ResNet_18,  epoch 285, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 230/248 (92.7419%)
___Train Local_ResNet_18,  epoch 285, local model 23, internal_epoch   2,  Average loss: 0.0005, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.3794, Accuracy: 5996/10000 (59.9600%)
___Train Local_ResNet_18,  epoch 285, local model 50, internal_epoch   1,  Average loss: 0.0019, Accuracy: 389/401 (97.0075%)
___Train Local_ResNet_18,  epoch 285, local model 50, internal_epoch   2,  Average loss: 0.0005, Accuracy: 398/401 (99.2519%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 2.0482, Accuracy: 5574/10000 (55.7400%)
___Train Local_ResNet_18,  epoch 285, local model 20, internal_epoch   1,  Average loss: 0.0064, Accuracy: 316/362 (87.2928%)
___Train Local_ResNet_18,  epoch 285, local model 20, internal_epoch   2,  Average loss: 0.0009, Accuracy: 358/362 (98.8950%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 5.4958, Accuracy: 3066/10000 (30.6600%)
___Train Local_ResNet_18,  epoch 285, local model 47, internal_epoch   1,  Average loss: 0.0023, Accuracy: 623/654 (95.2599%)
___Train Local_ResNet_18,  epoch 285, local model 47, internal_epoch   2,  Average loss: 0.0026, Accuracy: 635/654 (97.0948%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.6638, Accuracy: 5556/10000 (55.5600%)
___Train Local_ResNet_18,  epoch 285, local model 67, internal_epoch   1,  Average loss: 0.0028, Accuracy: 802/842 (95.2494%)
___Train Local_ResNet_18,  epoch 285, local model 67, internal_epoch   2,  Average loss: 0.0155, Accuracy: 644/842 (76.4846%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 22.6992, Accuracy: 1258/10000 (12.5800%)
___Train Local_ResNet_18,  epoch 285, local model 48, internal_epoch   1,  Average loss: 0.0043, Accuracy: 347/378 (91.7989%)
___Train Local_ResNet_18,  epoch 285, local model 48, internal_epoch   2,  Average loss: 0.0010, Accuracy: 373/378 (98.6772%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 3.7705, Accuracy: 3171/10000 (31.7100%)
time spent on training: 46.48161268234253
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [436, 1166, 590, 447, 248, 401, 362, 654, 842, 378]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.27668579 1.         0.2838772  0.29794049 0.27668579 1.
 1.         1.         0.2838772  1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 285: Average loss: 0.6369, Accuracy: 7874/10000 (78.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 285: Average loss: 6.5041, Accuracy: 325/9000 (3.6111%)
Done in 84.44684052467346 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:286 choose agents : [85, 82, 19, 56, 41, 95, 18, 55, 21, 10]. Adversary List: []
___Train Local_ResNet_18,  epoch 286, local model 85, internal_epoch   1,  Average loss: 0.0058, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 286, local model 85, internal_epoch   2,  Average loss: 0.0023, Accuracy: 349/364 (95.8791%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.9418, Accuracy: 3195/10000 (31.9500%)
___Train Local_ResNet_18,  epoch 286, local model 82, internal_epoch   1,  Average loss: 0.0018, Accuracy: 584/601 (97.1714%)
___Train Local_ResNet_18,  epoch 286, local model 82, internal_epoch   2,  Average loss: 0.0016, Accuracy: 591/601 (98.3361%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 2.0446, Accuracy: 5294/10000 (52.9400%)
___Train Local_ResNet_18,  epoch 286, local model 19, internal_epoch   1,  Average loss: 0.0116, Accuracy: 136/173 (78.6127%)
___Train Local_ResNet_18,  epoch 286, local model 19, internal_epoch   2,  Average loss: 0.0016, Accuracy: 169/173 (97.6879%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.6530, Accuracy: 3658/10000 (36.5800%)
___Train Local_ResNet_18,  epoch 286, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 726/743 (97.7120%)
___Train Local_ResNet_18,  epoch 286, local model 56, internal_epoch   2,  Average loss: 0.0006, Accuracy: 737/743 (99.1925%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.1329, Accuracy: 6770/10000 (67.7000%)
___Train Local_ResNet_18,  epoch 286, local model 41, internal_epoch   1,  Average loss: 0.0081, Accuracy: 437/513 (85.1852%)
___Train Local_ResNet_18,  epoch 286, local model 41, internal_epoch   2,  Average loss: 0.0040, Accuracy: 468/513 (91.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 7.2210, Accuracy: 2341/10000 (23.4100%)
___Train Local_ResNet_18,  epoch 286, local model 95, internal_epoch   1,  Average loss: 0.0069, Accuracy: 488/569 (85.7645%)
___Train Local_ResNet_18,  epoch 286, local model 95, internal_epoch   2,  Average loss: 0.0038, Accuracy: 525/569 (92.2671%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.9950, Accuracy: 2781/10000 (27.8100%)
___Train Local_ResNet_18,  epoch 286, local model 18, internal_epoch   1,  Average loss: 0.0037, Accuracy: 359/386 (93.0052%)
___Train Local_ResNet_18,  epoch 286, local model 18, internal_epoch   2,  Average loss: 0.0156, Accuracy: 355/386 (91.9689%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.3246, Accuracy: 3603/10000 (36.0300%)
___Train Local_ResNet_18,  epoch 286, local model 55, internal_epoch   1,  Average loss: 0.0046, Accuracy: 274/299 (91.6388%)
___Train Local_ResNet_18,  epoch 286, local model 55, internal_epoch   2,  Average loss: 0.0007, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 8.9809, Accuracy: 1910/10000 (19.1000%)
___Train Local_ResNet_18,  epoch 286, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 244/262 (93.1298%)
___Train Local_ResNet_18,  epoch 286, local model 21, internal_epoch   2,  Average loss: 0.0020, Accuracy: 256/262 (97.7099%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.3257, Accuracy: 3709/10000 (37.0900%)
___Train Local_ResNet_18,  epoch 286, local model 10, internal_epoch   1,  Average loss: 0.0029, Accuracy: 710/752 (94.4149%)
___Train Local_ResNet_18,  epoch 286, local model 10, internal_epoch   2,  Average loss: 0.0020, Accuracy: 727/752 (96.6755%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 3.4180, Accuracy: 3808/10000 (38.0800%)
time spent on training: 49.73686671257019
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [364, 601, 173, 743, 513, 569, 386, 299, 262, 752]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.36533616 0.         0.40587847 0.         1.
 1.         0.         0.36533616 0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 286: Average loss: 0.6370, Accuracy: 7876/10000 (78.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 286: Average loss: 6.4652, Accuracy: 329/9000 (3.6556%)
Done in 84.80938863754272 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:287 choose agents : [57, 72, 11, 86, 1, 99, 5, 80, 42, 26]. Adversary List: []
___Train Local_ResNet_18,  epoch 287, local model 57, internal_epoch   1,  Average loss: 0.0051, Accuracy: 260/290 (89.6552%)
___Train Local_ResNet_18,  epoch 287, local model 57, internal_epoch   2,  Average loss: 0.0008, Accuracy: 287/290 (98.9655%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.7553, Accuracy: 4378/10000 (43.7800%)
___Train Local_ResNet_18,  epoch 287, local model 72, internal_epoch   1,  Average loss: 0.0079, Accuracy: 524/618 (84.7896%)
___Train Local_ResNet_18,  epoch 287, local model 72, internal_epoch   2,  Average loss: 0.0058, Accuracy: 545/618 (88.1877%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 5.2229, Accuracy: 2770/10000 (27.7000%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 287, local model 11, internal_epoch   1,  Average loss: 0.0029, Accuracy: 519/546 (95.0549%)
___Train Local_ResNet_18,  epoch 287, local model 11, internal_epoch   2,  Average loss: 0.0022, Accuracy: 523/546 (95.7875%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.6198, Accuracy: 4282/10000 (42.8200%)
___Train Local_ResNet_18,  epoch 287, local model 86, internal_epoch   1,  Average loss: 0.0035, Accuracy: 199/212 (93.8679%)
___Train Local_ResNet_18,  epoch 287, local model 86, internal_epoch   2,  Average loss: 0.0006, Accuracy: 212/212 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.1997, Accuracy: 6684/10000 (66.8400%)
___Train Local_ResNet_18,  epoch 287, local model 1, internal_epoch   1,  Average loss: 0.0060, Accuracy: 605/641 (94.3838%)
___Train Local_ResNet_18,  epoch 287, local model 1, internal_epoch   2,  Average loss: 0.0042, Accuracy: 579/641 (90.3276%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 3.4604, Accuracy: 4209/10000 (42.0900%)
___Train Local_ResNet_18,  epoch 287, local model 99, internal_epoch   1,  Average loss: 0.0057, Accuracy: 356/391 (91.0486%)
___Train Local_ResNet_18,  epoch 287, local model 99, internal_epoch   2,  Average loss: 0.0159, Accuracy: 306/391 (78.2609%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 11.4262, Accuracy: 1316/10000 (13.1600%)
___Train Local_ResNet_18,  epoch 287, local model 5, internal_epoch   1,  Average loss: 0.0021, Accuracy: 350/365 (95.8904%)
___Train Local_ResNet_18,  epoch 287, local model 5, internal_epoch   2,  Average loss: 0.0006, Accuracy: 363/365 (99.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.6083, Accuracy: 6032/10000 (60.3200%)
___Train Local_ResNet_18,  epoch 287, local model 80, internal_epoch   1,  Average loss: 0.0049, Accuracy: 325/363 (89.5317%)
___Train Local_ResNet_18,  epoch 287, local model 80, internal_epoch   2,  Average loss: 0.0011, Accuracy: 357/363 (98.3471%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 4.2630, Accuracy: 3673/10000 (36.7300%)
___Train Local_ResNet_18,  epoch 287, local model 42, internal_epoch   1,  Average loss: 0.0035, Accuracy: 188/198 (94.9495%)
___Train Local_ResNet_18,  epoch 287, local model 42, internal_epoch   2,  Average loss: 0.0008, Accuracy: 197/198 (99.4949%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.6792, Accuracy: 5608/10000 (56.0800%)
___Train Local_ResNet_18,  epoch 287, local model 26, internal_epoch   1,  Average loss: 0.0032, Accuracy: 442/468 (94.4444%)
___Train Local_ResNet_18,  epoch 287, local model 26, internal_epoch   2,  Average loss: 0.0023, Accuracy: 448/468 (95.7265%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.9807, Accuracy: 5335/10000 (53.3500%)
time spent on training: 55.68976163864136
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13343108504398826  data num: [290, 618, 546, 212, 641, 391, 365, 363, 198, 468]
[foolsgold agg] considering poison per batch poison_fraction: 0.010424303519061583
[foolsgold agg] wv: [1.         0.31359438 0.67116348 0.31359438 0.62145026 0.31697975
 1.         1.         0.62145026 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 287: Average loss: 0.6373, Accuracy: 7871/10000 (78.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 287: Average loss: 6.4542, Accuracy: 332/9000 (3.6889%)
Done in 94.58935332298279 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:288 choose agents : [17, 31, 21, 57, 8, 87, 64, 12, 42, 65]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 288, local model 17, internal_epoch   1,  Average loss: 0.0029, Accuracy: 496/526 (94.2966%)
___Train Local_ResNet_18,  epoch 288, local model 17, internal_epoch   2,  Average loss: 0.0040, Accuracy: 488/526 (92.7757%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.0358, Accuracy: 5140/10000 (51.4000%)
___Train Local_ResNet_18,  epoch 288, local model 31, internal_epoch   1,  Average loss: 0.0026, Accuracy: 674/706 (95.4674%)
___Train Local_ResNet_18,  epoch 288, local model 31, internal_epoch   2,  Average loss: 0.0075, Accuracy: 665/706 (94.1926%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 3.9754, Accuracy: 2790/10000 (27.9000%)
___Train Local_ResNet_18,  epoch 288, local model 21, internal_epoch   1,  Average loss: 0.0051, Accuracy: 246/262 (93.8931%)
___Train Local_ResNet_18,  epoch 288, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 246/262 (93.8931%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 3.9683, Accuracy: 3091/10000 (30.9100%)
___Train Local_ResNet_18,  epoch 288, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 258/290 (88.9655%)
___Train Local_ResNet_18,  epoch 288, local model 57, internal_epoch   2,  Average loss: 0.0009, Accuracy: 285/290 (98.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.8731, Accuracy: 4495/10000 (44.9500%)
___Train Local_ResNet_18,  epoch 288, local model 8, internal_epoch   1,  Average loss: 0.0024, Accuracy: 508/534 (95.1311%)
___Train Local_ResNet_18,  epoch 288, local model 8, internal_epoch   2,  Average loss: 0.0019, Accuracy: 519/534 (97.1910%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.2599, Accuracy: 4673/10000 (46.7300%)
___Train Local_ResNet_18,  epoch 288, local model 87, internal_epoch   1,  Average loss: 0.0087, Accuracy: 341/397 (85.8942%)
___Train Local_ResNet_18,  epoch 288, local model 87, internal_epoch   2,  Average loss: 0.0106, Accuracy: 348/397 (87.6574%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 4.5824, Accuracy: 2700/10000 (27.0000%)
___Train Local_ResNet_18,  epoch 288, local model 64, internal_epoch   1,  Average loss: 0.0034, Accuracy: 628/686 (91.5452%)
___Train Local_ResNet_18,  epoch 288, local model 64, internal_epoch   2,  Average loss: 0.0021, Accuracy: 665/686 (96.9388%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.4033, Accuracy: 4696/10000 (46.9600%)
___Train Local_ResNet_18,  epoch 288, local model 12, internal_epoch   1,  Average loss: 0.0035, Accuracy: 906/977 (92.7329%)
___Train Local_ResNet_18,  epoch 288, local model 12, internal_epoch   2,  Average loss: 0.0079, Accuracy: 842/977 (86.1822%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 19.5336, Accuracy: 1671/10000 (16.7100%)
___Train Local_ResNet_18,  epoch 288, local model 42, internal_epoch   1,  Average loss: 0.0041, Accuracy: 187/198 (94.4444%)
___Train Local_ResNet_18,  epoch 288, local model 42, internal_epoch   2,  Average loss: 0.0024, Accuracy: 193/198 (97.4747%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.1464, Accuracy: 4758/10000 (47.5800%)
___Train Local_ResNet_18,  epoch 288, local model 65, internal_epoch   1,  Average loss: 0.0032, Accuracy: 299/314 (95.2229%)
___Train Local_ResNet_18,  epoch 288, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.7705, Accuracy: 4210/10000 (42.1000%)
time spent on training: 52.443329095840454
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10756646216768916  data num: [526, 706, 262, 290, 534, 397, 686, 977, 198, 314]
[foolsgold agg] considering poison per batch poison_fraction: 0.008403629856850715
[foolsgold agg] wv: [1.         1.         1.         1.         0.80398123 1.
 1.         1.         0.80398123 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 288: Average loss: 0.6361, Accuracy: 7882/10000 (78.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 288: Average loss: 6.4304, Accuracy: 343/9000 (3.8111%)
Done in 89.97375750541687 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:289 choose agents : [14, 42, 13, 92, 5, 34, 33, 74, 94, 15]. Adversary List: []
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   1,  Average loss: 0.0060, Accuracy: 277/318 (87.1069%)
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   2,  Average loss: 0.0010, Accuracy: 310/318 (97.4843%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 8.1678, Accuracy: 2048/10000 (20.4800%)
___Train Local_ResNet_18,  epoch 289, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 185/198 (93.4343%)
___Train Local_ResNet_18,  epoch 289, local model 42, internal_epoch   2,  Average loss: 0.0018, Accuracy: 194/198 (97.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.1203, Accuracy: 4721/10000 (47.2100%)
___Train Local_ResNet_18,  epoch 289, local model 13, internal_epoch   1,  Average loss: 0.0054, Accuracy: 555/620 (89.5161%)
___Train Local_ResNet_18,  epoch 289, local model 13, internal_epoch   2,  Average loss: 0.0031, Accuracy: 582/620 (93.8710%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.0271, Accuracy: 3729/10000 (37.2900%)
___Train Local_ResNet_18,  epoch 289, local model 92, internal_epoch   1,  Average loss: 0.0045, Accuracy: 730/796 (91.7085%)
___Train Local_ResNet_18,  epoch 289, local model 92, internal_epoch   2,  Average loss: 0.0055, Accuracy: 701/796 (88.0653%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 8.9948, Accuracy: 2481/10000 (24.8100%)
___Train Local_ResNet_18,  epoch 289, local model 5, internal_epoch   1,  Average loss: 0.0019, Accuracy: 353/365 (96.7123%)
___Train Local_ResNet_18,  epoch 289, local model 5, internal_epoch   2,  Average loss: 0.0005, Accuracy: 364/365 (99.7260%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 1.3246, Accuracy: 6410/10000 (64.1000%)
___Train Local_ResNet_18,  epoch 289, local model 34, internal_epoch   1,  Average loss: 0.0046, Accuracy: 314/349 (89.9713%)
___Train Local_ResNet_18,  epoch 289, local model 34, internal_epoch   2,  Average loss: 0.0019, Accuracy: 340/349 (97.4212%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 4.7926, Accuracy: 2787/10000 (27.8700%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 289, local model 33, internal_epoch   1,  Average loss: 0.0039, Accuracy: 491/527 (93.1689%)
___Train Local_ResNet_18,  epoch 289, local model 33, internal_epoch   2,  Average loss: 0.0050, Accuracy: 478/527 (90.7021%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.9551, Accuracy: 4465/10000 (44.6500%)
___Train Local_ResNet_18,  epoch 289, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 440/469 (93.8166%)
___Train Local_ResNet_18,  epoch 289, local model 74, internal_epoch   2,  Average loss: 0.0016, Accuracy: 458/469 (97.6546%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.1060, Accuracy: 4908/10000 (49.0800%)
___Train Local_ResNet_18,  epoch 289, local model 94, internal_epoch   1,  Average loss: 0.0076, Accuracy: 169/203 (83.2512%)
___Train Local_ResNet_18,  epoch 289, local model 94, internal_epoch   2,  Average loss: 0.0065, Accuracy: 200/203 (98.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.0790, Accuracy: 3591/10000 (35.9100%)
___Train Local_ResNet_18,  epoch 289, local model 15, internal_epoch   1,  Average loss: 0.0076, Accuracy: 295/341 (86.5103%)
___Train Local_ResNet_18,  epoch 289, local model 15, internal_epoch   2,  Average loss: 0.0020, Accuracy: 330/341 (96.7742%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 3.2508, Accuracy: 3531/10000 (35.3100%)
time spent on training: 57.0980429649353
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.12589584328714765  data num: [318, 198, 620, 796, 365, 349, 527, 469, 203, 341]
[foolsgold agg] considering poison per batch poison_fraction: 0.00983561275680841
[foolsgold agg] wv: [0.47179213 0.47179213 0.51031476 1.         0.34488439 0.
 0.34488439 1.         0.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 289: Average loss: 0.6362, Accuracy: 7886/10000 (78.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 289: Average loss: 6.4239, Accuracy: 345/9000 (3.8333%)
Done in 95.25024437904358 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:290 choose agents : [58, 17, 50, 51, 27, 6, 8, 20, 39, 38]. Adversary List: []
___Train Local_ResNet_18,  epoch 290, local model 58, internal_epoch   1,  Average loss: 0.0077, Accuracy: 202/234 (86.3248%)
___Train Local_ResNet_18,  epoch 290, local model 58, internal_epoch   2,  Average loss: 0.0004, Accuracy: 234/234 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 6.0934, Accuracy: 2037/10000 (20.3700%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 290, local model 17, internal_epoch   1,  Average loss: 0.0022, Accuracy: 507/526 (96.3878%)
___Train Local_ResNet_18,  epoch 290, local model 17, internal_epoch   2,  Average loss: 0.0012, Accuracy: 519/526 (98.6692%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.3560, Accuracy: 6326/10000 (63.2600%)
___Train Local_ResNet_18,  epoch 290, local model 50, internal_epoch   1,  Average loss: 0.0022, Accuracy: 385/401 (96.0100%)
___Train Local_ResNet_18,  epoch 290, local model 50, internal_epoch   2,  Average loss: 0.0008, Accuracy: 397/401 (99.0025%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.6705, Accuracy: 5686/10000 (56.8600%)
___Train Local_ResNet_18,  epoch 290, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 448/479 (93.5282%)
___Train Local_ResNet_18,  epoch 290, local model 51, internal_epoch   2,  Average loss: 0.0016, Accuracy: 467/479 (97.4948%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 3.7604, Accuracy: 3575/10000 (35.7500%)
___Train Local_ResNet_18,  epoch 290, local model 27, internal_epoch   1,  Average loss: 0.0019, Accuracy: 387/397 (97.4811%)
___Train Local_ResNet_18,  epoch 290, local model 27, internal_epoch   2,  Average loss: 0.0005, Accuracy: 395/397 (99.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.5202, Accuracy: 6047/10000 (60.4700%)
___Train Local_ResNet_18,  epoch 290, local model 6, internal_epoch   1,  Average loss: 0.0031, Accuracy: 490/520 (94.2308%)
___Train Local_ResNet_18,  epoch 290, local model 6, internal_epoch   2,  Average loss: 0.0028, Accuracy: 490/520 (94.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.8985, Accuracy: 5235/10000 (52.3500%)
___Train Local_ResNet_18,  epoch 290, local model 8, internal_epoch   1,  Average loss: 0.0023, Accuracy: 515/534 (96.4419%)
___Train Local_ResNet_18,  epoch 290, local model 8, internal_epoch   2,  Average loss: 0.0019, Accuracy: 517/534 (96.8165%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.8127, Accuracy: 5399/10000 (53.9900%)
___Train Local_ResNet_18,  epoch 290, local model 20, internal_epoch   1,  Average loss: 0.0058, Accuracy: 319/362 (88.1215%)
___Train Local_ResNet_18,  epoch 290, local model 20, internal_epoch   2,  Average loss: 0.0017, Accuracy: 348/362 (96.1326%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 4.0471, Accuracy: 3633/10000 (36.3300%)
___Train Local_ResNet_18,  epoch 290, local model 39, internal_epoch   1,  Average loss: 0.0060, Accuracy: 190/217 (87.5576%)
___Train Local_ResNet_18,  epoch 290, local model 39, internal_epoch   2,  Average loss: 0.0019, Accuracy: 212/217 (97.6959%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.4840, Accuracy: 4332/10000 (43.3200%)
___Train Local_ResNet_18,  epoch 290, local model 38, internal_epoch   1,  Average loss: 0.0023, Accuracy: 720/756 (95.2381%)
___Train Local_ResNet_18,  epoch 290, local model 38, internal_epoch   2,  Average loss: 0.0022, Accuracy: 718/756 (94.9735%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 2.2577, Accuracy: 5362/10000 (53.6200%)
time spent on training: 56.8892126083374
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.11884319927699954  data num: [234, 526, 401, 479, 397, 520, 534, 362, 217, 756]
[foolsgold agg] considering poison per batch poison_fraction: 0.00928462494351559
[foolsgold agg] wv: [0.        0.        1.        1.        0.        0.        0.
 0.6114746 0.        1.       ]
___Test Target_ResNet_18 poisoned: False, epoch: 290: Average loss: 0.6361, Accuracy: 7885/10000 (78.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 290: Average loss: 6.4265, Accuracy: 344/9000 (3.8222%)
Done in 97.79733991622925 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:291 choose agents : [34, 55, 96, 49, 88, 20, 8, 16, 35, 71]. Adversary List: []
___Train Local_ResNet_18,  epoch 291, local model 34, internal_epoch   1,  Average loss: 0.0047, Accuracy: 316/349 (90.5444%)
___Train Local_ResNet_18,  epoch 291, local model 34, internal_epoch   2,  Average loss: 0.0012, Accuracy: 344/349 (98.5673%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.5973, Accuracy: 3821/10000 (38.2100%)
___Train Local_ResNet_18,  epoch 291, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 275/299 (91.9732%)
___Train Local_ResNet_18,  epoch 291, local model 55, internal_epoch   2,  Average loss: 0.0009, Accuracy: 297/299 (99.3311%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.3165, Accuracy: 2845/10000 (28.4500%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   1,  Average loss: 0.0058, Accuracy: 660/708 (93.2203%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   2,  Average loss: 0.0259, Accuracy: 391/708 (55.2260%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 670.0001, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 291, local model 49, internal_epoch   1,  Average loss: 0.0028, Accuracy: 406/426 (95.3052%)
___Train Local_ResNet_18,  epoch 291, local model 49, internal_epoch   2,  Average loss: 0.0011, Accuracy: 418/426 (98.1221%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 2.4191, Accuracy: 4972/10000 (49.7200%)
___Train Local_ResNet_18,  epoch 291, local model 88, internal_epoch   1,  Average loss: 0.0060, Accuracy: 392/447 (87.6957%)
___Train Local_ResNet_18,  epoch 291, local model 88, internal_epoch   2,  Average loss: 0.0026, Accuracy: 423/447 (94.6309%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.6388, Accuracy: 2780/10000 (27.8000%)
___Train Local_ResNet_18,  epoch 291, local model 20, internal_epoch   1,  Average loss: 0.0055, Accuracy: 319/362 (88.1215%)
___Train Local_ResNet_18,  epoch 291, local model 20, internal_epoch   2,  Average loss: 0.0013, Accuracy: 351/362 (96.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 6.0691, Accuracy: 3025/10000 (30.2500%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 490/534 (91.7603%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   2,  Average loss: 0.0033, Accuracy: 498/534 (93.2584%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.5790, Accuracy: 3428/10000 (34.2800%)
___Train Local_ResNet_18,  epoch 291, local model 16, internal_epoch   1,  Average loss: 0.0023, Accuracy: 742/773 (95.9897%)
___Train Local_ResNet_18,  epoch 291, local model 16, internal_epoch   2,  Average loss: 0.0082, Accuracy: 678/773 (87.7102%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 6.6937, Accuracy: 2649/10000 (26.4900%)
___Train Local_ResNet_18,  epoch 291, local model 35, internal_epoch   1,  Average loss: 0.0066, Accuracy: 372/419 (88.7828%)
___Train Local_ResNet_18,  epoch 291, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 390/419 (93.0788%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 4.4912, Accuracy: 3045/10000 (30.4500%)
___Train Local_ResNet_18,  epoch 291, local model 71, internal_epoch   1,  Average loss: 0.0034, Accuracy: 1092/1166 (93.6535%)
___Train Local_ResNet_18,  epoch 291, local model 71, internal_epoch   2,  Average loss: 0.0061, Accuracy: 1023/1166 (87.7358%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 4.1686, Accuracy: 2913/10000 (29.1300%)
time spent on training: 48.2705020904541
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [349, 299, 708, 426, 447, 362, 534, 773, 419, 1166]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         1.         0.88423672 1.         0.
 1.         1.         0.88423672 1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 291: Average loss: 0.6346, Accuracy: 7894/10000 (78.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 291: Average loss: 6.3953, Accuracy: 348/9000 (3.8667%)
Done in 89.32576894760132 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:292 choose agents : [84, 32, 75, 4, 70, 91, 28, 55, 47, 92]. Adversary List: []
___Train Local_ResNet_18,  epoch 292, local model 84, internal_epoch   1,  Average loss: 0.0024, Accuracy: 1012/1053 (96.1064%)
___Train Local_ResNet_18,  epoch 292, local model 84, internal_epoch   2,  Average loss: 0.0030, Accuracy: 996/1053 (94.5869%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.0055, Accuracy: 5355/10000 (53.5500%)
___Train Local_ResNet_18,  epoch 292, local model 32, internal_epoch   1,  Average loss: 0.0024, Accuracy: 785/824 (95.2670%)
___Train Local_ResNet_18,  epoch 292, local model 32, internal_epoch   2,  Average loss: 0.0021, Accuracy: 789/824 (95.7524%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.5224, Accuracy: 4970/10000 (49.7000%)
___Train Local_ResNet_18,  epoch 292, local model 75, internal_epoch   1,  Average loss: 0.0025, Accuracy: 560/578 (96.8858%)
___Train Local_ResNet_18,  epoch 292, local model 75, internal_epoch   2,  Average loss: 0.0113, Accuracy: 475/578 (82.1799%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 16.9175, Accuracy: 2106/10000 (21.0600%)
___Train Local_ResNet_18,  epoch 292, local model 4, internal_epoch   1,  Average loss: 0.0046, Accuracy: 507/557 (91.0233%)
___Train Local_ResNet_18,  epoch 292, local model 4, internal_epoch   2,  Average loss: 0.0032, Accuracy: 523/557 (93.8959%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.6904, Accuracy: 4922/10000 (49.2200%)
___Train Local_ResNet_18,  epoch 292, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 569/610 (93.2787%)
___Train Local_ResNet_18,  epoch 292, local model 70, internal_epoch   2,  Average loss: 0.0018, Accuracy: 597/610 (97.8689%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.2774, Accuracy: 4685/10000 (46.8500%)
___Train Local_ResNet_18,  epoch 292, local model 91, internal_epoch   1,  Average loss: 0.0032, Accuracy: 221/234 (94.4444%)
___Train Local_ResNet_18,  epoch 292, local model 91, internal_epoch   2,  Average loss: 0.0007, Accuracy: 233/234 (99.5726%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.3393, Accuracy: 6072/10000 (60.7200%)
___Train Local_ResNet_18,  epoch 292, local model 28, internal_epoch   1,  Average loss: 0.0023, Accuracy: 404/423 (95.5083%)
___Train Local_ResNet_18,  epoch 292, local model 28, internal_epoch   2,  Average loss: 0.0010, Accuracy: 417/423 (98.5816%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.7307, Accuracy: 5708/10000 (57.0800%)
___Train Local_ResNet_18,  epoch 292, local model 55, internal_epoch   1,  Average loss: 0.0040, Accuracy: 276/299 (92.3077%)
___Train Local_ResNet_18,  epoch 292, local model 55, internal_epoch   2,  Average loss: 0.0005, Accuracy: 298/299 (99.6656%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 7.6719, Accuracy: 2260/10000 (22.6000%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   1,  Average loss: 0.0028, Accuracy: 622/654 (95.1070%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   2,  Average loss: 0.0036, Accuracy: 613/654 (93.7309%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.5142, Accuracy: 5493/10000 (54.9300%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 733/796 (92.0854%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   2,  Average loss: 0.0089, Accuracy: 676/796 (84.9246%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 11.2756, Accuracy: 1920/10000 (19.2000%)
time spent on training: 50.42114806175232
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [1053, 824, 578, 557, 610, 234, 423, 299, 654, 796]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.28979372 0.24137221 1.         0.24137221 1.         0.28979372
 1.         1.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 292: Average loss: 0.6343, Accuracy: 7895/10000 (78.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 292: Average loss: 6.4140, Accuracy: 343/9000 (3.8111%)
Done in 88.60826373100281 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:293 choose agents : [12, 99, 32, 86, 68, 93, 55, 94, 84, 89]. Adversary List: []
___Train Local_ResNet_18,  epoch 293, local model 12, internal_epoch   1,  Average loss: 0.0064, Accuracy: 880/977 (90.0716%)
___Train Local_ResNet_18,  epoch 293, local model 12, internal_epoch   2,  Average loss: 0.0142, Accuracy: 708/977 (72.4667%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 17.0454, Accuracy: 2536/10000 (25.3600%)
___Train Local_ResNet_18,  epoch 293, local model 99, internal_epoch   1,  Average loss: 0.0040, Accuracy: 362/391 (92.5831%)
___Train Local_ResNet_18,  epoch 293, local model 99, internal_epoch   2,  Average loss: 0.0035, Accuracy: 380/391 (97.1867%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 3.0223, Accuracy: 3682/10000 (36.8200%)
___Train Local_ResNet_18,  epoch 293, local model 32, internal_epoch   1,  Average loss: 0.0026, Accuracy: 781/824 (94.7816%)
___Train Local_ResNet_18,  epoch 293, local model 32, internal_epoch   2,  Average loss: 0.0021, Accuracy: 789/824 (95.7524%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.5582, Accuracy: 4985/10000 (49.8500%)
___Train Local_ResNet_18,  epoch 293, local model 86, internal_epoch   1,  Average loss: 0.0030, Accuracy: 202/212 (95.2830%)
___Train Local_ResNet_18,  epoch 293, local model 86, internal_epoch   2,  Average loss: 0.0008, Accuracy: 212/212 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2069, Accuracy: 6633/10000 (66.3300%)
___Train Local_ResNet_18,  epoch 293, local model 68, internal_epoch   1,  Average loss: 0.0024, Accuracy: 401/416 (96.3942%)
___Train Local_ResNet_18,  epoch 293, local model 68, internal_epoch   2,  Average loss: 0.0008, Accuracy: 413/416 (99.2788%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2246, Accuracy: 6472/10000 (64.7200%)
___Train Local_ResNet_18,  epoch 293, local model 93, internal_epoch   1,  Average loss: 0.0024, Accuracy: 556/584 (95.2055%)
___Train Local_ResNet_18,  epoch 293, local model 93, internal_epoch   2,  Average loss: 0.0010, Accuracy: 576/584 (98.6301%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.6575, Accuracy: 5646/10000 (56.4600%)
___Train Local_ResNet_18,  epoch 293, local model 55, internal_epoch   1,  Average loss: 0.0044, Accuracy: 275/299 (91.9732%)
___Train Local_ResNet_18,  epoch 293, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 7.9517, Accuracy: 1954/10000 (19.5400%)
___Train Local_ResNet_18,  epoch 293, local model 94, internal_epoch   1,  Average loss: 0.0070, Accuracy: 174/203 (85.7143%)
___Train Local_ResNet_18,  epoch 293, local model 94, internal_epoch   2,  Average loss: 0.0030, Accuracy: 196/203 (96.5517%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 3.5234, Accuracy: 3207/10000 (32.0700%)
___Train Local_ResNet_18,  epoch 293, local model 84, internal_epoch   1,  Average loss: 0.0023, Accuracy: 1008/1053 (95.7265%)
___Train Local_ResNet_18,  epoch 293, local model 84, internal_epoch   2,  Average loss: 0.0030, Accuracy: 994/1053 (94.3970%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.9003, Accuracy: 5598/10000 (55.9800%)
___Train Local_ResNet_18,  epoch 293, local model 89, internal_epoch   1,  Average loss: 0.0055, Accuracy: 365/413 (88.3777%)
___Train Local_ResNet_18,  epoch 293, local model 89, internal_epoch   2,  Average loss: 0.0026, Accuracy: 393/413 (95.1574%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 4.2381, Accuracy: 2776/10000 (27.7600%)
time spent on training: 54.08206081390381
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [977, 391, 824, 212, 416, 584, 299, 203, 1053, 413]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.088627   1.         0.088627   0.48629458 1.
 1.         0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 293: Average loss: 0.6340, Accuracy: 7895/10000 (78.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 293: Average loss: 6.4098, Accuracy: 345/9000 (3.8333%)
Done in 94.252845287323 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:294 choose agents : [85, 53, 21, 90, 35, 87, 11, 29, 63, 6]. Adversary List: []
___Train Local_ResNet_18,  epoch 294, local model 85, internal_epoch   1,  Average loss: 0.0061, Accuracy: 319/364 (87.6374%)
___Train Local_ResNet_18,  epoch 294, local model 85, internal_epoch   2,  Average loss: 0.0016, Accuracy: 356/364 (97.8022%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.1395, Accuracy: 2372/10000 (23.7200%)
___Train Local_ResNet_18,  epoch 294, local model 53, internal_epoch   1,  Average loss: 0.0031, Accuracy: 590/625 (94.4000%)
___Train Local_ResNet_18,  epoch 294, local model 53, internal_epoch   2,  Average loss: 0.0021, Accuracy: 601/625 (96.1600%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 2.4645, Accuracy: 4764/10000 (47.6400%)
___Train Local_ResNet_18,  epoch 294, local model 21, internal_epoch   1,  Average loss: 0.0030, Accuracy: 251/262 (95.8015%)
___Train Local_ResNet_18,  epoch 294, local model 21, internal_epoch   2,  Average loss: 0.0029, Accuracy: 260/262 (99.2366%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 3.7887, Accuracy: 3681/10000 (36.8100%)
___Train Local_ResNet_18,  epoch 294, local model 90, internal_epoch   1,  Average loss: 0.0157, Accuracy: 531/578 (91.8685%)
___Train Local_ResNet_18,  epoch 294, local model 90, internal_epoch   2,  Average loss: 0.0131, Accuracy: 473/578 (81.8339%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 19.9988, Accuracy: 1410/10000 (14.1000%)
___Train Local_ResNet_18,  epoch 294, local model 35, internal_epoch   1,  Average loss: 0.0053, Accuracy: 373/419 (89.0215%)
___Train Local_ResNet_18,  epoch 294, local model 35, internal_epoch   2,  Average loss: 0.0021, Accuracy: 399/419 (95.2267%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.6832, Accuracy: 2722/10000 (27.2200%)
___Train Local_ResNet_18,  epoch 294, local model 87, internal_epoch   1,  Average loss: 0.0079, Accuracy: 340/397 (85.6423%)
___Train Local_ResNet_18,  epoch 294, local model 87, internal_epoch   2,  Average loss: 0.0093, Accuracy: 337/397 (84.8866%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 4.8852, Accuracy: 2685/10000 (26.8500%)
poison local model 11 index 3 
___Train Local_ResNet_18,  epoch 294, local model 11, internal_epoch   1,  Average loss: 0.0029, Accuracy: 523/546 (95.7875%)
___Train Local_ResNet_18,  epoch 294, local model 11, internal_epoch   2,  Average loss: 0.0032, Accuracy: 516/546 (94.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.6141, Accuracy: 5636/10000 (56.3600%)
___Train Local_ResNet_18,  epoch 294, local model 29, internal_epoch   1,  Average loss: 0.0045, Accuracy: 773/848 (91.1557%)
___Train Local_ResNet_18,  epoch 294, local model 29, internal_epoch   2,  Average loss: 0.0043, Accuracy: 791/848 (93.2783%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 9.3835, Accuracy: 1895/10000 (18.9500%)
___Train Local_ResNet_18,  epoch 294, local model 63, internal_epoch   1,  Average loss: 0.0022, Accuracy: 717/752 (95.3457%)
___Train Local_ResNet_18,  epoch 294, local model 63, internal_epoch   2,  Average loss: 0.0017, Accuracy: 721/752 (95.8777%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.1371, Accuracy: 6557/10000 (65.5700%)
___Train Local_ResNet_18,  epoch 294, local model 6, internal_epoch   1,  Average loss: 0.0039, Accuracy: 486/520 (93.4615%)
___Train Local_ResNet_18,  epoch 294, local model 6, internal_epoch   2,  Average loss: 0.0089, Accuracy: 469/520 (90.1923%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.5798, Accuracy: 2094/10000 (20.9400%)
time spent on training: 62.438132524490356
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10280549802297119  data num: [364, 625, 262, 578, 419, 397, 546, 848, 752, 520]
[foolsgold agg] considering poison per batch poison_fraction: 0.008031679533044624
[foolsgold agg] wv: [0.82611239 1.         0.60094467 1.         1.         1.
 0.82611239 1.         1.         0.60094467]
___Test Target_ResNet_18 poisoned: False, epoch: 294: Average loss: 0.6340, Accuracy: 7899/10000 (78.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 294: Average loss: 6.3832, Accuracy: 352/9000 (3.9111%)
Done in 98.39854907989502 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:295 choose agents : [12, 32, 40, 95, 41, 87, 33, 94, 45, 52]. Adversary List: []
___Train Local_ResNet_18,  epoch 295, local model 12, internal_epoch   1,  Average loss: 0.0047, Accuracy: 894/977 (91.5046%)
___Train Local_ResNet_18,  epoch 295, local model 12, internal_epoch   2,  Average loss: 0.0088, Accuracy: 811/977 (83.0092%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 4.7437, Accuracy: 3343/10000 (33.4300%)
___Train Local_ResNet_18,  epoch 295, local model 32, internal_epoch   1,  Average loss: 0.0020, Accuracy: 793/824 (96.2379%)
___Train Local_ResNet_18,  epoch 295, local model 32, internal_epoch   2,  Average loss: 0.0018, Accuracy: 795/824 (96.4806%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.1394, Accuracy: 5342/10000 (53.4200%)
___Train Local_ResNet_18,  epoch 295, local model 40, internal_epoch   1,  Average loss: 0.0044, Accuracy: 593/652 (90.9509%)
___Train Local_ResNet_18,  epoch 295, local model 40, internal_epoch   2,  Average loss: 0.0109, Accuracy: 552/652 (84.6626%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 10.7390, Accuracy: 2237/10000 (22.3700%)
___Train Local_ResNet_18,  epoch 295, local model 95, internal_epoch   1,  Average loss: 0.0080, Accuracy: 476/569 (83.6555%)
___Train Local_ResNet_18,  epoch 295, local model 95, internal_epoch   2,  Average loss: 0.0044, Accuracy: 516/569 (90.6854%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 5.9014, Accuracy: 2827/10000 (28.2700%)
___Train Local_ResNet_18,  epoch 295, local model 41, internal_epoch   1,  Average loss: 0.0190, Accuracy: 446/513 (86.9396%)
___Train Local_ResNet_18,  epoch 295, local model 41, internal_epoch   2,  Average loss: 0.0086, Accuracy: 434/513 (84.6004%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 5.1775, Accuracy: 2490/10000 (24.9000%)
___Train Local_ResNet_18,  epoch 295, local model 87, internal_epoch   1,  Average loss: 0.0075, Accuracy: 334/397 (84.1310%)
___Train Local_ResNet_18,  epoch 295, local model 87, internal_epoch   2,  Average loss: 0.0059, Accuracy: 359/397 (90.4282%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.3126, Accuracy: 4565/10000 (45.6500%)
poison local model 33 index 1 
___Train Local_ResNet_18,  epoch 295, local model 33, internal_epoch   1,  Average loss: 0.0044, Accuracy: 487/527 (92.4099%)
___Train Local_ResNet_18,  epoch 295, local model 33, internal_epoch   2,  Average loss: 0.0069, Accuracy: 470/527 (89.1841%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.5672, Accuracy: 4206/10000 (42.0600%)
___Train Local_ResNet_18,  epoch 295, local model 94, internal_epoch   1,  Average loss: 0.0060, Accuracy: 171/203 (84.2365%)
___Train Local_ResNet_18,  epoch 295, local model 94, internal_epoch   2,  Average loss: 0.0013, Accuracy: 200/203 (98.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 3.6691, Accuracy: 3269/10000 (32.6900%)
___Train Local_ResNet_18,  epoch 295, local model 45, internal_epoch   1,  Average loss: 0.0057, Accuracy: 471/529 (89.0359%)
___Train Local_ResNet_18,  epoch 295, local model 45, internal_epoch   2,  Average loss: 0.0076, Accuracy: 466/529 (88.0907%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 7.3066, Accuracy: 2445/10000 (24.4500%)
___Train Local_ResNet_18,  epoch 295, local model 52, internal_epoch   1,  Average loss: 0.0061, Accuracy: 192/214 (89.7196%)
___Train Local_ResNet_18,  epoch 295, local model 52, internal_epoch   2,  Average loss: 0.0012, Accuracy: 212/214 (99.0654%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.6594, Accuracy: 4561/10000 (45.6100%)
time spent on training: 53.20305371284485
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.09750231267345051  data num: [977, 824, 652, 569, 513, 397, 527, 203, 529, 214]
[foolsgold agg] considering poison per batch poison_fraction: 0.007617368177613321
[foolsgold agg] wv: [1.         1.         0.10225994 1.         0.         0.10225994
 1.         0.         1.         1.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 295: Average loss: 0.6349, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 295: Average loss: 6.3705, Accuracy: 355/9000 (3.9444%)
Done in 96.27864527702332 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:296 choose agents : [32, 46, 40, 24, 98, 10, 59, 96, 71, 78]. Adversary List: []
___Train Local_ResNet_18,  epoch 296, local model 32, internal_epoch   1,  Average loss: 0.0021, Accuracy: 786/824 (95.3883%)
___Train Local_ResNet_18,  epoch 296, local model 32, internal_epoch   2,  Average loss: 0.0018, Accuracy: 793/824 (96.2379%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.8326, Accuracy: 5795/10000 (57.9500%)
___Train Local_ResNet_18,  epoch 296, local model 46, internal_epoch   1,  Average loss: 0.0013, Accuracy: 590/601 (98.1697%)
___Train Local_ResNet_18,  epoch 296, local model 46, internal_epoch   2,  Average loss: 0.0004, Accuracy: 598/601 (99.5008%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.8863, Accuracy: 5257/10000 (52.5700%)
___Train Local_ResNet_18,  epoch 296, local model 40, internal_epoch   1,  Average loss: 0.0079, Accuracy: 572/652 (87.7301%)
___Train Local_ResNet_18,  epoch 296, local model 40, internal_epoch   2,  Average loss: 0.0173, Accuracy: 470/652 (72.0859%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 27.0765, Accuracy: 1157/10000 (11.5700%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   1,  Average loss: 0.0032, Accuracy: 298/320 (93.1250%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   2,  Average loss: 0.0003, Accuracy: 320/320 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.0540, Accuracy: 5142/10000 (51.4200%)
___Train Local_ResNet_18,  epoch 296, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 737/802 (91.8953%)
___Train Local_ResNet_18,  epoch 296, local model 98, internal_epoch   2,  Average loss: 0.0068, Accuracy: 692/802 (86.2843%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 22.5343, Accuracy: 1585/10000 (15.8500%)
___Train Local_ResNet_18,  epoch 296, local model 10, internal_epoch   1,  Average loss: 0.0057, Accuracy: 670/752 (89.0957%)
___Train Local_ResNet_18,  epoch 296, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 687/752 (91.3564%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 5.0735, Accuracy: 3194/10000 (31.9400%)
___Train Local_ResNet_18,  epoch 296, local model 59, internal_epoch   1,  Average loss: 0.0035, Accuracy: 606/642 (94.3925%)
___Train Local_ResNet_18,  epoch 296, local model 59, internal_epoch   2,  Average loss: 0.0183, Accuracy: 496/642 (77.2586%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1378.1222, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   1,  Average loss: 0.0026, Accuracy: 679/708 (95.9040%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   2,  Average loss: 0.0111, Accuracy: 572/708 (80.7910%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 12.6141, Accuracy: 2373/10000 (23.7300%)
___Train Local_ResNet_18,  epoch 296, local model 71, internal_epoch   1,  Average loss: 0.0029, Accuracy: 1091/1166 (93.5678%)
___Train Local_ResNet_18,  epoch 296, local model 71, internal_epoch   2,  Average loss: 0.0066, Accuracy: 1022/1166 (87.6501%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 9.8896, Accuracy: 1994/10000 (19.9400%)
___Train Local_ResNet_18,  epoch 296, local model 78, internal_epoch   1,  Average loss: 0.0047, Accuracy: 230/255 (90.1961%)
___Train Local_ResNet_18,  epoch 296, local model 78, internal_epoch   2,  Average loss: 0.0010, Accuracy: 251/255 (98.4314%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.7985, Accuracy: 4338/10000 (43.3800%)
time spent on training: 49.375223875045776
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [824, 601, 652, 320, 802, 752, 642, 708, 1166, 255]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.88282162 1.         0.68118477 0.88282162 1.         1.
 0.         0.68118477 1.         0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 296: Average loss: 0.6345, Accuracy: 7895/10000 (78.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 296: Average loss: 6.3966, Accuracy: 354/9000 (3.9333%)
Done in 87.5095694065094 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:297 choose agents : [95, 43, 1, 8, 17, 19, 94, 71, 63, 23]. Adversary List: []
___Train Local_ResNet_18,  epoch 297, local model 95, internal_epoch   1,  Average loss: 0.0081, Accuracy: 476/569 (83.6555%)
___Train Local_ResNet_18,  epoch 297, local model 95, internal_epoch   2,  Average loss: 0.0041, Accuracy: 518/569 (91.0369%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.2619, Accuracy: 2847/10000 (28.4700%)
___Train Local_ResNet_18,  epoch 297, local model 43, internal_epoch   1,  Average loss: 0.0057, Accuracy: 307/345 (88.9855%)
___Train Local_ResNet_18,  epoch 297, local model 43, internal_epoch   2,  Average loss: 0.0016, Accuracy: 338/345 (97.9710%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.8032, Accuracy: 3291/10000 (32.9100%)
___Train Local_ResNet_18,  epoch 297, local model 1, internal_epoch   1,  Average loss: 0.0032, Accuracy: 608/641 (94.8518%)
___Train Local_ResNet_18,  epoch 297, local model 1, internal_epoch   2,  Average loss: 0.0088, Accuracy: 615/641 (95.9438%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 2.7523, Accuracy: 4151/10000 (41.5100%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   1,  Average loss: 0.0028, Accuracy: 509/534 (95.3184%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   2,  Average loss: 0.0026, Accuracy: 513/534 (96.0674%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 2.0085, Accuracy: 4860/10000 (48.6000%)
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 297, local model 17, internal_epoch   1,  Average loss: 0.0025, Accuracy: 508/526 (96.5779%)
___Train Local_ResNet_18,  epoch 297, local model 17, internal_epoch   2,  Average loss: 0.0035, Accuracy: 501/526 (95.2471%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.8912, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 297, local model 19, internal_epoch   1,  Average loss: 0.0128, Accuracy: 130/173 (75.1445%)
___Train Local_ResNet_18,  epoch 297, local model 19, internal_epoch   2,  Average loss: 0.0015, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 5.9674, Accuracy: 3230/10000 (32.3000%)
___Train Local_ResNet_18,  epoch 297, local model 94, internal_epoch   1,  Average loss: 0.0067, Accuracy: 177/203 (87.1921%)
___Train Local_ResNet_18,  epoch 297, local model 94, internal_epoch   2,  Average loss: 0.0007, Accuracy: 201/203 (99.0148%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 4.7387, Accuracy: 2457/10000 (24.5700%)
___Train Local_ResNet_18,  epoch 297, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 1088/1166 (93.3105%)
___Train Local_ResNet_18,  epoch 297, local model 71, internal_epoch   2,  Average loss: 0.0111, Accuracy: 920/1166 (78.9022%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 7.3368, Accuracy: 2217/10000 (22.1700%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   1,  Average loss: 0.0020, Accuracy: 726/752 (96.5426%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   2,  Average loss: 0.0011, Accuracy: 741/752 (98.5372%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.1458, Accuracy: 6560/10000 (65.6000%)
___Train Local_ResNet_18,  epoch 297, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 232/248 (93.5484%)
___Train Local_ResNet_18,  epoch 297, local model 23, internal_epoch   2,  Average loss: 0.0007, Accuracy: 247/248 (99.5968%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.5173, Accuracy: 5671/10000 (56.7100%)
time spent on training: 57.50110960006714
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10199728524335855  data num: [569, 345, 641, 534, 526, 173, 203, 1166, 752, 248]
[foolsgold agg] considering poison per batch poison_fraction: 0.007968537909637387
[foolsgold agg] wv: [1. 0. 1. 1. 1. 0. 0. 1. 0. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 297: Average loss: 0.6351, Accuracy: 7896/10000 (78.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 297: Average loss: 6.3977, Accuracy: 355/9000 (3.9444%)
Done in 96.16157221794128 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:298 choose agents : [38, 15, 57, 55, 80, 77, 88, 43, 28, 98]. Adversary List: []
___Train Local_ResNet_18,  epoch 298, local model 38, internal_epoch   1,  Average loss: 0.0023, Accuracy: 724/756 (95.7672%)
___Train Local_ResNet_18,  epoch 298, local model 38, internal_epoch   2,  Average loss: 0.0023, Accuracy: 719/756 (95.1058%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.1221, Accuracy: 5185/10000 (51.8500%)
___Train Local_ResNet_18,  epoch 298, local model 15, internal_epoch   1,  Average loss: 0.0077, Accuracy: 294/341 (86.2170%)
___Train Local_ResNet_18,  epoch 298, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 313/341 (91.7889%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.2990, Accuracy: 3553/10000 (35.5300%)
___Train Local_ResNet_18,  epoch 298, local model 57, internal_epoch   1,  Average loss: 0.0044, Accuracy: 268/290 (92.4138%)
___Train Local_ResNet_18,  epoch 298, local model 57, internal_epoch   2,  Average loss: 0.0005, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 2.4526, Accuracy: 4871/10000 (48.7100%)
___Train Local_ResNet_18,  epoch 298, local model 55, internal_epoch   1,  Average loss: 0.0035, Accuracy: 280/299 (93.6455%)
___Train Local_ResNet_18,  epoch 298, local model 55, internal_epoch   2,  Average loss: 0.0008, Accuracy: 295/299 (98.6622%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 10.4670, Accuracy: 1915/10000 (19.1500%)
___Train Local_ResNet_18,  epoch 298, local model 80, internal_epoch   1,  Average loss: 0.0051, Accuracy: 325/363 (89.5317%)
___Train Local_ResNet_18,  epoch 298, local model 80, internal_epoch   2,  Average loss: 0.0015, Accuracy: 356/363 (98.0716%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 4.0097, Accuracy: 4112/10000 (41.1200%)
poison local model 77 index 2 
___Train Local_ResNet_18,  epoch 298, local model 77, internal_epoch   1,  Average loss: 0.0019, Accuracy: 477/496 (96.1694%)
___Train Local_ResNet_18,  epoch 298, local model 77, internal_epoch   2,  Average loss: 0.0010, Accuracy: 490/496 (98.7903%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.4219, Accuracy: 6098/10000 (60.9800%)
___Train Local_ResNet_18,  epoch 298, local model 88, internal_epoch   1,  Average loss: 0.0065, Accuracy: 391/447 (87.4720%)
___Train Local_ResNet_18,  epoch 298, local model 88, internal_epoch   2,  Average loss: 0.0028, Accuracy: 414/447 (92.6174%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 5.0656, Accuracy: 2655/10000 (26.5500%)
___Train Local_ResNet_18,  epoch 298, local model 43, internal_epoch   1,  Average loss: 0.0051, Accuracy: 313/345 (90.7246%)
___Train Local_ResNet_18,  epoch 298, local model 43, internal_epoch   2,  Average loss: 0.0018, Accuracy: 335/345 (97.1014%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 5.4454, Accuracy: 3143/10000 (31.4300%)
___Train Local_ResNet_18,  epoch 298, local model 28, internal_epoch   1,  Average loss: 0.0020, Accuracy: 408/423 (96.4539%)
___Train Local_ResNet_18,  epoch 298, local model 28, internal_epoch   2,  Average loss: 0.0006, Accuracy: 421/423 (99.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.3588, Accuracy: 6332/10000 (63.3200%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   1,  Average loss: 0.0029, Accuracy: 760/802 (94.7631%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   2,  Average loss: 0.0040, Accuracy: 746/802 (93.0175%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.4792, Accuracy: 3824/10000 (38.2400%)
time spent on training: 55.41221070289612
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.10872424375274002  data num: [756, 341, 290, 299, 363, 496, 447, 345, 423, 802]
[foolsgold agg] considering poison per batch poison_fraction: 0.008494081543182814
[foolsgold agg] wv: [1.         1.         0.23972414 1.         1.         0.23972414
 0.3413254  0.         0.3413254  0.        ]
___Test Target_ResNet_18 poisoned: False, epoch: 298: Average loss: 0.6350, Accuracy: 7893/10000 (78.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 298: Average loss: 6.3932, Accuracy: 354/9000 (3.9333%)
Done in 93.70508980751038 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:299 choose agents : [51, 96, 59, 53, 85, 64, 4, 80, 66, 21]. Adversary List: []
___Train Local_ResNet_18,  epoch 299, local model 51, internal_epoch   1,  Average loss: 0.0044, Accuracy: 431/479 (89.9791%)
___Train Local_ResNet_18,  epoch 299, local model 51, internal_epoch   2,  Average loss: 0.0015, Accuracy: 463/479 (96.6597%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 7.1908, Accuracy: 2617/10000 (26.1700%)
___Train Local_ResNet_18,  epoch 299, local model 96, internal_epoch   1,  Average loss: 0.0045, Accuracy: 670/708 (94.6328%)
___Train Local_ResNet_18,  epoch 299, local model 96, internal_epoch   2,  Average loss: 0.0243, Accuracy: 428/708 (60.4520%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 32.2910, Accuracy: 1225/10000 (12.2500%)
___Train Local_ResNet_18,  epoch 299, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 607/642 (94.5483%)
___Train Local_ResNet_18,  epoch 299, local model 59, internal_epoch   2,  Average loss: 0.0056, Accuracy: 627/642 (97.6636%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 4.7508, Accuracy: 3098/10000 (30.9800%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   1,  Average loss: 0.0029, Accuracy: 595/625 (95.2000%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   2,  Average loss: 0.0016, Accuracy: 606/625 (96.9600%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.4288, Accuracy: 4713/10000 (47.1300%)
___Train Local_ResNet_18,  epoch 299, local model 85, internal_epoch   1,  Average loss: 0.0051, Accuracy: 336/364 (92.3077%)
___Train Local_ResNet_18,  epoch 299, local model 85, internal_epoch   2,  Average loss: 0.0021, Accuracy: 354/364 (97.2527%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.6212, Accuracy: 3475/10000 (34.7500%)
___Train Local_ResNet_18,  epoch 299, local model 64, internal_epoch   1,  Average loss: 0.0035, Accuracy: 641/686 (93.4402%)
___Train Local_ResNet_18,  epoch 299, local model 64, internal_epoch   2,  Average loss: 0.0028, Accuracy: 651/686 (94.8980%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.3798, Accuracy: 4898/10000 (48.9800%)
___Train Local_ResNet_18,  epoch 299, local model 4, internal_epoch   1,  Average loss: 0.0039, Accuracy: 510/557 (91.5619%)
___Train Local_ResNet_18,  epoch 299, local model 4, internal_epoch   2,  Average loss: 0.0027, Accuracy: 533/557 (95.6912%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.0188, Accuracy: 4741/10000 (47.4100%)
___Train Local_ResNet_18,  epoch 299, local model 80, internal_epoch   1,  Average loss: 0.0048, Accuracy: 326/363 (89.8072%)
___Train Local_ResNet_18,  epoch 299, local model 80, internal_epoch   2,  Average loss: 0.0009, Accuracy: 358/363 (98.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.5223, Accuracy: 4646/10000 (46.4600%)
___Train Local_ResNet_18,  epoch 299, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 521/555 (93.8739%)
___Train Local_ResNet_18,  epoch 299, local model 66, internal_epoch   2,  Average loss: 0.0007, Accuracy: 550/555 (99.0991%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.0984, Accuracy: 4139/10000 (41.3900%)
___Train Local_ResNet_18,  epoch 299, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 242/262 (92.3664%)
___Train Local_ResNet_18,  epoch 299, local model 21, internal_epoch   2,  Average loss: 0.0007, Accuracy: 257/262 (98.0916%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 2.4259, Accuracy: 4485/10000 (44.8500%)
time spent on training: 47.824491024017334
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.0  data num: [479, 708, 642, 625, 364, 686, 557, 363, 555, 262]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 0. 1. 1. 1. 1. 1. 1.]
___Test Target_ResNet_18 poisoned: False, epoch: 299: Average loss: 0.6350, Accuracy: 7892/10000 (78.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 299: Average loss: 6.3771, Accuracy: 354/9000 (3.9333%)
Done in 82.92294573783875 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:300 choose agents : [17, 39, 59, 89, 57, 76, 93, 68, 65, 73]. Adversary List: []
poison local model 17 index 0 
___Train Local_ResNet_18,  epoch 300, local model 17, internal_epoch   1,  Average loss: 0.0017, Accuracy: 516/526 (98.0989%)
___Train Local_ResNet_18,  epoch 300, local model 17, internal_epoch   2,  Average loss: 0.0008, Accuracy: 521/526 (99.0494%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.2767, Accuracy: 6500/10000 (65.0000%)
___Train Local_ResNet_18,  epoch 300, local model 39, internal_epoch   1,  Average loss: 0.0047, Accuracy: 195/217 (89.8618%)
___Train Local_ResNet_18,  epoch 300, local model 39, internal_epoch   2,  Average loss: 0.0007, Accuracy: 217/217 (100.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 2.4650, Accuracy: 4612/10000 (46.1200%)
___Train Local_ResNet_18,  epoch 300, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 617/642 (96.1059%)
___Train Local_ResNet_18,  epoch 300, local model 59, internal_epoch   2,  Average loss: 0.0185, Accuracy: 465/642 (72.4299%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 187.1905, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 300, local model 89, internal_epoch   1,  Average loss: 0.0068, Accuracy: 359/413 (86.9249%)
___Train Local_ResNet_18,  epoch 300, local model 89, internal_epoch   2,  Average loss: 0.0026, Accuracy: 397/413 (96.1259%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 4.3285, Accuracy: 2964/10000 (29.6400%)
___Train Local_ResNet_18,  epoch 300, local model 57, internal_epoch   1,  Average loss: 0.0048, Accuracy: 261/290 (90.0000%)
___Train Local_ResNet_18,  epoch 300, local model 57, internal_epoch   2,  Average loss: 0.0007, Accuracy: 288/290 (99.3103%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.0350, Accuracy: 4461/10000 (44.6100%)
___Train Local_ResNet_18,  epoch 300, local model 76, internal_epoch   1,  Average loss: 0.0275, Accuracy: 64/65 (98.4615%)
___Train Local_ResNet_18,  epoch 300, local model 76, internal_epoch   2,  Average loss: 0.0464, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 0.8467, Accuracy: 7381/10000 (73.8100%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   1,  Average loss: 0.0026, Accuracy: 552/584 (94.5205%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   2,  Average loss: 0.0037, Accuracy: 564/584 (96.5753%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 2.5303, Accuracy: 4767/10000 (47.6700%)
___Train Local_ResNet_18,  epoch 300, local model 68, internal_epoch   1,  Average loss: 0.0024, Accuracy: 402/416 (96.6346%)
___Train Local_ResNet_18,  epoch 300, local model 68, internal_epoch   2,  Average loss: 0.0006, Accuracy: 414/416 (99.5192%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.3931, Accuracy: 6271/10000 (62.7100%)
___Train Local_ResNet_18,  epoch 300, local model 65, internal_epoch   1,  Average loss: 0.0036, Accuracy: 296/314 (94.2675%)
___Train Local_ResNet_18,  epoch 300, local model 65, internal_epoch   2,  Average loss: 0.0004, Accuracy: 313/314 (99.6815%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.1172, Accuracy: 3679/10000 (36.7900%)
___Train Local_ResNet_18,  epoch 300, local model 73, internal_epoch   1,  Average loss: 0.0097, Accuracy: 410/500 (82.0000%)
___Train Local_ResNet_18,  epoch 300, local model 73, internal_epoch   2,  Average loss: 0.0040, Accuracy: 461/500 (92.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 3.1686, Accuracy: 3940/10000 (39.4000%)
time spent on training: 56.55551195144653
----------------------------------End one training epoch------------------------------------------
[foolsgold agg] training data poison_ratio: 0.13259389967229646  data num: [526, 217, 642, 413, 290, 65, 584, 416, 314, 500]
[foolsgold agg] considering poison per batch poison_fraction: 0.01035889841189816
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 0. 0.]
___Test Target_ResNet_18 poisoned: False, epoch: 300: Average loss: 0.6346, Accuracy: 7902/10000 (79.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 300: Average loss: 6.3510, Accuracy: 357/9000 (3.9667%)
Done in 91.46180558204651 sec.
Saving all the graphs.
This run has a label: Nov.13_07.11.45. Visdom environment: cifar
