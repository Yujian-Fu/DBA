current path: saved_models/model_cifar_Nov.13_04.17.27
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.1 and current epoch is 201
create model done
Poisoned following participants: [45]
We use following environment for graphs:  cifar
----------------------------------Start one training epoch------------------------------------------
Server Epoch:201 choose agents : [45, 34, 51, 36, 55, 61, 46, 48, 70, 85]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 201, local model 45, internal_epoch   1,  Average loss: 0.0118, Accuracy: 430/529 (81.2854%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 201, local model 45, internal_epoch   2,  Average loss: 0.0051, Accuracy: 485/529 (91.6824%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 201, local model 45, internal_epoch   3,  Average loss: 0.0028, Accuracy: 508/529 (96.0302%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 201, local model 45, internal_epoch   4,  Average loss: 0.0020, Accuracy: 515/529 (97.3535%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 201, local model 45, internal_epoch   5,  Average loss: 0.0012, Accuracy: 520/529 (98.2987%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 201, local model 45, internal_epoch   6,  Average loss: 0.0010, Accuracy: 521/529 (98.4877%), train_poison_data_count: 45
Global model norm: 37.66304237236004.
Norm before scaling: 38.5341708645554. Distance: 9.444965567579054
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.5644, Accuracy: 4068/10000 (40.6800%)
___Test Local_ResNet_18 poisoned: True, epoch: 201: Average loss: 0.2318, Accuracy: 8470/9000 (94.1111%)
Scaling by  100
Scaled Norm after poisoning: 944.0387968722472, distance: 944.4965921060806
Total norm for 1 adversaries is: 944.0387968722472. distance: 944.4965921060806
___Test Local_ResNet_18 poisoned: True, epoch: 201: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 201, local model 34, internal_epoch   1,  Average loss: 0.0056, Accuracy: 303/349 (86.8195%)
___Train Local_ResNet_18,  epoch 201, local model 34, internal_epoch   2,  Average loss: 0.0024, Accuracy: 334/349 (95.7020%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.6370, Accuracy: 3818/10000 (38.1800%)
___Train Local_ResNet_18,  epoch 201, local model 51, internal_epoch   1,  Average loss: 0.0040, Accuracy: 434/479 (90.6054%)
___Train Local_ResNet_18,  epoch 201, local model 51, internal_epoch   2,  Average loss: 0.0021, Accuracy: 460/479 (96.0334%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 5.5365, Accuracy: 2983/10000 (29.8300%)
___Train Local_ResNet_18,  epoch 201, local model 36, internal_epoch   1,  Average loss: 0.0080, Accuracy: 709/849 (83.5100%)
___Train Local_ResNet_18,  epoch 201, local model 36, internal_epoch   2,  Average loss: 0.0168, Accuracy: 591/849 (69.6113%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 5.9154, Accuracy: 2616/10000 (26.1600%)
___Train Local_ResNet_18,  epoch 201, local model 55, internal_epoch   1,  Average loss: 0.0049, Accuracy: 272/299 (90.9699%)
___Train Local_ResNet_18,  epoch 201, local model 55, internal_epoch   2,  Average loss: 0.0007, Accuracy: 296/299 (98.9967%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 8.4481, Accuracy: 1820/10000 (18.2000%)
___Train Local_ResNet_18,  epoch 201, local model 61, internal_epoch   1,  Average loss: 0.0038, Accuracy: 545/590 (92.3729%)
___Train Local_ResNet_18,  epoch 201, local model 61, internal_epoch   2,  Average loss: 0.0048, Accuracy: 541/590 (91.6949%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.8500, Accuracy: 3010/10000 (30.1000%)
___Train Local_ResNet_18,  epoch 201, local model 46, internal_epoch   1,  Average loss: 0.0020, Accuracy: 581/601 (96.6722%)
___Train Local_ResNet_18,  epoch 201, local model 46, internal_epoch   2,  Average loss: 0.0012, Accuracy: 587/601 (97.6705%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 1.6890, Accuracy: 5659/10000 (56.5900%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   1,  Average loss: 0.0061, Accuracy: 332/378 (87.8307%)
___Train Local_ResNet_18,  epoch 201, local model 48, internal_epoch   2,  Average loss: 0.0025, Accuracy: 360/378 (95.2381%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 5.0677, Accuracy: 2469/10000 (24.6900%)
___Train Local_ResNet_18,  epoch 201, local model 70, internal_epoch   1,  Average loss: 0.0031, Accuracy: 572/610 (93.7705%)
___Train Local_ResNet_18,  epoch 201, local model 70, internal_epoch   2,  Average loss: 0.0023, Accuracy: 581/610 (95.2459%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 3.0453, Accuracy: 3778/10000 (37.7800%)
___Train Local_ResNet_18,  epoch 201, local model 85, internal_epoch   1,  Average loss: 0.0088, Accuracy: 304/364 (83.5165%)
___Train Local_ResNet_18,  epoch 201, local model 85, internal_epoch   2,  Average loss: 0.0036, Accuracy: 335/364 (92.0330%)
___Test Local_ResNet_18 poisoned: False, epoch: 201: Average loss: 4.8463, Accuracy: 2518/10000 (25.1800%)
time spent on training: 67.11492896080017
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 201: Average loss: 2.5838, Accuracy: 4044/10000 (40.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 201: Average loss: 0.2191, Accuracy: 8497/9000 (94.4111%)
Done in 95.38306856155396 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:202 choose agents : [45, 69, 89, 21, 24, 48, 13, 74, 47, 83]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 202, local model 45, internal_epoch   1,  Average loss: 0.0005, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 202, local model 45, internal_epoch   2,  Average loss: 0.0006, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 202, local model 45, internal_epoch   3,  Average loss: 0.0007, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 202, local model 45, internal_epoch   4,  Average loss: 0.0006, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 202, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 202, local model 45, internal_epoch   6,  Average loss: 0.0005, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Global model norm: 38.530963287153064.
Norm before scaling: 38.220053125780716. Distance: 2.415782032115206
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 2.4061, Accuracy: 4088/10000 (40.8800%)
___Test Local_ResNet_18 poisoned: True, epoch: 202: Average loss: 0.1212, Accuracy: 8757/9000 (97.3000%)
Scaling by  100
Scaled Norm after poisoning: 238.48435810866087, distance: 241.57821747055343
Total norm for 1 adversaries is: 238.48435810866087. distance: 241.57821747055343
___Test Local_ResNet_18 poisoned: True, epoch: 202: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 202, local model 69, internal_epoch   1,  Average loss: 0.0559, Accuracy: 84/216 (38.8889%)
___Train Local_ResNet_18,  epoch 202, local model 69, internal_epoch   2,  Average loss: 0.0026, Accuracy: 206/216 (95.3704%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 20.5281, Accuracy: 1130/10000 (11.3000%)
___Train Local_ResNet_18,  epoch 202, local model 89, internal_epoch   1,  Average loss: 0.0264, Accuracy: 248/413 (60.0484%)
___Train Local_ResNet_18,  epoch 202, local model 89, internal_epoch   2,  Average loss: 0.0089, Accuracy: 345/413 (83.5351%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 12.2971, Accuracy: 1656/10000 (16.5600%)
___Train Local_ResNet_18,  epoch 202, local model 21, internal_epoch   1,  Average loss: 0.0414, Accuracy: 123/262 (46.9466%)
___Train Local_ResNet_18,  epoch 202, local model 21, internal_epoch   2,  Average loss: 0.0116, Accuracy: 219/262 (83.5878%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 57.9676, Accuracy: 1553/10000 (15.5300%)
___Train Local_ResNet_18,  epoch 202, local model 24, internal_epoch   1,  Average loss: 0.0353, Accuracy: 174/320 (54.3750%)
___Train Local_ResNet_18,  epoch 202, local model 24, internal_epoch   2,  Average loss: 0.0071, Accuracy: 268/320 (83.7500%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 25.5817, Accuracy: 1003/10000 (10.0300%)
___Train Local_ResNet_18,  epoch 202, local model 48, internal_epoch   1,  Average loss: 0.0207, Accuracy: 246/378 (65.0794%)
___Train Local_ResNet_18,  epoch 202, local model 48, internal_epoch   2,  Average loss: 0.0095, Accuracy: 308/378 (81.4815%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 4.2394, Accuracy: 2975/10000 (29.7500%)
___Train Local_ResNet_18,  epoch 202, local model 13, internal_epoch   1,  Average loss: 0.0312, Accuracy: 351/620 (56.6129%)
___Train Local_ResNet_18,  epoch 202, local model 13, internal_epoch   2,  Average loss: 0.0089, Accuracy: 526/620 (84.8387%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 13.4468, Accuracy: 2287/10000 (22.8700%)
___Train Local_ResNet_18,  epoch 202, local model 74, internal_epoch   1,  Average loss: 0.0203, Accuracy: 312/469 (66.5245%)
___Train Local_ResNet_18,  epoch 202, local model 74, internal_epoch   2,  Average loss: 0.0090, Accuracy: 390/469 (83.1557%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 7.9767, Accuracy: 2750/10000 (27.5000%)
___Train Local_ResNet_18,  epoch 202, local model 47, internal_epoch   1,  Average loss: 0.0247, Accuracy: 436/654 (66.6667%)
___Train Local_ResNet_18,  epoch 202, local model 47, internal_epoch   2,  Average loss: 0.0132, Accuracy: 497/654 (75.9939%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 4.3038, Accuracy: 3200/10000 (32.0000%)
___Train Local_ResNet_18,  epoch 202, local model 83, internal_epoch   1,  Average loss: 0.0292, Accuracy: 195/366 (53.2787%)
___Train Local_ResNet_18,  epoch 202, local model 83, internal_epoch   2,  Average loss: 0.0085, Accuracy: 307/366 (83.8798%)
___Test Local_ResNet_18 poisoned: False, epoch: 202: Average loss: 7.8167, Accuracy: 2722/10000 (27.2200%)
time spent on training: 74.91433382034302
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 202: Average loss: 1.8312, Accuracy: 4688/10000 (46.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 202: Average loss: 0.1681, Accuracy: 8647/9000 (96.0778%)
Done in 103.37940049171448 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:203 choose agents : [45, 24, 56, 6, 91, 59, 97, 69, 8, 67]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 45, internal_epoch   2,  Average loss: 0.0017, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 45, internal_epoch   3,  Average loss: 0.0011, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 45, internal_epoch   4,  Average loss: 0.0010, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 45, internal_epoch   5,  Average loss: 0.0006, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 203, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 38.18974395002865.
Norm before scaling: 37.91415506505288. Distance: 2.8902482070725912
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 2.2601, Accuracy: 4046/10000 (40.4600%)
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: 0.1517, Accuracy: 8682/9000 (96.4667%)
Scaling by  100
Scaled Norm after poisoning: 286.4631166267308, distance: 289.02484214164014
Total norm for 1 adversaries is: 286.4631166267308. distance: 289.02484214164014
___Test Local_ResNet_18 poisoned: True, epoch: 203: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 203, local model 24, internal_epoch   1,  Average loss: 0.0251, Accuracy: 197/320 (61.5625%)
___Train Local_ResNet_18,  epoch 203, local model 24, internal_epoch   2,  Average loss: 0.0072, Accuracy: 273/320 (85.3125%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 4.8841, Accuracy: 2398/10000 (23.9800%)
___Train Local_ResNet_18,  epoch 203, local model 56, internal_epoch   1,  Average loss: 0.0211, Accuracy: 475/743 (63.9300%)
___Train Local_ResNet_18,  epoch 203, local model 56, internal_epoch   2,  Average loss: 0.0117, Accuracy: 576/743 (77.5236%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 6.1113, Accuracy: 2914/10000 (29.1400%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   1,  Average loss: 0.0199, Accuracy: 362/520 (69.6154%)
___Train Local_ResNet_18,  epoch 203, local model 6, internal_epoch   2,  Average loss: 0.0115, Accuracy: 425/520 (81.7308%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 17.4304, Accuracy: 1810/10000 (18.1000%)
___Train Local_ResNet_18,  epoch 203, local model 91, internal_epoch   1,  Average loss: 0.0222, Accuracy: 148/234 (63.2479%)
___Train Local_ResNet_18,  epoch 203, local model 91, internal_epoch   2,  Average loss: 0.0022, Accuracy: 229/234 (97.8632%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 11.8430, Accuracy: 1676/10000 (16.7600%)
___Train Local_ResNet_18,  epoch 203, local model 59, internal_epoch   1,  Average loss: 0.0205, Accuracy: 444/642 (69.1589%)
___Train Local_ResNet_18,  epoch 203, local model 59, internal_epoch   2,  Average loss: 0.0145, Accuracy: 499/642 (77.7259%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 21.8657, Accuracy: 2008/10000 (20.0800%)
___Train Local_ResNet_18,  epoch 203, local model 97, internal_epoch   1,  Average loss: 0.0271, Accuracy: 249/418 (59.5694%)
___Train Local_ResNet_18,  epoch 203, local model 97, internal_epoch   2,  Average loss: 0.0108, Accuracy: 337/418 (80.6220%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 11.7434, Accuracy: 2083/10000 (20.8300%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   1,  Average loss: 0.0438, Accuracy: 100/216 (46.2963%)
___Train Local_ResNet_18,  epoch 203, local model 69, internal_epoch   2,  Average loss: 0.0040, Accuracy: 200/216 (92.5926%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 11.4472, Accuracy: 1679/10000 (16.7900%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   1,  Average loss: 0.0195, Accuracy: 352/534 (65.9176%)
___Train Local_ResNet_18,  epoch 203, local model 8, internal_epoch   2,  Average loss: 0.0111, Accuracy: 405/534 (75.8427%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 5.2348, Accuracy: 2590/10000 (25.9000%)
___Train Local_ResNet_18,  epoch 203, local model 67, internal_epoch   1,  Average loss: 0.0179, Accuracy: 580/842 (68.8836%)
___Train Local_ResNet_18,  epoch 203, local model 67, internal_epoch   2,  Average loss: 0.0096, Accuracy: 684/842 (81.2352%)
___Test Local_ResNet_18 poisoned: False, epoch: 203: Average loss: 3.7319, Accuracy: 3510/10000 (35.1000%)
time spent on training: 76.44391703605652
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 203: Average loss: 1.8600, Accuracy: 4520/10000 (45.2000%)
___Test Target_ResNet_18 poisoned: True, epoch: 203: Average loss: 0.2203, Accuracy: 8513/9000 (94.5889%)
Done in 105.42401576042175 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:204 choose agents : [45, 86, 62, 35, 99, 27, 21, 80, 40, 54]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 204, local model 45, internal_epoch   1,  Average loss: 0.0014, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 204, local model 45, internal_epoch   2,  Average loss: 0.0010, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 204, local model 45, internal_epoch   3,  Average loss: 0.0009, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 204, local model 45, internal_epoch   4,  Average loss: 0.0010, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 204, local model 45, internal_epoch   5,  Average loss: 0.0006, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 204, local model 45, internal_epoch   6,  Average loss: 0.0006, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Global model norm: 37.88912851426267.
Norm before scaling: 37.59782812460715. Distance: 2.6930621939643915
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.9272, Accuracy: 4610/10000 (46.1000%)
___Test Local_ResNet_18 poisoned: True, epoch: 204: Average loss: 0.1319, Accuracy: 8712/9000 (96.8000%)
Scaling by  100
Scaled Norm after poisoning: 266.528111791233, distance: 269.3061977099673
Total norm for 1 adversaries is: 266.528111791233. distance: 269.3061977099673
___Test Local_ResNet_18 poisoned: True, epoch: 204: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 204, local model 86, internal_epoch   1,  Average loss: 0.0386, Accuracy: 98/212 (46.2264%)
___Train Local_ResNet_18,  epoch 204, local model 86, internal_epoch   2,  Average loss: 0.0073, Accuracy: 193/212 (91.0377%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 6.0064, Accuracy: 2315/10000 (23.1500%)
___Train Local_ResNet_18,  epoch 204, local model 62, internal_epoch   1,  Average loss: 0.0202, Accuracy: 237/358 (66.2011%)
___Train Local_ResNet_18,  epoch 204, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 307/358 (85.7542%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 7.8747, Accuracy: 2333/10000 (23.3300%)
___Train Local_ResNet_18,  epoch 204, local model 35, internal_epoch   1,  Average loss: 0.0162, Accuracy: 313/419 (74.7017%)
___Train Local_ResNet_18,  epoch 204, local model 35, internal_epoch   2,  Average loss: 0.0066, Accuracy: 362/419 (86.3962%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 4.5770, Accuracy: 3035/10000 (30.3500%)
___Train Local_ResNet_18,  epoch 204, local model 99, internal_epoch   1,  Average loss: 0.0229, Accuracy: 249/391 (63.6829%)
___Train Local_ResNet_18,  epoch 204, local model 99, internal_epoch   2,  Average loss: 0.0096, Accuracy: 322/391 (82.3529%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 9.9029, Accuracy: 1807/10000 (18.0700%)
___Train Local_ResNet_18,  epoch 204, local model 27, internal_epoch   1,  Average loss: 0.0260, Accuracy: 245/397 (61.7128%)
___Train Local_ResNet_18,  epoch 204, local model 27, internal_epoch   2,  Average loss: 0.0051, Accuracy: 364/397 (91.6877%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 9.8877, Accuracy: 3185/10000 (31.8500%)
___Train Local_ResNet_18,  epoch 204, local model 21, internal_epoch   1,  Average loss: 0.0288, Accuracy: 143/262 (54.5802%)
___Train Local_ResNet_18,  epoch 204, local model 21, internal_epoch   2,  Average loss: 0.0096, Accuracy: 222/262 (84.7328%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 58.8299, Accuracy: 1154/10000 (11.5400%)
___Train Local_ResNet_18,  epoch 204, local model 80, internal_epoch   1,  Average loss: 0.0220, Accuracy: 240/363 (66.1157%)
___Train Local_ResNet_18,  epoch 204, local model 80, internal_epoch   2,  Average loss: 0.0082, Accuracy: 316/363 (87.0523%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 10.1636, Accuracy: 2190/10000 (21.9000%)
___Train Local_ResNet_18,  epoch 204, local model 40, internal_epoch   1,  Average loss: 0.0188, Accuracy: 464/652 (71.1656%)
___Train Local_ResNet_18,  epoch 204, local model 40, internal_epoch   2,  Average loss: 0.0124, Accuracy: 498/652 (76.3804%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 6.0301, Accuracy: 2924/10000 (29.2400%)
___Train Local_ResNet_18,  epoch 204, local model 54, internal_epoch   1,  Average loss: 0.0247, Accuracy: 279/440 (63.4091%)
___Train Local_ResNet_18,  epoch 204, local model 54, internal_epoch   2,  Average loss: 0.0050, Accuracy: 396/440 (90.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 204: Average loss: 7.4094, Accuracy: 2427/10000 (24.2700%)
time spent on training: 85.17252326011658
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 204: Average loss: 1.5527, Accuracy: 5263/10000 (52.6300%)
___Test Target_ResNet_18 poisoned: True, epoch: 204: Average loss: 0.2306, Accuracy: 8513/9000 (94.5889%)
Done in 119.55552005767822 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:205 choose agents : [45, 42, 1, 48, 15, 11, 41, 83, 18, 47]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 205, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 37.57642927566928.
Norm before scaling: 37.19335070834654. Distance: 0.8433281939114965
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.7687, Accuracy: 4949/10000 (49.4900%)
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: 0.0869, Accuracy: 8833/9000 (98.1444%)
Scaling by  100
Scaled Norm after poisoning: 74.75701197776533, distance: 84.33282800254152
Total norm for 1 adversaries is: 74.75701197776533. distance: 84.33282800254152
___Test Local_ResNet_18 poisoned: True, epoch: 205: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 205, local model 42, internal_epoch   1,  Average loss: 0.0287, Accuracy: 104/198 (52.5253%)
___Train Local_ResNet_18,  epoch 205, local model 42, internal_epoch   2,  Average loss: 0.0065, Accuracy: 187/198 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 10.5331, Accuracy: 1521/10000 (15.2100%)
___Train Local_ResNet_18,  epoch 205, local model 1, internal_epoch   1,  Average loss: 0.0182, Accuracy: 463/641 (72.2309%)
___Train Local_ResNet_18,  epoch 205, local model 1, internal_epoch   2,  Average loss: 0.0140, Accuracy: 518/641 (80.8112%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 6.2414, Accuracy: 2024/10000 (20.2400%)
___Train Local_ResNet_18,  epoch 205, local model 48, internal_epoch   1,  Average loss: 0.0129, Accuracy: 273/378 (72.2222%)
___Train Local_ResNet_18,  epoch 205, local model 48, internal_epoch   2,  Average loss: 0.0048, Accuracy: 339/378 (89.6825%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.2936, Accuracy: 4273/10000 (42.7300%)
___Train Local_ResNet_18,  epoch 205, local model 15, internal_epoch   1,  Average loss: 0.0293, Accuracy: 204/341 (59.8240%)
___Train Local_ResNet_18,  epoch 205, local model 15, internal_epoch   2,  Average loss: 0.0102, Accuracy: 281/341 (82.4047%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 5.6023, Accuracy: 1582/10000 (15.8200%)
___Train Local_ResNet_18,  epoch 205, local model 11, internal_epoch   1,  Average loss: 0.0211, Accuracy: 347/546 (63.5531%)
___Train Local_ResNet_18,  epoch 205, local model 11, internal_epoch   2,  Average loss: 0.0085, Accuracy: 450/546 (82.4176%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 9.0960, Accuracy: 2573/10000 (25.7300%)
___Train Local_ResNet_18,  epoch 205, local model 41, internal_epoch   1,  Average loss: 0.0233, Accuracy: 326/513 (63.5478%)
___Train Local_ResNet_18,  epoch 205, local model 41, internal_epoch   2,  Average loss: 0.0217, Accuracy: 434/513 (84.6004%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 6.3909, Accuracy: 2185/10000 (21.8500%)
___Train Local_ResNet_18,  epoch 205, local model 83, internal_epoch   1,  Average loss: 0.0169, Accuracy: 246/366 (67.2131%)
___Train Local_ResNet_18,  epoch 205, local model 83, internal_epoch   2,  Average loss: 0.0059, Accuracy: 324/366 (88.5246%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 2.8608, Accuracy: 3984/10000 (39.8400%)
___Train Local_ResNet_18,  epoch 205, local model 18, internal_epoch   1,  Average loss: 0.0202, Accuracy: 261/386 (67.6166%)
___Train Local_ResNet_18,  epoch 205, local model 18, internal_epoch   2,  Average loss: 0.0097, Accuracy: 310/386 (80.3109%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 5.5442, Accuracy: 2882/10000 (28.8200%)
___Train Local_ResNet_18,  epoch 205, local model 47, internal_epoch   1,  Average loss: 0.0201, Accuracy: 449/654 (68.6544%)
___Train Local_ResNet_18,  epoch 205, local model 47, internal_epoch   2,  Average loss: 0.0110, Accuracy: 521/654 (79.6636%)
___Test Local_ResNet_18 poisoned: False, epoch: 205: Average loss: 24.1372, Accuracy: 1219/10000 (12.1900%)
time spent on training: 76.59517216682434
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 205: Average loss: 1.4592, Accuracy: 5509/10000 (55.0900%)
___Test Target_ResNet_18 poisoned: True, epoch: 205: Average loss: 0.1185, Accuracy: 8770/9000 (97.4444%)
Done in 104.94871044158936 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:206 choose agents : [45, 40, 26, 49, 4, 94, 82, 97, 57, 12]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 206, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 206, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 206, local model 45, internal_epoch   3,  Average loss: 0.0005, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 206, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 206, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 206, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 37.17308839707245.
Norm before scaling: 36.82165765763744. Distance: 1.6030242204127354
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.5983, Accuracy: 5281/10000 (52.8100%)
___Test Local_ResNet_18 poisoned: True, epoch: 206: Average loss: 0.1018, Accuracy: 8792/9000 (97.6889%)
Scaling by  100
Scaled Norm after poisoning: 155.63190245736894, distance: 160.302430239298
Total norm for 1 adversaries is: 155.63190245736894. distance: 160.302430239298
___Test Local_ResNet_18 poisoned: True, epoch: 206: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 206, local model 40, internal_epoch   1,  Average loss: 0.0157, Accuracy: 489/652 (75.0000%)
___Train Local_ResNet_18,  epoch 206, local model 40, internal_epoch   2,  Average loss: 0.0092, Accuracy: 558/652 (85.5828%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 7.1023, Accuracy: 2328/10000 (23.2800%)
___Train Local_ResNet_18,  epoch 206, local model 26, internal_epoch   1,  Average loss: 0.0189, Accuracy: 312/468 (66.6667%)
___Train Local_ResNet_18,  epoch 206, local model 26, internal_epoch   2,  Average loss: 0.0088, Accuracy: 387/468 (82.6923%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.5628, Accuracy: 3452/10000 (34.5200%)
___Train Local_ResNet_18,  epoch 206, local model 49, internal_epoch   1,  Average loss: 0.0159, Accuracy: 303/426 (71.1268%)
___Train Local_ResNet_18,  epoch 206, local model 49, internal_epoch   2,  Average loss: 0.0058, Accuracy: 381/426 (89.4366%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 4.6597, Accuracy: 3264/10000 (32.6400%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   1,  Average loss: 0.0143, Accuracy: 420/557 (75.4039%)
___Train Local_ResNet_18,  epoch 206, local model 4, internal_epoch   2,  Average loss: 0.0061, Accuracy: 494/557 (88.6894%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 4.5484, Accuracy: 3227/10000 (32.2700%)
___Train Local_ResNet_18,  epoch 206, local model 94, internal_epoch   1,  Average loss: 0.0291, Accuracy: 110/203 (54.1872%)
___Train Local_ResNet_18,  epoch 206, local model 94, internal_epoch   2,  Average loss: 0.0104, Accuracy: 188/203 (92.6108%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 6.9853, Accuracy: 2244/10000 (22.4400%)
___Train Local_ResNet_18,  epoch 206, local model 82, internal_epoch   1,  Average loss: 0.0148, Accuracy: 443/601 (73.7105%)
___Train Local_ResNet_18,  epoch 206, local model 82, internal_epoch   2,  Average loss: 0.0050, Accuracy: 549/601 (91.3478%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 5.8301, Accuracy: 3381/10000 (33.8100%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   1,  Average loss: 0.0179, Accuracy: 286/418 (68.4211%)
___Train Local_ResNet_18,  epoch 206, local model 97, internal_epoch   2,  Average loss: 0.0083, Accuracy: 363/418 (86.8421%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 7.2859, Accuracy: 1865/10000 (18.6500%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   1,  Average loss: 0.0175, Accuracy: 199/290 (68.6207%)
___Train Local_ResNet_18,  epoch 206, local model 57, internal_epoch   2,  Average loss: 0.0026, Accuracy: 277/290 (95.5172%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 3.8102, Accuracy: 3427/10000 (34.2700%)
___Train Local_ResNet_18,  epoch 206, local model 12, internal_epoch   1,  Average loss: 0.0161, Accuracy: 703/977 (71.9550%)
___Train Local_ResNet_18,  epoch 206, local model 12, internal_epoch   2,  Average loss: 0.0107, Accuracy: 753/977 (77.0727%)
___Test Local_ResNet_18 poisoned: False, epoch: 206: Average loss: 4.6037, Accuracy: 3105/10000 (31.0500%)
time spent on training: 85.54150986671448
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 206: Average loss: 1.2984, Accuracy: 5854/10000 (58.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 206: Average loss: 0.1613, Accuracy: 8697/9000 (96.6333%)
Done in 118.77015328407288 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:207 choose agents : [45, 55, 74, 77, 82, 87, 22, 61, 1, 50]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 207, local model 45, internal_epoch   6,  Average loss: 0.0010, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 36.8039238206166.
Norm before scaling: 36.420810862296676. Distance: 0.5620577451152098
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 1.4028, Accuracy: 5660/10000 (56.6000%)
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: 0.0969, Accuracy: 8815/9000 (97.9444%)
Scaling by  100
Scaled Norm after poisoning: 40.94757300929522, distance: 56.20577905882433
Total norm for 1 adversaries is: 40.94757300929522. distance: 56.20577905882433
___Test Local_ResNet_18 poisoned: True, epoch: 207: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 207, local model 55, internal_epoch   1,  Average loss: 0.0190, Accuracy: 197/299 (65.8863%)
___Train Local_ResNet_18,  epoch 207, local model 55, internal_epoch   2,  Average loss: 0.0041, Accuracy: 274/299 (91.6388%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 19.6503, Accuracy: 1273/10000 (12.7300%)
___Train Local_ResNet_18,  epoch 207, local model 74, internal_epoch   1,  Average loss: 0.0121, Accuracy: 370/469 (78.8913%)
___Train Local_ResNet_18,  epoch 207, local model 74, internal_epoch   2,  Average loss: 0.0039, Accuracy: 434/469 (92.5373%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.1070, Accuracy: 3896/10000 (38.9600%)
___Train Local_ResNet_18,  epoch 207, local model 77, internal_epoch   1,  Average loss: 0.0129, Accuracy: 351/496 (70.7661%)
___Train Local_ResNet_18,  epoch 207, local model 77, internal_epoch   2,  Average loss: 0.0066, Accuracy: 433/496 (87.2984%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 2.5452, Accuracy: 3915/10000 (39.1500%)
___Train Local_ResNet_18,  epoch 207, local model 82, internal_epoch   1,  Average loss: 0.0138, Accuracy: 449/601 (74.7088%)
___Train Local_ResNet_18,  epoch 207, local model 82, internal_epoch   2,  Average loss: 0.0045, Accuracy: 553/601 (92.0133%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 4.6999, Accuracy: 4041/10000 (40.4100%)
___Train Local_ResNet_18,  epoch 207, local model 87, internal_epoch   1,  Average loss: 0.0218, Accuracy: 257/397 (64.7355%)
___Train Local_ResNet_18,  epoch 207, local model 87, internal_epoch   2,  Average loss: 0.0084, Accuracy: 339/397 (85.3904%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 5.5132, Accuracy: 2600/10000 (26.0000%)
___Train Local_ResNet_18,  epoch 207, local model 22, internal_epoch   1,  Average loss: 0.0135, Accuracy: 376/494 (76.1134%)
___Train Local_ResNet_18,  epoch 207, local model 22, internal_epoch   2,  Average loss: 0.0060, Accuracy: 433/494 (87.6518%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.2493, Accuracy: 3127/10000 (31.2700%)
___Train Local_ResNet_18,  epoch 207, local model 61, internal_epoch   1,  Average loss: 0.0182, Accuracy: 425/590 (72.0339%)
___Train Local_ResNet_18,  epoch 207, local model 61, internal_epoch   2,  Average loss: 0.0116, Accuracy: 462/590 (78.3051%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 77.8621, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   1,  Average loss: 0.0120, Accuracy: 502/641 (78.3151%)
___Train Local_ResNet_18,  epoch 207, local model 1, internal_epoch   2,  Average loss: 0.0118, Accuracy: 572/641 (89.2356%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 3.9469, Accuracy: 3146/10000 (31.4600%)
___Train Local_ResNet_18,  epoch 207, local model 50, internal_epoch   1,  Average loss: 0.0168, Accuracy: 273/401 (68.0798%)
___Train Local_ResNet_18,  epoch 207, local model 50, internal_epoch   2,  Average loss: 0.0087, Accuracy: 349/401 (87.0324%)
___Test Local_ResNet_18 poisoned: False, epoch: 207: Average loss: 6.0797, Accuracy: 2805/10000 (28.0500%)
time spent on training: 87.92458629608154
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 207: Average loss: 1.1702, Accuracy: 6220/10000 (62.2000%)
___Test Target_ResNet_18 poisoned: True, epoch: 207: Average loss: 0.1423, Accuracy: 8726/9000 (96.9556%)
Done in 118.34106040000916 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:208 choose agents : [45, 29, 57, 65, 69, 64, 74, 93, 77, 78]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 208, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 208, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 208, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 208, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 208, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 208, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 36.407135182371874.
Norm before scaling: 36.02712499425346. Distance: 0.6857659622890713
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 1.2779, Accuracy: 6053/10000 (60.5300%)
___Test Local_ResNet_18 poisoned: True, epoch: 208: Average loss: 0.0762, Accuracy: 8845/9000 (98.2778%)
Scaling by  100
Scaled Norm after poisoning: 56.82109825611654, distance: 68.57659950741214
Total norm for 1 adversaries is: 56.82109825611654. distance: 68.57659950741214
___Test Local_ResNet_18 poisoned: True, epoch: 208: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 208, local model 29, internal_epoch   1,  Average loss: 0.0151, Accuracy: 639/848 (75.3538%)
___Train Local_ResNet_18,  epoch 208, local model 29, internal_epoch   2,  Average loss: 0.0073, Accuracy: 735/848 (86.6745%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 7.6143, Accuracy: 2227/10000 (22.2700%)
___Train Local_ResNet_18,  epoch 208, local model 57, internal_epoch   1,  Average loss: 0.0107, Accuracy: 224/290 (77.2414%)
___Train Local_ResNet_18,  epoch 208, local model 57, internal_epoch   2,  Average loss: 0.0034, Accuracy: 272/290 (93.7931%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 4.9980, Accuracy: 2983/10000 (29.8300%)
___Train Local_ResNet_18,  epoch 208, local model 65, internal_epoch   1,  Average loss: 0.0132, Accuracy: 239/314 (76.1146%)
___Train Local_ResNet_18,  epoch 208, local model 65, internal_epoch   2,  Average loss: 0.0019, Accuracy: 302/314 (96.1783%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 7.7938, Accuracy: 2110/10000 (21.1000%)
___Train Local_ResNet_18,  epoch 208, local model 69, internal_epoch   1,  Average loss: 0.0239, Accuracy: 130/216 (60.1852%)
___Train Local_ResNet_18,  epoch 208, local model 69, internal_epoch   2,  Average loss: 0.0038, Accuracy: 202/216 (93.5185%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 13.6422, Accuracy: 1198/10000 (11.9800%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   1,  Average loss: 0.0113, Accuracy: 531/686 (77.4052%)
___Train Local_ResNet_18,  epoch 208, local model 64, internal_epoch   2,  Average loss: 0.0055, Accuracy: 614/686 (89.5044%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 2.9936, Accuracy: 3844/10000 (38.4400%)
___Train Local_ResNet_18,  epoch 208, local model 74, internal_epoch   1,  Average loss: 0.0098, Accuracy: 385/469 (82.0896%)
___Train Local_ResNet_18,  epoch 208, local model 74, internal_epoch   2,  Average loss: 0.0040, Accuracy: 436/469 (92.9638%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 4.1142, Accuracy: 3505/10000 (35.0500%)
___Train Local_ResNet_18,  epoch 208, local model 93, internal_epoch   1,  Average loss: 0.0108, Accuracy: 461/584 (78.9384%)
___Train Local_ResNet_18,  epoch 208, local model 93, internal_epoch   2,  Average loss: 0.0055, Accuracy: 524/584 (89.7260%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 5.0967, Accuracy: 3066/10000 (30.6600%)
___Train Local_ResNet_18,  epoch 208, local model 77, internal_epoch   1,  Average loss: 0.0117, Accuracy: 376/496 (75.8065%)
___Train Local_ResNet_18,  epoch 208, local model 77, internal_epoch   2,  Average loss: 0.0055, Accuracy: 446/496 (89.9194%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 4.8713, Accuracy: 2584/10000 (25.8400%)
___Train Local_ResNet_18,  epoch 208, local model 78, internal_epoch   1,  Average loss: 0.0213, Accuracy: 162/255 (63.5294%)
___Train Local_ResNet_18,  epoch 208, local model 78, internal_epoch   2,  Average loss: 0.0020, Accuracy: 246/255 (96.4706%)
___Test Local_ResNet_18 poisoned: False, epoch: 208: Average loss: 7.2187, Accuracy: 2426/10000 (24.2600%)
time spent on training: 97.11753368377686
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 208: Average loss: 1.1191, Accuracy: 6390/10000 (63.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 208: Average loss: 0.1026, Accuracy: 8786/9000 (97.6222%)
Done in 129.3801589012146 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:209 choose agents : [45, 20, 70, 62, 42, 77, 52, 41, 32, 66]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 209, local model 45, internal_epoch   6,  Average loss: 0.0005, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 36.01622830297302.
Norm before scaling: 35.660587351225374. Distance: 1.2733932674659563
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.3307, Accuracy: 5850/10000 (58.5000%)
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: 0.0604, Accuracy: 8865/9000 (98.5000%)
Scaling by  100
Scaled Norm after poisoning: 121.66013511648957, distance: 127.33933274547381
Total norm for 1 adversaries is: 121.66013511648957. distance: 127.33933274547381
___Test Local_ResNet_18 poisoned: True, epoch: 209: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 209, local model 20, internal_epoch   1,  Average loss: 0.0230, Accuracy: 214/362 (59.1160%)
___Train Local_ResNet_18,  epoch 209, local model 20, internal_epoch   2,  Average loss: 0.0076, Accuracy: 309/362 (85.3591%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 14.6156, Accuracy: 1677/10000 (16.7700%)
___Train Local_ResNet_18,  epoch 209, local model 70, internal_epoch   1,  Average loss: 0.0137, Accuracy: 463/610 (75.9016%)
___Train Local_ResNet_18,  epoch 209, local model 70, internal_epoch   2,  Average loss: 0.0067, Accuracy: 526/610 (86.2295%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 8.4077, Accuracy: 2417/10000 (24.1700%)
___Train Local_ResNet_18,  epoch 209, local model 62, internal_epoch   1,  Average loss: 0.0118, Accuracy: 267/358 (74.5810%)
___Train Local_ResNet_18,  epoch 209, local model 62, internal_epoch   2,  Average loss: 0.0056, Accuracy: 321/358 (89.6648%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.0580, Accuracy: 3291/10000 (32.9100%)
___Train Local_ResNet_18,  epoch 209, local model 42, internal_epoch   1,  Average loss: 0.0195, Accuracy: 126/198 (63.6364%)
___Train Local_ResNet_18,  epoch 209, local model 42, internal_epoch   2,  Average loss: 0.0022, Accuracy: 189/198 (95.4545%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.7138, Accuracy: 2840/10000 (28.4000%)
___Train Local_ResNet_18,  epoch 209, local model 77, internal_epoch   1,  Average loss: 0.0114, Accuracy: 384/496 (77.4194%)
___Train Local_ResNet_18,  epoch 209, local model 77, internal_epoch   2,  Average loss: 0.0057, Accuracy: 438/496 (88.3065%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 2.6623, Accuracy: 3710/10000 (37.1000%)
___Train Local_ResNet_18,  epoch 209, local model 52, internal_epoch   1,  Average loss: 0.0202, Accuracy: 143/214 (66.8224%)
___Train Local_ResNet_18,  epoch 209, local model 52, internal_epoch   2,  Average loss: 0.0045, Accuracy: 199/214 (92.9907%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 12.6846, Accuracy: 1719/10000 (17.1900%)
___Train Local_ResNet_18,  epoch 209, local model 41, internal_epoch   1,  Average loss: 0.0364, Accuracy: 359/513 (69.9805%)
___Train Local_ResNet_18,  epoch 209, local model 41, internal_epoch   2,  Average loss: 0.0087, Accuracy: 444/513 (86.5497%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 3.3892, Accuracy: 2830/10000 (28.3000%)
___Train Local_ResNet_18,  epoch 209, local model 32, internal_epoch   1,  Average loss: 0.0106, Accuracy: 665/824 (80.7039%)
___Train Local_ResNet_18,  epoch 209, local model 32, internal_epoch   2,  Average loss: 0.0070, Accuracy: 699/824 (84.8301%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 4.4896, Accuracy: 2368/10000 (23.6800%)
___Train Local_ResNet_18,  epoch 209, local model 66, internal_epoch   1,  Average loss: 0.0103, Accuracy: 445/555 (80.1802%)
___Train Local_ResNet_18,  epoch 209, local model 66, internal_epoch   2,  Average loss: 0.0034, Accuracy: 523/555 (94.2342%)
___Test Local_ResNet_18 poisoned: False, epoch: 209: Average loss: 9.0438, Accuracy: 2045/10000 (20.4500%)
time spent on training: 92.26883006095886
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 209: Average loss: 1.1170, Accuracy: 6347/10000 (63.4700%)
___Test Target_ResNet_18 poisoned: True, epoch: 209: Average loss: 0.0972, Accuracy: 8806/9000 (97.8444%)
Done in 124.22777056694031 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:210 choose agents : [45, 23, 4, 76, 40, 61, 32, 47, 8, 11]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 210, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 210, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 210, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 210, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 210, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 210, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 35.64510808608595.
Norm before scaling: 35.27885219376298. Distance: 0.8758869784507718
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 1.2478, Accuracy: 6075/10000 (60.7500%)
___Test Local_ResNet_18 poisoned: True, epoch: 210: Average loss: 0.0590, Accuracy: 8875/9000 (98.6111%)
Scaling by  100
Scaled Norm after poisoning: 79.17084967019112, distance: 87.5886994619597
Total norm for 1 adversaries is: 79.17084967019112. distance: 87.5886994619597
___Test Local_ResNet_18 poisoned: True, epoch: 210: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 210, local model 23, internal_epoch   1,  Average loss: 0.0201, Accuracy: 157/248 (63.3065%)
___Train Local_ResNet_18,  epoch 210, local model 23, internal_epoch   2,  Average loss: 0.0029, Accuracy: 233/248 (93.9516%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 9.9673, Accuracy: 1612/10000 (16.1200%)
___Train Local_ResNet_18,  epoch 210, local model 4, internal_epoch   1,  Average loss: 0.0119, Accuracy: 437/557 (78.4560%)
___Train Local_ResNet_18,  epoch 210, local model 4, internal_epoch   2,  Average loss: 0.0060, Accuracy: 490/557 (87.9713%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 7.2803, Accuracy: 2360/10000 (23.6000%)
___Train Local_ResNet_18,  epoch 210, local model 76, internal_epoch   1,  Average loss: 0.0377, Accuracy: 38/65 (58.4615%)
___Train Local_ResNet_18,  epoch 210, local model 76, internal_epoch   2,  Average loss: 0.0612, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 2.1453, Accuracy: 4549/10000 (45.4900%)
___Train Local_ResNet_18,  epoch 210, local model 40, internal_epoch   1,  Average loss: 0.0150, Accuracy: 489/652 (75.0000%)
___Train Local_ResNet_18,  epoch 210, local model 40, internal_epoch   2,  Average loss: 0.0090, Accuracy: 540/652 (82.8221%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.9915, Accuracy: 3009/10000 (30.0900%)
___Train Local_ResNet_18,  epoch 210, local model 61, internal_epoch   1,  Average loss: 0.0161, Accuracy: 417/590 (70.6780%)
___Train Local_ResNet_18,  epoch 210, local model 61, internal_epoch   2,  Average loss: 0.0066, Accuracy: 517/590 (87.6271%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 5.0302, Accuracy: 2338/10000 (23.3800%)
___Train Local_ResNet_18,  epoch 210, local model 32, internal_epoch   1,  Average loss: 0.0113, Accuracy: 649/824 (78.7621%)
___Train Local_ResNet_18,  epoch 210, local model 32, internal_epoch   2,  Average loss: 0.0065, Accuracy: 714/824 (86.6505%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 4.7080, Accuracy: 2389/10000 (23.8900%)
___Train Local_ResNet_18,  epoch 210, local model 47, internal_epoch   1,  Average loss: 0.0127, Accuracy: 496/654 (75.8410%)
___Train Local_ResNet_18,  epoch 210, local model 47, internal_epoch   2,  Average loss: 0.0099, Accuracy: 534/654 (81.6514%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.2651, Accuracy: 3603/10000 (36.0300%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   1,  Average loss: 0.0122, Accuracy: 411/534 (76.9663%)
___Train Local_ResNet_18,  epoch 210, local model 8, internal_epoch   2,  Average loss: 0.0059, Accuracy: 472/534 (88.3895%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.4339, Accuracy: 3256/10000 (32.5600%)
___Train Local_ResNet_18,  epoch 210, local model 11, internal_epoch   1,  Average loss: 0.0139, Accuracy: 393/546 (71.9780%)
___Train Local_ResNet_18,  epoch 210, local model 11, internal_epoch   2,  Average loss: 0.0064, Accuracy: 476/546 (87.1795%)
___Test Local_ResNet_18 poisoned: False, epoch: 210: Average loss: 3.1649, Accuracy: 3089/10000 (30.8900%)
time spent on training: 81.6043598651886
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 210: Average loss: 1.0971, Accuracy: 6468/10000 (64.6800%)
___Test Target_ResNet_18 poisoned: True, epoch: 210: Average loss: 0.1066, Accuracy: 8791/9000 (97.6778%)
Done in 110.24273157119751 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:211 choose agents : [45, 16, 91, 55, 80, 34, 20, 35, 63, 27]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 211, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 211, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 211, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 211, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 211, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 211, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 35.26947046490775.
Norm before scaling: 34.89781749645134. Distance: 0.5789061501280252
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 1.1515, Accuracy: 6298/10000 (62.9800%)
___Test Local_ResNet_18 poisoned: True, epoch: 211: Average loss: 0.1276, Accuracy: 8768/9000 (97.4222%)
Scaling by  100
Scaled Norm after poisoning: 44.203457768719154, distance: 57.89061023953928
Total norm for 1 adversaries is: 44.203457768719154. distance: 57.89061023953928
___Test Local_ResNet_18 poisoned: True, epoch: 211: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 211, local model 16, internal_epoch   1,  Average loss: 0.0106, Accuracy: 619/773 (80.0776%)
___Train Local_ResNet_18,  epoch 211, local model 16, internal_epoch   2,  Average loss: 0.0167, Accuracy: 516/773 (66.7529%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 18.7651, Accuracy: 1550/10000 (15.5000%)
___Train Local_ResNet_18,  epoch 211, local model 91, internal_epoch   1,  Average loss: 0.0096, Accuracy: 189/234 (80.7692%)
___Train Local_ResNet_18,  epoch 211, local model 91, internal_epoch   2,  Average loss: 0.0014, Accuracy: 228/234 (97.4359%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 5.1429, Accuracy: 2463/10000 (24.6300%)
___Train Local_ResNet_18,  epoch 211, local model 55, internal_epoch   1,  Average loss: 0.0149, Accuracy: 213/299 (71.2375%)
___Train Local_ResNet_18,  epoch 211, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 279/299 (93.3110%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 14.0277, Accuracy: 1422/10000 (14.2200%)
___Train Local_ResNet_18,  epoch 211, local model 80, internal_epoch   1,  Average loss: 0.0149, Accuracy: 268/363 (73.8292%)
___Train Local_ResNet_18,  epoch 211, local model 80, internal_epoch   2,  Average loss: 0.0042, Accuracy: 331/363 (91.1846%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 4.7929, Accuracy: 2607/10000 (26.0700%)
___Train Local_ResNet_18,  epoch 211, local model 34, internal_epoch   1,  Average loss: 0.0213, Accuracy: 223/349 (63.8968%)
___Train Local_ResNet_18,  epoch 211, local model 34, internal_epoch   2,  Average loss: 0.0053, Accuracy: 313/349 (89.6848%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 8.4449, Accuracy: 2297/10000 (22.9700%)
___Train Local_ResNet_18,  epoch 211, local model 20, internal_epoch   1,  Average loss: 0.0187, Accuracy: 241/362 (66.5746%)
___Train Local_ResNet_18,  epoch 211, local model 20, internal_epoch   2,  Average loss: 0.0062, Accuracy: 321/362 (88.6740%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 7.4494, Accuracy: 2581/10000 (25.8100%)
___Train Local_ResNet_18,  epoch 211, local model 35, internal_epoch   1,  Average loss: 0.0096, Accuracy: 350/419 (83.5322%)
___Train Local_ResNet_18,  epoch 211, local model 35, internal_epoch   2,  Average loss: 0.0034, Accuracy: 390/419 (93.0788%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 3.9409, Accuracy: 3722/10000 (37.2200%)
___Train Local_ResNet_18,  epoch 211, local model 63, internal_epoch   1,  Average loss: 0.0105, Accuracy: 587/752 (78.0585%)
___Train Local_ResNet_18,  epoch 211, local model 63, internal_epoch   2,  Average loss: 0.0061, Accuracy: 657/752 (87.3670%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 2.6287, Accuracy: 3973/10000 (39.7300%)
___Train Local_ResNet_18,  epoch 211, local model 27, internal_epoch   1,  Average loss: 0.0144, Accuracy: 294/397 (74.0554%)
___Train Local_ResNet_18,  epoch 211, local model 27, internal_epoch   2,  Average loss: 0.0061, Accuracy: 352/397 (88.6650%)
___Test Local_ResNet_18 poisoned: False, epoch: 211: Average loss: 26.1914, Accuracy: 1015/10000 (10.1500%)
time spent on training: 84.703444480896
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 211: Average loss: 0.9912, Accuracy: 6707/10000 (67.0700%)
___Test Target_ResNet_18 poisoned: True, epoch: 211: Average loss: 0.1899, Accuracy: 8675/9000 (96.3889%)
Done in 114.7480719089508 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:212 choose agents : [45, 16, 51, 14, 7, 27, 83, 58, 78, 8]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 212, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 212, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 212, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 212, local model 45, internal_epoch   4,  Average loss: 0.0009, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 212, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 212, local model 45, internal_epoch   6,  Average loss: 0.0005, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Global model norm: 34.88955089591653.
Norm before scaling: 34.5369993092779. Distance: 1.163050679041564
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 1.1284, Accuracy: 6374/10000 (63.7400%)
___Test Local_ResNet_18 poisoned: True, epoch: 212: Average loss: 0.0613, Accuracy: 8871/9000 (98.5667%)
Scaling by  100
Scaled Norm after poisoning: 110.27808864836885, distance: 116.30506928171704
Total norm for 1 adversaries is: 110.27808864836885. distance: 116.30506928171704
___Test Local_ResNet_18 poisoned: True, epoch: 212: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 212, local model 16, internal_epoch   1,  Average loss: 0.0095, Accuracy: 650/773 (84.0880%)
___Train Local_ResNet_18,  epoch 212, local model 16, internal_epoch   2,  Average loss: 0.0160, Accuracy: 545/773 (70.5045%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 12.0021, Accuracy: 1559/10000 (15.5900%)
___Train Local_ResNet_18,  epoch 212, local model 51, internal_epoch   1,  Average loss: 0.0133, Accuracy: 356/479 (74.3215%)
___Train Local_ResNet_18,  epoch 212, local model 51, internal_epoch   2,  Average loss: 0.0044, Accuracy: 435/479 (90.8142%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 10.6072, Accuracy: 2188/10000 (21.8800%)
___Train Local_ResNet_18,  epoch 212, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 234/318 (73.5849%)
___Train Local_ResNet_18,  epoch 212, local model 14, internal_epoch   2,  Average loss: 0.0026, Accuracy: 299/318 (94.0252%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 6.6171, Accuracy: 2481/10000 (24.8100%)
___Train Local_ResNet_18,  epoch 212, local model 7, internal_epoch   1,  Average loss: 0.0119, Accuracy: 271/352 (76.9886%)
___Train Local_ResNet_18,  epoch 212, local model 7, internal_epoch   2,  Average loss: 0.0039, Accuracy: 333/352 (94.6023%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 3.6311, Accuracy: 3510/10000 (35.1000%)
___Train Local_ResNet_18,  epoch 212, local model 27, internal_epoch   1,  Average loss: 0.0114, Accuracy: 320/397 (80.6045%)
___Train Local_ResNet_18,  epoch 212, local model 27, internal_epoch   2,  Average loss: 0.0049, Accuracy: 361/397 (90.9320%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 8.1174, Accuracy: 2179/10000 (21.7900%)
___Train Local_ResNet_18,  epoch 212, local model 83, internal_epoch   1,  Average loss: 0.0088, Accuracy: 289/366 (78.9617%)
___Train Local_ResNet_18,  epoch 212, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 338/366 (92.3497%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.5572, Accuracy: 4565/10000 (45.6500%)
___Train Local_ResNet_18,  epoch 212, local model 58, internal_epoch   1,  Average loss: 0.0194, Accuracy: 156/234 (66.6667%)
___Train Local_ResNet_18,  epoch 212, local model 58, internal_epoch   2,  Average loss: 0.0020, Accuracy: 224/234 (95.7265%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 19.0616, Accuracy: 1115/10000 (11.1500%)
___Train Local_ResNet_18,  epoch 212, local model 78, internal_epoch   1,  Average loss: 0.0156, Accuracy: 170/255 (66.6667%)
___Train Local_ResNet_18,  epoch 212, local model 78, internal_epoch   2,  Average loss: 0.0017, Accuracy: 245/255 (96.0784%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 6.4729, Accuracy: 2525/10000 (25.2500%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   1,  Average loss: 0.0086, Accuracy: 439/534 (82.2097%)
___Train Local_ResNet_18,  epoch 212, local model 8, internal_epoch   2,  Average loss: 0.0062, Accuracy: 474/534 (88.7640%)
___Test Local_ResNet_18 poisoned: False, epoch: 212: Average loss: 2.7007, Accuracy: 4182/10000 (41.8200%)
time spent on training: 78.23051929473877
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 212: Average loss: 0.9759, Accuracy: 6784/10000 (67.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 212: Average loss: 0.0777, Accuracy: 8838/9000 (98.2000%)
Done in 113.6050169467926 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:213 choose agents : [45, 26, 99, 1, 90, 51, 11, 48, 10, 16]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 213, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 213, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 213, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 213, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 213, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 213, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 34.53002861244923.
Norm before scaling: 34.16941542074304. Distance: 0.5219074204933523
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 1.0684, Accuracy: 6510/10000 (65.1000%)
___Test Local_ResNet_18 poisoned: True, epoch: 213: Average loss: 0.0846, Accuracy: 8837/9000 (98.1889%)
Scaling by  100
Scaled Norm after poisoning: 37.5706479697541, distance: 52.19074185290194
Total norm for 1 adversaries is: 37.5706479697541. distance: 52.19074185290194
___Test Local_ResNet_18 poisoned: True, epoch: 213: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 213, local model 26, internal_epoch   1,  Average loss: 0.0114, Accuracy: 374/468 (79.9145%)
___Train Local_ResNet_18,  epoch 213, local model 26, internal_epoch   2,  Average loss: 0.0108, Accuracy: 380/468 (81.1966%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 9.2626, Accuracy: 2348/10000 (23.4800%)
___Train Local_ResNet_18,  epoch 213, local model 99, internal_epoch   1,  Average loss: 0.0111, Accuracy: 311/391 (79.5396%)
___Train Local_ResNet_18,  epoch 213, local model 99, internal_epoch   2,  Average loss: 0.0102, Accuracy: 330/391 (84.3990%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 8.6658, Accuracy: 2359/10000 (23.5900%)
___Train Local_ResNet_18,  epoch 213, local model 1, internal_epoch   1,  Average loss: 0.0106, Accuracy: 510/641 (79.5632%)
___Train Local_ResNet_18,  epoch 213, local model 1, internal_epoch   2,  Average loss: 0.0129, Accuracy: 556/641 (86.7395%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 4.6690, Accuracy: 3032/10000 (30.3200%)
___Train Local_ResNet_18,  epoch 213, local model 90, internal_epoch   1,  Average loss: 0.0126, Accuracy: 455/578 (78.7197%)
___Train Local_ResNet_18,  epoch 213, local model 90, internal_epoch   2,  Average loss: 0.0085, Accuracy: 498/578 (86.1592%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 7.3288, Accuracy: 2454/10000 (24.5400%)
___Train Local_ResNet_18,  epoch 213, local model 51, internal_epoch   1,  Average loss: 0.0144, Accuracy: 361/479 (75.3653%)
___Train Local_ResNet_18,  epoch 213, local model 51, internal_epoch   2,  Average loss: 0.0064, Accuracy: 427/479 (89.1441%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 26.0537, Accuracy: 1457/10000 (14.5700%)
___Train Local_ResNet_18,  epoch 213, local model 11, internal_epoch   1,  Average loss: 0.0120, Accuracy: 420/546 (76.9231%)
___Train Local_ResNet_18,  epoch 213, local model 11, internal_epoch   2,  Average loss: 0.0070, Accuracy: 476/546 (87.1795%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 5.6252, Accuracy: 2696/10000 (26.9600%)
___Train Local_ResNet_18,  epoch 213, local model 48, internal_epoch   1,  Average loss: 0.0099, Accuracy: 297/378 (78.5714%)
___Train Local_ResNet_18,  epoch 213, local model 48, internal_epoch   2,  Average loss: 0.0044, Accuracy: 346/378 (91.5344%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 3.6801, Accuracy: 3499/10000 (34.9900%)
___Train Local_ResNet_18,  epoch 213, local model 10, internal_epoch   1,  Average loss: 0.0092, Accuracy: 621/752 (82.5798%)
___Train Local_ResNet_18,  epoch 213, local model 10, internal_epoch   2,  Average loss: 0.0051, Accuracy: 679/752 (90.2926%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 4.8989, Accuracy: 2628/10000 (26.2800%)
___Train Local_ResNet_18,  epoch 213, local model 16, internal_epoch   1,  Average loss: 0.0077, Accuracy: 654/773 (84.6054%)
___Train Local_ResNet_18,  epoch 213, local model 16, internal_epoch   2,  Average loss: 0.0175, Accuracy: 536/773 (69.3402%)
___Test Local_ResNet_18 poisoned: False, epoch: 213: Average loss: 5.8808, Accuracy: 3014/10000 (30.1400%)
time spent on training: 94.35519862174988
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 213: Average loss: 0.9525, Accuracy: 6831/10000 (68.3100%)
___Test Target_ResNet_18 poisoned: True, epoch: 213: Average loss: 0.1615, Accuracy: 8698/9000 (96.6444%)
Done in 129.8708622455597 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:214 choose agents : [45, 36, 60, 63, 84, 11, 72, 4, 7, 32]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 214, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 214, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 214, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 214, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 214, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 214, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 34.16265021806527.
Norm before scaling: 33.802230996082194. Distance: 0.4867314883504678
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 0.9994, Accuracy: 6717/10000 (67.1700%)
___Test Local_ResNet_18 poisoned: True, epoch: 214: Average loss: 0.1067, Accuracy: 8797/9000 (97.7444%)
Scaling by  100
Scaled Norm after poisoning: 32.60205019255403, distance: 48.67315407629112
Total norm for 1 adversaries is: 32.60205019255403. distance: 48.67315407629112
___Test Local_ResNet_18 poisoned: True, epoch: 214: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 214, local model 36, internal_epoch   1,  Average loss: 0.0168, Accuracy: 577/849 (67.9623%)
___Train Local_ResNet_18,  epoch 214, local model 36, internal_epoch   2,  Average loss: 0.0133, Accuracy: 596/849 (70.2002%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 6.0127, Accuracy: 2686/10000 (26.8600%)
___Train Local_ResNet_18,  epoch 214, local model 60, internal_epoch   1,  Average loss: 0.0136, Accuracy: 208/284 (73.2394%)
___Train Local_ResNet_18,  epoch 214, local model 60, internal_epoch   2,  Average loss: 0.0048, Accuracy: 261/284 (91.9014%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 5.4999, Accuracy: 1817/10000 (18.1700%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   1,  Average loss: 0.0082, Accuracy: 632/752 (84.0426%)
___Train Local_ResNet_18,  epoch 214, local model 63, internal_epoch   2,  Average loss: 0.0064, Accuracy: 648/752 (86.1702%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 7.3815, Accuracy: 2380/10000 (23.8000%)
___Train Local_ResNet_18,  epoch 214, local model 84, internal_epoch   1,  Average loss: 0.0101, Accuracy: 841/1053 (79.8670%)
___Train Local_ResNet_18,  epoch 214, local model 84, internal_epoch   2,  Average loss: 0.0064, Accuracy: 920/1053 (87.3694%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 3.2984, Accuracy: 3564/10000 (35.6400%)
___Train Local_ResNet_18,  epoch 214, local model 11, internal_epoch   1,  Average loss: 0.0103, Accuracy: 436/546 (79.8535%)
___Train Local_ResNet_18,  epoch 214, local model 11, internal_epoch   2,  Average loss: 0.0066, Accuracy: 474/546 (86.8132%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 4.2677, Accuracy: 3108/10000 (31.0800%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   1,  Average loss: 0.0146, Accuracy: 465/618 (75.2427%)
___Train Local_ResNet_18,  epoch 214, local model 72, internal_epoch   2,  Average loss: 0.0065, Accuracy: 543/618 (87.8641%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 4.9616, Accuracy: 2263/10000 (22.6300%)
___Train Local_ResNet_18,  epoch 214, local model 4, internal_epoch   1,  Average loss: 0.0101, Accuracy: 445/557 (79.8923%)
___Train Local_ResNet_18,  epoch 214, local model 4, internal_epoch   2,  Average loss: 0.0088, Accuracy: 471/557 (84.5601%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 4.5245, Accuracy: 2844/10000 (28.4400%)
___Train Local_ResNet_18,  epoch 214, local model 7, internal_epoch   1,  Average loss: 0.0101, Accuracy: 276/352 (78.4091%)
___Train Local_ResNet_18,  epoch 214, local model 7, internal_epoch   2,  Average loss: 0.0048, Accuracy: 319/352 (90.6250%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 3.7714, Accuracy: 2996/10000 (29.9600%)
___Train Local_ResNet_18,  epoch 214, local model 32, internal_epoch   1,  Average loss: 0.0090, Accuracy: 673/824 (81.6748%)
___Train Local_ResNet_18,  epoch 214, local model 32, internal_epoch   2,  Average loss: 0.0056, Accuracy: 730/824 (88.5922%)
___Test Local_ResNet_18 poisoned: False, epoch: 214: Average loss: 3.1389, Accuracy: 4111/10000 (41.1100%)
time spent on training: 87.39980053901672
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 214: Average loss: 0.9172, Accuracy: 6940/10000 (69.4000%)
___Test Target_ResNet_18 poisoned: True, epoch: 214: Average loss: 0.1669, Accuracy: 8689/9000 (96.5444%)
Done in 123.5627646446228 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:215 choose agents : [45, 97, 28, 70, 49, 61, 43, 52, 92, 24]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 215, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 215, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 215, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 215, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 215, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 215, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 33.80054266680215.
Norm before scaling: 33.45087531844739. Distance: 0.6597905923874587
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 1.0398, Accuracy: 6630/10000 (66.3000%)
___Test Local_ResNet_18 poisoned: True, epoch: 215: Average loss: 0.0960, Accuracy: 8828/9000 (98.0889%)
Scaling by  100
Scaled Norm after poisoning: 55.683234088850746, distance: 65.97904866911351
Total norm for 1 adversaries is: 55.683234088850746. distance: 65.97904866911351
___Test Local_ResNet_18 poisoned: True, epoch: 215: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 215, local model 97, internal_epoch   1,  Average loss: 0.0109, Accuracy: 327/418 (78.2297%)
___Train Local_ResNet_18,  epoch 215, local model 97, internal_epoch   2,  Average loss: 0.0020, Accuracy: 403/418 (96.4115%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.0967, Accuracy: 3488/10000 (34.8800%)
___Train Local_ResNet_18,  epoch 215, local model 28, internal_epoch   1,  Average loss: 0.0108, Accuracy: 331/423 (78.2506%)
___Train Local_ResNet_18,  epoch 215, local model 28, internal_epoch   2,  Average loss: 0.0062, Accuracy: 370/423 (87.4704%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 3.1864, Accuracy: 3542/10000 (35.4200%)
___Train Local_ResNet_18,  epoch 215, local model 70, internal_epoch   1,  Average loss: 0.0088, Accuracy: 514/610 (84.2623%)
___Train Local_ResNet_18,  epoch 215, local model 70, internal_epoch   2,  Average loss: 0.0054, Accuracy: 546/610 (89.5082%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 11.8748, Accuracy: 1318/10000 (13.1800%)
___Train Local_ResNet_18,  epoch 215, local model 49, internal_epoch   1,  Average loss: 0.0101, Accuracy: 341/426 (80.0469%)
___Train Local_ResNet_18,  epoch 215, local model 49, internal_epoch   2,  Average loss: 0.0037, Accuracy: 401/426 (94.1315%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 2.3688, Accuracy: 4294/10000 (42.9400%)
___Train Local_ResNet_18,  epoch 215, local model 61, internal_epoch   1,  Average loss: 0.0103, Accuracy: 470/590 (79.6610%)
___Train Local_ResNet_18,  epoch 215, local model 61, internal_epoch   2,  Average loss: 0.0066, Accuracy: 527/590 (89.3220%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 3.7382, Accuracy: 2915/10000 (29.1500%)
___Train Local_ResNet_18,  epoch 215, local model 43, internal_epoch   1,  Average loss: 0.0104, Accuracy: 288/345 (83.4783%)
___Train Local_ResNet_18,  epoch 215, local model 43, internal_epoch   2,  Average loss: 0.0062, Accuracy: 308/345 (89.2754%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 4.4542, Accuracy: 3058/10000 (30.5800%)
___Train Local_ResNet_18,  epoch 215, local model 52, internal_epoch   1,  Average loss: 0.0125, Accuracy: 158/214 (73.8318%)
___Train Local_ResNet_18,  epoch 215, local model 52, internal_epoch   2,  Average loss: 0.0026, Accuracy: 208/214 (97.1963%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 7.1049, Accuracy: 2354/10000 (23.5400%)
___Train Local_ResNet_18,  epoch 215, local model 92, internal_epoch   1,  Average loss: 0.0110, Accuracy: 639/796 (80.2764%)
___Train Local_ResNet_18,  epoch 215, local model 92, internal_epoch   2,  Average loss: 0.0095, Accuracy: 640/796 (80.4020%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 5.1292, Accuracy: 3086/10000 (30.8600%)
___Train Local_ResNet_18,  epoch 215, local model 24, internal_epoch   1,  Average loss: 0.0099, Accuracy: 258/320 (80.6250%)
___Train Local_ResNet_18,  epoch 215, local model 24, internal_epoch   2,  Average loss: 0.0025, Accuracy: 302/320 (94.3750%)
___Test Local_ResNet_18 poisoned: False, epoch: 215: Average loss: 7.2025, Accuracy: 1425/10000 (14.2500%)
time spent on training: 80.56417417526245
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 215: Average loss: 0.9395, Accuracy: 6896/10000 (68.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 215: Average loss: 0.1208, Accuracy: 8786/9000 (97.6222%)
Done in 114.99567484855652 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:216 choose agents : [45, 2, 92, 79, 42, 0, 31, 60, 64, 10]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 216, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 216, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 216, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 216, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 216, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 216, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 33.44528968844118.
Norm before scaling: 33.09291451672. Distance: 0.42491157327077966
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 0.9798, Accuracy: 6814/10000 (68.1400%)
___Test Local_ResNet_18 poisoned: True, epoch: 216: Average loss: 0.1032, Accuracy: 8812/9000 (97.9111%)
Scaling by  100
Scaled Norm after poisoning: 23.69396272532111, distance: 42.49116119026256
Total norm for 1 adversaries is: 23.69396272532111. distance: 42.49116119026256
___Test Local_ResNet_18 poisoned: True, epoch: 216: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 216, local model 2, internal_epoch   1,  Average loss: 0.0140, Accuracy: 341/461 (73.9696%)
___Train Local_ResNet_18,  epoch 216, local model 2, internal_epoch   2,  Average loss: 0.0085, Accuracy: 388/461 (84.1649%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 11.6179, Accuracy: 1102/10000 (11.0200%)
___Train Local_ResNet_18,  epoch 216, local model 92, internal_epoch   1,  Average loss: 0.0099, Accuracy: 658/796 (82.6633%)
___Train Local_ResNet_18,  epoch 216, local model 92, internal_epoch   2,  Average loss: 0.0087, Accuracy: 653/796 (82.0352%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 12.8541, Accuracy: 1572/10000 (15.7200%)
___Train Local_ResNet_18,  epoch 216, local model 79, internal_epoch   1,  Average loss: 0.0064, Accuracy: 134/154 (87.0130%)
___Train Local_ResNet_18,  epoch 216, local model 79, internal_epoch   2,  Average loss: 0.0022, Accuracy: 152/154 (98.7013%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 1.9290, Accuracy: 4967/10000 (49.6700%)
___Train Local_ResNet_18,  epoch 216, local model 42, internal_epoch   1,  Average loss: 0.0256, Accuracy: 143/198 (72.2222%)
___Train Local_ResNet_18,  epoch 216, local model 42, internal_epoch   2,  Average loss: 0.0080, Accuracy: 176/198 (88.8889%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 10.1290, Accuracy: 1781/10000 (17.8100%)
___Train Local_ResNet_18,  epoch 216, local model 0, internal_epoch   1,  Average loss: 0.0150, Accuracy: 251/367 (68.3924%)
___Train Local_ResNet_18,  epoch 216, local model 0, internal_epoch   2,  Average loss: 0.0029, Accuracy: 345/367 (94.0054%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.8909, Accuracy: 2488/10000 (24.8800%)
___Train Local_ResNet_18,  epoch 216, local model 31, internal_epoch   1,  Average loss: 0.0113, Accuracy: 556/706 (78.7535%)
___Train Local_ResNet_18,  epoch 216, local model 31, internal_epoch   2,  Average loss: 0.0177, Accuracy: 481/706 (68.1303%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 31.0290, Accuracy: 1768/10000 (17.6800%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   1,  Average loss: 0.0123, Accuracy: 219/284 (77.1127%)
___Train Local_ResNet_18,  epoch 216, local model 60, internal_epoch   2,  Average loss: 0.0029, Accuracy: 271/284 (95.4225%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.3299, Accuracy: 3669/10000 (36.6900%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   1,  Average loss: 0.0102, Accuracy: 547/686 (79.7376%)
___Train Local_ResNet_18,  epoch 216, local model 64, internal_epoch   2,  Average loss: 0.0051, Accuracy: 612/686 (89.2128%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 3.6471, Accuracy: 3441/10000 (34.4100%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   1,  Average loss: 0.0089, Accuracy: 632/752 (84.0426%)
___Train Local_ResNet_18,  epoch 216, local model 10, internal_epoch   2,  Average loss: 0.0045, Accuracy: 691/752 (91.8883%)
___Test Local_ResNet_18 poisoned: False, epoch: 216: Average loss: 6.8326, Accuracy: 2711/10000 (27.1100%)
time spent on training: 88.49390053749084
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 216: Average loss: 0.8905, Accuracy: 7023/10000 (70.2300%)
___Test Target_ResNet_18 poisoned: True, epoch: 216: Average loss: 0.1581, Accuracy: 8709/9000 (96.7667%)
Done in 124.45991086959839 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:217 choose agents : [45, 11, 35, 38, 4, 66, 53, 28, 36, 10]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 217, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 217, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 217, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 217, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 217, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 217, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 33.08809301567654.
Norm before scaling: 32.76518351812732. Distance: 1.1325182828627411
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 1.0882, Accuracy: 6437/10000 (64.3700%)
___Test Local_ResNet_18 poisoned: True, epoch: 217: Average loss: 0.0886, Accuracy: 8808/9000 (97.8667%)
Scaling by  100
Scaled Norm after poisoning: 108.00949394034767, distance: 113.25181945282381
Total norm for 1 adversaries is: 108.00949394034767. distance: 113.25181945282381
___Test Local_ResNet_18 poisoned: True, epoch: 217: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 217, local model 11, internal_epoch   1,  Average loss: 0.0087, Accuracy: 448/546 (82.0513%)
___Train Local_ResNet_18,  epoch 217, local model 11, internal_epoch   2,  Average loss: 0.0058, Accuracy: 485/546 (88.8278%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.5229, Accuracy: 3565/10000 (35.6500%)
___Train Local_ResNet_18,  epoch 217, local model 35, internal_epoch   1,  Average loss: 0.0070, Accuracy: 369/419 (88.0668%)
___Train Local_ResNet_18,  epoch 217, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 391/419 (93.3174%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.2080, Accuracy: 3402/10000 (34.0200%)
___Train Local_ResNet_18,  epoch 217, local model 38, internal_epoch   1,  Average loss: 0.0106, Accuracy: 611/756 (80.8201%)
___Train Local_ResNet_18,  epoch 217, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 664/756 (87.8307%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 6.8680, Accuracy: 3398/10000 (33.9800%)
___Train Local_ResNet_18,  epoch 217, local model 4, internal_epoch   1,  Average loss: 0.0063, Accuracy: 480/557 (86.1759%)
___Train Local_ResNet_18,  epoch 217, local model 4, internal_epoch   2,  Average loss: 0.0051, Accuracy: 501/557 (89.9461%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 3.5496, Accuracy: 3942/10000 (39.4200%)
___Train Local_ResNet_18,  epoch 217, local model 66, internal_epoch   1,  Average loss: 0.0097, Accuracy: 458/555 (82.5225%)
___Train Local_ResNet_18,  epoch 217, local model 66, internal_epoch   2,  Average loss: 0.0030, Accuracy: 522/555 (94.0541%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.6259, Accuracy: 3602/10000 (36.0200%)
___Train Local_ResNet_18,  epoch 217, local model 53, internal_epoch   1,  Average loss: 0.0096, Accuracy: 511/625 (81.7600%)
___Train Local_ResNet_18,  epoch 217, local model 53, internal_epoch   2,  Average loss: 0.0052, Accuracy: 560/625 (89.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 4.3195, Accuracy: 3185/10000 (31.8500%)
___Train Local_ResNet_18,  epoch 217, local model 28, internal_epoch   1,  Average loss: 0.0098, Accuracy: 327/423 (77.3050%)
___Train Local_ResNet_18,  epoch 217, local model 28, internal_epoch   2,  Average loss: 0.0041, Accuracy: 387/423 (91.4894%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 4.3093, Accuracy: 3085/10000 (30.8500%)
___Train Local_ResNet_18,  epoch 217, local model 36, internal_epoch   1,  Average loss: 0.0146, Accuracy: 589/849 (69.3757%)
___Train Local_ResNet_18,  epoch 217, local model 36, internal_epoch   2,  Average loss: 0.0120, Accuracy: 638/849 (75.1472%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 19.6764, Accuracy: 1061/10000 (10.6100%)
___Train Local_ResNet_18,  epoch 217, local model 10, internal_epoch   1,  Average loss: 0.0086, Accuracy: 631/752 (83.9096%)
___Train Local_ResNet_18,  epoch 217, local model 10, internal_epoch   2,  Average loss: 0.0032, Accuracy: 699/752 (92.9521%)
___Test Local_ResNet_18 poisoned: False, epoch: 217: Average loss: 5.6981, Accuracy: 2707/10000 (27.0700%)
time spent on training: 95.0674421787262
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 217: Average loss: 1.0113, Accuracy: 6648/10000 (66.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 217: Average loss: 0.1205, Accuracy: 8747/9000 (97.1889%)
Done in 123.96362829208374 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:218 choose agents : [45, 62, 21, 58, 31, 50, 89, 55, 72, 65]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 218, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 218, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 218, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 218, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 218, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 218, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 32.761893638870866.
Norm before scaling: 32.41951610394675. Distance: 0.4647232027582492
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 0.9959, Accuracy: 6773/10000 (67.7300%)
___Test Local_ResNet_18 poisoned: True, epoch: 218: Average loss: 0.0732, Accuracy: 8836/9000 (98.1778%)
Scaling by  100
Scaled Norm after poisoning: 31.301441059515835, distance: 46.472325118861065
Total norm for 1 adversaries is: 31.301441059515835. distance: 46.472325118861065
___Test Local_ResNet_18 poisoned: True, epoch: 218: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   1,  Average loss: 0.0080, Accuracy: 303/358 (84.6369%)
___Train Local_ResNet_18,  epoch 218, local model 62, internal_epoch   2,  Average loss: 0.0030, Accuracy: 341/358 (95.2514%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 1.7864, Accuracy: 4847/10000 (48.4700%)
___Train Local_ResNet_18,  epoch 218, local model 21, internal_epoch   1,  Average loss: 0.0208, Accuracy: 200/262 (76.3359%)
___Train Local_ResNet_18,  epoch 218, local model 21, internal_epoch   2,  Average loss: 0.0097, Accuracy: 217/262 (82.8244%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 19.0039, Accuracy: 1067/10000 (10.6700%)
___Train Local_ResNet_18,  epoch 218, local model 58, internal_epoch   1,  Average loss: 0.0185, Accuracy: 158/234 (67.5214%)
___Train Local_ResNet_18,  epoch 218, local model 58, internal_epoch   2,  Average loss: 0.0047, Accuracy: 217/234 (92.7350%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 20.2967, Accuracy: 1020/10000 (10.2000%)
___Train Local_ResNet_18,  epoch 218, local model 31, internal_epoch   1,  Average loss: 0.0130, Accuracy: 539/706 (76.3456%)
___Train Local_ResNet_18,  epoch 218, local model 31, internal_epoch   2,  Average loss: 0.0159, Accuracy: 507/706 (71.8130%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 9.2177, Accuracy: 1773/10000 (17.7300%)
___Train Local_ResNet_18,  epoch 218, local model 50, internal_epoch   1,  Average loss: 0.0133, Accuracy: 318/401 (79.3017%)
___Train Local_ResNet_18,  epoch 218, local model 50, internal_epoch   2,  Average loss: 0.0058, Accuracy: 363/401 (90.5237%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 4.7869, Accuracy: 2902/10000 (29.0200%)
___Train Local_ResNet_18,  epoch 218, local model 89, internal_epoch   1,  Average loss: 0.0117, Accuracy: 318/413 (76.9976%)
___Train Local_ResNet_18,  epoch 218, local model 89, internal_epoch   2,  Average loss: 0.0069, Accuracy: 357/413 (86.4407%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 9.1420, Accuracy: 2283/10000 (22.8300%)
___Train Local_ResNet_18,  epoch 218, local model 55, internal_epoch   1,  Average loss: 0.0111, Accuracy: 235/299 (78.5953%)
___Train Local_ResNet_18,  epoch 218, local model 55, internal_epoch   2,  Average loss: 0.0026, Accuracy: 284/299 (94.9833%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 6.5834, Accuracy: 2284/10000 (22.8400%)
___Train Local_ResNet_18,  epoch 218, local model 72, internal_epoch   1,  Average loss: 0.0152, Accuracy: 467/618 (75.5663%)
___Train Local_ResNet_18,  epoch 218, local model 72, internal_epoch   2,  Average loss: 0.0069, Accuracy: 532/618 (86.0841%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 3.7646, Accuracy: 2433/10000 (24.3300%)
___Train Local_ResNet_18,  epoch 218, local model 65, internal_epoch   1,  Average loss: 0.0093, Accuracy: 259/314 (82.4841%)
___Train Local_ResNet_18,  epoch 218, local model 65, internal_epoch   2,  Average loss: 0.0029, Accuracy: 294/314 (93.6306%)
___Test Local_ResNet_18 poisoned: False, epoch: 218: Average loss: 3.7349, Accuracy: 3142/10000 (31.4200%)
time spent on training: 89.99133849143982
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 218: Average loss: 0.8729, Accuracy: 7108/10000 (71.0800%)
___Test Target_ResNet_18 poisoned: True, epoch: 218: Average loss: 0.1183, Accuracy: 8751/9000 (97.2333%)
Done in 126.21162414550781 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:219 choose agents : [45, 15, 62, 28, 32, 78, 60, 66, 2, 72]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 219, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 219, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 219, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 219, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 219, local model 45, internal_epoch   5,  Average loss: 0.0005, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 219, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 32.41473189384728.
Norm before scaling: 32.073872176074836. Distance: 0.6092388783544515
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 0.9203, Accuracy: 6972/10000 (69.7200%)
___Test Local_ResNet_18 poisoned: True, epoch: 219: Average loss: 0.0695, Accuracy: 8831/9000 (98.1222%)
Scaling by  100
Scaled Norm after poisoning: 50.27075374052616, distance: 60.92389070786907
Total norm for 1 adversaries is: 50.27075374052616. distance: 60.92389070786907
___Test Local_ResNet_18 poisoned: True, epoch: 219: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 219, local model 15, internal_epoch   1,  Average loss: 0.0147, Accuracy: 249/341 (73.0205%)
___Train Local_ResNet_18,  epoch 219, local model 15, internal_epoch   2,  Average loss: 0.0077, Accuracy: 295/341 (86.5103%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 6.3162, Accuracy: 2567/10000 (25.6700%)
___Train Local_ResNet_18,  epoch 219, local model 62, internal_epoch   1,  Average loss: 0.0050, Accuracy: 321/358 (89.6648%)
___Train Local_ResNet_18,  epoch 219, local model 62, internal_epoch   2,  Average loss: 0.0026, Accuracy: 337/358 (94.1341%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 1.9756, Accuracy: 4785/10000 (47.8500%)
___Train Local_ResNet_18,  epoch 219, local model 28, internal_epoch   1,  Average loss: 0.0096, Accuracy: 340/423 (80.3783%)
___Train Local_ResNet_18,  epoch 219, local model 28, internal_epoch   2,  Average loss: 0.0058, Accuracy: 376/423 (88.8889%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 3.4454, Accuracy: 3401/10000 (34.0100%)
___Train Local_ResNet_18,  epoch 219, local model 32, internal_epoch   1,  Average loss: 0.0076, Accuracy: 694/824 (84.2233%)
___Train Local_ResNet_18,  epoch 219, local model 32, internal_epoch   2,  Average loss: 0.0065, Accuracy: 708/824 (85.9223%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 5.5475, Accuracy: 2694/10000 (26.9400%)
___Train Local_ResNet_18,  epoch 219, local model 78, internal_epoch   1,  Average loss: 0.0142, Accuracy: 180/255 (70.5882%)
___Train Local_ResNet_18,  epoch 219, local model 78, internal_epoch   2,  Average loss: 0.0018, Accuracy: 246/255 (96.4706%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 8.7935, Accuracy: 2181/10000 (21.8100%)
___Train Local_ResNet_18,  epoch 219, local model 60, internal_epoch   1,  Average loss: 0.0123, Accuracy: 221/284 (77.8169%)
___Train Local_ResNet_18,  epoch 219, local model 60, internal_epoch   2,  Average loss: 0.0030, Accuracy: 272/284 (95.7746%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 4.8174, Accuracy: 2455/10000 (24.5500%)
___Train Local_ResNet_18,  epoch 219, local model 66, internal_epoch   1,  Average loss: 0.0099, Accuracy: 451/555 (81.2613%)
___Train Local_ResNet_18,  epoch 219, local model 66, internal_epoch   2,  Average loss: 0.0047, Accuracy: 511/555 (92.0721%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 11.5316, Accuracy: 2112/10000 (21.1200%)
___Train Local_ResNet_18,  epoch 219, local model 2, internal_epoch   1,  Average loss: 0.0134, Accuracy: 348/461 (75.4881%)
___Train Local_ResNet_18,  epoch 219, local model 2, internal_epoch   2,  Average loss: 0.0117, Accuracy: 377/461 (81.7787%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 7.0662, Accuracy: 2508/10000 (25.0800%)
___Train Local_ResNet_18,  epoch 219, local model 72, internal_epoch   1,  Average loss: 0.0113, Accuracy: 496/618 (80.2589%)
___Train Local_ResNet_18,  epoch 219, local model 72, internal_epoch   2,  Average loss: 0.0076, Accuracy: 531/618 (85.9223%)
___Test Local_ResNet_18 poisoned: False, epoch: 219: Average loss: 8.7527, Accuracy: 1806/10000 (18.0600%)
time spent on training: 87.57269263267517
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 219: Average loss: 0.8148, Accuracy: 7264/10000 (72.6400%)
___Test Target_ResNet_18 poisoned: True, epoch: 219: Average loss: 0.1037, Accuracy: 8775/9000 (97.5000%)
Done in 116.10588216781616 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:220 choose agents : [45, 36, 1, 62, 27, 19, 92, 87, 66, 35]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 220, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 220, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 220, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 220, local model 45, internal_epoch   4,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 220, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 220, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 32.07019164867607.
Norm before scaling: 31.78229856308579. Distance: 1.483917406724464
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.0134, Accuracy: 6673/10000 (66.7300%)
___Test Local_ResNet_18 poisoned: True, epoch: 220: Average loss: 0.1386, Accuracy: 8754/9000 (97.2667%)
Scaling by  100
Scaled Norm after poisoning: 144.8796577659369, distance: 148.39174294751038
Total norm for 1 adversaries is: 144.8796577659369. distance: 148.39174294751038
___Test Local_ResNet_18 poisoned: True, epoch: 220: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 220, local model 36, internal_epoch   1,  Average loss: 0.0127, Accuracy: 656/849 (77.2674%)
___Train Local_ResNet_18,  epoch 220, local model 36, internal_epoch   2,  Average loss: 0.0153, Accuracy: 569/849 (67.0200%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 10.2080, Accuracy: 1688/10000 (16.8800%)
___Train Local_ResNet_18,  epoch 220, local model 1, internal_epoch   1,  Average loss: 0.0111, Accuracy: 546/641 (85.1794%)
___Train Local_ResNet_18,  epoch 220, local model 1, internal_epoch   2,  Average loss: 0.0115, Accuracy: 534/641 (83.3073%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 5.0128, Accuracy: 3441/10000 (34.4100%)
___Train Local_ResNet_18,  epoch 220, local model 62, internal_epoch   1,  Average loss: 0.0052, Accuracy: 326/358 (91.0615%)
___Train Local_ResNet_18,  epoch 220, local model 62, internal_epoch   2,  Average loss: 0.0020, Accuracy: 349/358 (97.4860%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 1.4745, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   1,  Average loss: 0.0085, Accuracy: 337/397 (84.8866%)
___Train Local_ResNet_18,  epoch 220, local model 27, internal_epoch   2,  Average loss: 0.0046, Accuracy: 358/397 (90.1763%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 5.2651, Accuracy: 3307/10000 (33.0700%)
___Train Local_ResNet_18,  epoch 220, local model 19, internal_epoch   1,  Average loss: 0.0238, Accuracy: 100/173 (57.8035%)
___Train Local_ResNet_18,  epoch 220, local model 19, internal_epoch   2,  Average loss: 0.0017, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 9.1939, Accuracy: 2182/10000 (21.8200%)
___Train Local_ResNet_18,  epoch 220, local model 92, internal_epoch   1,  Average loss: 0.0092, Accuracy: 674/796 (84.6734%)
___Train Local_ResNet_18,  epoch 220, local model 92, internal_epoch   2,  Average loss: 0.0094, Accuracy: 647/796 (81.2814%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 10.6331, Accuracy: 1764/10000 (17.6400%)
___Train Local_ResNet_18,  epoch 220, local model 87, internal_epoch   1,  Average loss: 0.0128, Accuracy: 312/397 (78.5894%)
___Train Local_ResNet_18,  epoch 220, local model 87, internal_epoch   2,  Average loss: 0.0079, Accuracy: 339/397 (85.3904%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 8.2039, Accuracy: 1368/10000 (13.6800%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   1,  Average loss: 0.0087, Accuracy: 468/555 (84.3243%)
___Train Local_ResNet_18,  epoch 220, local model 66, internal_epoch   2,  Average loss: 0.0045, Accuracy: 512/555 (92.2523%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 8.5956, Accuracy: 3276/10000 (32.7600%)
___Train Local_ResNet_18,  epoch 220, local model 35, internal_epoch   1,  Average loss: 0.0061, Accuracy: 369/419 (88.0668%)
___Train Local_ResNet_18,  epoch 220, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 386/419 (92.1241%)
___Test Local_ResNet_18 poisoned: False, epoch: 220: Average loss: 7.6738, Accuracy: 2358/10000 (23.5800%)
time spent on training: 79.32953119277954
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 220: Average loss: 0.9018, Accuracy: 6980/10000 (69.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 220: Average loss: 0.1801, Accuracy: 8690/9000 (96.5556%)
Done in 115.48985624313354 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:221 choose agents : [45, 94, 3, 95, 87, 85, 23, 25, 54, 90]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 221, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 221, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 221, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 221, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 221, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 221, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 31.782456996807316.
Norm before scaling: 31.453051260469945. Distance: 0.5560506270501225
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 0.9985, Accuracy: 6740/10000 (67.4000%)
___Test Local_ResNet_18 poisoned: True, epoch: 221: Average loss: 0.0779, Accuracy: 8846/9000 (98.2889%)
Scaling by  100
Scaled Norm after poisoning: 44.58800111857449, distance: 55.605063579705806
Total norm for 1 adversaries is: 44.58800111857449. distance: 55.605063579705806
___Test Local_ResNet_18 poisoned: True, epoch: 221: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 221, local model 94, internal_epoch   1,  Average loss: 0.0187, Accuracy: 130/203 (64.0394%)
___Train Local_ResNet_18,  epoch 221, local model 94, internal_epoch   2,  Average loss: 0.0032, Accuracy: 194/203 (95.5665%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 6.5913, Accuracy: 1999/10000 (19.9900%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   1,  Average loss: 0.0121, Accuracy: 615/780 (78.8462%)
___Train Local_ResNet_18,  epoch 221, local model 3, internal_epoch   2,  Average loss: 0.0149, Accuracy: 592/780 (75.8974%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 23.8745, Accuracy: 1716/10000 (17.1600%)
___Train Local_ResNet_18,  epoch 221, local model 95, internal_epoch   1,  Average loss: 0.0140, Accuracy: 410/569 (72.0562%)
___Train Local_ResNet_18,  epoch 221, local model 95, internal_epoch   2,  Average loss: 0.0075, Accuracy: 480/569 (84.3585%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 6.5762, Accuracy: 2082/10000 (20.8200%)
___Train Local_ResNet_18,  epoch 221, local model 87, internal_epoch   1,  Average loss: 0.0120, Accuracy: 306/397 (77.0781%)
___Train Local_ResNet_18,  epoch 221, local model 87, internal_epoch   2,  Average loss: 0.0078, Accuracy: 344/397 (86.6499%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 5.6859, Accuracy: 2123/10000 (21.2300%)
___Train Local_ResNet_18,  epoch 221, local model 85, internal_epoch   1,  Average loss: 0.0178, Accuracy: 245/364 (67.3077%)
___Train Local_ResNet_18,  epoch 221, local model 85, internal_epoch   2,  Average loss: 0.0061, Accuracy: 329/364 (90.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 5.1592, Accuracy: 1922/10000 (19.2200%)
___Train Local_ResNet_18,  epoch 221, local model 23, internal_epoch   1,  Average loss: 0.0140, Accuracy: 181/248 (72.9839%)
___Train Local_ResNet_18,  epoch 221, local model 23, internal_epoch   2,  Average loss: 0.0021, Accuracy: 239/248 (96.3710%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 5.0815, Accuracy: 2159/10000 (21.5900%)
___Train Local_ResNet_18,  epoch 221, local model 25, internal_epoch   1,  Average loss: 0.0084, Accuracy: 452/545 (82.9358%)
___Train Local_ResNet_18,  epoch 221, local model 25, internal_epoch   2,  Average loss: 0.0071, Accuracy: 484/545 (88.8073%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 5.0039, Accuracy: 2942/10000 (29.4200%)
___Train Local_ResNet_18,  epoch 221, local model 54, internal_epoch   1,  Average loss: 0.0125, Accuracy: 324/440 (73.6364%)
___Train Local_ResNet_18,  epoch 221, local model 54, internal_epoch   2,  Average loss: 0.0041, Accuracy: 403/440 (91.5909%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 6.2302, Accuracy: 2932/10000 (29.3200%)
___Train Local_ResNet_18,  epoch 221, local model 90, internal_epoch   1,  Average loss: 0.0135, Accuracy: 441/578 (76.2976%)
___Train Local_ResNet_18,  epoch 221, local model 90, internal_epoch   2,  Average loss: 0.0108, Accuracy: 473/578 (81.8339%)
___Test Local_ResNet_18 poisoned: False, epoch: 221: Average loss: 24.8914, Accuracy: 1413/10000 (14.1300%)
time spent on training: 78.93140745162964
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 221: Average loss: 0.8729, Accuracy: 7045/10000 (70.4500%)
___Test Target_ResNet_18 poisoned: True, epoch: 221: Average loss: 0.1090, Accuracy: 8785/9000 (97.6111%)
Done in 106.5987389087677 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:222 choose agents : [45, 39, 16, 64, 25, 79, 83, 65, 35, 27]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 222, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 222, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 222, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 222, local model 45, internal_epoch   4,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 222, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 222, local model 45, internal_epoch   6,  Average loss: 0.0005, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Global model norm: 31.447003060146187.
Norm before scaling: 31.183201067379112. Distance: 1.8653556744344428
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.1016, Accuracy: 6266/10000 (62.6600%)
___Test Local_ResNet_18 poisoned: True, epoch: 222: Average loss: 0.1347, Accuracy: 8735/9000 (97.0556%)
Scaling by  100
Scaled Norm after poisoning: 183.80497689466952, distance: 186.53555081739782
Total norm for 1 adversaries is: 183.80497689466952. distance: 186.53555081739782
___Test Local_ResNet_18 poisoned: True, epoch: 222: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 222, local model 39, internal_epoch   1,  Average loss: 0.0189, Accuracy: 140/217 (64.5161%)
___Train Local_ResNet_18,  epoch 222, local model 39, internal_epoch   2,  Average loss: 0.0061, Accuracy: 201/217 (92.6267%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 7.9723, Accuracy: 1855/10000 (18.5500%)
___Train Local_ResNet_18,  epoch 222, local model 16, internal_epoch   1,  Average loss: 0.0082, Accuracy: 654/773 (84.6054%)
___Train Local_ResNet_18,  epoch 222, local model 16, internal_epoch   2,  Average loss: 0.0251, Accuracy: 425/773 (54.9806%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 33.0968, Accuracy: 1188/10000 (11.8800%)
___Train Local_ResNet_18,  epoch 222, local model 64, internal_epoch   1,  Average loss: 0.0073, Accuracy: 583/686 (84.9854%)
___Train Local_ResNet_18,  epoch 222, local model 64, internal_epoch   2,  Average loss: 0.0051, Accuracy: 615/686 (89.6501%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 7.5937, Accuracy: 3155/10000 (31.5500%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   1,  Average loss: 0.0064, Accuracy: 480/545 (88.0734%)
___Train Local_ResNet_18,  epoch 222, local model 25, internal_epoch   2,  Average loss: 0.0031, Accuracy: 514/545 (94.3119%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 6.1861, Accuracy: 2635/10000 (26.3500%)
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   1,  Average loss: 0.0061, Accuracy: 138/154 (89.6104%)
___Train Local_ResNet_18,  epoch 222, local model 79, internal_epoch   2,  Average loss: 0.0019, Accuracy: 152/154 (98.7013%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.5521, Accuracy: 5575/10000 (55.7500%)
___Train Local_ResNet_18,  epoch 222, local model 83, internal_epoch   1,  Average loss: 0.0069, Accuracy: 311/366 (84.9727%)
___Train Local_ResNet_18,  epoch 222, local model 83, internal_epoch   2,  Average loss: 0.0035, Accuracy: 344/366 (93.9891%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 2.1434, Accuracy: 4832/10000 (48.3200%)
___Train Local_ResNet_18,  epoch 222, local model 65, internal_epoch   1,  Average loss: 0.0082, Accuracy: 263/314 (83.7580%)
___Train Local_ResNet_18,  epoch 222, local model 65, internal_epoch   2,  Average loss: 0.0023, Accuracy: 297/314 (94.5860%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 4.5784, Accuracy: 2937/10000 (29.3700%)
___Train Local_ResNet_18,  epoch 222, local model 35, internal_epoch   1,  Average loss: 0.0057, Accuracy: 377/419 (89.9761%)
___Train Local_ResNet_18,  epoch 222, local model 35, internal_epoch   2,  Average loss: 0.0043, Accuracy: 383/419 (91.4081%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 4.7599, Accuracy: 2752/10000 (27.5200%)
___Train Local_ResNet_18,  epoch 222, local model 27, internal_epoch   1,  Average loss: 0.0085, Accuracy: 343/397 (86.3980%)
___Train Local_ResNet_18,  epoch 222, local model 27, internal_epoch   2,  Average loss: 0.0049, Accuracy: 369/397 (92.9471%)
___Test Local_ResNet_18 poisoned: False, epoch: 222: Average loss: 6.1566, Accuracy: 2229/10000 (22.2900%)
time spent on training: 90.4159107208252
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 222: Average loss: 1.0186, Accuracy: 6540/10000 (65.4000%)
___Test Target_ResNet_18 poisoned: True, epoch: 222: Average loss: 0.1850, Accuracy: 8680/9000 (96.4444%)
Done in 126.31879782676697 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:223 choose agents : [45, 28, 93, 0, 3, 8, 66, 76, 87, 19]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 223, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 223, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 223, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 223, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 223, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 223, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 31.18207070101543.
Norm before scaling: 30.871694534597545. Distance: 0.6996022882746924
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 1.0490, Accuracy: 6578/10000 (65.7800%)
___Test Local_ResNet_18 poisoned: True, epoch: 223: Average loss: 0.0950, Accuracy: 8818/9000 (97.9778%)
Scaling by  100
Scaled Norm after poisoning: 62.38443417194008, distance: 69.96021818795487
Total norm for 1 adversaries is: 62.38443417194008. distance: 69.96021818795487
___Test Local_ResNet_18 poisoned: True, epoch: 223: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 223, local model 28, internal_epoch   1,  Average loss: 0.0095, Accuracy: 346/423 (81.7967%)
___Train Local_ResNet_18,  epoch 223, local model 28, internal_epoch   2,  Average loss: 0.0062, Accuracy: 373/423 (88.1797%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.2834, Accuracy: 1692/10000 (16.9200%)
___Train Local_ResNet_18,  epoch 223, local model 93, internal_epoch   1,  Average loss: 0.0092, Accuracy: 481/584 (82.3630%)
___Train Local_ResNet_18,  epoch 223, local model 93, internal_epoch   2,  Average loss: 0.0093, Accuracy: 505/584 (86.4726%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 8.8037, Accuracy: 1839/10000 (18.3900%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   1,  Average loss: 0.0136, Accuracy: 265/367 (72.2071%)
___Train Local_ResNet_18,  epoch 223, local model 0, internal_epoch   2,  Average loss: 0.0058, Accuracy: 321/367 (87.4659%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 4.2462, Accuracy: 2148/10000 (21.4800%)
___Train Local_ResNet_18,  epoch 223, local model 3, internal_epoch   1,  Average loss: 0.0131, Accuracy: 597/780 (76.5385%)
___Train Local_ResNet_18,  epoch 223, local model 3, internal_epoch   2,  Average loss: 0.0166, Accuracy: 539/780 (69.1026%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 6.4461, Accuracy: 1553/10000 (15.5300%)
___Train Local_ResNet_18,  epoch 223, local model 8, internal_epoch   1,  Average loss: 0.0100, Accuracy: 430/534 (80.5243%)
___Train Local_ResNet_18,  epoch 223, local model 8, internal_epoch   2,  Average loss: 0.0094, Accuracy: 445/534 (83.3333%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 12.8668, Accuracy: 1257/10000 (12.5700%)
___Train Local_ResNet_18,  epoch 223, local model 66, internal_epoch   1,  Average loss: 0.0082, Accuracy: 471/555 (84.8649%)
___Train Local_ResNet_18,  epoch 223, local model 66, internal_epoch   2,  Average loss: 0.0036, Accuracy: 515/555 (92.7928%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 6.5347, Accuracy: 3314/10000 (33.1400%)
___Train Local_ResNet_18,  epoch 223, local model 76, internal_epoch   1,  Average loss: 0.0310, Accuracy: 46/65 (70.7692%)
___Train Local_ResNet_18,  epoch 223, local model 76, internal_epoch   2,  Average loss: 0.0628, Accuracy: 64/65 (98.4615%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 2.3365, Accuracy: 3860/10000 (38.6000%)
___Train Local_ResNet_18,  epoch 223, local model 87, internal_epoch   1,  Average loss: 0.0118, Accuracy: 305/397 (76.8262%)
___Train Local_ResNet_18,  epoch 223, local model 87, internal_epoch   2,  Average loss: 0.0065, Accuracy: 346/397 (87.1537%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 5.7992, Accuracy: 2441/10000 (24.4100%)
___Train Local_ResNet_18,  epoch 223, local model 19, internal_epoch   1,  Average loss: 0.0239, Accuracy: 99/173 (57.2254%)
___Train Local_ResNet_18,  epoch 223, local model 19, internal_epoch   2,  Average loss: 0.0020, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 223: Average loss: 6.5046, Accuracy: 2542/10000 (25.4200%)
time spent on training: 85.47792840003967
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 223: Average loss: 0.9381, Accuracy: 6889/10000 (68.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 223: Average loss: 0.1343, Accuracy: 8751/9000 (97.2333%)
Done in 121.93295550346375 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:224 choose agents : [45, 23, 51, 13, 6, 11, 7, 56, 63, 0]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 224, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 224, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 224, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 224, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 224, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 224, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 30.870460825237124.
Norm before scaling: 30.5472236632915. Distance: 0.460152782433597
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 0.9501, Accuracy: 6866/10000 (68.6600%)
___Test Local_ResNet_18 poisoned: True, epoch: 224: Average loss: 0.0889, Accuracy: 8822/9000 (98.0222%)
Scaling by  100
Scaled Norm after poisoning: 32.618477706518206, distance: 46.01527748170981
Total norm for 1 adversaries is: 32.618477706518206. distance: 46.01527748170981
___Test Local_ResNet_18 poisoned: True, epoch: 224: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 224, local model 23, internal_epoch   1,  Average loss: 0.0142, Accuracy: 176/248 (70.9677%)
___Train Local_ResNet_18,  epoch 224, local model 23, internal_epoch   2,  Average loss: 0.0024, Accuracy: 238/248 (95.9677%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 5.9611, Accuracy: 2039/10000 (20.3900%)
___Train Local_ResNet_18,  epoch 224, local model 51, internal_epoch   1,  Average loss: 0.0099, Accuracy: 386/479 (80.5846%)
___Train Local_ResNet_18,  epoch 224, local model 51, internal_epoch   2,  Average loss: 0.0048, Accuracy: 438/479 (91.4405%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 17.7542, Accuracy: 1444/10000 (14.4400%)
___Train Local_ResNet_18,  epoch 224, local model 13, internal_epoch   1,  Average loss: 0.0140, Accuracy: 457/620 (73.7097%)
___Train Local_ResNet_18,  epoch 224, local model 13, internal_epoch   2,  Average loss: 0.0088, Accuracy: 521/620 (84.0323%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 19.8573, Accuracy: 1661/10000 (16.6100%)
___Train Local_ResNet_18,  epoch 224, local model 6, internal_epoch   1,  Average loss: 0.0116, Accuracy: 421/520 (80.9615%)
___Train Local_ResNet_18,  epoch 224, local model 6, internal_epoch   2,  Average loss: 0.0112, Accuracy: 397/520 (76.3462%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 17.4774, Accuracy: 1794/10000 (17.9400%)
___Train Local_ResNet_18,  epoch 224, local model 11, internal_epoch   1,  Average loss: 0.0100, Accuracy: 443/546 (81.1355%)
___Train Local_ResNet_18,  epoch 224, local model 11, internal_epoch   2,  Average loss: 0.0079, Accuracy: 454/546 (83.1502%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 4.0843, Accuracy: 2821/10000 (28.2100%)
___Train Local_ResNet_18,  epoch 224, local model 7, internal_epoch   1,  Average loss: 0.0089, Accuracy: 290/352 (82.3864%)
___Train Local_ResNet_18,  epoch 224, local model 7, internal_epoch   2,  Average loss: 0.0028, Accuracy: 334/352 (94.8864%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.0390, Accuracy: 3810/10000 (38.1000%)
___Train Local_ResNet_18,  epoch 224, local model 56, internal_epoch   1,  Average loss: 0.0122, Accuracy: 570/743 (76.7160%)
___Train Local_ResNet_18,  epoch 224, local model 56, internal_epoch   2,  Average loss: 0.0091, Accuracy: 597/743 (80.3499%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.2280, Accuracy: 4290/10000 (42.9000%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   1,  Average loss: 0.0086, Accuracy: 618/752 (82.1809%)
___Train Local_ResNet_18,  epoch 224, local model 63, internal_epoch   2,  Average loss: 0.0072, Accuracy: 645/752 (85.7713%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 3.1020, Accuracy: 4098/10000 (40.9800%)
___Train Local_ResNet_18,  epoch 224, local model 0, internal_epoch   1,  Average loss: 0.0096, Accuracy: 297/367 (80.9264%)
___Train Local_ResNet_18,  epoch 224, local model 0, internal_epoch   2,  Average loss: 0.0037, Accuracy: 343/367 (93.4605%)
___Test Local_ResNet_18 poisoned: False, epoch: 224: Average loss: 2.8140, Accuracy: 3371/10000 (33.7100%)
time spent on training: 84.60565662384033
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 224: Average loss: 0.8254, Accuracy: 7224/10000 (72.2400%)
___Test Target_ResNet_18 poisoned: True, epoch: 224: Average loss: 0.1231, Accuracy: 8765/9000 (97.3889%)
Done in 118.23604011535645 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:225 choose agents : [45, 95, 63, 18, 42, 79, 85, 97, 43, 82]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 225, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 225, local model 45, internal_epoch   2,  Average loss: 0.0010, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 225, local model 45, internal_epoch   3,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 225, local model 45, internal_epoch   4,  Average loss: 0.0009, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 225, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 225, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Global model norm: 30.54785104738599.
Norm before scaling: 30.41590970983052. Distance: 2.9719635285389727
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.2061, Accuracy: 6099/10000 (60.9900%)
___Test Local_ResNet_18 poisoned: True, epoch: 225: Average loss: 0.1051, Accuracy: 8793/9000 (97.7000%)
Scaling by  100
Scaled Norm after poisoning: 295.9244255295598, distance: 297.1964443974726
Total norm for 1 adversaries is: 295.9244255295598. distance: 297.1964443974726
___Test Local_ResNet_18 poisoned: True, epoch: 225: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   1,  Average loss: 0.0130, Accuracy: 432/569 (75.9227%)
___Train Local_ResNet_18,  epoch 225, local model 95, internal_epoch   2,  Average loss: 0.0088, Accuracy: 478/569 (84.0070%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 12.8364, Accuracy: 2092/10000 (20.9200%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   1,  Average loss: 0.0072, Accuracy: 635/752 (84.4415%)
___Train Local_ResNet_18,  epoch 225, local model 63, internal_epoch   2,  Average loss: 0.0078, Accuracy: 637/752 (84.7074%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 3.8920, Accuracy: 3420/10000 (34.2000%)
___Train Local_ResNet_18,  epoch 225, local model 18, internal_epoch   1,  Average loss: 0.0134, Accuracy: 316/386 (81.8653%)
___Train Local_ResNet_18,  epoch 225, local model 18, internal_epoch   2,  Average loss: 0.0217, Accuracy: 265/386 (68.6528%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 29.5375, Accuracy: 1373/10000 (13.7300%)
___Train Local_ResNet_18,  epoch 225, local model 42, internal_epoch   1,  Average loss: 0.0096, Accuracy: 159/198 (80.3030%)
___Train Local_ResNet_18,  epoch 225, local model 42, internal_epoch   2,  Average loss: 0.0021, Accuracy: 196/198 (98.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 5.0268, Accuracy: 2161/10000 (21.6100%)
___Train Local_ResNet_18,  epoch 225, local model 79, internal_epoch   1,  Average loss: 0.0066, Accuracy: 138/154 (89.6104%)
___Train Local_ResNet_18,  epoch 225, local model 79, internal_epoch   2,  Average loss: 0.0018, Accuracy: 153/154 (99.3506%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.4325, Accuracy: 5825/10000 (58.2500%)
___Train Local_ResNet_18,  epoch 225, local model 85, internal_epoch   1,  Average loss: 0.0153, Accuracy: 258/364 (70.8791%)
___Train Local_ResNet_18,  epoch 225, local model 85, internal_epoch   2,  Average loss: 0.0079, Accuracy: 307/364 (84.3407%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 4.8888, Accuracy: 2150/10000 (21.5000%)
___Train Local_ResNet_18,  epoch 225, local model 97, internal_epoch   1,  Average loss: 0.0100, Accuracy: 333/418 (79.6651%)
___Train Local_ResNet_18,  epoch 225, local model 97, internal_epoch   2,  Average loss: 0.0043, Accuracy: 391/418 (93.5407%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.9034, Accuracy: 4670/10000 (46.7000%)
___Train Local_ResNet_18,  epoch 225, local model 43, internal_epoch   1,  Average loss: 0.0083, Accuracy: 292/345 (84.6377%)
___Train Local_ResNet_18,  epoch 225, local model 43, internal_epoch   2,  Average loss: 0.0056, Accuracy: 315/345 (91.3043%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 3.2981, Accuracy: 4004/10000 (40.0400%)
___Train Local_ResNet_18,  epoch 225, local model 82, internal_epoch   1,  Average loss: 0.0068, Accuracy: 516/601 (85.8569%)
___Train Local_ResNet_18,  epoch 225, local model 82, internal_epoch   2,  Average loss: 0.0051, Accuracy: 545/601 (90.6822%)
___Test Local_ResNet_18 poisoned: False, epoch: 225: Average loss: 5.9560, Accuracy: 2737/10000 (27.3700%)
time spent on training: 81.8713800907135
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 225: Average loss: 1.0750, Accuracy: 6460/10000 (64.6000%)
___Test Target_ResNet_18 poisoned: True, epoch: 225: Average loss: 0.1297, Accuracy: 8769/9000 (97.4333%)
Done in 118.57624459266663 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:226 choose agents : [45, 39, 27, 8, 61, 46, 67, 93, 85, 97]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 226, local model 45, internal_epoch   1,  Average loss: 0.0009, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 226, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 226, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 226, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 226, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 226, local model 45, internal_epoch   6,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 30.415516396985808.
Norm before scaling: 30.13411894367776. Distance: 1.3482950217073832
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 1.1913, Accuracy: 6208/10000 (62.0800%)
___Test Local_ResNet_18 poisoned: True, epoch: 226: Average loss: 0.0972, Accuracy: 8796/9000 (97.7333%)
Scaling by  100
Scaled Norm after poisoning: 131.2191183907665, distance: 134.82951474686467
Total norm for 1 adversaries is: 131.2191183907665. distance: 134.82951474686467
___Test Local_ResNet_18 poisoned: True, epoch: 226: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 226, local model 39, internal_epoch   1,  Average loss: 0.0202, Accuracy: 140/217 (64.5161%)
___Train Local_ResNet_18,  epoch 226, local model 39, internal_epoch   2,  Average loss: 0.0036, Accuracy: 201/217 (92.6267%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 9.1440, Accuracy: 1462/10000 (14.6200%)
___Train Local_ResNet_18,  epoch 226, local model 27, internal_epoch   1,  Average loss: 0.0119, Accuracy: 317/397 (79.8489%)
___Train Local_ResNet_18,  epoch 226, local model 27, internal_epoch   2,  Average loss: 0.0145, Accuracy: 309/397 (77.8338%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 7.6328, Accuracy: 1920/10000 (19.2000%)
___Train Local_ResNet_18,  epoch 226, local model 8, internal_epoch   1,  Average loss: 0.0120, Accuracy: 418/534 (78.2772%)
___Train Local_ResNet_18,  epoch 226, local model 8, internal_epoch   2,  Average loss: 0.0115, Accuracy: 427/534 (79.9625%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 3.5464, Accuracy: 3265/10000 (32.6500%)
___Train Local_ResNet_18,  epoch 226, local model 61, internal_epoch   1,  Average loss: 0.0147, Accuracy: 432/590 (73.2203%)
___Train Local_ResNet_18,  epoch 226, local model 61, internal_epoch   2,  Average loss: 0.0128, Accuracy: 465/590 (78.8136%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 21.0746, Accuracy: 1925/10000 (19.2500%)
___Train Local_ResNet_18,  epoch 226, local model 46, internal_epoch   1,  Average loss: 0.0114, Accuracy: 463/601 (77.0383%)
___Train Local_ResNet_18,  epoch 226, local model 46, internal_epoch   2,  Average loss: 0.0105, Accuracy: 494/601 (82.1963%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 32.3771, Accuracy: 1631/10000 (16.3100%)
___Train Local_ResNet_18,  epoch 226, local model 67, internal_epoch   1,  Average loss: 0.0153, Accuracy: 610/842 (72.4466%)
___Train Local_ResNet_18,  epoch 226, local model 67, internal_epoch   2,  Average loss: 0.0185, Accuracy: 538/842 (63.8955%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 15.3156, Accuracy: 1467/10000 (14.6700%)
___Train Local_ResNet_18,  epoch 226, local model 93, internal_epoch   1,  Average loss: 0.0106, Accuracy: 458/584 (78.4247%)
___Train Local_ResNet_18,  epoch 226, local model 93, internal_epoch   2,  Average loss: 0.0093, Accuracy: 483/584 (82.7055%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 5.6199, Accuracy: 2130/10000 (21.3000%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   1,  Average loss: 0.0193, Accuracy: 230/364 (63.1868%)
___Train Local_ResNet_18,  epoch 226, local model 85, internal_epoch   2,  Average loss: 0.0089, Accuracy: 301/364 (82.6923%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 7.5847, Accuracy: 1159/10000 (11.5900%)
___Train Local_ResNet_18,  epoch 226, local model 97, internal_epoch   1,  Average loss: 0.0111, Accuracy: 321/418 (76.7943%)
___Train Local_ResNet_18,  epoch 226, local model 97, internal_epoch   2,  Average loss: 0.0060, Accuracy: 369/418 (88.2775%)
___Test Local_ResNet_18 poisoned: False, epoch: 226: Average loss: 5.7688, Accuracy: 2988/10000 (29.8800%)
time spent on training: 88.3036048412323
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 226: Average loss: 1.0016, Accuracy: 6693/10000 (66.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 226: Average loss: 0.1503, Accuracy: 8719/9000 (96.8778%)
Done in 121.21352291107178 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:227 choose agents : [45, 18, 69, 49, 92, 77, 22, 53, 12, 61]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 227, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 227, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 227, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 227, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 227, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 227, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 30.13700507195483.
Norm before scaling: 29.854222434489376. Distance: 1.065413799219869
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 1.1945, Accuracy: 6263/10000 (62.6300%)
___Test Local_ResNet_18 poisoned: True, epoch: 227: Average loss: 0.0782, Accuracy: 8842/9000 (98.2444%)
Scaling by  100
Scaled Norm after poisoning: 102.22198386049354, distance: 106.54138812129538
Total norm for 1 adversaries is: 102.22198386049354. distance: 106.54138812129538
___Test Local_ResNet_18 poisoned: True, epoch: 227: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 227, local model 18, internal_epoch   1,  Average loss: 0.0161, Accuracy: 306/386 (79.2746%)
___Train Local_ResNet_18,  epoch 227, local model 18, internal_epoch   2,  Average loss: 0.0433, Accuracy: 143/386 (37.0466%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 582.9041, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 227, local model 69, internal_epoch   1,  Average loss: 0.0159, Accuracy: 158/216 (73.1481%)
___Train Local_ResNet_18,  epoch 227, local model 69, internal_epoch   2,  Average loss: 0.0030, Accuracy: 204/216 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 5.6573, Accuracy: 2237/10000 (22.3700%)
___Train Local_ResNet_18,  epoch 227, local model 49, internal_epoch   1,  Average loss: 0.0121, Accuracy: 326/426 (76.5258%)
___Train Local_ResNet_18,  epoch 227, local model 49, internal_epoch   2,  Average loss: 0.0055, Accuracy: 383/426 (89.9061%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 4.0060, Accuracy: 3041/10000 (30.4100%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   1,  Average loss: 0.0108, Accuracy: 637/796 (80.0251%)
___Train Local_ResNet_18,  epoch 227, local model 92, internal_epoch   2,  Average loss: 0.0143, Accuracy: 561/796 (70.4774%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 29.7660, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 227, local model 77, internal_epoch   1,  Average loss: 0.0107, Accuracy: 388/496 (78.2258%)
___Train Local_ResNet_18,  epoch 227, local model 77, internal_epoch   2,  Average loss: 0.0060, Accuracy: 440/496 (88.7097%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 3.8999, Accuracy: 2973/10000 (29.7300%)
___Train Local_ResNet_18,  epoch 227, local model 22, internal_epoch   1,  Average loss: 0.0111, Accuracy: 379/494 (76.7206%)
___Train Local_ResNet_18,  epoch 227, local model 22, internal_epoch   2,  Average loss: 0.0066, Accuracy: 426/494 (86.2348%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 5.6062, Accuracy: 2201/10000 (22.0100%)
___Train Local_ResNet_18,  epoch 227, local model 53, internal_epoch   1,  Average loss: 0.0111, Accuracy: 482/625 (77.1200%)
___Train Local_ResNet_18,  epoch 227, local model 53, internal_epoch   2,  Average loss: 0.0092, Accuracy: 505/625 (80.8000%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 8.6817, Accuracy: 1999/10000 (19.9900%)
___Train Local_ResNet_18,  epoch 227, local model 12, internal_epoch   1,  Average loss: 0.0148, Accuracy: 699/977 (71.5455%)
___Train Local_ResNet_18,  epoch 227, local model 12, internal_epoch   2,  Average loss: 0.0111, Accuracy: 771/977 (78.9150%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 6.0142, Accuracy: 2916/10000 (29.1600%)
___Train Local_ResNet_18,  epoch 227, local model 61, internal_epoch   1,  Average loss: 0.0117, Accuracy: 464/590 (78.6441%)
___Train Local_ResNet_18,  epoch 227, local model 61, internal_epoch   2,  Average loss: 0.0116, Accuracy: 448/590 (75.9322%)
___Test Local_ResNet_18 poisoned: False, epoch: 227: Average loss: 18.7186, Accuracy: 1058/10000 (10.5800%)
time spent on training: 94.02553963661194
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 227: Average loss: 0.9859, Accuracy: 6746/10000 (67.4600%)
___Test Target_ResNet_18 poisoned: True, epoch: 227: Average loss: 0.0999, Accuracy: 8795/9000 (97.7222%)
Done in 128.7249574661255 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:228 choose agents : [45, 59, 38, 87, 72, 82, 13, 19, 75, 1]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 228, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 228, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 228, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 228, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 228, local model 45, internal_epoch   5,  Average loss: 0.0008, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 228, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 29.857930817704762.
Norm before scaling: 29.548964387719558. Distance: 0.6573629251978913
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 1.0418, Accuracy: 6668/10000 (66.6800%)
___Test Local_ResNet_18 poisoned: True, epoch: 228: Average loss: 0.0960, Accuracy: 8813/9000 (97.9222%)
Scaling by  100
Scaled Norm after poisoning: 57.741472415576226, distance: 65.73629327781002
Total norm for 1 adversaries is: 57.741472415576226. distance: 65.73629327781002
___Test Local_ResNet_18 poisoned: True, epoch: 228: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 228, local model 59, internal_epoch   1,  Average loss: 0.0123, Accuracy: 513/642 (79.9065%)
___Train Local_ResNet_18,  epoch 228, local model 59, internal_epoch   2,  Average loss: 0.0269, Accuracy: 364/642 (56.6978%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 29.4793, Accuracy: 998/10000 (9.9800%)
___Train Local_ResNet_18,  epoch 228, local model 38, internal_epoch   1,  Average loss: 0.0144, Accuracy: 546/756 (72.2222%)
___Train Local_ResNet_18,  epoch 228, local model 38, internal_epoch   2,  Average loss: 0.0107, Accuracy: 580/756 (76.7196%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 7.4098, Accuracy: 1644/10000 (16.4400%)
___Train Local_ResNet_18,  epoch 228, local model 87, internal_epoch   1,  Average loss: 0.0151, Accuracy: 302/397 (76.0705%)
___Train Local_ResNet_18,  epoch 228, local model 87, internal_epoch   2,  Average loss: 0.0094, Accuracy: 334/397 (84.1310%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 8.1316, Accuracy: 1628/10000 (16.2800%)
___Train Local_ResNet_18,  epoch 228, local model 72, internal_epoch   1,  Average loss: 0.0137, Accuracy: 471/618 (76.2136%)
___Train Local_ResNet_18,  epoch 228, local model 72, internal_epoch   2,  Average loss: 0.0080, Accuracy: 514/618 (83.1715%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 11.0075, Accuracy: 1709/10000 (17.0900%)
___Train Local_ResNet_18,  epoch 228, local model 82, internal_epoch   1,  Average loss: 0.0095, Accuracy: 475/601 (79.0349%)
___Train Local_ResNet_18,  epoch 228, local model 82, internal_epoch   2,  Average loss: 0.0051, Accuracy: 534/601 (88.8519%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 7.4664, Accuracy: 2275/10000 (22.7500%)
___Train Local_ResNet_18,  epoch 228, local model 13, internal_epoch   1,  Average loss: 0.0141, Accuracy: 473/620 (76.2903%)
___Train Local_ResNet_18,  epoch 228, local model 13, internal_epoch   2,  Average loss: 0.0093, Accuracy: 512/620 (82.5806%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 165.4603, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 228, local model 19, internal_epoch   1,  Average loss: 0.0238, Accuracy: 97/173 (56.0694%)
___Train Local_ResNet_18,  epoch 228, local model 19, internal_epoch   2,  Average loss: 0.0033, Accuracy: 166/173 (95.9538%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 16.6230, Accuracy: 1737/10000 (17.3700%)
___Train Local_ResNet_18,  epoch 228, local model 75, internal_epoch   1,  Average loss: 0.0122, Accuracy: 450/578 (77.8547%)
___Train Local_ResNet_18,  epoch 228, local model 75, internal_epoch   2,  Average loss: 0.0126, Accuracy: 444/578 (76.8166%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 6.2903, Accuracy: 2006/10000 (20.0600%)
___Train Local_ResNet_18,  epoch 228, local model 1, internal_epoch   1,  Average loss: 0.0107, Accuracy: 533/641 (83.1513%)
___Train Local_ResNet_18,  epoch 228, local model 1, internal_epoch   2,  Average loss: 0.0118, Accuracy: 523/641 (81.5913%)
___Test Local_ResNet_18 poisoned: False, epoch: 228: Average loss: 12.2703, Accuracy: 1987/10000 (19.8700%)
time spent on training: 88.52844047546387
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 228: Average loss: 0.8865, Accuracy: 7066/10000 (70.6600%)
___Test Target_ResNet_18 poisoned: True, epoch: 228: Average loss: 0.1525, Accuracy: 8715/9000 (96.8333%)
Done in 118.06577610969543 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:229 choose agents : [45, 2, 9, 5, 15, 33, 91, 55, 61, 89]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 229, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 229, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 229, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 229, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 229, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 229, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 29.55091524465655.
Norm before scaling: 29.252750104423942. Distance: 0.5958085764118809
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 0.9581, Accuracy: 6866/10000 (68.6600%)
___Test Local_ResNet_18 poisoned: True, epoch: 229: Average loss: 0.0872, Accuracy: 8819/9000 (97.9889%)
Scaling by  100
Scaled Norm after poisoning: 51.325732440432596, distance: 59.58086023422287
Total norm for 1 adversaries is: 51.325732440432596. distance: 59.58086023422287
___Test Local_ResNet_18 poisoned: True, epoch: 229: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 229, local model 2, internal_epoch   1,  Average loss: 0.0176, Accuracy: 360/461 (78.0911%)
___Train Local_ResNet_18,  epoch 229, local model 2, internal_epoch   2,  Average loss: 0.0167, Accuracy: 325/461 (70.4989%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 16.4327, Accuracy: 1859/10000 (18.5900%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   1,  Average loss: 0.0112, Accuracy: 282/368 (76.6304%)
___Train Local_ResNet_18,  epoch 229, local model 9, internal_epoch   2,  Average loss: 0.0041, Accuracy: 338/368 (91.8478%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 4.1559, Accuracy: 3089/10000 (30.8900%)
___Train Local_ResNet_18,  epoch 229, local model 5, internal_epoch   1,  Average loss: 0.0092, Accuracy: 292/365 (80.0000%)
___Train Local_ResNet_18,  epoch 229, local model 5, internal_epoch   2,  Average loss: 0.0034, Accuracy: 342/365 (93.6986%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 3.2922, Accuracy: 3517/10000 (35.1700%)
___Train Local_ResNet_18,  epoch 229, local model 15, internal_epoch   1,  Average loss: 0.0153, Accuracy: 249/341 (73.0205%)
___Train Local_ResNet_18,  epoch 229, local model 15, internal_epoch   2,  Average loss: 0.0055, Accuracy: 311/341 (91.2023%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 4.9649, Accuracy: 3063/10000 (30.6300%)
___Train Local_ResNet_18,  epoch 229, local model 33, internal_epoch   1,  Average loss: 0.0141, Accuracy: 382/527 (72.4858%)
___Train Local_ResNet_18,  epoch 229, local model 33, internal_epoch   2,  Average loss: 0.0093, Accuracy: 423/527 (80.2657%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 13.7882, Accuracy: 2221/10000 (22.2100%)
___Train Local_ResNet_18,  epoch 229, local model 91, internal_epoch   1,  Average loss: 0.0077, Accuracy: 197/234 (84.1880%)
___Train Local_ResNet_18,  epoch 229, local model 91, internal_epoch   2,  Average loss: 0.0017, Accuracy: 230/234 (98.2906%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 6.5254, Accuracy: 1734/10000 (17.3400%)
___Train Local_ResNet_18,  epoch 229, local model 55, internal_epoch   1,  Average loss: 0.0103, Accuracy: 241/299 (80.6020%)
___Train Local_ResNet_18,  epoch 229, local model 55, internal_epoch   2,  Average loss: 0.0017, Accuracy: 291/299 (97.3244%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 9.8793, Accuracy: 1670/10000 (16.7000%)
___Train Local_ResNet_18,  epoch 229, local model 61, internal_epoch   1,  Average loss: 0.0092, Accuracy: 487/590 (82.5424%)
___Train Local_ResNet_18,  epoch 229, local model 61, internal_epoch   2,  Average loss: 0.0088, Accuracy: 487/590 (82.5424%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 11.2253, Accuracy: 1578/10000 (15.7800%)
___Train Local_ResNet_18,  epoch 229, local model 89, internal_epoch   1,  Average loss: 0.0127, Accuracy: 311/413 (75.3027%)
___Train Local_ResNet_18,  epoch 229, local model 89, internal_epoch   2,  Average loss: 0.0073, Accuracy: 342/413 (82.8087%)
___Test Local_ResNet_18 poisoned: False, epoch: 229: Average loss: 8.8987, Accuracy: 2205/10000 (22.0500%)
time spent on training: 88.0950014591217
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 229: Average loss: 0.8436, Accuracy: 7211/10000 (72.1100%)
___Test Target_ResNet_18 poisoned: True, epoch: 229: Average loss: 0.1115, Accuracy: 8776/9000 (97.5111%)
Done in 121.2662045955658 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:230 choose agents : [45, 26, 54, 41, 37, 72, 82, 2, 96, 32]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 230, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 230, local model 45, internal_epoch   2,  Average loss: 0.0006, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 230, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 230, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 230, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 230, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 29.25186020894387.
Norm before scaling: 28.96121463483533. Distance: 0.8818938615432409
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 0.9539, Accuracy: 6809/10000 (68.0900%)
___Test Local_ResNet_18 poisoned: True, epoch: 230: Average loss: 0.0952, Accuracy: 8805/9000 (97.8333%)
Scaling by  100
Scaled Norm after poisoning: 82.84530010809304, distance: 88.18938251002781
Total norm for 1 adversaries is: 82.84530010809304. distance: 88.18938251002781
___Test Local_ResNet_18 poisoned: True, epoch: 230: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 230, local model 26, internal_epoch   1,  Average loss: 0.0124, Accuracy: 345/468 (73.7179%)
___Train Local_ResNet_18,  epoch 230, local model 26, internal_epoch   2,  Average loss: 0.0145, Accuracy: 353/468 (75.4274%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 16.6694, Accuracy: 1644/10000 (16.4400%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   1,  Average loss: 0.0102, Accuracy: 353/440 (80.2273%)
___Train Local_ResNet_18,  epoch 230, local model 54, internal_epoch   2,  Average loss: 0.0051, Accuracy: 390/440 (88.6364%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 12.5293, Accuracy: 1685/10000 (16.8500%)
___Train Local_ResNet_18,  epoch 230, local model 41, internal_epoch   1,  Average loss: 0.0146, Accuracy: 379/513 (73.8791%)
___Train Local_ResNet_18,  epoch 230, local model 41, internal_epoch   2,  Average loss: 0.0090, Accuracy: 444/513 (86.5497%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 101.0186, Accuracy: 1028/10000 (10.2800%)
___Train Local_ResNet_18,  epoch 230, local model 37, internal_epoch   1,  Average loss: 0.0164, Accuracy: 507/725 (69.9310%)
___Train Local_ResNet_18,  epoch 230, local model 37, internal_epoch   2,  Average loss: 0.0141, Accuracy: 484/725 (66.7586%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 8.1668, Accuracy: 1852/10000 (18.5200%)
___Train Local_ResNet_18,  epoch 230, local model 72, internal_epoch   1,  Average loss: 0.0118, Accuracy: 480/618 (77.6699%)
___Train Local_ResNet_18,  epoch 230, local model 72, internal_epoch   2,  Average loss: 0.0076, Accuracy: 522/618 (84.4660%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 30.2921, Accuracy: 1593/10000 (15.9300%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   1,  Average loss: 0.0076, Accuracy: 518/601 (86.1897%)
___Train Local_ResNet_18,  epoch 230, local model 82, internal_epoch   2,  Average loss: 0.0062, Accuracy: 532/601 (88.5191%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 6.8680, Accuracy: 2452/10000 (24.5200%)
___Train Local_ResNet_18,  epoch 230, local model 2, internal_epoch   1,  Average loss: 0.0129, Accuracy: 356/461 (77.2234%)
___Train Local_ResNet_18,  epoch 230, local model 2, internal_epoch   2,  Average loss: 0.0132, Accuracy: 360/461 (78.0911%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 49.2363, Accuracy: 1076/10000 (10.7600%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   1,  Average loss: 0.0154, Accuracy: 538/708 (75.9887%)
___Train Local_ResNet_18,  epoch 230, local model 96, internal_epoch   2,  Average loss: 0.0206, Accuracy: 410/708 (57.9096%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 37.2781, Accuracy: 1104/10000 (11.0400%)
___Train Local_ResNet_18,  epoch 230, local model 32, internal_epoch   1,  Average loss: 0.0088, Accuracy: 692/824 (83.9806%)
___Train Local_ResNet_18,  epoch 230, local model 32, internal_epoch   2,  Average loss: 0.0072, Accuracy: 701/824 (85.0728%)
___Test Local_ResNet_18 poisoned: False, epoch: 230: Average loss: 6.6963, Accuracy: 2319/10000 (23.1900%)
time spent on training: 84.93778800964355
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 230: Average loss: 0.8276, Accuracy: 7153/10000 (71.5300%)
___Test Target_ResNet_18 poisoned: True, epoch: 230: Average loss: 0.1377, Accuracy: 8740/9000 (97.1111%)
Done in 113.00179147720337 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:231 choose agents : [45, 72, 68, 85, 48, 83, 58, 38, 76, 74]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 231, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 231, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 231, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 231, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 231, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 231, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 28.96425556761191.
Norm before scaling: 28.67259663601402. Distance: 0.5795081321237876
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 0.9568, Accuracy: 6791/10000 (67.9100%)
___Test Local_ResNet_18 poisoned: True, epoch: 231: Average loss: 0.0846, Accuracy: 8835/9000 (98.1667%)
Scaling by  100
Scaled Norm after poisoning: 49.826248396772506, distance: 57.9508100609366
Total norm for 1 adversaries is: 49.826248396772506. distance: 57.9508100609366
___Test Local_ResNet_18 poisoned: True, epoch: 231: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 231, local model 72, internal_epoch   1,  Average loss: 0.0120, Accuracy: 483/618 (78.1553%)
___Train Local_ResNet_18,  epoch 231, local model 72, internal_epoch   2,  Average loss: 0.0090, Accuracy: 523/618 (84.6278%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 12.6932, Accuracy: 1735/10000 (17.3500%)
___Train Local_ResNet_18,  epoch 231, local model 68, internal_epoch   1,  Average loss: 0.0104, Accuracy: 333/416 (80.0481%)
___Train Local_ResNet_18,  epoch 231, local model 68, internal_epoch   2,  Average loss: 0.0077, Accuracy: 359/416 (86.2981%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 5.5893, Accuracy: 2190/10000 (21.9000%)
___Train Local_ResNet_18,  epoch 231, local model 85, internal_epoch   1,  Average loss: 0.0144, Accuracy: 261/364 (71.7033%)
___Train Local_ResNet_18,  epoch 231, local model 85, internal_epoch   2,  Average loss: 0.0078, Accuracy: 303/364 (83.2418%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 6.7260, Accuracy: 1482/10000 (14.8200%)
___Train Local_ResNet_18,  epoch 231, local model 48, internal_epoch   1,  Average loss: 0.0095, Accuracy: 295/378 (78.0423%)
___Train Local_ResNet_18,  epoch 231, local model 48, internal_epoch   2,  Average loss: 0.0057, Accuracy: 333/378 (88.0952%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 4.0155, Accuracy: 2807/10000 (28.0700%)
___Train Local_ResNet_18,  epoch 231, local model 83, internal_epoch   1,  Average loss: 0.0075, Accuracy: 300/366 (81.9672%)
___Train Local_ResNet_18,  epoch 231, local model 83, internal_epoch   2,  Average loss: 0.0037, Accuracy: 345/366 (94.2623%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 2.7966, Accuracy: 4280/10000 (42.8000%)
___Train Local_ResNet_18,  epoch 231, local model 58, internal_epoch   1,  Average loss: 0.0150, Accuracy: 173/234 (73.9316%)
___Train Local_ResNet_18,  epoch 231, local model 58, internal_epoch   2,  Average loss: 0.0028, Accuracy: 219/234 (93.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 14.2987, Accuracy: 1032/10000 (10.3200%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   1,  Average loss: 0.0104, Accuracy: 594/756 (78.5714%)
___Train Local_ResNet_18,  epoch 231, local model 38, internal_epoch   2,  Average loss: 0.0096, Accuracy: 609/756 (80.5556%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 23.9121, Accuracy: 1063/10000 (10.6300%)
___Train Local_ResNet_18,  epoch 231, local model 76, internal_epoch   1,  Average loss: 0.0335, Accuracy: 45/65 (69.2308%)
___Train Local_ResNet_18,  epoch 231, local model 76, internal_epoch   2,  Average loss: 0.0551, Accuracy: 63/65 (96.9231%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 1.8075, Accuracy: 4954/10000 (49.5400%)
___Train Local_ResNet_18,  epoch 231, local model 74, internal_epoch   1,  Average loss: 0.0082, Accuracy: 395/469 (84.2217%)
___Train Local_ResNet_18,  epoch 231, local model 74, internal_epoch   2,  Average loss: 0.0059, Accuracy: 422/469 (89.9787%)
___Test Local_ResNet_18 poisoned: False, epoch: 231: Average loss: 3.4700, Accuracy: 3405/10000 (34.0500%)
time spent on training: 76.52114510536194
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 231: Average loss: 0.8847, Accuracy: 7036/10000 (70.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 231: Average loss: 0.1022, Accuracy: 8802/9000 (97.8000%)
Done in 104.14491319656372 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:232 choose agents : [45, 65, 9, 37, 70, 41, 43, 93, 52, 36]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 232, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 232, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 232, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 232, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 232, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 232, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 28.6751381828351.
Norm before scaling: 28.376741196232675. Distance: 0.36751095748966384
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 0.9120, Accuracy: 6977/10000 (69.7700%)
___Test Local_ResNet_18 poisoned: True, epoch: 232: Average loss: 0.0997, Accuracy: 8805/9000 (97.8333%)
Scaling by  100
Scaled Norm after poisoning: 21.377758896560067, distance: 36.75109778600583
Total norm for 1 adversaries is: 21.377758896560067. distance: 36.75109778600583
___Test Local_ResNet_18 poisoned: True, epoch: 232: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 232, local model 65, internal_epoch   1,  Average loss: 0.0077, Accuracy: 264/314 (84.0764%)
___Train Local_ResNet_18,  epoch 232, local model 65, internal_epoch   2,  Average loss: 0.0026, Accuracy: 299/314 (95.2229%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 4.7856, Accuracy: 2704/10000 (27.0400%)
___Train Local_ResNet_18,  epoch 232, local model 9, internal_epoch   1,  Average loss: 0.0100, Accuracy: 304/368 (82.6087%)
___Train Local_ResNet_18,  epoch 232, local model 9, internal_epoch   2,  Average loss: 0.0039, Accuracy: 336/368 (91.3043%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 6.3050, Accuracy: 2744/10000 (27.4400%)
___Train Local_ResNet_18,  epoch 232, local model 37, internal_epoch   1,  Average loss: 0.0135, Accuracy: 546/725 (75.3103%)
___Train Local_ResNet_18,  epoch 232, local model 37, internal_epoch   2,  Average loss: 0.0155, Accuracy: 481/725 (66.3448%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 40.1621, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 232, local model 70, internal_epoch   1,  Average loss: 0.0091, Accuracy: 506/610 (82.9508%)
___Train Local_ResNet_18,  epoch 232, local model 70, internal_epoch   2,  Average loss: 0.0072, Accuracy: 524/610 (85.9016%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 4.5102, Accuracy: 2531/10000 (25.3100%)
___Train Local_ResNet_18,  epoch 232, local model 41, internal_epoch   1,  Average loss: 0.0154, Accuracy: 358/513 (69.7856%)
___Train Local_ResNet_18,  epoch 232, local model 41, internal_epoch   2,  Average loss: 0.0098, Accuracy: 417/513 (81.2865%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 14.7586, Accuracy: 1599/10000 (15.9900%)
___Train Local_ResNet_18,  epoch 232, local model 43, internal_epoch   1,  Average loss: 0.0083, Accuracy: 287/345 (83.1884%)
___Train Local_ResNet_18,  epoch 232, local model 43, internal_epoch   2,  Average loss: 0.0085, Accuracy: 302/345 (87.5362%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 4.9279, Accuracy: 1709/10000 (17.0900%)
___Train Local_ResNet_18,  epoch 232, local model 93, internal_epoch   1,  Average loss: 0.0092, Accuracy: 496/584 (84.9315%)
___Train Local_ResNet_18,  epoch 232, local model 93, internal_epoch   2,  Average loss: 0.0162, Accuracy: 423/584 (72.4315%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 89.4183, Accuracy: 1299/10000 (12.9900%)
___Train Local_ResNet_18,  epoch 232, local model 52, internal_epoch   1,  Average loss: 0.0119, Accuracy: 161/214 (75.2336%)
___Train Local_ResNet_18,  epoch 232, local model 52, internal_epoch   2,  Average loss: 0.0047, Accuracy: 206/214 (96.2617%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 8.0540, Accuracy: 2145/10000 (21.4500%)
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   1,  Average loss: 0.0148, Accuracy: 599/849 (70.5536%)
___Train Local_ResNet_18,  epoch 232, local model 36, internal_epoch   2,  Average loss: 0.0165, Accuracy: 571/849 (67.2556%)
___Test Local_ResNet_18 poisoned: False, epoch: 232: Average loss: 8.9064, Accuracy: 1868/10000 (18.6800%)
time spent on training: 93.81589674949646
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 232: Average loss: 0.8178, Accuracy: 7248/10000 (72.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 232: Average loss: 0.1517, Accuracy: 8723/9000 (96.9222%)
Done in 119.74032378196716 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:233 choose agents : [45, 65, 79, 19, 77, 98, 88, 21, 63, 67]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 233, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 233, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 233, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 233, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 233, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 233, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 28.381289957098605.
Norm before scaling: 28.092229171850175. Distance: 0.42471226530869377
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 0.8813, Accuracy: 7062/10000 (70.6200%)
___Test Local_ResNet_18 poisoned: True, epoch: 233: Average loss: 0.1083, Accuracy: 8796/9000 (97.7333%)
Scaling by  100
Scaled Norm after poisoning: 30.96490362245063, distance: 42.4712290598184
Total norm for 1 adversaries is: 30.96490362245063. distance: 42.4712290598184
___Test Local_ResNet_18 poisoned: True, epoch: 233: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   1,  Average loss: 0.0066, Accuracy: 276/314 (87.8981%)
___Train Local_ResNet_18,  epoch 233, local model 65, internal_epoch   2,  Average loss: 0.0018, Accuracy: 306/314 (97.4522%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 4.2923, Accuracy: 2570/10000 (25.7000%)
___Train Local_ResNet_18,  epoch 233, local model 79, internal_epoch   1,  Average loss: 0.0052, Accuracy: 139/154 (90.2597%)
___Train Local_ResNet_18,  epoch 233, local model 79, internal_epoch   2,  Average loss: 0.0017, Accuracy: 153/154 (99.3506%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 1.5865, Accuracy: 5567/10000 (55.6700%)
___Train Local_ResNet_18,  epoch 233, local model 19, internal_epoch   1,  Average loss: 0.0184, Accuracy: 112/173 (64.7399%)
___Train Local_ResNet_18,  epoch 233, local model 19, internal_epoch   2,  Average loss: 0.0016, Accuracy: 171/173 (98.8439%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 8.2913, Accuracy: 2216/10000 (22.1600%)
___Train Local_ResNet_18,  epoch 233, local model 77, internal_epoch   1,  Average loss: 0.0061, Accuracy: 441/496 (88.9113%)
___Train Local_ResNet_18,  epoch 233, local model 77, internal_epoch   2,  Average loss: 0.0067, Accuracy: 430/496 (86.6935%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 3.8793, Accuracy: 3109/10000 (31.0900%)
___Train Local_ResNet_18,  epoch 233, local model 98, internal_epoch   1,  Average loss: 0.0123, Accuracy: 615/802 (76.6833%)
___Train Local_ResNet_18,  epoch 233, local model 98, internal_epoch   2,  Average loss: 0.0127, Accuracy: 577/802 (71.9451%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 8.5645, Accuracy: 2351/10000 (23.5100%)
___Train Local_ResNet_18,  epoch 233, local model 88, internal_epoch   1,  Average loss: 0.0127, Accuracy: 335/447 (74.9441%)
___Train Local_ResNet_18,  epoch 233, local model 88, internal_epoch   2,  Average loss: 0.0084, Accuracy: 371/447 (82.9978%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 12.3229, Accuracy: 1196/10000 (11.9600%)
___Train Local_ResNet_18,  epoch 233, local model 21, internal_epoch   1,  Average loss: 0.0155, Accuracy: 209/262 (79.7710%)
___Train Local_ResNet_18,  epoch 233, local model 21, internal_epoch   2,  Average loss: 0.0145, Accuracy: 231/262 (88.1679%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 24.0370, Accuracy: 1063/10000 (10.6300%)
___Train Local_ResNet_18,  epoch 233, local model 63, internal_epoch   1,  Average loss: 0.0073, Accuracy: 627/752 (83.3777%)
___Train Local_ResNet_18,  epoch 233, local model 63, internal_epoch   2,  Average loss: 0.0088, Accuracy: 609/752 (80.9840%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 14.1369, Accuracy: 1862/10000 (18.6200%)
___Train Local_ResNet_18,  epoch 233, local model 67, internal_epoch   1,  Average loss: 0.0116, Accuracy: 674/842 (80.0475%)
___Train Local_ResNet_18,  epoch 233, local model 67, internal_epoch   2,  Average loss: 0.0202, Accuracy: 516/842 (61.2827%)
___Test Local_ResNet_18 poisoned: False, epoch: 233: Average loss: 33.9960, Accuracy: 1174/10000 (11.7400%)
time spent on training: 90.77715921401978
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 233: Average loss: 0.8211, Accuracy: 7226/10000 (72.2600%)
___Test Target_ResNet_18 poisoned: True, epoch: 233: Average loss: 0.1279, Accuracy: 8762/9000 (97.3556%)
Done in 125.09067106246948 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:234 choose agents : [45, 41, 35, 90, 2, 15, 33, 24, 92, 47]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 234, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 234, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 234, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 234, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 234, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 234, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 28.10014526764052.
Norm before scaling: 27.806866090190972. Distance: 0.3574786948811496
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 0.8748, Accuracy: 7091/10000 (70.9100%)
___Test Local_ResNet_18 poisoned: True, epoch: 234: Average loss: 0.1094, Accuracy: 8794/9000 (97.7111%)
Scaling by  100
Scaled Norm after poisoning: 20.374219633733063, distance: 35.74786583992638
Total norm for 1 adversaries is: 20.374219633733063. distance: 35.74786583992638
___Test Local_ResNet_18 poisoned: True, epoch: 234: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 234, local model 41, internal_epoch   1,  Average loss: 0.0298, Accuracy: 373/513 (72.7096%)
___Train Local_ResNet_18,  epoch 234, local model 41, internal_epoch   2,  Average loss: 0.0143, Accuracy: 387/513 (75.4386%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 7.1567, Accuracy: 2608/10000 (26.0800%)
___Train Local_ResNet_18,  epoch 234, local model 35, internal_epoch   1,  Average loss: 0.0069, Accuracy: 366/419 (87.3508%)
___Train Local_ResNet_18,  epoch 234, local model 35, internal_epoch   2,  Average loss: 0.0043, Accuracy: 379/419 (90.4535%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 4.5033, Accuracy: 2522/10000 (25.2200%)
___Train Local_ResNet_18,  epoch 234, local model 90, internal_epoch   1,  Average loss: 0.0143, Accuracy: 459/578 (79.4118%)
___Train Local_ResNet_18,  epoch 234, local model 90, internal_epoch   2,  Average loss: 0.0170, Accuracy: 448/578 (77.5087%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 49.9530, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 234, local model 2, internal_epoch   1,  Average loss: 0.0131, Accuracy: 364/461 (78.9588%)
___Train Local_ResNet_18,  epoch 234, local model 2, internal_epoch   2,  Average loss: 0.0151, Accuracy: 345/461 (74.8373%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 88.2663, Accuracy: 1025/10000 (10.2500%)
___Train Local_ResNet_18,  epoch 234, local model 15, internal_epoch   1,  Average loss: 0.0152, Accuracy: 248/341 (72.7273%)
___Train Local_ResNet_18,  epoch 234, local model 15, internal_epoch   2,  Average loss: 0.0049, Accuracy: 311/341 (91.2023%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 4.4204, Accuracy: 3184/10000 (31.8400%)
___Train Local_ResNet_18,  epoch 234, local model 33, internal_epoch   1,  Average loss: 0.0126, Accuracy: 406/527 (77.0398%)
___Train Local_ResNet_18,  epoch 234, local model 33, internal_epoch   2,  Average loss: 0.0124, Accuracy: 407/527 (77.2296%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 65.7732, Accuracy: 1101/10000 (11.0100%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   1,  Average loss: 0.0079, Accuracy: 272/320 (85.0000%)
___Train Local_ResNet_18,  epoch 234, local model 24, internal_epoch   2,  Average loss: 0.0028, Accuracy: 306/320 (95.6250%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 6.7346, Accuracy: 1366/10000 (13.6600%)
___Train Local_ResNet_18,  epoch 234, local model 92, internal_epoch   1,  Average loss: 0.0108, Accuracy: 640/796 (80.4020%)
___Train Local_ResNet_18,  epoch 234, local model 92, internal_epoch   2,  Average loss: 0.0127, Accuracy: 583/796 (73.2412%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 14.8831, Accuracy: 1898/10000 (18.9800%)
___Train Local_ResNet_18,  epoch 234, local model 47, internal_epoch   1,  Average loss: 0.0110, Accuracy: 522/654 (79.8165%)
___Train Local_ResNet_18,  epoch 234, local model 47, internal_epoch   2,  Average loss: 0.0123, Accuracy: 524/654 (80.1223%)
___Test Local_ResNet_18 poisoned: False, epoch: 234: Average loss: 30.8629, Accuracy: 1002/10000 (10.0200%)
time spent on training: 90.8806562423706
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 234: Average loss: 0.7840, Accuracy: 7335/10000 (73.3500%)
___Test Target_ResNet_18 poisoned: True, epoch: 234: Average loss: 0.1404, Accuracy: 8739/9000 (97.1000%)
Done in 124.30279302597046 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:235 choose agents : [45, 47, 46, 25, 72, 91, 27, 74, 68, 96]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 235, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 235, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 235, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 235, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 235, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 235, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 27.81072676931511.
Norm before scaling: 27.524187028539668. Distance: 0.4404207216014193
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 0.8292, Accuracy: 7224/10000 (72.2400%)
___Test Local_ResNet_18 poisoned: True, epoch: 235: Average loss: 0.0949, Accuracy: 8813/9000 (97.9222%)
Scaling by  100
Scaled Norm after poisoning: 33.28933293864568, distance: 44.04207194901825
Total norm for 1 adversaries is: 33.28933293864568. distance: 44.04207194901825
___Test Local_ResNet_18 poisoned: True, epoch: 235: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 235, local model 47, internal_epoch   1,  Average loss: 0.0081, Accuracy: 559/654 (85.4740%)
___Train Local_ResNet_18,  epoch 235, local model 47, internal_epoch   2,  Average loss: 0.0089, Accuracy: 552/654 (84.4037%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 4.4281, Accuracy: 2670/10000 (26.7000%)
___Train Local_ResNet_18,  epoch 235, local model 46, internal_epoch   1,  Average loss: 0.0066, Accuracy: 523/601 (87.0216%)
___Train Local_ResNet_18,  epoch 235, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 531/601 (88.3527%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 12.8195, Accuracy: 1858/10000 (18.5800%)
___Train Local_ResNet_18,  epoch 235, local model 25, internal_epoch   1,  Average loss: 0.0078, Accuracy: 472/545 (86.6055%)
___Train Local_ResNet_18,  epoch 235, local model 25, internal_epoch   2,  Average loss: 0.0047, Accuracy: 503/545 (92.2936%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 7.2364, Accuracy: 2764/10000 (27.6400%)
___Train Local_ResNet_18,  epoch 235, local model 72, internal_epoch   1,  Average loss: 0.0092, Accuracy: 507/618 (82.0388%)
___Train Local_ResNet_18,  epoch 235, local model 72, internal_epoch   2,  Average loss: 0.0106, Accuracy: 505/618 (81.7152%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 6.2100, Accuracy: 2409/10000 (24.0900%)
___Train Local_ResNet_18,  epoch 235, local model 91, internal_epoch   1,  Average loss: 0.0064, Accuracy: 210/234 (89.7436%)
___Train Local_ResNet_18,  epoch 235, local model 91, internal_epoch   2,  Average loss: 0.0011, Accuracy: 232/234 (99.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 5.1247, Accuracy: 2066/10000 (20.6600%)
___Train Local_ResNet_18,  epoch 235, local model 27, internal_epoch   1,  Average loss: 0.0072, Accuracy: 349/397 (87.9093%)
___Train Local_ResNet_18,  epoch 235, local model 27, internal_epoch   2,  Average loss: 0.0033, Accuracy: 375/397 (94.4584%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 3.9254, Accuracy: 3789/10000 (37.8900%)
___Train Local_ResNet_18,  epoch 235, local model 74, internal_epoch   1,  Average loss: 0.0068, Accuracy: 413/469 (88.0597%)
___Train Local_ResNet_18,  epoch 235, local model 74, internal_epoch   2,  Average loss: 0.0039, Accuracy: 438/469 (93.3902%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 5.0644, Accuracy: 2637/10000 (26.3700%)
___Train Local_ResNet_18,  epoch 235, local model 68, internal_epoch   1,  Average loss: 0.0065, Accuracy: 369/416 (88.7019%)
___Train Local_ResNet_18,  epoch 235, local model 68, internal_epoch   2,  Average loss: 0.0056, Accuracy: 370/416 (88.9423%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 4.3480, Accuracy: 2706/10000 (27.0600%)
___Train Local_ResNet_18,  epoch 235, local model 96, internal_epoch   1,  Average loss: 0.0114, Accuracy: 555/708 (78.3898%)
___Train Local_ResNet_18,  epoch 235, local model 96, internal_epoch   2,  Average loss: 0.0250, Accuracy: 386/708 (54.5198%)
___Test Local_ResNet_18 poisoned: False, epoch: 235: Average loss: 73.1660, Accuracy: 998/10000 (9.9800%)
time spent on training: 81.05716967582703
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 235: Average loss: 0.7820, Accuracy: 7385/10000 (73.8500%)
___Test Target_ResNet_18 poisoned: True, epoch: 235: Average loss: 0.1144, Accuracy: 8777/9000 (97.5222%)
Done in 112.81218385696411 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:236 choose agents : [45, 74, 10, 56, 63, 73, 97, 46, 62, 15]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 236, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 236, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 236, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 236, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 236, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 236, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 27.53227974982559.
Norm before scaling: 27.252993358026863. Distance: 0.4917497201723855
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 0.8516, Accuracy: 7173/10000 (71.7300%)
___Test Local_ResNet_18 poisoned: True, epoch: 236: Average loss: 0.1115, Accuracy: 8789/9000 (97.6556%)
Scaling by  100
Scaled Norm after poisoning: 40.273312469495544, distance: 49.174973091153035
Total norm for 1 adversaries is: 40.273312469495544. distance: 49.174973091153035
___Test Local_ResNet_18 poisoned: True, epoch: 236: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 236, local model 74, internal_epoch   1,  Average loss: 0.0060, Accuracy: 422/469 (89.9787%)
___Train Local_ResNet_18,  epoch 236, local model 74, internal_epoch   2,  Average loss: 0.0065, Accuracy: 409/469 (87.2068%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 4.6400, Accuracy: 2607/10000 (26.0700%)
___Train Local_ResNet_18,  epoch 236, local model 10, internal_epoch   1,  Average loss: 0.0076, Accuracy: 640/752 (85.1064%)
___Train Local_ResNet_18,  epoch 236, local model 10, internal_epoch   2,  Average loss: 0.0050, Accuracy: 672/752 (89.3617%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 6.7451, Accuracy: 2696/10000 (26.9600%)
___Train Local_ResNet_18,  epoch 236, local model 56, internal_epoch   1,  Average loss: 0.0095, Accuracy: 599/743 (80.6191%)
___Train Local_ResNet_18,  epoch 236, local model 56, internal_epoch   2,  Average loss: 0.0093, Accuracy: 594/743 (79.9462%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 15.6431, Accuracy: 2054/10000 (20.5400%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   1,  Average loss: 0.0060, Accuracy: 644/752 (85.6383%)
___Train Local_ResNet_18,  epoch 236, local model 63, internal_epoch   2,  Average loss: 0.0076, Accuracy: 625/752 (83.1117%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 6.3803, Accuracy: 2610/10000 (26.1000%)
___Train Local_ResNet_18,  epoch 236, local model 73, internal_epoch   1,  Average loss: 0.0111, Accuracy: 405/500 (81.0000%)
___Train Local_ResNet_18,  epoch 236, local model 73, internal_epoch   2,  Average loss: 0.0059, Accuracy: 440/500 (88.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 9.0031, Accuracy: 2187/10000 (21.8700%)
___Train Local_ResNet_18,  epoch 236, local model 97, internal_epoch   1,  Average loss: 0.0090, Accuracy: 351/418 (83.9713%)
___Train Local_ResNet_18,  epoch 236, local model 97, internal_epoch   2,  Average loss: 0.0043, Accuracy: 390/418 (93.3014%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 5.4304, Accuracy: 2412/10000 (24.1200%)
___Train Local_ResNet_18,  epoch 236, local model 46, internal_epoch   1,  Average loss: 0.0063, Accuracy: 526/601 (87.5208%)
___Train Local_ResNet_18,  epoch 236, local model 46, internal_epoch   2,  Average loss: 0.0083, Accuracy: 501/601 (83.3611%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 24.9787, Accuracy: 1238/10000 (12.3800%)
___Train Local_ResNet_18,  epoch 236, local model 62, internal_epoch   1,  Average loss: 0.0055, Accuracy: 320/358 (89.3855%)
___Train Local_ResNet_18,  epoch 236, local model 62, internal_epoch   2,  Average loss: 0.0021, Accuracy: 348/358 (97.2067%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 1.6581, Accuracy: 5072/10000 (50.7200%)
___Train Local_ResNet_18,  epoch 236, local model 15, internal_epoch   1,  Average loss: 0.0122, Accuracy: 263/341 (77.1261%)
___Train Local_ResNet_18,  epoch 236, local model 15, internal_epoch   2,  Average loss: 0.0032, Accuracy: 323/341 (94.7214%)
___Test Local_ResNet_18 poisoned: False, epoch: 236: Average loss: 3.6486, Accuracy: 3709/10000 (37.0900%)
time spent on training: 88.67805099487305
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 236: Average loss: 0.7996, Accuracy: 7342/10000 (73.4200%)
___Test Target_ResNet_18 poisoned: True, epoch: 236: Average loss: 0.1384, Accuracy: 8734/9000 (97.0444%)
Done in 124.42687559127808 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:237 choose agents : [45, 94, 50, 22, 10, 31, 25, 47, 54, 46]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 237, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 237, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 237, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 237, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 237, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 237, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 27.26294309876045.
Norm before scaling: 26.979529638806714. Distance: 0.40877542122117005
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 0.8294, Accuracy: 7224/10000 (72.2400%)
___Test Local_ResNet_18 poisoned: True, epoch: 237: Average loss: 0.1075, Accuracy: 8799/9000 (97.7667%)
Scaling by  100
Scaled Norm after poisoning: 29.32970972509946, distance: 40.877545852005504
Total norm for 1 adversaries is: 29.32970972509946. distance: 40.877545852005504
___Test Local_ResNet_18 poisoned: True, epoch: 237: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 237, local model 94, internal_epoch   1,  Average loss: 0.0136, Accuracy: 146/203 (71.9212%)
___Train Local_ResNet_18,  epoch 237, local model 94, internal_epoch   2,  Average loss: 0.0025, Accuracy: 194/203 (95.5665%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 5.4730, Accuracy: 2935/10000 (29.3500%)
___Train Local_ResNet_18,  epoch 237, local model 50, internal_epoch   1,  Average loss: 0.0089, Accuracy: 333/401 (83.0424%)
___Train Local_ResNet_18,  epoch 237, local model 50, internal_epoch   2,  Average loss: 0.0060, Accuracy: 362/401 (90.2743%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.8047, Accuracy: 2666/10000 (26.6600%)
___Train Local_ResNet_18,  epoch 237, local model 22, internal_epoch   1,  Average loss: 0.0077, Accuracy: 425/494 (86.0324%)
___Train Local_ResNet_18,  epoch 237, local model 22, internal_epoch   2,  Average loss: 0.0068, Accuracy: 425/494 (86.0324%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 6.6464, Accuracy: 1944/10000 (19.4400%)
___Train Local_ResNet_18,  epoch 237, local model 10, internal_epoch   1,  Average loss: 0.0080, Accuracy: 638/752 (84.8404%)
___Train Local_ResNet_18,  epoch 237, local model 10, internal_epoch   2,  Average loss: 0.0069, Accuracy: 651/752 (86.5691%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 9.9658, Accuracy: 2108/10000 (21.0800%)
___Train Local_ResNet_18,  epoch 237, local model 31, internal_epoch   1,  Average loss: 0.0096, Accuracy: 570/706 (80.7365%)
___Train Local_ResNet_18,  epoch 237, local model 31, internal_epoch   2,  Average loss: 0.0114, Accuracy: 538/706 (76.2040%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 14.7686, Accuracy: 2142/10000 (21.4200%)
___Train Local_ResNet_18,  epoch 237, local model 25, internal_epoch   1,  Average loss: 0.0072, Accuracy: 473/545 (86.7890%)
___Train Local_ResNet_18,  epoch 237, local model 25, internal_epoch   2,  Average loss: 0.0051, Accuracy: 499/545 (91.5596%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 4.4977, Accuracy: 2902/10000 (29.0200%)
___Train Local_ResNet_18,  epoch 237, local model 47, internal_epoch   1,  Average loss: 0.0100, Accuracy: 540/654 (82.5688%)
___Train Local_ResNet_18,  epoch 237, local model 47, internal_epoch   2,  Average loss: 0.0136, Accuracy: 467/654 (71.4067%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 50.2854, Accuracy: 1018/10000 (10.1800%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   1,  Average loss: 0.0100, Accuracy: 354/440 (80.4545%)
___Train Local_ResNet_18,  epoch 237, local model 54, internal_epoch   2,  Average loss: 0.0046, Accuracy: 404/440 (91.8182%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 7.7230, Accuracy: 2275/10000 (22.7500%)
___Train Local_ResNet_18,  epoch 237, local model 46, internal_epoch   1,  Average loss: 0.0051, Accuracy: 551/601 (91.6805%)
___Train Local_ResNet_18,  epoch 237, local model 46, internal_epoch   2,  Average loss: 0.0076, Accuracy: 511/601 (85.0250%)
___Test Local_ResNet_18 poisoned: False, epoch: 237: Average loss: 6.0781, Accuracy: 3216/10000 (32.1600%)
time spent on training: 96.40996170043945
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 237: Average loss: 0.7656, Accuracy: 7427/10000 (74.2700%)
___Test Target_ResNet_18 poisoned: True, epoch: 237: Average loss: 0.1354, Accuracy: 8744/9000 (97.1556%)
Done in 125.40470004081726 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:238 choose agents : [45, 13, 42, 63, 34, 35, 22, 96, 54, 18]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 238, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 238, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 238, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 238, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 238, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 238, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 26.990329847436794.
Norm before scaling: 26.71264664391487. Distance: 0.3861360687751446
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 0.8352, Accuracy: 7229/10000 (72.2900%)
___Test Local_ResNet_18 poisoned: True, epoch: 238: Average loss: 0.1033, Accuracy: 8807/9000 (97.8556%)
Scaling by  100
Scaled Norm after poisoning: 26.708349583978414, distance: 38.61360825133414
Total norm for 1 adversaries is: 26.708349583978414. distance: 38.61360825133414
___Test Local_ResNet_18 poisoned: True, epoch: 238: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 238, local model 13, internal_epoch   1,  Average loss: 0.0110, Accuracy: 498/620 (80.3226%)
___Train Local_ResNet_18,  epoch 238, local model 13, internal_epoch   2,  Average loss: 0.0080, Accuracy: 531/620 (85.6452%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 13.0563, Accuracy: 2446/10000 (24.4600%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   1,  Average loss: 0.0105, Accuracy: 166/198 (83.8384%)
___Train Local_ResNet_18,  epoch 238, local model 42, internal_epoch   2,  Average loss: 0.0121, Accuracy: 173/198 (87.3737%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.4473, Accuracy: 2392/10000 (23.9200%)
___Train Local_ResNet_18,  epoch 238, local model 63, internal_epoch   1,  Average loss: 0.0054, Accuracy: 670/752 (89.0957%)
___Train Local_ResNet_18,  epoch 238, local model 63, internal_epoch   2,  Average loss: 0.0101, Accuracy: 602/752 (80.0532%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 8.1698, Accuracy: 2779/10000 (27.7900%)
___Train Local_ResNet_18,  epoch 238, local model 34, internal_epoch   1,  Average loss: 0.0137, Accuracy: 254/349 (72.7794%)
___Train Local_ResNet_18,  epoch 238, local model 34, internal_epoch   2,  Average loss: 0.0086, Accuracy: 305/349 (87.3926%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.4671, Accuracy: 3144/10000 (31.4400%)
___Train Local_ResNet_18,  epoch 238, local model 35, internal_epoch   1,  Average loss: 0.0063, Accuracy: 373/419 (89.0215%)
___Train Local_ResNet_18,  epoch 238, local model 35, internal_epoch   2,  Average loss: 0.0040, Accuracy: 387/419 (92.3628%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 4.3001, Accuracy: 3395/10000 (33.9500%)
___Train Local_ResNet_18,  epoch 238, local model 22, internal_epoch   1,  Average loss: 0.0066, Accuracy: 423/494 (85.6275%)
___Train Local_ResNet_18,  epoch 238, local model 22, internal_epoch   2,  Average loss: 0.0073, Accuracy: 419/494 (84.8178%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 22.5143, Accuracy: 1555/10000 (15.5500%)
___Train Local_ResNet_18,  epoch 238, local model 96, internal_epoch   1,  Average loss: 0.0114, Accuracy: 539/708 (76.1299%)
___Train Local_ResNet_18,  epoch 238, local model 96, internal_epoch   2,  Average loss: 0.0159, Accuracy: 482/708 (68.0791%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 8.4787, Accuracy: 1749/10000 (17.4900%)
___Train Local_ResNet_18,  epoch 238, local model 54, internal_epoch   1,  Average loss: 0.0069, Accuracy: 376/440 (85.4545%)
___Train Local_ResNet_18,  epoch 238, local model 54, internal_epoch   2,  Average loss: 0.0044, Accuracy: 402/440 (91.3636%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 10.1082, Accuracy: 1626/10000 (16.2600%)
___Train Local_ResNet_18,  epoch 238, local model 18, internal_epoch   1,  Average loss: 0.0133, Accuracy: 337/386 (87.3057%)
___Train Local_ResNet_18,  epoch 238, local model 18, internal_epoch   2,  Average loss: 0.0258, Accuracy: 266/386 (68.9119%)
___Test Local_ResNet_18 poisoned: False, epoch: 238: Average loss: 94.9885, Accuracy: 1013/10000 (10.1300%)
time spent on training: 79.19417953491211
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 238: Average loss: 0.7570, Accuracy: 7434/10000 (74.3400%)
___Test Target_ResNet_18 poisoned: True, epoch: 238: Average loss: 0.1335, Accuracy: 8755/9000 (97.2778%)
Done in 108.19467854499817 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:239 choose agents : [45, 0, 83, 34, 18, 33, 48, 75, 61, 80]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 239, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 239, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 239, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 239, local model 45, internal_epoch   4,  Average loss: 0.0009, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 239, local model 45, internal_epoch   5,  Average loss: 0.0006, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 239, local model 45, internal_epoch   6,  Average loss: 0.0007, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 26.7237317175963.
Norm before scaling: 26.65288047468146. Distance: 3.129539397111615
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 1.4227, Accuracy: 5480/10000 (54.8000%)
___Test Local_ResNet_18 poisoned: True, epoch: 239: Average loss: 0.2793, Accuracy: 8488/9000 (94.3111%)
Scaling by  100
Scaled Norm after poisoning: 311.9242821783838, distance: 312.95394529387227
Total norm for 1 adversaries is: 311.9242821783838. distance: 312.95394529387227
___Test Local_ResNet_18 poisoned: True, epoch: 239: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 239, local model 0, internal_epoch   1,  Average loss: 0.0097, Accuracy: 297/367 (80.9264%)
___Train Local_ResNet_18,  epoch 239, local model 0, internal_epoch   2,  Average loss: 0.0055, Accuracy: 328/367 (89.3733%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 4.1152, Accuracy: 2345/10000 (23.4500%)
___Train Local_ResNet_18,  epoch 239, local model 83, internal_epoch   1,  Average loss: 0.0063, Accuracy: 318/366 (86.8852%)
___Train Local_ResNet_18,  epoch 239, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 337/366 (92.0765%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 1.9843, Accuracy: 4828/10000 (48.2800%)
___Train Local_ResNet_18,  epoch 239, local model 34, internal_epoch   1,  Average loss: 0.0112, Accuracy: 281/349 (80.5158%)
___Train Local_ResNet_18,  epoch 239, local model 34, internal_epoch   2,  Average loss: 0.0047, Accuracy: 313/349 (89.6848%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 2.9628, Accuracy: 3675/10000 (36.7500%)
___Train Local_ResNet_18,  epoch 239, local model 18, internal_epoch   1,  Average loss: 0.0061, Accuracy: 339/386 (87.8238%)
___Train Local_ResNet_18,  epoch 239, local model 18, internal_epoch   2,  Average loss: 0.0146, Accuracy: 335/386 (86.7876%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 16.5633, Accuracy: 1080/10000 (10.8000%)
___Train Local_ResNet_18,  epoch 239, local model 33, internal_epoch   1,  Average loss: 0.0104, Accuracy: 423/527 (80.2657%)
___Train Local_ResNet_18,  epoch 239, local model 33, internal_epoch   2,  Average loss: 0.0195, Accuracy: 344/527 (65.2751%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 220.6316, Accuracy: 989/10000 (9.8900%)
___Train Local_ResNet_18,  epoch 239, local model 48, internal_epoch   1,  Average loss: 0.0056, Accuracy: 335/378 (88.6243%)
___Train Local_ResNet_18,  epoch 239, local model 48, internal_epoch   2,  Average loss: 0.0057, Accuracy: 330/378 (87.3016%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 6.1154, Accuracy: 1418/10000 (14.1800%)
___Train Local_ResNet_18,  epoch 239, local model 75, internal_epoch   1,  Average loss: 0.0099, Accuracy: 489/578 (84.6021%)
___Train Local_ResNet_18,  epoch 239, local model 75, internal_epoch   2,  Average loss: 0.0099, Accuracy: 460/578 (79.5848%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 8.0196, Accuracy: 2032/10000 (20.3200%)
___Train Local_ResNet_18,  epoch 239, local model 61, internal_epoch   1,  Average loss: 0.0096, Accuracy: 497/590 (84.2373%)
___Train Local_ResNet_18,  epoch 239, local model 61, internal_epoch   2,  Average loss: 0.0117, Accuracy: 455/590 (77.1186%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 13.4972, Accuracy: 1914/10000 (19.1400%)
___Train Local_ResNet_18,  epoch 239, local model 80, internal_epoch   1,  Average loss: 0.0105, Accuracy: 289/363 (79.6143%)
___Train Local_ResNet_18,  epoch 239, local model 80, internal_epoch   2,  Average loss: 0.0043, Accuracy: 333/363 (91.7355%)
___Test Local_ResNet_18 poisoned: False, epoch: 239: Average loss: 3.9245, Accuracy: 2984/10000 (29.8400%)
time spent on training: 80.71976947784424
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 239: Average loss: 1.3044, Accuracy: 5737/10000 (57.3700%)
___Test Target_ResNet_18 poisoned: True, epoch: 239: Average loss: 0.3319, Accuracy: 8406/9000 (93.4000%)
Done in 115.21666407585144 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:240 choose agents : [45, 4, 1, 0, 34, 88, 99, 19, 12, 68]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 240, local model 45, internal_epoch   1,  Average loss: 0.0006, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 240, local model 45, internal_epoch   2,  Average loss: 0.0007, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 240, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 240, local model 45, internal_epoch   4,  Average loss: 0.0013, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 240, local model 45, internal_epoch   5,  Average loss: 0.0013, Accuracy: 518/529 (97.9206%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 240, local model 45, internal_epoch   6,  Average loss: 0.0013, Accuracy: 519/529 (98.1096%), train_poison_data_count: 45
Global model norm: 26.65867355080296.
Norm before scaling: 26.83265081765765. Distance: 4.294221481801518
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 2.0359, Accuracy: 4050/10000 (40.5000%)
___Test Local_ResNet_18 poisoned: True, epoch: 240: Average loss: 0.0912, Accuracy: 8745/9000 (97.1667%)
Scaling by  100
Scaled Norm after poisoning: 429.1860210037135, distance: 429.4221225961699
Total norm for 1 adversaries is: 429.1860210037135. distance: 429.4221225961699
___Test Local_ResNet_18 poisoned: True, epoch: 240: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 240, local model 4, internal_epoch   1,  Average loss: 0.0146, Accuracy: 409/557 (73.4291%)
___Train Local_ResNet_18,  epoch 240, local model 4, internal_epoch   2,  Average loss: 0.0126, Accuracy: 398/557 (71.4542%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 14.9735, Accuracy: 1874/10000 (18.7400%)
___Train Local_ResNet_18,  epoch 240, local model 1, internal_epoch   1,  Average loss: 0.0146, Accuracy: 514/641 (80.1872%)
___Train Local_ResNet_18,  epoch 240, local model 1, internal_epoch   2,  Average loss: 0.0151, Accuracy: 487/641 (75.9750%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 21.7668, Accuracy: 1269/10000 (12.6900%)
___Train Local_ResNet_18,  epoch 240, local model 0, internal_epoch   1,  Average loss: 0.0165, Accuracy: 241/367 (65.6676%)
___Train Local_ResNet_18,  epoch 240, local model 0, internal_epoch   2,  Average loss: 0.0091, Accuracy: 302/367 (82.2888%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 4.9113, Accuracy: 2554/10000 (25.5400%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   1,  Average loss: 0.0160, Accuracy: 241/349 (69.0544%)
___Train Local_ResNet_18,  epoch 240, local model 34, internal_epoch   2,  Average loss: 0.0101, Accuracy: 286/349 (81.9484%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 22.1716, Accuracy: 1081/10000 (10.8100%)
___Train Local_ResNet_18,  epoch 240, local model 88, internal_epoch   1,  Average loss: 0.0150, Accuracy: 310/447 (69.3512%)
___Train Local_ResNet_18,  epoch 240, local model 88, internal_epoch   2,  Average loss: 0.0088, Accuracy: 368/447 (82.3266%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 10.2239, Accuracy: 1582/10000 (15.8200%)
___Train Local_ResNet_18,  epoch 240, local model 99, internal_epoch   1,  Average loss: 0.0129, Accuracy: 312/391 (79.7954%)
___Train Local_ResNet_18,  epoch 240, local model 99, internal_epoch   2,  Average loss: 0.0170, Accuracy: 291/391 (74.4246%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 90.1347, Accuracy: 1027/10000 (10.2700%)
___Train Local_ResNet_18,  epoch 240, local model 19, internal_epoch   1,  Average loss: 0.0213, Accuracy: 97/173 (56.0694%)
___Train Local_ResNet_18,  epoch 240, local model 19, internal_epoch   2,  Average loss: 0.0034, Accuracy: 164/173 (94.7977%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 10.7673, Accuracy: 2127/10000 (21.2700%)
___Train Local_ResNet_18,  epoch 240, local model 12, internal_epoch   1,  Average loss: 0.0138, Accuracy: 727/977 (74.4115%)
___Train Local_ResNet_18,  epoch 240, local model 12, internal_epoch   2,  Average loss: 0.0160, Accuracy: 664/977 (67.9632%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 5.4248, Accuracy: 2658/10000 (26.5800%)
___Train Local_ResNet_18,  epoch 240, local model 68, internal_epoch   1,  Average loss: 0.0116, Accuracy: 309/416 (74.2788%)
___Train Local_ResNet_18,  epoch 240, local model 68, internal_epoch   2,  Average loss: 0.0075, Accuracy: 364/416 (87.5000%)
___Test Local_ResNet_18 poisoned: False, epoch: 240: Average loss: 7.2029, Accuracy: 2699/10000 (26.9900%)
time spent on training: 91.88149309158325
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 240: Average loss: 1.5493, Accuracy: 4898/10000 (48.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 240: Average loss: 0.1188, Accuracy: 8693/9000 (96.5889%)
Done in 127.50660467147827 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:241 choose agents : [45, 52, 55, 38, 26, 82, 57, 86, 29, 98]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 241, local model 45, internal_epoch   1,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 241, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 241, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 241, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 241, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 241, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 26.84179339311354.
Norm before scaling: 26.68766466576834. Distance: 1.9560377450667286
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.4396, Accuracy: 5537/10000 (55.3700%)
___Test Local_ResNet_18 poisoned: True, epoch: 241: Average loss: 0.1578, Accuracy: 8725/9000 (96.9444%)
Scaling by  100
Scaled Norm after poisoning: 194.35444023098623, distance: 195.60375283976532
Total norm for 1 adversaries is: 194.35444023098623. distance: 195.60375283976532
___Test Local_ResNet_18 poisoned: True, epoch: 241: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 241, local model 52, internal_epoch   1,  Average loss: 0.0234, Accuracy: 133/214 (62.1495%)
___Train Local_ResNet_18,  epoch 241, local model 52, internal_epoch   2,  Average loss: 0.0107, Accuracy: 170/214 (79.4393%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 28.1310, Accuracy: 1427/10000 (14.2700%)
___Train Local_ResNet_18,  epoch 241, local model 55, internal_epoch   1,  Average loss: 0.0185, Accuracy: 207/299 (69.2308%)
___Train Local_ResNet_18,  epoch 241, local model 55, internal_epoch   2,  Average loss: 0.0070, Accuracy: 258/299 (86.2876%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 9.2954, Accuracy: 2444/10000 (24.4400%)
___Train Local_ResNet_18,  epoch 241, local model 38, internal_epoch   1,  Average loss: 0.0157, Accuracy: 529/756 (69.9735%)
___Train Local_ResNet_18,  epoch 241, local model 38, internal_epoch   2,  Average loss: 0.0132, Accuracy: 542/756 (71.6931%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 28.0843, Accuracy: 1111/10000 (11.1100%)
___Train Local_ResNet_18,  epoch 241, local model 26, internal_epoch   1,  Average loss: 0.0178, Accuracy: 302/468 (64.5299%)
___Train Local_ResNet_18,  epoch 241, local model 26, internal_epoch   2,  Average loss: 0.0141, Accuracy: 344/468 (73.5043%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 22.8890, Accuracy: 1301/10000 (13.0100%)
___Train Local_ResNet_18,  epoch 241, local model 82, internal_epoch   1,  Average loss: 0.0121, Accuracy: 458/601 (76.2063%)
___Train Local_ResNet_18,  epoch 241, local model 82, internal_epoch   2,  Average loss: 0.0101, Accuracy: 478/601 (79.5341%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 66.2176, Accuracy: 1127/10000 (11.2700%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   1,  Average loss: 0.0175, Accuracy: 203/290 (70.0000%)
___Train Local_ResNet_18,  epoch 241, local model 57, internal_epoch   2,  Average loss: 0.0074, Accuracy: 253/290 (87.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 20.1936, Accuracy: 1382/10000 (13.8200%)
___Train Local_ResNet_18,  epoch 241, local model 86, internal_epoch   1,  Average loss: 0.0217, Accuracy: 129/212 (60.8491%)
___Train Local_ResNet_18,  epoch 241, local model 86, internal_epoch   2,  Average loss: 0.0066, Accuracy: 190/212 (89.6226%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 8.2736, Accuracy: 2051/10000 (20.5100%)
___Train Local_ResNet_18,  epoch 241, local model 29, internal_epoch   1,  Average loss: 0.0175, Accuracy: 632/848 (74.5283%)
___Train Local_ResNet_18,  epoch 241, local model 29, internal_epoch   2,  Average loss: 0.0121, Accuracy: 628/848 (74.0566%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 18.8556, Accuracy: 1592/10000 (15.9200%)
___Train Local_ResNet_18,  epoch 241, local model 98, internal_epoch   1,  Average loss: 0.0169, Accuracy: 544/802 (67.8304%)
___Train Local_ResNet_18,  epoch 241, local model 98, internal_epoch   2,  Average loss: 0.0146, Accuracy: 563/802 (70.1995%)
___Test Local_ResNet_18 poisoned: False, epoch: 241: Average loss: 9.3411, Accuracy: 1716/10000 (17.1600%)
time spent on training: 86.02178263664246
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 241: Average loss: 1.1471, Accuracy: 6238/10000 (62.3800%)
___Test Target_ResNet_18 poisoned: True, epoch: 241: Average loss: 0.2699, Accuracy: 8586/9000 (95.4000%)
Done in 113.7623119354248 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:242 choose agents : [45, 39, 79, 66, 34, 44, 71, 14, 87, 9]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 242, local model 45, internal_epoch   1,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 242, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 242, local model 45, internal_epoch   3,  Average loss: 0.0006, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 242, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 242, local model 45, internal_epoch   5,  Average loss: 0.0006, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 242, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 26.691338506518015.
Norm before scaling: 26.463412380572137. Distance: 1.3541185321567122
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 1.3323, Accuracy: 5841/10000 (58.4100%)
___Test Local_ResNet_18 poisoned: True, epoch: 242: Average loss: 0.0798, Accuracy: 8821/9000 (98.0111%)
Scaling by  100
Scaled Norm after poisoning: 132.86795165925076, distance: 135.4118500745965
Total norm for 1 adversaries is: 132.86795165925076. distance: 135.4118500745965
___Test Local_ResNet_18 poisoned: True, epoch: 242: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 242, local model 39, internal_epoch   1,  Average loss: 0.0213, Accuracy: 131/217 (60.3687%)
___Train Local_ResNet_18,  epoch 242, local model 39, internal_epoch   2,  Average loss: 0.0080, Accuracy: 187/217 (86.1751%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 11.4728, Accuracy: 1240/10000 (12.4000%)
___Train Local_ResNet_18,  epoch 242, local model 79, internal_epoch   1,  Average loss: 0.0124, Accuracy: 131/154 (85.0649%)
___Train Local_ResNet_18,  epoch 242, local model 79, internal_epoch   2,  Average loss: 0.0051, Accuracy: 144/154 (93.5065%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 5.1463, Accuracy: 2166/10000 (21.6600%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   1,  Average loss: 0.0119, Accuracy: 442/555 (79.6396%)
___Train Local_ResNet_18,  epoch 242, local model 66, internal_epoch   2,  Average loss: 0.0046, Accuracy: 505/555 (90.9910%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 8.5693, Accuracy: 2750/10000 (27.5000%)
___Train Local_ResNet_18,  epoch 242, local model 34, internal_epoch   1,  Average loss: 0.0177, Accuracy: 237/349 (67.9083%)
___Train Local_ResNet_18,  epoch 242, local model 34, internal_epoch   2,  Average loss: 0.0123, Accuracy: 279/349 (79.9427%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 8.2266, Accuracy: 2137/10000 (21.3700%)
___Train Local_ResNet_18,  epoch 242, local model 44, internal_epoch   1,  Average loss: 0.0147, Accuracy: 299/436 (68.5780%)
___Train Local_ResNet_18,  epoch 242, local model 44, internal_epoch   2,  Average loss: 0.0070, Accuracy: 376/436 (86.2385%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 4.6488, Accuracy: 2959/10000 (29.5900%)
___Train Local_ResNet_18,  epoch 242, local model 71, internal_epoch   1,  Average loss: 0.0146, Accuracy: 855/1166 (73.3276%)
___Train Local_ResNet_18,  epoch 242, local model 71, internal_epoch   2,  Average loss: 0.0121, Accuracy: 893/1166 (76.5866%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 3.0023, Accuracy: 3260/10000 (32.6000%)
___Train Local_ResNet_18,  epoch 242, local model 14, internal_epoch   1,  Average loss: 0.0145, Accuracy: 234/318 (73.5849%)
___Train Local_ResNet_18,  epoch 242, local model 14, internal_epoch   2,  Average loss: 0.0056, Accuracy: 286/318 (89.9371%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 5.0789, Accuracy: 2388/10000 (23.8800%)
___Train Local_ResNet_18,  epoch 242, local model 87, internal_epoch   1,  Average loss: 0.0183, Accuracy: 264/397 (66.4987%)
___Train Local_ResNet_18,  epoch 242, local model 87, internal_epoch   2,  Average loss: 0.0134, Accuracy: 305/397 (76.8262%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 9.7305, Accuracy: 1322/10000 (13.2200%)
___Train Local_ResNet_18,  epoch 242, local model 9, internal_epoch   1,  Average loss: 0.0164, Accuracy: 259/368 (70.3804%)
___Train Local_ResNet_18,  epoch 242, local model 9, internal_epoch   2,  Average loss: 0.0059, Accuracy: 324/368 (88.0435%)
___Test Local_ResNet_18 poisoned: False, epoch: 242: Average loss: 40.3491, Accuracy: 1134/10000 (11.3400%)
time spent on training: 84.60303092002869
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 242: Average loss: 1.0853, Accuracy: 6350/10000 (63.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 242: Average loss: 0.1212, Accuracy: 8758/9000 (97.3111%)
Done in 117.84074187278748 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:243 choose agents : [45, 69, 75, 99, 67, 26, 98, 84, 43, 24]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 243, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 243, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 243, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 243, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 243, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 243, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 26.46343313814425.
Norm before scaling: 26.200160787540383. Distance: 0.530007817462632
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 1.2293, Accuracy: 6045/10000 (60.4500%)
___Test Local_ResNet_18 poisoned: True, epoch: 243: Average loss: 0.0686, Accuracy: 8851/9000 (98.3444%)
Scaling by  100
Scaled Norm after poisoning: 45.76907101229088, distance: 53.00078769314424
Total norm for 1 adversaries is: 45.76907101229088. distance: 53.00078769314424
___Test Local_ResNet_18 poisoned: True, epoch: 243: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 243, local model 69, internal_epoch   1,  Average loss: 0.0181, Accuracy: 153/216 (70.8333%)
___Train Local_ResNet_18,  epoch 243, local model 69, internal_epoch   2,  Average loss: 0.0062, Accuracy: 204/216 (94.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 14.4077, Accuracy: 1006/10000 (10.0600%)
___Train Local_ResNet_18,  epoch 243, local model 75, internal_epoch   1,  Average loss: 0.0148, Accuracy: 458/578 (79.2388%)
___Train Local_ResNet_18,  epoch 243, local model 75, internal_epoch   2,  Average loss: 0.0235, Accuracy: 349/578 (60.3806%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 93.7911, Accuracy: 1148/10000 (11.4800%)
___Train Local_ResNet_18,  epoch 243, local model 99, internal_epoch   1,  Average loss: 0.0101, Accuracy: 318/391 (81.3299%)
___Train Local_ResNet_18,  epoch 243, local model 99, internal_epoch   2,  Average loss: 0.0074, Accuracy: 337/391 (86.1893%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 23.9289, Accuracy: 1004/10000 (10.0400%)
___Train Local_ResNet_18,  epoch 243, local model 67, internal_epoch   1,  Average loss: 0.0170, Accuracy: 600/842 (71.2589%)
___Train Local_ResNet_18,  epoch 243, local model 67, internal_epoch   2,  Average loss: 0.0195, Accuracy: 490/842 (58.1948%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 10.0498, Accuracy: 2165/10000 (21.6500%)
___Train Local_ResNet_18,  epoch 243, local model 26, internal_epoch   1,  Average loss: 0.0160, Accuracy: 314/468 (67.0940%)
___Train Local_ResNet_18,  epoch 243, local model 26, internal_epoch   2,  Average loss: 0.0170, Accuracy: 325/468 (69.4444%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 32.0762, Accuracy: 1465/10000 (14.6500%)
___Train Local_ResNet_18,  epoch 243, local model 98, internal_epoch   1,  Average loss: 0.0158, Accuracy: 557/802 (69.4514%)
___Train Local_ResNet_18,  epoch 243, local model 98, internal_epoch   2,  Average loss: 0.0145, Accuracy: 558/802 (69.5761%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 16.9416, Accuracy: 1533/10000 (15.3300%)
___Train Local_ResNet_18,  epoch 243, local model 84, internal_epoch   1,  Average loss: 0.0151, Accuracy: 735/1053 (69.8006%)
___Train Local_ResNet_18,  epoch 243, local model 84, internal_epoch   2,  Average loss: 0.0121, Accuracy: 780/1053 (74.0741%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 3.7646, Accuracy: 3257/10000 (32.5700%)
___Train Local_ResNet_18,  epoch 243, local model 43, internal_epoch   1,  Average loss: 0.0137, Accuracy: 265/345 (76.8116%)
___Train Local_ResNet_18,  epoch 243, local model 43, internal_epoch   2,  Average loss: 0.0077, Accuracy: 300/345 (86.9565%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 19.4508, Accuracy: 1213/10000 (12.1300%)
___Train Local_ResNet_18,  epoch 243, local model 24, internal_epoch   1,  Average loss: 0.0121, Accuracy: 243/320 (75.9375%)
___Train Local_ResNet_18,  epoch 243, local model 24, internal_epoch   2,  Average loss: 0.0032, Accuracy: 298/320 (93.1250%)
___Test Local_ResNet_18 poisoned: False, epoch: 243: Average loss: 4.2054, Accuracy: 2575/10000 (25.7500%)
time spent on training: 92.56531286239624
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 243: Average loss: 1.0512, Accuracy: 6465/10000 (64.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 243: Average loss: 0.1161, Accuracy: 8756/9000 (97.2889%)
Done in 124.80003190040588 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:244 choose agents : [45, 65, 12, 67, 52, 31, 75, 88, 55, 28]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 244, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 244, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 244, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 244, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 244, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 244, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 26.210578890989442.
Norm before scaling: 25.94516194250204. Distance: 0.4369426139878216
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 1.0883, Accuracy: 6477/10000 (64.7700%)
___Test Local_ResNet_18 poisoned: True, epoch: 244: Average loss: 0.0815, Accuracy: 8838/9000 (98.2000%)
Scaling by  100
Scaled Norm after poisoning: 34.53691624891219, distance: 43.6942613687713
Total norm for 1 adversaries is: 34.53691624891219. distance: 43.6942613687713
___Test Local_ResNet_18 poisoned: True, epoch: 244: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 244, local model 65, internal_epoch   1,  Average loss: 0.0111, Accuracy: 238/314 (75.7962%)
___Train Local_ResNet_18,  epoch 244, local model 65, internal_epoch   2,  Average loss: 0.0057, Accuracy: 275/314 (87.5796%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 9.5726, Accuracy: 1580/10000 (15.8000%)
___Train Local_ResNet_18,  epoch 244, local model 12, internal_epoch   1,  Average loss: 0.0162, Accuracy: 683/977 (69.9079%)
___Train Local_ResNet_18,  epoch 244, local model 12, internal_epoch   2,  Average loss: 0.0152, Accuracy: 674/977 (68.9867%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 11.0318, Accuracy: 1342/10000 (13.4200%)
___Train Local_ResNet_18,  epoch 244, local model 67, internal_epoch   1,  Average loss: 0.0139, Accuracy: 615/842 (73.0404%)
___Train Local_ResNet_18,  epoch 244, local model 67, internal_epoch   2,  Average loss: 0.0192, Accuracy: 484/842 (57.4822%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 25.3874, Accuracy: 1428/10000 (14.2800%)
___Train Local_ResNet_18,  epoch 244, local model 52, internal_epoch   1,  Average loss: 0.0143, Accuracy: 174/214 (81.3084%)
___Train Local_ResNet_18,  epoch 244, local model 52, internal_epoch   2,  Average loss: 0.0098, Accuracy: 183/214 (85.5140%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 11.6164, Accuracy: 1337/10000 (13.3700%)
___Train Local_ResNet_18,  epoch 244, local model 31, internal_epoch   1,  Average loss: 0.0138, Accuracy: 515/706 (72.9462%)
___Train Local_ResNet_18,  epoch 244, local model 31, internal_epoch   2,  Average loss: 0.0213, Accuracy: 459/706 (65.0142%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 20.5397, Accuracy: 1222/10000 (12.2200%)
___Train Local_ResNet_18,  epoch 244, local model 75, internal_epoch   1,  Average loss: 0.0087, Accuracy: 484/578 (83.7370%)
___Train Local_ResNet_18,  epoch 244, local model 75, internal_epoch   2,  Average loss: 0.0134, Accuracy: 441/578 (76.2976%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 16.3504, Accuracy: 1738/10000 (17.3800%)
___Train Local_ResNet_18,  epoch 244, local model 88, internal_epoch   1,  Average loss: 0.0141, Accuracy: 330/447 (73.8255%)
___Train Local_ResNet_18,  epoch 244, local model 88, internal_epoch   2,  Average loss: 0.0106, Accuracy: 359/447 (80.3132%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 9.2895, Accuracy: 1524/10000 (15.2400%)
___Train Local_ResNet_18,  epoch 244, local model 55, internal_epoch   1,  Average loss: 0.0116, Accuracy: 232/299 (77.5920%)
___Train Local_ResNet_18,  epoch 244, local model 55, internal_epoch   2,  Average loss: 0.0047, Accuracy: 276/299 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 11.8508, Accuracy: 1527/10000 (15.2700%)
___Train Local_ResNet_18,  epoch 244, local model 28, internal_epoch   1,  Average loss: 0.0113, Accuracy: 341/423 (80.6147%)
___Train Local_ResNet_18,  epoch 244, local model 28, internal_epoch   2,  Average loss: 0.0066, Accuracy: 364/423 (86.0520%)
___Test Local_ResNet_18 poisoned: False, epoch: 244: Average loss: 5.6667, Accuracy: 2533/10000 (25.3300%)
time spent on training: 79.21491384506226
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 244: Average loss: 0.9460, Accuracy: 6838/10000 (68.3800%)
___Test Target_ResNet_18 poisoned: True, epoch: 244: Average loss: 0.1310, Accuracy: 8750/9000 (97.2222%)
Done in 111.35995936393738 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:245 choose agents : [45, 73, 97, 26, 29, 82, 42, 93, 49, 30]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 245, local model 45, internal_epoch   1,  Average loss: 0.0007, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 245, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 245, local model 45, internal_epoch   3,  Average loss: 0.0006, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 245, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 245, local model 45, internal_epoch   5,  Average loss: 0.0005, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 245, local model 45, internal_epoch   6,  Average loss: 0.0005, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 25.956153872022817.
Norm before scaling: 25.80188094978494. Distance: 2.140379508762014
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.6192, Accuracy: 4956/10000 (49.5600%)
___Test Local_ResNet_18 poisoned: True, epoch: 245: Average loss: 0.1247, Accuracy: 8784/9000 (97.6000%)
Scaling by  100
Scaled Norm after poisoning: 212.67194330411803, distance: 214.0379365468888
Total norm for 1 adversaries is: 212.67194330411803. distance: 214.0379365468888
___Test Local_ResNet_18 poisoned: True, epoch: 245: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 245, local model 73, internal_epoch   1,  Average loss: 0.0146, Accuracy: 380/500 (76.0000%)
___Train Local_ResNet_18,  epoch 245, local model 73, internal_epoch   2,  Average loss: 0.0084, Accuracy: 413/500 (82.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 10.9321, Accuracy: 1778/10000 (17.7800%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   1,  Average loss: 0.0129, Accuracy: 316/418 (75.5981%)
___Train Local_ResNet_18,  epoch 245, local model 97, internal_epoch   2,  Average loss: 0.0059, Accuracy: 376/418 (89.9522%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 6.9862, Accuracy: 2238/10000 (22.3800%)
___Train Local_ResNet_18,  epoch 245, local model 26, internal_epoch   1,  Average loss: 0.0130, Accuracy: 356/468 (76.0684%)
___Train Local_ResNet_18,  epoch 245, local model 26, internal_epoch   2,  Average loss: 0.0137, Accuracy: 335/468 (71.5812%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 8.4034, Accuracy: 2365/10000 (23.6500%)
___Train Local_ResNet_18,  epoch 245, local model 29, internal_epoch   1,  Average loss: 0.0122, Accuracy: 669/848 (78.8915%)
___Train Local_ResNet_18,  epoch 245, local model 29, internal_epoch   2,  Average loss: 0.0116, Accuracy: 661/848 (77.9481%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 9.0365, Accuracy: 1824/10000 (18.2400%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   1,  Average loss: 0.0090, Accuracy: 496/601 (82.5291%)
___Train Local_ResNet_18,  epoch 245, local model 82, internal_epoch   2,  Average loss: 0.0092, Accuracy: 502/601 (83.5275%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 5.8790, Accuracy: 2960/10000 (29.6000%)
___Train Local_ResNet_18,  epoch 245, local model 42, internal_epoch   1,  Average loss: 0.0164, Accuracy: 153/198 (77.2727%)
___Train Local_ResNet_18,  epoch 245, local model 42, internal_epoch   2,  Average loss: 0.0281, Accuracy: 145/198 (73.2323%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 54.6819, Accuracy: 1002/10000 (10.0200%)
___Train Local_ResNet_18,  epoch 245, local model 93, internal_epoch   1,  Average loss: 0.0098, Accuracy: 489/584 (83.7329%)
___Train Local_ResNet_18,  epoch 245, local model 93, internal_epoch   2,  Average loss: 0.0141, Accuracy: 427/584 (73.1164%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 35.9879, Accuracy: 1121/10000 (11.2100%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   1,  Average loss: 0.0109, Accuracy: 338/426 (79.3427%)
___Train Local_ResNet_18,  epoch 245, local model 49, internal_epoch   2,  Average loss: 0.0078, Accuracy: 368/426 (86.3850%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 5.5284, Accuracy: 2557/10000 (25.5700%)
___Train Local_ResNet_18,  epoch 245, local model 30, internal_epoch   1,  Average loss: 0.0166, Accuracy: 231/337 (68.5460%)
___Train Local_ResNet_18,  epoch 245, local model 30, internal_epoch   2,  Average loss: 0.0105, Accuracy: 268/337 (79.5252%)
___Test Local_ResNet_18 poisoned: False, epoch: 245: Average loss: 8.7936, Accuracy: 2582/10000 (25.8200%)
time spent on training: 85.32455730438232
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 245: Average loss: 1.4279, Accuracy: 5248/10000 (52.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 245: Average loss: 0.2148, Accuracy: 8734/9000 (97.0444%)
Done in 120.56874489784241 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:246 choose agents : [45, 64, 82, 8, 30, 2, 37, 10, 88, 57]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 246, local model 45, internal_epoch   1,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 246, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 246, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 246, local model 45, internal_epoch   4,  Average loss: 0.0004, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 246, local model 45, internal_epoch   5,  Average loss: 0.0010, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 246, local model 45, internal_epoch   6,  Average loss: 0.0015, Accuracy: 517/529 (97.7316%), train_poison_data_count: 45
Global model norm: 25.80793718184449.
Norm before scaling: 25.956698231968346. Distance: 4.199978129012065
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.8704, Accuracy: 4539/10000 (45.3900%)
___Test Local_ResNet_18 poisoned: True, epoch: 246: Average loss: 0.2005, Accuracy: 8617/9000 (95.7444%)
Scaling by  100
Scaled Norm after poisoning: 419.60734994158526, distance: 419.99784225636205
Total norm for 1 adversaries is: 419.60734994158526. distance: 419.99784225636205
___Test Local_ResNet_18 poisoned: True, epoch: 246: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 246, local model 64, internal_epoch   1,  Average loss: 0.0153, Accuracy: 479/686 (69.8251%)
___Train Local_ResNet_18,  epoch 246, local model 64, internal_epoch   2,  Average loss: 0.0100, Accuracy: 545/686 (79.4461%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 4.3496, Accuracy: 2861/10000 (28.6100%)
___Train Local_ResNet_18,  epoch 246, local model 82, internal_epoch   1,  Average loss: 0.0099, Accuracy: 497/601 (82.6955%)
___Train Local_ResNet_18,  epoch 246, local model 82, internal_epoch   2,  Average loss: 0.0086, Accuracy: 494/601 (82.1963%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 7.0235, Accuracy: 1503/10000 (15.0300%)
___Train Local_ResNet_18,  epoch 246, local model 8, internal_epoch   1,  Average loss: 0.0140, Accuracy: 398/534 (74.5318%)
___Train Local_ResNet_18,  epoch 246, local model 8, internal_epoch   2,  Average loss: 0.0146, Accuracy: 394/534 (73.7828%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 8.8206, Accuracy: 1800/10000 (18.0000%)
___Train Local_ResNet_18,  epoch 246, local model 30, internal_epoch   1,  Average loss: 0.0169, Accuracy: 237/337 (70.3264%)
___Train Local_ResNet_18,  epoch 246, local model 30, internal_epoch   2,  Average loss: 0.0114, Accuracy: 254/337 (75.3709%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 12.6106, Accuracy: 1079/10000 (10.7900%)
___Train Local_ResNet_18,  epoch 246, local model 2, internal_epoch   1,  Average loss: 0.0169, Accuracy: 331/461 (71.8004%)
___Train Local_ResNet_18,  epoch 246, local model 2, internal_epoch   2,  Average loss: 0.0192, Accuracy: 310/461 (67.2451%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 162.3004, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 246, local model 37, internal_epoch   1,  Average loss: 0.0194, Accuracy: 490/725 (67.5862%)
___Train Local_ResNet_18,  epoch 246, local model 37, internal_epoch   2,  Average loss: 0.0123, Accuracy: 530/725 (73.1034%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 12.6771, Accuracy: 1092/10000 (10.9200%)
___Train Local_ResNet_18,  epoch 246, local model 10, internal_epoch   1,  Average loss: 0.0123, Accuracy: 588/752 (78.1915%)
___Train Local_ResNet_18,  epoch 246, local model 10, internal_epoch   2,  Average loss: 0.0080, Accuracy: 641/752 (85.2394%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 14.4902, Accuracy: 2152/10000 (21.5200%)
___Train Local_ResNet_18,  epoch 246, local model 88, internal_epoch   1,  Average loss: 0.0158, Accuracy: 322/447 (72.0358%)
___Train Local_ResNet_18,  epoch 246, local model 88, internal_epoch   2,  Average loss: 0.0079, Accuracy: 381/447 (85.2349%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 6.2634, Accuracy: 2077/10000 (20.7700%)
___Train Local_ResNet_18,  epoch 246, local model 57, internal_epoch   1,  Average loss: 0.0144, Accuracy: 214/290 (73.7931%)
___Train Local_ResNet_18,  epoch 246, local model 57, internal_epoch   2,  Average loss: 0.0080, Accuracy: 246/290 (84.8276%)
___Test Local_ResNet_18 poisoned: False, epoch: 246: Average loss: 12.7653, Accuracy: 1305/10000 (13.0500%)
time spent on training: 78.06250643730164
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 246: Average loss: 1.5139, Accuracy: 5133/10000 (51.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 246: Average loss: 0.3694, Accuracy: 8208/9000 (91.2000%)
Done in 106.29585146903992 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:247 choose agents : [45, 77, 30, 99, 15, 80, 55, 93, 3, 10]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 247, local model 45, internal_epoch   1,  Average loss: 0.0008, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 247, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 247, local model 45, internal_epoch   3,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 247, local model 45, internal_epoch   4,  Average loss: 0.0005, Accuracy: 524/529 (99.0548%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 247, local model 45, internal_epoch   5,  Average loss: 0.0005, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 247, local model 45, internal_epoch   6,  Average loss: 0.0007, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Global model norm: 25.965554528502878.
Norm before scaling: 26.10925811613574. Distance: 4.06172360557329
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 2.0127, Accuracy: 4231/10000 (42.3100%)
___Test Local_ResNet_18 poisoned: True, epoch: 247: Average loss: 0.1477, Accuracy: 8715/9000 (96.8333%)
Scaling by  100
Scaled Norm after poisoning: 405.89253503852467, distance: 406.17237719963185
Total norm for 1 adversaries is: 405.89253503852467. distance: 406.17237719963185
___Test Local_ResNet_18 poisoned: True, epoch: 247: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 247, local model 77, internal_epoch   1,  Average loss: 0.0164, Accuracy: 339/496 (68.3468%)
___Train Local_ResNet_18,  epoch 247, local model 77, internal_epoch   2,  Average loss: 0.0123, Accuracy: 371/496 (74.7984%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 7.4050, Accuracy: 1817/10000 (18.1700%)
___Train Local_ResNet_18,  epoch 247, local model 30, internal_epoch   1,  Average loss: 0.0193, Accuracy: 228/337 (67.6558%)
___Train Local_ResNet_18,  epoch 247, local model 30, internal_epoch   2,  Average loss: 0.0136, Accuracy: 268/337 (79.5252%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 15.0578, Accuracy: 1533/10000 (15.3300%)
___Train Local_ResNet_18,  epoch 247, local model 99, internal_epoch   1,  Average loss: 0.0219, Accuracy: 260/391 (66.4962%)
___Train Local_ResNet_18,  epoch 247, local model 99, internal_epoch   2,  Average loss: 0.0259, Accuracy: 224/391 (57.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 89.6819, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 247, local model 15, internal_epoch   1,  Average loss: 0.0203, Accuracy: 217/341 (63.6364%)
___Train Local_ResNet_18,  epoch 247, local model 15, internal_epoch   2,  Average loss: 0.0092, Accuracy: 292/341 (85.6305%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 24.6260, Accuracy: 2370/10000 (23.7000%)
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   1,  Average loss: 0.0168, Accuracy: 255/363 (70.2479%)
___Train Local_ResNet_18,  epoch 247, local model 80, internal_epoch   2,  Average loss: 0.0084, Accuracy: 307/363 (84.5730%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 8.4030, Accuracy: 2554/10000 (25.5400%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   1,  Average loss: 0.0166, Accuracy: 214/299 (71.5719%)
___Train Local_ResNet_18,  epoch 247, local model 55, internal_epoch   2,  Average loss: 0.0068, Accuracy: 267/299 (89.2977%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 13.2802, Accuracy: 1973/10000 (19.7300%)
___Train Local_ResNet_18,  epoch 247, local model 93, internal_epoch   1,  Average loss: 0.0151, Accuracy: 431/584 (73.8014%)
___Train Local_ResNet_18,  epoch 247, local model 93, internal_epoch   2,  Average loss: 0.0161, Accuracy: 422/584 (72.2603%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 55.0299, Accuracy: 1059/10000 (10.5900%)
___Train Local_ResNet_18,  epoch 247, local model 3, internal_epoch   1,  Average loss: 0.0200, Accuracy: 523/780 (67.0513%)
___Train Local_ResNet_18,  epoch 247, local model 3, internal_epoch   2,  Average loss: 0.0179, Accuracy: 493/780 (63.2051%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 6.3547, Accuracy: 1790/10000 (17.9000%)
___Train Local_ResNet_18,  epoch 247, local model 10, internal_epoch   1,  Average loss: 0.0134, Accuracy: 573/752 (76.1968%)
___Train Local_ResNet_18,  epoch 247, local model 10, internal_epoch   2,  Average loss: 0.0088, Accuracy: 604/752 (80.3191%)
___Test Local_ResNet_18 poisoned: False, epoch: 247: Average loss: 8.4850, Accuracy: 2170/10000 (21.7000%)
time spent on training: 84.25501298904419
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 247: Average loss: 1.6917, Accuracy: 4619/10000 (46.1900%)
___Test Target_ResNet_18 poisoned: True, epoch: 247: Average loss: 0.1663, Accuracy: 8647/9000 (96.0778%)
Done in 114.45105624198914 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:248 choose agents : [45, 14, 13, 27, 48, 97, 33, 2, 0, 91]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 248, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 248, local model 45, internal_epoch   2,  Average loss: 0.0007, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 248, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 248, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 248, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 248, local model 45, internal_epoch   6,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 26.113125525433205.
Norm before scaling: 25.929029584527697. Distance: 1.7797351217889836
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.9146, Accuracy: 4693/10000 (46.9300%)
___Test Local_ResNet_18 poisoned: True, epoch: 248: Average loss: 0.0931, Accuracy: 8815/9000 (97.9444%)
Scaling by  100
Scaled Norm after poisoning: 176.2998821255987, distance: 177.9735156297841
Total norm for 1 adversaries is: 176.2998821255987. distance: 177.9735156297841
___Test Local_ResNet_18 poisoned: True, epoch: 248: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 248, local model 14, internal_epoch   1,  Average loss: 0.0183, Accuracy: 215/318 (67.6101%)
___Train Local_ResNet_18,  epoch 248, local model 14, internal_epoch   2,  Average loss: 0.0062, Accuracy: 281/318 (88.3648%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 12.9283, Accuracy: 2180/10000 (21.8000%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   1,  Average loss: 0.0171, Accuracy: 424/620 (68.3871%)
___Train Local_ResNet_18,  epoch 248, local model 13, internal_epoch   2,  Average loss: 0.0097, Accuracy: 499/620 (80.4839%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 20.8711, Accuracy: 2045/10000 (20.4500%)
___Train Local_ResNet_18,  epoch 248, local model 27, internal_epoch   1,  Average loss: 0.0173, Accuracy: 283/397 (71.2846%)
___Train Local_ResNet_18,  epoch 248, local model 27, internal_epoch   2,  Average loss: 0.0142, Accuracy: 310/397 (78.0856%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 483.3111, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 248, local model 48, internal_epoch   1,  Average loss: 0.0207, Accuracy: 228/378 (60.3175%)
___Train Local_ResNet_18,  epoch 248, local model 48, internal_epoch   2,  Average loss: 0.0103, Accuracy: 303/378 (80.1587%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 6.7484, Accuracy: 2351/10000 (23.5100%)
___Train Local_ResNet_18,  epoch 248, local model 97, internal_epoch   1,  Average loss: 0.0198, Accuracy: 294/418 (70.3349%)
___Train Local_ResNet_18,  epoch 248, local model 97, internal_epoch   2,  Average loss: 0.0094, Accuracy: 343/418 (82.0574%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 7.7539, Accuracy: 2356/10000 (23.5600%)
___Train Local_ResNet_18,  epoch 248, local model 33, internal_epoch   1,  Average loss: 0.0247, Accuracy: 309/527 (58.6338%)
___Train Local_ResNet_18,  epoch 248, local model 33, internal_epoch   2,  Average loss: 0.0174, Accuracy: 341/527 (64.7059%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 47.7354, Accuracy: 1809/10000 (18.0900%)
___Train Local_ResNet_18,  epoch 248, local model 2, internal_epoch   1,  Average loss: 0.0219, Accuracy: 301/461 (65.2928%)
___Train Local_ResNet_18,  epoch 248, local model 2, internal_epoch   2,  Average loss: 0.0177, Accuracy: 325/461 (70.4989%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 78.9717, Accuracy: 1233/10000 (12.3300%)
___Train Local_ResNet_18,  epoch 248, local model 0, internal_epoch   1,  Average loss: 0.0254, Accuracy: 196/367 (53.4060%)
___Train Local_ResNet_18,  epoch 248, local model 0, internal_epoch   2,  Average loss: 0.0103, Accuracy: 293/367 (79.8365%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 11.7027, Accuracy: 1434/10000 (14.3400%)
___Train Local_ResNet_18,  epoch 248, local model 91, internal_epoch   1,  Average loss: 0.0174, Accuracy: 157/234 (67.0940%)
___Train Local_ResNet_18,  epoch 248, local model 91, internal_epoch   2,  Average loss: 0.0043, Accuracy: 222/234 (94.8718%)
___Test Local_ResNet_18 poisoned: False, epoch: 248: Average loss: 16.6606, Accuracy: 1153/10000 (11.5300%)
time spent on training: 88.98234343528748
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 248: Average loss: 1.3959, Accuracy: 5533/10000 (55.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 248: Average loss: 0.1161, Accuracy: 8762/9000 (97.3556%)
Done in 125.48757338523865 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:249 choose agents : [45, 1, 35, 38, 79, 47, 72, 21, 94, 80]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 249, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 249, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 249, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 249, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 249, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 249, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 25.923200595249856.
Norm before scaling: 25.685242639561046. Distance: 0.8977940120844902
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 1.6473, Accuracy: 5079/10000 (50.7900%)
___Test Local_ResNet_18 poisoned: True, epoch: 249: Average loss: 0.0924, Accuracy: 8813/9000 (97.9222%)
Scaling by  100
Scaled Norm after poisoning: 86.16082629757707, distance: 89.77939542985351
Total norm for 1 adversaries is: 86.16082629757707. distance: 89.77939542985351
___Test Local_ResNet_18 poisoned: True, epoch: 249: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 249, local model 1, internal_epoch   1,  Average loss: 0.0155, Accuracy: 449/641 (70.0468%)
___Train Local_ResNet_18,  epoch 249, local model 1, internal_epoch   2,  Average loss: 0.0126, Accuracy: 520/641 (81.1232%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 10.0274, Accuracy: 2214/10000 (22.1400%)
___Train Local_ResNet_18,  epoch 249, local model 35, internal_epoch   1,  Average loss: 0.0136, Accuracy: 307/419 (73.2697%)
___Train Local_ResNet_18,  epoch 249, local model 35, internal_epoch   2,  Average loss: 0.0102, Accuracy: 332/419 (79.2363%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 10.2736, Accuracy: 2302/10000 (23.0200%)
___Train Local_ResNet_18,  epoch 249, local model 38, internal_epoch   1,  Average loss: 0.0190, Accuracy: 489/756 (64.6825%)
___Train Local_ResNet_18,  epoch 249, local model 38, internal_epoch   2,  Average loss: 0.0129, Accuracy: 555/756 (73.4127%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 3.4364, Accuracy: 2743/10000 (27.4300%)
___Train Local_ResNet_18,  epoch 249, local model 79, internal_epoch   1,  Average loss: 0.0148, Accuracy: 112/154 (72.7273%)
___Train Local_ResNet_18,  epoch 249, local model 79, internal_epoch   2,  Average loss: 0.0060, Accuracy: 141/154 (91.5584%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 7.8687, Accuracy: 1466/10000 (14.6600%)
___Train Local_ResNet_18,  epoch 249, local model 47, internal_epoch   1,  Average loss: 0.0187, Accuracy: 446/654 (68.1957%)
___Train Local_ResNet_18,  epoch 249, local model 47, internal_epoch   2,  Average loss: 0.0147, Accuracy: 482/654 (73.7003%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 32.2041, Accuracy: 1012/10000 (10.1200%)
___Train Local_ResNet_18,  epoch 249, local model 72, internal_epoch   1,  Average loss: 0.0181, Accuracy: 409/618 (66.1812%)
___Train Local_ResNet_18,  epoch 249, local model 72, internal_epoch   2,  Average loss: 0.0120, Accuracy: 450/618 (72.8155%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 17.3962, Accuracy: 1174/10000 (11.7400%)
___Train Local_ResNet_18,  epoch 249, local model 21, internal_epoch   1,  Average loss: 0.0181, Accuracy: 180/262 (68.7023%)
___Train Local_ResNet_18,  epoch 249, local model 21, internal_epoch   2,  Average loss: 0.0156, Accuracy: 225/262 (85.8779%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 374.1121, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 249, local model 94, internal_epoch   1,  Average loss: 0.0242, Accuracy: 121/203 (59.6059%)
___Train Local_ResNet_18,  epoch 249, local model 94, internal_epoch   2,  Average loss: 0.0112, Accuracy: 173/203 (85.2217%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 9.3928, Accuracy: 1845/10000 (18.4500%)
___Train Local_ResNet_18,  epoch 249, local model 80, internal_epoch   1,  Average loss: 0.0155, Accuracy: 254/363 (69.9725%)
___Train Local_ResNet_18,  epoch 249, local model 80, internal_epoch   2,  Average loss: 0.0069, Accuracy: 308/363 (84.8485%)
___Test Local_ResNet_18 poisoned: False, epoch: 249: Average loss: 12.1190, Accuracy: 2023/10000 (20.2300%)
time spent on training: 81.72543692588806
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 249: Average loss: 1.2557, Accuracy: 5854/10000 (58.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 249: Average loss: 0.2098, Accuracy: 8664/9000 (96.2667%)
Done in 109.4298312664032 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:250 choose agents : [45, 20, 4, 40, 89, 98, 60, 57, 24, 90]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 250, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 250, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 250, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 250, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 250, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 250, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 25.68478045024609.
Norm before scaling: 25.43680056048532. Distance: 0.6690343644392481
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.5218, Accuracy: 5323/10000 (53.2300%)
___Test Local_ResNet_18 poisoned: True, epoch: 250: Average loss: 0.0825, Accuracy: 8839/9000 (98.2111%)
Scaling by  100
Scaled Norm after poisoning: 61.83293037934459, distance: 66.90344386338606
Total norm for 1 adversaries is: 61.83293037934459. distance: 66.90344386338606
___Test Local_ResNet_18 poisoned: True, epoch: 250: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 250, local model 20, internal_epoch   1,  Average loss: 0.0218, Accuracy: 214/362 (59.1160%)
___Train Local_ResNet_18,  epoch 250, local model 20, internal_epoch   2,  Average loss: 0.0075, Accuracy: 304/362 (83.9779%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 23.0713, Accuracy: 1619/10000 (16.1900%)
___Train Local_ResNet_18,  epoch 250, local model 4, internal_epoch   1,  Average loss: 0.0137, Accuracy: 410/557 (73.6086%)
___Train Local_ResNet_18,  epoch 250, local model 4, internal_epoch   2,  Average loss: 0.0103, Accuracy: 448/557 (80.4309%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 16.5924, Accuracy: 1151/10000 (11.5100%)
___Train Local_ResNet_18,  epoch 250, local model 40, internal_epoch   1,  Average loss: 0.0188, Accuracy: 463/652 (71.0123%)
___Train Local_ResNet_18,  epoch 250, local model 40, internal_epoch   2,  Average loss: 0.0170, Accuracy: 435/652 (66.7178%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 15.4987, Accuracy: 1750/10000 (17.5000%)
___Train Local_ResNet_18,  epoch 250, local model 89, internal_epoch   1,  Average loss: 0.0162, Accuracy: 288/413 (69.7337%)
___Train Local_ResNet_18,  epoch 250, local model 89, internal_epoch   2,  Average loss: 0.0092, Accuracy: 346/413 (83.7772%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 11.3417, Accuracy: 1762/10000 (17.6200%)
___Train Local_ResNet_18,  epoch 250, local model 98, internal_epoch   1,  Average loss: 0.0157, Accuracy: 562/802 (70.0748%)
___Train Local_ResNet_18,  epoch 250, local model 98, internal_epoch   2,  Average loss: 0.0132, Accuracy: 577/802 (71.9451%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 7.4295, Accuracy: 2157/10000 (21.5700%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   1,  Average loss: 0.0192, Accuracy: 183/284 (64.4366%)
___Train Local_ResNet_18,  epoch 250, local model 60, internal_epoch   2,  Average loss: 0.0061, Accuracy: 256/284 (90.1408%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 11.4282, Accuracy: 1556/10000 (15.5600%)
___Train Local_ResNet_18,  epoch 250, local model 57, internal_epoch   1,  Average loss: 0.0121, Accuracy: 218/290 (75.1724%)
___Train Local_ResNet_18,  epoch 250, local model 57, internal_epoch   2,  Average loss: 0.0049, Accuracy: 264/290 (91.0345%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 5.4318, Accuracy: 2169/10000 (21.6900%)
___Train Local_ResNet_18,  epoch 250, local model 24, internal_epoch   1,  Average loss: 0.0143, Accuracy: 233/320 (72.8125%)
___Train Local_ResNet_18,  epoch 250, local model 24, internal_epoch   2,  Average loss: 0.0041, Accuracy: 296/320 (92.5000%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 5.3544, Accuracy: 1894/10000 (18.9400%)
___Train Local_ResNet_18,  epoch 250, local model 90, internal_epoch   1,  Average loss: 0.0223, Accuracy: 435/578 (75.2595%)
___Train Local_ResNet_18,  epoch 250, local model 90, internal_epoch   2,  Average loss: 0.0364, Accuracy: 314/578 (54.3253%)
___Test Local_ResNet_18 poisoned: False, epoch: 250: Average loss: 16570.9109, Accuracy: 1000/10000 (10.0000%)
time spent on training: 93.97323107719421
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 250: Average loss: 1.3935, Accuracy: 5265/10000 (52.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 250: Average loss: 0.0989, Accuracy: 8775/9000 (97.5000%)
Done in 121.94854092597961 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:251 choose agents : [45, 83, 87, 77, 11, 51, 53, 16, 39, 50]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 251, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 251, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 251, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 251, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 251, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 251, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 25.432868704628564.
Norm before scaling: 25.175677911444236. Distance: 0.3479838060462846
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.2630, Accuracy: 5980/10000 (59.8000%)
___Test Local_ResNet_18 poisoned: True, epoch: 251: Average loss: 0.0989, Accuracy: 8804/9000 (97.8222%)
Scaling by  100
Scaled Norm after poisoning: 23.32532923426203, distance: 34.79838168886683
Total norm for 1 adversaries is: 23.32532923426203. distance: 34.79838168886683
___Test Local_ResNet_18 poisoned: True, epoch: 251: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 251, local model 83, internal_epoch   1,  Average loss: 0.0119, Accuracy: 274/366 (74.8634%)
___Train Local_ResNet_18,  epoch 251, local model 83, internal_epoch   2,  Average loss: 0.0055, Accuracy: 337/366 (92.0765%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 2.9343, Accuracy: 4076/10000 (40.7600%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   1,  Average loss: 0.0219, Accuracy: 271/397 (68.2620%)
___Train Local_ResNet_18,  epoch 251, local model 87, internal_epoch   2,  Average loss: 0.0138, Accuracy: 295/397 (74.3073%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 14.8257, Accuracy: 1295/10000 (12.9500%)
___Train Local_ResNet_18,  epoch 251, local model 77, internal_epoch   1,  Average loss: 0.0148, Accuracy: 352/496 (70.9677%)
___Train Local_ResNet_18,  epoch 251, local model 77, internal_epoch   2,  Average loss: 0.0099, Accuracy: 401/496 (80.8468%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 8.3925, Accuracy: 2125/10000 (21.2500%)
___Train Local_ResNet_18,  epoch 251, local model 11, internal_epoch   1,  Average loss: 0.0169, Accuracy: 373/546 (68.3150%)
___Train Local_ResNet_18,  epoch 251, local model 11, internal_epoch   2,  Average loss: 0.0098, Accuracy: 437/546 (80.0366%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 6.1635, Accuracy: 2299/10000 (22.9900%)
___Train Local_ResNet_18,  epoch 251, local model 51, internal_epoch   1,  Average loss: 0.0181, Accuracy: 315/479 (65.7620%)
___Train Local_ResNet_18,  epoch 251, local model 51, internal_epoch   2,  Average loss: 0.0100, Accuracy: 393/479 (82.0459%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 5.8757, Accuracy: 1766/10000 (17.6600%)
___Train Local_ResNet_18,  epoch 251, local model 53, internal_epoch   1,  Average loss: 0.0158, Accuracy: 444/625 (71.0400%)
___Train Local_ResNet_18,  epoch 251, local model 53, internal_epoch   2,  Average loss: 0.0089, Accuracy: 504/625 (80.6400%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 11.7558, Accuracy: 1522/10000 (15.2200%)
___Train Local_ResNet_18,  epoch 251, local model 16, internal_epoch   1,  Average loss: 0.0133, Accuracy: 568/773 (73.4799%)
___Train Local_ResNet_18,  epoch 251, local model 16, internal_epoch   2,  Average loss: 0.0169, Accuracy: 525/773 (67.9172%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 5.3463, Accuracy: 2495/10000 (24.9500%)
___Train Local_ResNet_18,  epoch 251, local model 39, internal_epoch   1,  Average loss: 0.0208, Accuracy: 139/217 (64.0553%)
___Train Local_ResNet_18,  epoch 251, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 200/217 (92.1659%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 7.1661, Accuracy: 1768/10000 (17.6800%)
___Train Local_ResNet_18,  epoch 251, local model 50, internal_epoch   1,  Average loss: 0.0122, Accuracy: 316/401 (78.8030%)
___Train Local_ResNet_18,  epoch 251, local model 50, internal_epoch   2,  Average loss: 0.0068, Accuracy: 356/401 (88.7781%)
___Test Local_ResNet_18 poisoned: False, epoch: 251: Average loss: 9.1677, Accuracy: 2446/10000 (24.4600%)
time spent on training: 77.76023983955383
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 251: Average loss: 1.0320, Accuracy: 6533/10000 (65.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 251: Average loss: 0.1706, Accuracy: 8684/9000 (96.4889%)
Done in 112.6105420589447 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:252 choose agents : [45, 29, 27, 12, 26, 57, 18, 4, 17, 48]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 252, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 252, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 252, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 252, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 252, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 252, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 25.180840077949146.
Norm before scaling: 24.926187420781734. Distance: 0.3609594165043477
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 1.2105, Accuracy: 6141/10000 (61.4100%)
___Test Local_ResNet_18 poisoned: True, epoch: 252: Average loss: 0.1030, Accuracy: 8801/9000 (97.7889%)
Scaling by  100
Scaled Norm after poisoning: 25.455161971515597, distance: 36.09593980099684
Total norm for 1 adversaries is: 25.455161971515597. distance: 36.09593980099684
___Test Local_ResNet_18 poisoned: True, epoch: 252: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 252, local model 29, internal_epoch   1,  Average loss: 0.0137, Accuracy: 649/848 (76.5330%)
___Train Local_ResNet_18,  epoch 252, local model 29, internal_epoch   2,  Average loss: 0.0098, Accuracy: 690/848 (81.3679%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 16.4722, Accuracy: 1353/10000 (13.5300%)
___Train Local_ResNet_18,  epoch 252, local model 27, internal_epoch   1,  Average loss: 0.0133, Accuracy: 323/397 (81.3602%)
___Train Local_ResNet_18,  epoch 252, local model 27, internal_epoch   2,  Average loss: 0.0119, Accuracy: 327/397 (82.3678%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 42.9519, Accuracy: 1263/10000 (12.6300%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   1,  Average loss: 0.0172, Accuracy: 675/977 (69.0890%)
___Train Local_ResNet_18,  epoch 252, local model 12, internal_epoch   2,  Average loss: 0.0161, Accuracy: 671/977 (68.6796%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 3.8643, Accuracy: 2648/10000 (26.4800%)
___Train Local_ResNet_18,  epoch 252, local model 26, internal_epoch   1,  Average loss: 0.0129, Accuracy: 343/468 (73.2906%)
___Train Local_ResNet_18,  epoch 252, local model 26, internal_epoch   2,  Average loss: 0.0105, Accuracy: 377/468 (80.5556%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 8.9805, Accuracy: 2221/10000 (22.2100%)
___Train Local_ResNet_18,  epoch 252, local model 57, internal_epoch   1,  Average loss: 0.0096, Accuracy: 240/290 (82.7586%)
___Train Local_ResNet_18,  epoch 252, local model 57, internal_epoch   2,  Average loss: 0.0045, Accuracy: 263/290 (90.6897%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 5.8427, Accuracy: 2336/10000 (23.3600%)
___Train Local_ResNet_18,  epoch 252, local model 18, internal_epoch   1,  Average loss: 0.0171, Accuracy: 299/386 (77.4611%)
___Train Local_ResNet_18,  epoch 252, local model 18, internal_epoch   2,  Average loss: 0.0211, Accuracy: 241/386 (62.4352%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 10.7746, Accuracy: 1356/10000 (13.5600%)
___Train Local_ResNet_18,  epoch 252, local model 4, internal_epoch   1,  Average loss: 0.0129, Accuracy: 416/557 (74.6858%)
___Train Local_ResNet_18,  epoch 252, local model 4, internal_epoch   2,  Average loss: 0.0121, Accuracy: 420/557 (75.4039%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 14.7031, Accuracy: 1190/10000 (11.9000%)
___Train Local_ResNet_18,  epoch 252, local model 17, internal_epoch   1,  Average loss: 0.0152, Accuracy: 381/526 (72.4335%)
___Train Local_ResNet_18,  epoch 252, local model 17, internal_epoch   2,  Average loss: 0.0109, Accuracy: 408/526 (77.5665%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 12.8088, Accuracy: 1327/10000 (13.2700%)
___Train Local_ResNet_18,  epoch 252, local model 48, internal_epoch   1,  Average loss: 0.0108, Accuracy: 290/378 (76.7196%)
___Train Local_ResNet_18,  epoch 252, local model 48, internal_epoch   2,  Average loss: 0.0085, Accuracy: 314/378 (83.0688%)
___Test Local_ResNet_18 poisoned: False, epoch: 252: Average loss: 7.8508, Accuracy: 2078/10000 (20.7800%)
time spent on training: 86.53598475456238
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 252: Average loss: 1.0192, Accuracy: 6529/10000 (65.2900%)
___Test Target_ResNet_18 poisoned: True, epoch: 252: Average loss: 0.1282, Accuracy: 8753/9000 (97.2556%)
Done in 116.47180914878845 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:253 choose agents : [45, 90, 12, 53, 98, 15, 5, 8, 3, 36]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 253, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 253, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 253, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 253, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 253, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 253, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 24.93481002487411.
Norm before scaling: 24.68407314032421. Distance: 0.45533569970651677
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 1.1068, Accuracy: 6392/10000 (63.9200%)
___Test Local_ResNet_18 poisoned: True, epoch: 253: Average loss: 0.0892, Accuracy: 8832/9000 (98.1333%)
Scaling by  100
Scaled Norm after poisoning: 37.817718196241195, distance: 45.53357170642064
Total norm for 1 adversaries is: 37.817718196241195. distance: 45.53357170642064
___Test Local_ResNet_18 poisoned: True, epoch: 253: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 253, local model 90, internal_epoch   1,  Average loss: 0.0157, Accuracy: 442/578 (76.4706%)
___Train Local_ResNet_18,  epoch 253, local model 90, internal_epoch   2,  Average loss: 0.0136, Accuracy: 439/578 (75.9516%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 17.7909, Accuracy: 1474/10000 (14.7400%)
___Train Local_ResNet_18,  epoch 253, local model 12, internal_epoch   1,  Average loss: 0.0150, Accuracy: 705/977 (72.1597%)
___Train Local_ResNet_18,  epoch 253, local model 12, internal_epoch   2,  Average loss: 0.0137, Accuracy: 718/977 (73.4903%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 12.2489, Accuracy: 1422/10000 (14.2200%)
___Train Local_ResNet_18,  epoch 253, local model 53, internal_epoch   1,  Average loss: 0.0130, Accuracy: 475/625 (76.0000%)
___Train Local_ResNet_18,  epoch 253, local model 53, internal_epoch   2,  Average loss: 0.0099, Accuracy: 495/625 (79.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 8.0606, Accuracy: 2090/10000 (20.9000%)
___Train Local_ResNet_18,  epoch 253, local model 98, internal_epoch   1,  Average loss: 0.0134, Accuracy: 575/802 (71.6958%)
___Train Local_ResNet_18,  epoch 253, local model 98, internal_epoch   2,  Average loss: 0.0126, Accuracy: 583/802 (72.6933%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 5.3080, Accuracy: 2172/10000 (21.7200%)
___Train Local_ResNet_18,  epoch 253, local model 15, internal_epoch   1,  Average loss: 0.0137, Accuracy: 241/341 (70.6745%)
___Train Local_ResNet_18,  epoch 253, local model 15, internal_epoch   2,  Average loss: 0.0066, Accuracy: 302/341 (88.5630%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 6.0609, Accuracy: 2708/10000 (27.0800%)
___Train Local_ResNet_18,  epoch 253, local model 5, internal_epoch   1,  Average loss: 0.0116, Accuracy: 272/365 (74.5205%)
___Train Local_ResNet_18,  epoch 253, local model 5, internal_epoch   2,  Average loss: 0.0056, Accuracy: 324/365 (88.7671%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 5.8017, Accuracy: 2962/10000 (29.6200%)
___Train Local_ResNet_18,  epoch 253, local model 8, internal_epoch   1,  Average loss: 0.0131, Accuracy: 405/534 (75.8427%)
___Train Local_ResNet_18,  epoch 253, local model 8, internal_epoch   2,  Average loss: 0.0126, Accuracy: 397/534 (74.3446%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 17.3884, Accuracy: 1174/10000 (11.7400%)
___Train Local_ResNet_18,  epoch 253, local model 3, internal_epoch   1,  Average loss: 0.0157, Accuracy: 562/780 (72.0513%)
___Train Local_ResNet_18,  epoch 253, local model 3, internal_epoch   2,  Average loss: 0.0176, Accuracy: 499/780 (63.9744%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 14.1109, Accuracy: 1037/10000 (10.3700%)
___Train Local_ResNet_18,  epoch 253, local model 36, internal_epoch   1,  Average loss: 0.0204, Accuracy: 509/849 (59.9529%)
___Train Local_ResNet_18,  epoch 253, local model 36, internal_epoch   2,  Average loss: 0.0203, Accuracy: 485/849 (57.1260%)
___Test Local_ResNet_18 poisoned: False, epoch: 253: Average loss: 23.3219, Accuracy: 1110/10000 (11.1000%)
time spent on training: 93.64848375320435
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 253: Average loss: 1.0230, Accuracy: 6513/10000 (65.1300%)
___Test Target_ResNet_18 poisoned: True, epoch: 253: Average loss: 0.1083, Accuracy: 8776/9000 (97.5111%)
Done in 127.93064570426941 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:254 choose agents : [45, 25, 17, 90, 89, 13, 72, 38, 84, 41]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 254, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 254, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 254, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 254, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 254, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 254, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 24.69823985141072.
Norm before scaling: 24.451723452246803. Distance: 0.3560652914890319
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 1.0366, Accuracy: 6611/10000 (66.1100%)
___Test Local_ResNet_18 poisoned: True, epoch: 254: Average loss: 0.0958, Accuracy: 8818/9000 (97.9778%)
Scaling by  100
Scaled Norm after poisoning: 25.56389436906083, distance: 35.60652618595712
Total norm for 1 adversaries is: 25.56389436906083. distance: 35.60652618595712
___Test Local_ResNet_18 poisoned: True, epoch: 254: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 254, local model 25, internal_epoch   1,  Average loss: 0.0107, Accuracy: 434/545 (79.6330%)
___Train Local_ResNet_18,  epoch 254, local model 25, internal_epoch   2,  Average loss: 0.0095, Accuracy: 452/545 (82.9358%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 28.8456, Accuracy: 1033/10000 (10.3300%)
___Train Local_ResNet_18,  epoch 254, local model 17, internal_epoch   1,  Average loss: 0.0151, Accuracy: 391/526 (74.3346%)
___Train Local_ResNet_18,  epoch 254, local model 17, internal_epoch   2,  Average loss: 0.0141, Accuracy: 387/526 (73.5741%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 19.9817, Accuracy: 1567/10000 (15.6700%)
___Train Local_ResNet_18,  epoch 254, local model 90, internal_epoch   1,  Average loss: 0.0188, Accuracy: 453/578 (78.3737%)
___Train Local_ResNet_18,  epoch 254, local model 90, internal_epoch   2,  Average loss: 0.0142, Accuracy: 415/578 (71.7993%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 125.7551, Accuracy: 1317/10000 (13.1700%)
___Train Local_ResNet_18,  epoch 254, local model 89, internal_epoch   1,  Average loss: 0.0122, Accuracy: 323/413 (78.2082%)
___Train Local_ResNet_18,  epoch 254, local model 89, internal_epoch   2,  Average loss: 0.0082, Accuracy: 346/413 (83.7772%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 31.9803, Accuracy: 1161/10000 (11.6100%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   1,  Average loss: 0.0138, Accuracy: 472/620 (76.1290%)
___Train Local_ResNet_18,  epoch 254, local model 13, internal_epoch   2,  Average loss: 0.0100, Accuracy: 500/620 (80.6452%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 14.0095, Accuracy: 2492/10000 (24.9200%)
___Train Local_ResNet_18,  epoch 254, local model 72, internal_epoch   1,  Average loss: 0.0131, Accuracy: 464/618 (75.0809%)
___Train Local_ResNet_18,  epoch 254, local model 72, internal_epoch   2,  Average loss: 0.0094, Accuracy: 491/618 (79.4498%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 9.9617, Accuracy: 1501/10000 (15.0100%)
___Train Local_ResNet_18,  epoch 254, local model 38, internal_epoch   1,  Average loss: 0.0128, Accuracy: 575/756 (76.0582%)
___Train Local_ResNet_18,  epoch 254, local model 38, internal_epoch   2,  Average loss: 0.0116, Accuracy: 576/756 (76.1905%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 11.6998, Accuracy: 1152/10000 (11.5200%)
___Train Local_ResNet_18,  epoch 254, local model 84, internal_epoch   1,  Average loss: 0.0125, Accuracy: 787/1053 (74.7388%)
___Train Local_ResNet_18,  epoch 254, local model 84, internal_epoch   2,  Average loss: 0.0121, Accuracy: 788/1053 (74.8338%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 7.4392, Accuracy: 2129/10000 (21.2900%)
___Train Local_ResNet_18,  epoch 254, local model 41, internal_epoch   1,  Average loss: 0.0157, Accuracy: 370/513 (72.1248%)
___Train Local_ResNet_18,  epoch 254, local model 41, internal_epoch   2,  Average loss: 0.0194, Accuracy: 391/513 (76.2183%)
___Test Local_ResNet_18 poisoned: False, epoch: 254: Average loss: 77.2380, Accuracy: 1004/10000 (10.0400%)
time spent on training: 90.37646222114563
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 254: Average loss: 0.8857, Accuracy: 6951/10000 (69.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 254: Average loss: 0.1397, Accuracy: 8724/9000 (96.9333%)
Done in 124.44408297538757 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:255 choose agents : [45, 58, 13, 77, 2, 42, 65, 9, 89, 44]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 255, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 255, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 255, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 255, local model 45, internal_epoch   4,  Average loss: 0.0005, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 255, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 255, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 24.464015146933157.
Norm before scaling: 24.28149633884051. Distance: 1.6085920929494941
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 1.0917, Accuracy: 6373/10000 (63.7300%)
___Test Local_ResNet_18 poisoned: True, epoch: 255: Average loss: 0.1951, Accuracy: 8626/9000 (95.8444%)
Scaling by  100
Scaled Norm after poisoning: 159.14051991282736, distance: 160.85920425561605
Total norm for 1 adversaries is: 159.14051991282736. distance: 160.85920425561605
___Test Local_ResNet_18 poisoned: True, epoch: 255: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 255, local model 58, internal_epoch   1,  Average loss: 0.0155, Accuracy: 172/234 (73.5043%)
___Train Local_ResNet_18,  epoch 255, local model 58, internal_epoch   2,  Average loss: 0.0043, Accuracy: 219/234 (93.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 10.7530, Accuracy: 1036/10000 (10.3600%)
___Train Local_ResNet_18,  epoch 255, local model 13, internal_epoch   1,  Average loss: 0.0114, Accuracy: 493/620 (79.5161%)
___Train Local_ResNet_18,  epoch 255, local model 13, internal_epoch   2,  Average loss: 0.0077, Accuracy: 528/620 (85.1613%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 35.3456, Accuracy: 1323/10000 (13.2300%)
___Train Local_ResNet_18,  epoch 255, local model 77, internal_epoch   1,  Average loss: 0.0107, Accuracy: 381/496 (76.8145%)
___Train Local_ResNet_18,  epoch 255, local model 77, internal_epoch   2,  Average loss: 0.0107, Accuracy: 394/496 (79.4355%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.1203, Accuracy: 3048/10000 (30.4800%)
___Train Local_ResNet_18,  epoch 255, local model 2, internal_epoch   1,  Average loss: 0.0149, Accuracy: 347/461 (75.2711%)
___Train Local_ResNet_18,  epoch 255, local model 2, internal_epoch   2,  Average loss: 0.0134, Accuracy: 351/461 (76.1388%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 49.6812, Accuracy: 1622/10000 (16.2200%)
___Train Local_ResNet_18,  epoch 255, local model 42, internal_epoch   1,  Average loss: 0.0152, Accuracy: 151/198 (76.2626%)
___Train Local_ResNet_18,  epoch 255, local model 42, internal_epoch   2,  Average loss: 0.0192, Accuracy: 157/198 (79.2929%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 8.1249, Accuracy: 1317/10000 (13.1700%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   1,  Average loss: 0.0106, Accuracy: 254/314 (80.8917%)
___Train Local_ResNet_18,  epoch 255, local model 65, internal_epoch   2,  Average loss: 0.0025, Accuracy: 297/314 (94.5860%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 4.1973, Accuracy: 2295/10000 (22.9500%)
___Train Local_ResNet_18,  epoch 255, local model 9, internal_epoch   1,  Average loss: 0.0127, Accuracy: 284/368 (77.1739%)
___Train Local_ResNet_18,  epoch 255, local model 9, internal_epoch   2,  Average loss: 0.0048, Accuracy: 338/368 (91.8478%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 6.7586, Accuracy: 2427/10000 (24.2700%)
___Train Local_ResNet_18,  epoch 255, local model 89, internal_epoch   1,  Average loss: 0.0098, Accuracy: 336/413 (81.3559%)
___Train Local_ResNet_18,  epoch 255, local model 89, internal_epoch   2,  Average loss: 0.0086, Accuracy: 351/413 (84.9879%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 23.6883, Accuracy: 1050/10000 (10.5000%)
___Train Local_ResNet_18,  epoch 255, local model 44, internal_epoch   1,  Average loss: 0.0113, Accuracy: 329/436 (75.4587%)
___Train Local_ResNet_18,  epoch 255, local model 44, internal_epoch   2,  Average loss: 0.0051, Accuracy: 395/436 (90.5963%)
___Test Local_ResNet_18 poisoned: False, epoch: 255: Average loss: 3.8185, Accuracy: 3348/10000 (33.4800%)
time spent on training: 90.10138440132141
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 255: Average loss: 0.9352, Accuracy: 6805/10000 (68.0500%)
___Test Target_ResNet_18 poisoned: True, epoch: 255: Average loss: 0.2509, Accuracy: 8497/9000 (94.4111%)
Done in 124.50939869880676 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:256 choose agents : [45, 22, 76, 61, 13, 84, 2, 62, 11, 59]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 256, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 256, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 256, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 256, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 256, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 256, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 24.285225050670597.
Norm before scaling: 24.051110839568043. Distance: 0.5363750084419401
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 1.0933, Accuracy: 6432/10000 (64.3200%)
___Test Local_ResNet_18 poisoned: True, epoch: 256: Average loss: 0.0866, Accuracy: 8822/9000 (98.0222%)
Scaling by  100
Scaled Norm after poisoning: 48.02437989660174, distance: 53.63749808829524
Total norm for 1 adversaries is: 48.02437989660174. distance: 53.63749808829524
___Test Local_ResNet_18 poisoned: True, epoch: 256: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   1,  Average loss: 0.0116, Accuracy: 382/494 (77.3279%)
___Train Local_ResNet_18,  epoch 256, local model 22, internal_epoch   2,  Average loss: 0.0101, Accuracy: 390/494 (78.9474%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 8.3594, Accuracy: 2106/10000 (21.0600%)
___Train Local_ResNet_18,  epoch 256, local model 76, internal_epoch   1,  Average loss: 0.0595, Accuracy: 45/65 (69.2308%)
___Train Local_ResNet_18,  epoch 256, local model 76, internal_epoch   2,  Average loss: 0.0427, Accuracy: 63/65 (96.9231%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 4.0885, Accuracy: 2634/10000 (26.3400%)
___Train Local_ResNet_18,  epoch 256, local model 61, internal_epoch   1,  Average loss: 0.0127, Accuracy: 436/590 (73.8983%)
___Train Local_ResNet_18,  epoch 256, local model 61, internal_epoch   2,  Average loss: 0.0131, Accuracy: 436/590 (73.8983%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 11.1991, Accuracy: 1720/10000 (17.2000%)
___Train Local_ResNet_18,  epoch 256, local model 13, internal_epoch   1,  Average loss: 0.0115, Accuracy: 482/620 (77.7419%)
___Train Local_ResNet_18,  epoch 256, local model 13, internal_epoch   2,  Average loss: 0.0111, Accuracy: 486/620 (78.3871%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 27.5849, Accuracy: 1392/10000 (13.9200%)
___Train Local_ResNet_18,  epoch 256, local model 84, internal_epoch   1,  Average loss: 0.0126, Accuracy: 792/1053 (75.2137%)
___Train Local_ResNet_18,  epoch 256, local model 84, internal_epoch   2,  Average loss: 0.0109, Accuracy: 820/1053 (77.8727%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 5.8050, Accuracy: 2093/10000 (20.9300%)
___Train Local_ResNet_18,  epoch 256, local model 2, internal_epoch   1,  Average loss: 0.0167, Accuracy: 341/461 (73.9696%)
___Train Local_ResNet_18,  epoch 256, local model 2, internal_epoch   2,  Average loss: 0.0176, Accuracy: 313/461 (67.8959%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 16.9244, Accuracy: 1947/10000 (19.4700%)
___Train Local_ResNet_18,  epoch 256, local model 62, internal_epoch   1,  Average loss: 0.0109, Accuracy: 277/358 (77.3743%)
___Train Local_ResNet_18,  epoch 256, local model 62, internal_epoch   2,  Average loss: 0.0056, Accuracy: 320/358 (89.3855%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 2.3602, Accuracy: 3816/10000 (38.1600%)
___Train Local_ResNet_18,  epoch 256, local model 11, internal_epoch   1,  Average loss: 0.0149, Accuracy: 382/546 (69.9634%)
___Train Local_ResNet_18,  epoch 256, local model 11, internal_epoch   2,  Average loss: 0.0126, Accuracy: 404/546 (73.9927%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 19.5850, Accuracy: 1790/10000 (17.9000%)
___Train Local_ResNet_18,  epoch 256, local model 59, internal_epoch   1,  Average loss: 0.0175, Accuracy: 486/642 (75.7009%)
___Train Local_ResNet_18,  epoch 256, local model 59, internal_epoch   2,  Average loss: 0.0271, Accuracy: 343/642 (53.4268%)
___Test Local_ResNet_18 poisoned: False, epoch: 256: Average loss: 164.8343, Accuracy: 1000/10000 (10.0000%)
time spent on training: 82.53357815742493
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 256: Average loss: 1.0037, Accuracy: 6541/10000 (65.4100%)
___Test Target_ResNet_18 poisoned: True, epoch: 256: Average loss: 0.1081, Accuracy: 8776/9000 (97.5111%)
Done in 112.89212822914124 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:257 choose agents : [45, 1, 81, 9, 0, 13, 85, 15, 46, 41]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 257, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 257, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 257, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 257, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 257, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 257, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 24.06699937641531.
Norm before scaling: 23.83276978295523. Distance: 0.5080439406956514
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 1.0354, Accuracy: 6579/10000 (65.7900%)
___Test Local_ResNet_18 poisoned: True, epoch: 257: Average loss: 0.1210, Accuracy: 8771/9000 (97.4556%)
Scaling by  100
Scaled Norm after poisoning: 44.86130563374257, distance: 50.804396167279414
Total norm for 1 adversaries is: 44.86130563374257. distance: 50.804396167279414
___Test Local_ResNet_18 poisoned: True, epoch: 257: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 257, local model 1, internal_epoch   1,  Average loss: 0.0146, Accuracy: 512/641 (79.8752%)
___Train Local_ResNet_18,  epoch 257, local model 1, internal_epoch   2,  Average loss: 0.0177, Accuracy: 425/641 (66.3027%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 30.3957, Accuracy: 1386/10000 (13.8600%)
___Train Local_ResNet_18,  epoch 257, local model 81, internal_epoch   1,  Average loss: 0.0141, Accuracy: 755/1034 (73.0174%)
___Train Local_ResNet_18,  epoch 257, local model 81, internal_epoch   2,  Average loss: 0.0187, Accuracy: 633/1034 (61.2186%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 9.0534, Accuracy: 1631/10000 (16.3100%)
___Train Local_ResNet_18,  epoch 257, local model 9, internal_epoch   1,  Average loss: 0.0123, Accuracy: 284/368 (77.1739%)
___Train Local_ResNet_18,  epoch 257, local model 9, internal_epoch   2,  Average loss: 0.0064, Accuracy: 323/368 (87.7717%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 10.3668, Accuracy: 1576/10000 (15.7600%)
___Train Local_ResNet_18,  epoch 257, local model 0, internal_epoch   1,  Average loss: 0.0144, Accuracy: 256/367 (69.7548%)
___Train Local_ResNet_18,  epoch 257, local model 0, internal_epoch   2,  Average loss: 0.0067, Accuracy: 318/367 (86.6485%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 6.8629, Accuracy: 1812/10000 (18.1200%)
___Train Local_ResNet_18,  epoch 257, local model 13, internal_epoch   1,  Average loss: 0.0107, Accuracy: 501/620 (80.8065%)
___Train Local_ResNet_18,  epoch 257, local model 13, internal_epoch   2,  Average loss: 0.0075, Accuracy: 533/620 (85.9677%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 44.8191, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 257, local model 85, internal_epoch   1,  Average loss: 0.0204, Accuracy: 235/364 (64.5604%)
___Train Local_ResNet_18,  epoch 257, local model 85, internal_epoch   2,  Average loss: 0.0104, Accuracy: 280/364 (76.9231%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 11.0644, Accuracy: 1732/10000 (17.3200%)
___Train Local_ResNet_18,  epoch 257, local model 15, internal_epoch   1,  Average loss: 0.0153, Accuracy: 243/341 (71.2610%)
___Train Local_ResNet_18,  epoch 257, local model 15, internal_epoch   2,  Average loss: 0.0074, Accuracy: 301/341 (88.2698%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 4.3403, Accuracy: 2925/10000 (29.2500%)
___Train Local_ResNet_18,  epoch 257, local model 46, internal_epoch   1,  Average loss: 0.0111, Accuracy: 473/601 (78.7022%)
___Train Local_ResNet_18,  epoch 257, local model 46, internal_epoch   2,  Average loss: 0.0117, Accuracy: 461/601 (76.7055%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 11.3562, Accuracy: 2015/10000 (20.1500%)
___Train Local_ResNet_18,  epoch 257, local model 41, internal_epoch   1,  Average loss: 0.0166, Accuracy: 352/513 (68.6160%)
___Train Local_ResNet_18,  epoch 257, local model 41, internal_epoch   2,  Average loss: 0.0103, Accuracy: 409/513 (79.7271%)
___Test Local_ResNet_18 poisoned: False, epoch: 257: Average loss: 18.4033, Accuracy: 1048/10000 (10.4800%)
time spent on training: 88.11033201217651
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 257: Average loss: 0.9228, Accuracy: 6871/10000 (68.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 257: Average loss: 0.2065, Accuracy: 8608/9000 (95.6444%)
Done in 115.87026119232178 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:258 choose agents : [45, 4, 42, 1, 56, 20, 12, 50, 18, 92]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 258, local model 45, internal_epoch   1,  Average loss: 0.0005, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 258, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 258, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 258, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 258, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 258, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.84236382971037.
Norm before scaling: 23.60927805448329. Distance: 0.5737505970122778
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 1.0357, Accuracy: 6575/10000 (65.7500%)
___Test Local_ResNet_18 poisoned: True, epoch: 258: Average loss: 0.0750, Accuracy: 8852/9000 (98.3556%)
Scaling by  100
Scaled Norm after poisoning: 52.16706186618142, distance: 57.37505531723913
Total norm for 1 adversaries is: 52.16706186618142. distance: 57.37505531723913
___Test Local_ResNet_18 poisoned: True, epoch: 258: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 258, local model 4, internal_epoch   1,  Average loss: 0.0123, Accuracy: 433/557 (77.7379%)
___Train Local_ResNet_18,  epoch 258, local model 4, internal_epoch   2,  Average loss: 0.0136, Accuracy: 394/557 (70.7361%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 62.8509, Accuracy: 1043/10000 (10.4300%)
___Train Local_ResNet_18,  epoch 258, local model 42, internal_epoch   1,  Average loss: 0.0109, Accuracy: 158/198 (79.7980%)
___Train Local_ResNet_18,  epoch 258, local model 42, internal_epoch   2,  Average loss: 0.0056, Accuracy: 182/198 (91.9192%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 5.8796, Accuracy: 2584/10000 (25.8400%)
___Train Local_ResNet_18,  epoch 258, local model 1, internal_epoch   1,  Average loss: 0.0101, Accuracy: 520/641 (81.1232%)
___Train Local_ResNet_18,  epoch 258, local model 1, internal_epoch   2,  Average loss: 0.0163, Accuracy: 523/641 (81.5913%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 27.1880, Accuracy: 1080/10000 (10.8000%)
___Train Local_ResNet_18,  epoch 258, local model 56, internal_epoch   1,  Average loss: 0.0111, Accuracy: 567/743 (76.3122%)
___Train Local_ResNet_18,  epoch 258, local model 56, internal_epoch   2,  Average loss: 0.0112, Accuracy: 571/743 (76.8506%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 8.0398, Accuracy: 2056/10000 (20.5600%)
___Train Local_ResNet_18,  epoch 258, local model 20, internal_epoch   1,  Average loss: 0.0144, Accuracy: 264/362 (72.9282%)
___Train Local_ResNet_18,  epoch 258, local model 20, internal_epoch   2,  Average loss: 0.0061, Accuracy: 322/362 (88.9503%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 10.2721, Accuracy: 2046/10000 (20.4600%)
___Train Local_ResNet_18,  epoch 258, local model 12, internal_epoch   1,  Average loss: 0.0142, Accuracy: 712/977 (72.8762%)
___Train Local_ResNet_18,  epoch 258, local model 12, internal_epoch   2,  Average loss: 0.0142, Accuracy: 689/977 (70.5220%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 8.8750, Accuracy: 2007/10000 (20.0700%)
___Train Local_ResNet_18,  epoch 258, local model 50, internal_epoch   1,  Average loss: 0.0112, Accuracy: 312/401 (77.8055%)
___Train Local_ResNet_18,  epoch 258, local model 50, internal_epoch   2,  Average loss: 0.0059, Accuracy: 355/401 (88.5287%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 5.6206, Accuracy: 2567/10000 (25.6700%)
___Train Local_ResNet_18,  epoch 258, local model 18, internal_epoch   1,  Average loss: 0.0118, Accuracy: 310/386 (80.3109%)
___Train Local_ResNet_18,  epoch 258, local model 18, internal_epoch   2,  Average loss: 0.0255, Accuracy: 252/386 (65.2850%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 403.9307, Accuracy: 1002/10000 (10.0200%)
___Train Local_ResNet_18,  epoch 258, local model 92, internal_epoch   1,  Average loss: 0.0148, Accuracy: 586/796 (73.6181%)
___Train Local_ResNet_18,  epoch 258, local model 92, internal_epoch   2,  Average loss: 0.0148, Accuracy: 547/796 (68.7186%)
___Test Local_ResNet_18 poisoned: False, epoch: 258: Average loss: 15.8828, Accuracy: 1277/10000 (12.7700%)
time spent on training: 86.08299279212952
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 258: Average loss: 0.9364, Accuracy: 6791/10000 (67.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 258: Average loss: 0.0884, Accuracy: 8818/9000 (97.9778%)
Done in 115.41681241989136 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:259 choose agents : [45, 44, 90, 54, 5, 29, 73, 12, 99, 4]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 259, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 259, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 259, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 259, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 259, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 259, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.62775384908868.
Norm before scaling: 23.395489693278087. Distance: 0.3449863611165265
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 0.9797, Accuracy: 6751/10000 (67.5100%)
___Test Local_ResNet_18 poisoned: True, epoch: 259: Average loss: 0.0862, Accuracy: 8837/9000 (98.1889%)
Scaling by  100
Scaled Norm after poisoning: 25.383975090719144, distance: 34.49863596997804
Total norm for 1 adversaries is: 25.383975090719144. distance: 34.49863596997804
___Test Local_ResNet_18 poisoned: True, epoch: 259: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 259, local model 44, internal_epoch   1,  Average loss: 0.0107, Accuracy: 346/436 (79.3578%)
___Train Local_ResNet_18,  epoch 259, local model 44, internal_epoch   2,  Average loss: 0.0049, Accuracy: 398/436 (91.2844%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 2.5779, Accuracy: 4127/10000 (41.2700%)
___Train Local_ResNet_18,  epoch 259, local model 90, internal_epoch   1,  Average loss: 0.0131, Accuracy: 460/578 (79.5848%)
___Train Local_ResNet_18,  epoch 259, local model 90, internal_epoch   2,  Average loss: 0.0223, Accuracy: 335/578 (57.9585%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 25.5186, Accuracy: 1155/10000 (11.5500%)
___Train Local_ResNet_18,  epoch 259, local model 54, internal_epoch   1,  Average loss: 0.0120, Accuracy: 328/440 (74.5455%)
___Train Local_ResNet_18,  epoch 259, local model 54, internal_epoch   2,  Average loss: 0.0048, Accuracy: 394/440 (89.5455%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 12.2800, Accuracy: 2028/10000 (20.2800%)
___Train Local_ResNet_18,  epoch 259, local model 5, internal_epoch   1,  Average loss: 0.0099, Accuracy: 299/365 (81.9178%)
___Train Local_ResNet_18,  epoch 259, local model 5, internal_epoch   2,  Average loss: 0.0033, Accuracy: 340/365 (93.1507%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 4.2622, Accuracy: 2550/10000 (25.5000%)
___Train Local_ResNet_18,  epoch 259, local model 29, internal_epoch   1,  Average loss: 0.0127, Accuracy: 664/848 (78.3019%)
___Train Local_ResNet_18,  epoch 259, local model 29, internal_epoch   2,  Average loss: 0.0095, Accuracy: 702/848 (82.7830%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 18.9909, Accuracy: 1276/10000 (12.7600%)
___Train Local_ResNet_18,  epoch 259, local model 73, internal_epoch   1,  Average loss: 0.0116, Accuracy: 402/500 (80.4000%)
___Train Local_ResNet_18,  epoch 259, local model 73, internal_epoch   2,  Average loss: 0.0096, Accuracy: 404/500 (80.8000%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 14.7334, Accuracy: 1969/10000 (19.6900%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   1,  Average loss: 0.0142, Accuracy: 735/977 (75.2303%)
___Train Local_ResNet_18,  epoch 259, local model 12, internal_epoch   2,  Average loss: 0.0150, Accuracy: 675/977 (69.0890%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 42.3930, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 259, local model 99, internal_epoch   1,  Average loss: 0.0116, Accuracy: 311/391 (79.5396%)
___Train Local_ResNet_18,  epoch 259, local model 99, internal_epoch   2,  Average loss: 0.0200, Accuracy: 251/391 (64.1944%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 15.8115, Accuracy: 1694/10000 (16.9400%)
___Train Local_ResNet_18,  epoch 259, local model 4, internal_epoch   1,  Average loss: 0.0094, Accuracy: 474/557 (85.0987%)
___Train Local_ResNet_18,  epoch 259, local model 4, internal_epoch   2,  Average loss: 0.0153, Accuracy: 388/557 (69.6589%)
___Test Local_ResNet_18 poisoned: False, epoch: 259: Average loss: 37.1838, Accuracy: 1327/10000 (13.2700%)
time spent on training: 88.92621946334839
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 259: Average loss: 0.9413, Accuracy: 6730/10000 (67.3000%)
___Test Target_ResNet_18 poisoned: True, epoch: 259: Average loss: 0.1365, Accuracy: 8736/9000 (97.0667%)
Done in 123.27383327484131 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:260 choose agents : [45, 97, 63, 20, 0, 47, 13, 84, 53, 28]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 260, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 260, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 260, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 260, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 260, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 260, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.408633264847502.
Norm before scaling: 23.174414055092633. Distance: 0.42013498265926214
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 0.9744, Accuracy: 6818/10000 (68.1800%)
___Test Local_ResNet_18 poisoned: True, epoch: 260: Average loss: 0.1082, Accuracy: 8803/9000 (97.8111%)
Scaling by  100
Scaled Norm after poisoning: 34.70420839146349, distance: 42.01350113170467
Total norm for 1 adversaries is: 34.70420839146349. distance: 42.01350113170467
___Test Local_ResNet_18 poisoned: True, epoch: 260: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 260, local model 97, internal_epoch   1,  Average loss: 0.0104, Accuracy: 338/418 (80.8612%)
___Train Local_ResNet_18,  epoch 260, local model 97, internal_epoch   2,  Average loss: 0.0049, Accuracy: 379/418 (90.6699%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 3.7980, Accuracy: 3426/10000 (34.2600%)
___Train Local_ResNet_18,  epoch 260, local model 63, internal_epoch   1,  Average loss: 0.0124, Accuracy: 573/752 (76.1968%)
___Train Local_ResNet_18,  epoch 260, local model 63, internal_epoch   2,  Average loss: 0.0129, Accuracy: 546/752 (72.6064%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 22.0913, Accuracy: 2147/10000 (21.4700%)
___Train Local_ResNet_18,  epoch 260, local model 20, internal_epoch   1,  Average loss: 0.0123, Accuracy: 275/362 (75.9669%)
___Train Local_ResNet_18,  epoch 260, local model 20, internal_epoch   2,  Average loss: 0.0053, Accuracy: 328/362 (90.6077%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 5.6525, Accuracy: 2662/10000 (26.6200%)
___Train Local_ResNet_18,  epoch 260, local model 0, internal_epoch   1,  Average loss: 0.0124, Accuracy: 268/367 (73.0245%)
___Train Local_ResNet_18,  epoch 260, local model 0, internal_epoch   2,  Average loss: 0.0071, Accuracy: 314/367 (85.5586%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 5.3736, Accuracy: 2355/10000 (23.5500%)
___Train Local_ResNet_18,  epoch 260, local model 47, internal_epoch   1,  Average loss: 0.0146, Accuracy: 493/654 (75.3823%)
___Train Local_ResNet_18,  epoch 260, local model 47, internal_epoch   2,  Average loss: 0.0172, Accuracy: 430/654 (65.7492%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 7.3729, Accuracy: 2255/10000 (22.5500%)
___Train Local_ResNet_18,  epoch 260, local model 13, internal_epoch   1,  Average loss: 0.0126, Accuracy: 490/620 (79.0323%)
___Train Local_ResNet_18,  epoch 260, local model 13, internal_epoch   2,  Average loss: 0.0148, Accuracy: 437/620 (70.4839%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 62.8996, Accuracy: 1047/10000 (10.4700%)
___Train Local_ResNet_18,  epoch 260, local model 84, internal_epoch   1,  Average loss: 0.0119, Accuracy: 807/1053 (76.6382%)
___Train Local_ResNet_18,  epoch 260, local model 84, internal_epoch   2,  Average loss: 0.0125, Accuracy: 784/1053 (74.4539%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 6.4703, Accuracy: 2237/10000 (22.3700%)
___Train Local_ResNet_18,  epoch 260, local model 53, internal_epoch   1,  Average loss: 0.0113, Accuracy: 483/625 (77.2800%)
___Train Local_ResNet_18,  epoch 260, local model 53, internal_epoch   2,  Average loss: 0.0099, Accuracy: 494/625 (79.0400%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 9.4647, Accuracy: 1848/10000 (18.4800%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   1,  Average loss: 0.0118, Accuracy: 319/423 (75.4137%)
___Train Local_ResNet_18,  epoch 260, local model 28, internal_epoch   2,  Average loss: 0.0077, Accuracy: 358/423 (84.6336%)
___Test Local_ResNet_18 poisoned: False, epoch: 260: Average loss: 5.7239, Accuracy: 1875/10000 (18.7500%)
time spent on training: 92.35450077056885
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 260: Average loss: 0.8766, Accuracy: 7083/10000 (70.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 260: Average loss: 0.1768, Accuracy: 8665/9000 (96.2778%)
Done in 127.163156747818 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:261 choose agents : [45, 89, 86, 67, 71, 14, 29, 33, 20, 1]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 261, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 261, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 261, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 261, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 261, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 261, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 23.198026586328414.
Norm before scaling: 22.97460464286804. Distance: 0.4415569723259783
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 0.9364, Accuracy: 6910/10000 (69.1000%)
___Test Local_ResNet_18 poisoned: True, epoch: 261: Average loss: 0.0980, Accuracy: 8812/9000 (97.9111%)
Scaling by  100
Scaled Norm after poisoning: 37.90461404136705, distance: 44.155698477182
Total norm for 1 adversaries is: 37.90461404136705. distance: 44.155698477182
___Test Local_ResNet_18 poisoned: True, epoch: 261: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 261, local model 89, internal_epoch   1,  Average loss: 0.0128, Accuracy: 324/413 (78.4504%)
___Train Local_ResNet_18,  epoch 261, local model 89, internal_epoch   2,  Average loss: 0.0110, Accuracy: 327/413 (79.1768%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 33.0777, Accuracy: 1015/10000 (10.1500%)
___Train Local_ResNet_18,  epoch 261, local model 86, internal_epoch   1,  Average loss: 0.0169, Accuracy: 151/212 (71.2264%)
___Train Local_ResNet_18,  epoch 261, local model 86, internal_epoch   2,  Average loss: 0.0073, Accuracy: 189/212 (89.1509%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 4.0894, Accuracy: 2500/10000 (25.0000%)
___Train Local_ResNet_18,  epoch 261, local model 67, internal_epoch   1,  Average loss: 0.0126, Accuracy: 645/842 (76.6033%)
___Train Local_ResNet_18,  epoch 261, local model 67, internal_epoch   2,  Average loss: 0.0202, Accuracy: 482/842 (57.2447%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 71.8344, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 261, local model 71, internal_epoch   1,  Average loss: 0.0126, Accuracy: 880/1166 (75.4717%)
___Train Local_ResNet_18,  epoch 261, local model 71, internal_epoch   2,  Average loss: 0.0118, Accuracy: 888/1166 (76.1578%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 6.4623, Accuracy: 2166/10000 (21.6600%)
___Train Local_ResNet_18,  epoch 261, local model 14, internal_epoch   1,  Average loss: 0.0122, Accuracy: 238/318 (74.8428%)
___Train Local_ResNet_18,  epoch 261, local model 14, internal_epoch   2,  Average loss: 0.0031, Accuracy: 298/318 (93.7107%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 3.3283, Accuracy: 3565/10000 (35.6500%)
___Train Local_ResNet_18,  epoch 261, local model 29, internal_epoch   1,  Average loss: 0.0119, Accuracy: 672/848 (79.2453%)
___Train Local_ResNet_18,  epoch 261, local model 29, internal_epoch   2,  Average loss: 0.0118, Accuracy: 639/848 (75.3538%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 11.0504, Accuracy: 1672/10000 (16.7200%)
___Train Local_ResNet_18,  epoch 261, local model 33, internal_epoch   1,  Average loss: 0.0136, Accuracy: 390/527 (74.0038%)
___Train Local_ResNet_18,  epoch 261, local model 33, internal_epoch   2,  Average loss: 0.0124, Accuracy: 396/527 (75.1423%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 20.6680, Accuracy: 1299/10000 (12.9900%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   1,  Average loss: 0.0126, Accuracy: 267/362 (73.7569%)
___Train Local_ResNet_18,  epoch 261, local model 20, internal_epoch   2,  Average loss: 0.0059, Accuracy: 323/362 (89.2265%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 5.0035, Accuracy: 2816/10000 (28.1600%)
___Train Local_ResNet_18,  epoch 261, local model 1, internal_epoch   1,  Average loss: 0.0146, Accuracy: 505/641 (78.7832%)
___Train Local_ResNet_18,  epoch 261, local model 1, internal_epoch   2,  Average loss: 0.0150, Accuracy: 467/641 (72.8549%)
___Test Local_ResNet_18 poisoned: False, epoch: 261: Average loss: 52.5942, Accuracy: 1008/10000 (10.0800%)
time spent on training: 96.83413600921631
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 261: Average loss: 0.8881, Accuracy: 6965/10000 (69.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 261: Average loss: 0.1221, Accuracy: 8756/9000 (97.2889%)
Done in 125.76236295700073 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:262 choose agents : [45, 0, 93, 52, 34, 58, 28, 4, 33, 17]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 262, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 262, local model 45, internal_epoch   2,  Average loss: 0.0010, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 262, local model 45, internal_epoch   3,  Average loss: 0.0010, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 262, local model 45, internal_epoch   4,  Average loss: 0.0019, Accuracy: 519/529 (98.1096%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 262, local model 45, internal_epoch   5,  Average loss: 0.0011, Accuracy: 520/529 (98.2987%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 262, local model 45, internal_epoch   6,  Average loss: 0.0007, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Global model norm: 22.99361297823743.
Norm before scaling: 23.550832758796716. Distance: 5.16253537957951
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 2.0612, Accuracy: 4359/10000 (43.5900%)
___Test Local_ResNet_18 poisoned: True, epoch: 262: Average loss: 0.1697, Accuracy: 8689/9000 (96.5444%)
Scaling by  100
Scaled Norm after poisoning: 516.6960542717546, distance: 516.2534806178065
Total norm for 1 adversaries is: 516.6960542717546. distance: 516.2534806178065
___Test Local_ResNet_18 poisoned: True, epoch: 262: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   1,  Average loss: 0.0131, Accuracy: 270/367 (73.5695%)
___Train Local_ResNet_18,  epoch 262, local model 0, internal_epoch   2,  Average loss: 0.0098, Accuracy: 294/367 (80.1090%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 5.4532, Accuracy: 2407/10000 (24.0700%)
___Train Local_ResNet_18,  epoch 262, local model 93, internal_epoch   1,  Average loss: 0.0086, Accuracy: 493/584 (84.4178%)
___Train Local_ResNet_18,  epoch 262, local model 93, internal_epoch   2,  Average loss: 0.0129, Accuracy: 464/584 (79.4521%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 6.3854, Accuracy: 1467/10000 (14.6700%)
___Train Local_ResNet_18,  epoch 262, local model 52, internal_epoch   1,  Average loss: 0.0153, Accuracy: 158/214 (73.8318%)
___Train Local_ResNet_18,  epoch 262, local model 52, internal_epoch   2,  Average loss: 0.0083, Accuracy: 184/214 (85.9813%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 3.7639, Accuracy: 2628/10000 (26.2800%)
___Train Local_ResNet_18,  epoch 262, local model 34, internal_epoch   1,  Average loss: 0.0138, Accuracy: 254/349 (72.7794%)
___Train Local_ResNet_18,  epoch 262, local model 34, internal_epoch   2,  Average loss: 0.0074, Accuracy: 301/349 (86.2464%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 16.4477, Accuracy: 1424/10000 (14.2400%)
___Train Local_ResNet_18,  epoch 262, local model 58, internal_epoch   1,  Average loss: 0.0137, Accuracy: 180/234 (76.9231%)
___Train Local_ResNet_18,  epoch 262, local model 58, internal_epoch   2,  Average loss: 0.0029, Accuracy: 225/234 (96.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 9.1743, Accuracy: 1100/10000 (11.0000%)
___Train Local_ResNet_18,  epoch 262, local model 28, internal_epoch   1,  Average loss: 0.0099, Accuracy: 344/423 (81.3239%)
___Train Local_ResNet_18,  epoch 262, local model 28, internal_epoch   2,  Average loss: 0.0067, Accuracy: 373/423 (88.1797%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 4.9376, Accuracy: 1814/10000 (18.1400%)
___Train Local_ResNet_18,  epoch 262, local model 4, internal_epoch   1,  Average loss: 0.0075, Accuracy: 485/557 (87.0736%)
___Train Local_ResNet_18,  epoch 262, local model 4, internal_epoch   2,  Average loss: 0.0134, Accuracy: 411/557 (73.7882%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 20.7079, Accuracy: 1508/10000 (15.0800%)
___Train Local_ResNet_18,  epoch 262, local model 33, internal_epoch   1,  Average loss: 0.0114, Accuracy: 411/527 (77.9886%)
___Train Local_ResNet_18,  epoch 262, local model 33, internal_epoch   2,  Average loss: 0.0141, Accuracy: 391/527 (74.1935%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 42.6987, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 262, local model 17, internal_epoch   1,  Average loss: 0.0118, Accuracy: 419/526 (79.6578%)
___Train Local_ResNet_18,  epoch 262, local model 17, internal_epoch   2,  Average loss: 0.0127, Accuracy: 412/526 (78.3270%)
___Test Local_ResNet_18 poisoned: False, epoch: 262: Average loss: 33.7068, Accuracy: 1114/10000 (11.1400%)
time spent on training: 79.16357779502869
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 262: Average loss: 1.8804, Accuracy: 4646/10000 (46.4600%)
___Test Target_ResNet_18 poisoned: True, epoch: 262: Average loss: 0.2348, Accuracy: 8568/9000 (95.2000%)
Done in 114.71447849273682 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:263 choose agents : [45, 92, 44, 85, 8, 64, 47, 56, 41, 24]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 263, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 263, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 263, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 263, local model 45, internal_epoch   4,  Average loss: 0.0006, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 263, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 263, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 23.56309447816052.
Norm before scaling: 23.443484912940765. Distance: 1.834769538938568
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 1.7449, Accuracy: 4807/10000 (48.0700%)
___Test Local_ResNet_18 poisoned: True, epoch: 263: Average loss: 0.0702, Accuracy: 8843/9000 (98.2556%)
Scaling by  100
Scaled Norm after poisoning: 182.53806323956107, distance: 183.47696551611048
Total norm for 1 adversaries is: 182.53806323956107. distance: 183.47696551611048
___Test Local_ResNet_18 poisoned: True, epoch: 263: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 263, local model 92, internal_epoch   1,  Average loss: 0.0175, Accuracy: 530/796 (66.5829%)
___Train Local_ResNet_18,  epoch 263, local model 92, internal_epoch   2,  Average loss: 0.0183, Accuracy: 489/796 (61.4322%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 6.1896, Accuracy: 1844/10000 (18.4400%)
___Train Local_ResNet_18,  epoch 263, local model 44, internal_epoch   1,  Average loss: 0.0183, Accuracy: 274/436 (62.8440%)
___Train Local_ResNet_18,  epoch 263, local model 44, internal_epoch   2,  Average loss: 0.0112, Accuracy: 338/436 (77.5229%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 7.2134, Accuracy: 2526/10000 (25.2600%)
___Train Local_ResNet_18,  epoch 263, local model 85, internal_epoch   1,  Average loss: 0.0294, Accuracy: 169/364 (46.4286%)
___Train Local_ResNet_18,  epoch 263, local model 85, internal_epoch   2,  Average loss: 0.0161, Accuracy: 235/364 (64.5604%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 11.5476, Accuracy: 1898/10000 (18.9800%)
___Train Local_ResNet_18,  epoch 263, local model 8, internal_epoch   1,  Average loss: 0.0197, Accuracy: 348/534 (65.1685%)
___Train Local_ResNet_18,  epoch 263, local model 8, internal_epoch   2,  Average loss: 0.0160, Accuracy: 362/534 (67.7903%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 27.6746, Accuracy: 995/10000 (9.9500%)
___Train Local_ResNet_18,  epoch 263, local model 64, internal_epoch   1,  Average loss: 0.0175, Accuracy: 439/686 (63.9942%)
___Train Local_ResNet_18,  epoch 263, local model 64, internal_epoch   2,  Average loss: 0.0137, Accuracy: 490/686 (71.4286%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 8.5950, Accuracy: 1574/10000 (15.7400%)
___Train Local_ResNet_18,  epoch 263, local model 47, internal_epoch   1,  Average loss: 0.0195, Accuracy: 448/654 (68.5015%)
___Train Local_ResNet_18,  epoch 263, local model 47, internal_epoch   2,  Average loss: 0.0177, Accuracy: 444/654 (67.8899%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 11.0273, Accuracy: 1602/10000 (16.0200%)
___Train Local_ResNet_18,  epoch 263, local model 56, internal_epoch   1,  Average loss: 0.0180, Accuracy: 476/743 (64.0646%)
___Train Local_ResNet_18,  epoch 263, local model 56, internal_epoch   2,  Average loss: 0.0147, Accuracy: 526/743 (70.7941%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 13.2967, Accuracy: 1456/10000 (14.5600%)
___Train Local_ResNet_18,  epoch 263, local model 41, internal_epoch   1,  Average loss: 0.0363, Accuracy: 328/513 (63.9376%)
___Train Local_ResNet_18,  epoch 263, local model 41, internal_epoch   2,  Average loss: 0.0167, Accuracy: 353/513 (68.8109%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 28.4774, Accuracy: 1473/10000 (14.7300%)
___Train Local_ResNet_18,  epoch 263, local model 24, internal_epoch   1,  Average loss: 0.0168, Accuracy: 223/320 (69.6875%)
___Train Local_ResNet_18,  epoch 263, local model 24, internal_epoch   2,  Average loss: 0.0066, Accuracy: 278/320 (86.8750%)
___Test Local_ResNet_18 poisoned: False, epoch: 263: Average loss: 15.2108, Accuracy: 1434/10000 (14.3400%)
time spent on training: 84.04680752754211
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 263: Average loss: 1.2997, Accuracy: 5513/10000 (55.1300%)
___Test Target_ResNet_18 poisoned: True, epoch: 263: Average loss: 0.1468, Accuracy: 8709/9000 (96.7667%)
Done in 118.31147408485413 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:264 choose agents : [45, 19, 76, 95, 30, 78, 14, 53, 11, 44]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 264, local model 45, internal_epoch   1,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 264, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 264, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 264, local model 45, internal_epoch   4,  Average loss: 0.0005, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 264, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 264, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 23.445771977753527.
Norm before scaling: 23.26518688724502. Distance: 1.3250759804731178
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 1.5048, Accuracy: 5285/10000 (52.8500%)
___Test Local_ResNet_18 poisoned: True, epoch: 264: Average loss: 0.0563, Accuracy: 8860/9000 (98.4444%)
Scaling by  100
Scaled Norm after poisoning: 130.72435665121859, distance: 132.50761328363365
Total norm for 1 adversaries is: 130.72435665121859. distance: 132.50761328363365
___Test Local_ResNet_18 poisoned: True, epoch: 264: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 264, local model 19, internal_epoch   1,  Average loss: 0.0274, Accuracy: 89/173 (51.4451%)
___Train Local_ResNet_18,  epoch 264, local model 19, internal_epoch   2,  Average loss: 0.0044, Accuracy: 162/173 (93.6416%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 15.2066, Accuracy: 1954/10000 (19.5400%)
___Train Local_ResNet_18,  epoch 264, local model 76, internal_epoch   1,  Average loss: 0.0500, Accuracy: 42/65 (64.6154%)
___Train Local_ResNet_18,  epoch 264, local model 76, internal_epoch   2,  Average loss: 0.0474, Accuracy: 62/65 (95.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 5.3190, Accuracy: 2347/10000 (23.4700%)
___Train Local_ResNet_18,  epoch 264, local model 95, internal_epoch   1,  Average loss: 0.0193, Accuracy: 376/569 (66.0808%)
___Train Local_ResNet_18,  epoch 264, local model 95, internal_epoch   2,  Average loss: 0.0134, Accuracy: 404/569 (71.0018%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 19.9588, Accuracy: 1434/10000 (14.3400%)
___Train Local_ResNet_18,  epoch 264, local model 30, internal_epoch   1,  Average loss: 0.0195, Accuracy: 215/337 (63.7982%)
___Train Local_ResNet_18,  epoch 264, local model 30, internal_epoch   2,  Average loss: 0.0133, Accuracy: 257/337 (76.2611%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 17.1726, Accuracy: 1624/10000 (16.2400%)
___Train Local_ResNet_18,  epoch 264, local model 78, internal_epoch   1,  Average loss: 0.0159, Accuracy: 169/255 (66.2745%)
___Train Local_ResNet_18,  epoch 264, local model 78, internal_epoch   2,  Average loss: 0.0038, Accuracy: 240/255 (94.1176%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 9.8495, Accuracy: 2072/10000 (20.7200%)
___Train Local_ResNet_18,  epoch 264, local model 14, internal_epoch   1,  Average loss: 0.0146, Accuracy: 223/318 (70.1258%)
___Train Local_ResNet_18,  epoch 264, local model 14, internal_epoch   2,  Average loss: 0.0074, Accuracy: 279/318 (87.7358%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 6.9423, Accuracy: 1793/10000 (17.9300%)
___Train Local_ResNet_18,  epoch 264, local model 53, internal_epoch   1,  Average loss: 0.0149, Accuracy: 438/625 (70.0800%)
___Train Local_ResNet_18,  epoch 264, local model 53, internal_epoch   2,  Average loss: 0.0097, Accuracy: 495/625 (79.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 24.1592, Accuracy: 1099/10000 (10.9900%)
___Train Local_ResNet_18,  epoch 264, local model 11, internal_epoch   1,  Average loss: 0.0179, Accuracy: 358/546 (65.5678%)
___Train Local_ResNet_18,  epoch 264, local model 11, internal_epoch   2,  Average loss: 0.0145, Accuracy: 385/546 (70.5128%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 9.8596, Accuracy: 1882/10000 (18.8200%)
___Train Local_ResNet_18,  epoch 264, local model 44, internal_epoch   1,  Average loss: 0.0141, Accuracy: 314/436 (72.0183%)
___Train Local_ResNet_18,  epoch 264, local model 44, internal_epoch   2,  Average loss: 0.0066, Accuracy: 385/436 (88.3028%)
___Test Local_ResNet_18 poisoned: False, epoch: 264: Average loss: 7.0935, Accuracy: 2430/10000 (24.3000%)
time spent on training: 80.80917739868164
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 264: Average loss: 1.2038, Accuracy: 5919/10000 (59.1900%)
___Test Target_ResNet_18 poisoned: True, epoch: 264: Average loss: 0.0697, Accuracy: 8835/9000 (98.1667%)
Done in 116.76330804824829 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:265 choose agents : [45, 24, 79, 98, 78, 11, 62, 68, 60, 23]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 265, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 265, local model 45, internal_epoch   2,  Average loss: 0.0013, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 265, local model 45, internal_epoch   3,  Average loss: 0.0015, Accuracy: 520/529 (98.2987%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 265, local model 45, internal_epoch   4,  Average loss: 0.0010, Accuracy: 521/529 (98.4877%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 265, local model 45, internal_epoch   5,  Average loss: 0.0021, Accuracy: 514/529 (97.1645%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 265, local model 45, internal_epoch   6,  Average loss: 0.0030, Accuracy: 500/529 (94.5180%), train_poison_data_count: 45
Global model norm: 23.266607444418195.
Norm before scaling: 24.26409816912505. Distance: 6.781089675344118
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.6798, Accuracy: 2669/10000 (26.6900%)
___Test Local_ResNet_18 poisoned: True, epoch: 265: Average loss: 0.2234, Accuracy: 8585/9000 (95.3889%)
Scaling by  100
Scaled Norm after poisoning: 678.6132919417362, distance: 678.1090205490559
Total norm for 1 adversaries is: 678.6132919417362. distance: 678.1090205490559
___Test Local_ResNet_18 poisoned: True, epoch: 265: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 265, local model 24, internal_epoch   1,  Average loss: 0.0126, Accuracy: 250/320 (78.1250%)
___Train Local_ResNet_18,  epoch 265, local model 24, internal_epoch   2,  Average loss: 0.0044, Accuracy: 289/320 (90.3125%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 6.0581, Accuracy: 2170/10000 (21.7000%)
___Train Local_ResNet_18,  epoch 265, local model 79, internal_epoch   1,  Average loss: 0.0131, Accuracy: 121/154 (78.5714%)
___Train Local_ResNet_18,  epoch 265, local model 79, internal_epoch   2,  Average loss: 0.0054, Accuracy: 145/154 (94.1558%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 51.0603, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 265, local model 98, internal_epoch   1,  Average loss: 0.0174, Accuracy: 523/802 (65.2120%)
___Train Local_ResNet_18,  epoch 265, local model 98, internal_epoch   2,  Average loss: 0.0155, Accuracy: 529/802 (65.9601%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 7.6724, Accuracy: 1596/10000 (15.9600%)
___Train Local_ResNet_18,  epoch 265, local model 78, internal_epoch   1,  Average loss: 0.0140, Accuracy: 180/255 (70.5882%)
___Train Local_ResNet_18,  epoch 265, local model 78, internal_epoch   2,  Average loss: 0.0042, Accuracy: 236/255 (92.5490%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 7.9506, Accuracy: 2360/10000 (23.6000%)
___Train Local_ResNet_18,  epoch 265, local model 11, internal_epoch   1,  Average loss: 0.0154, Accuracy: 366/546 (67.0330%)
___Train Local_ResNet_18,  epoch 265, local model 11, internal_epoch   2,  Average loss: 0.0123, Accuracy: 413/546 (75.6410%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 21.6529, Accuracy: 1016/10000 (10.1600%)
___Train Local_ResNet_18,  epoch 265, local model 62, internal_epoch   1,  Average loss: 0.0160, Accuracy: 247/358 (68.9944%)
___Train Local_ResNet_18,  epoch 265, local model 62, internal_epoch   2,  Average loss: 0.0088, Accuracy: 301/358 (84.0782%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 4.6925, Accuracy: 2830/10000 (28.3000%)
___Train Local_ResNet_18,  epoch 265, local model 68, internal_epoch   1,  Average loss: 0.0151, Accuracy: 300/416 (72.1154%)
___Train Local_ResNet_18,  epoch 265, local model 68, internal_epoch   2,  Average loss: 0.0132, Accuracy: 320/416 (76.9231%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 22.5858, Accuracy: 1535/10000 (15.3500%)
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   1,  Average loss: 0.0168, Accuracy: 183/284 (64.4366%)
___Train Local_ResNet_18,  epoch 265, local model 60, internal_epoch   2,  Average loss: 0.0053, Accuracy: 255/284 (89.7887%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 4.7095, Accuracy: 2458/10000 (24.5800%)
___Train Local_ResNet_18,  epoch 265, local model 23, internal_epoch   1,  Average loss: 0.0191, Accuracy: 153/248 (61.6935%)
___Train Local_ResNet_18,  epoch 265, local model 23, internal_epoch   2,  Average loss: 0.0055, Accuracy: 223/248 (89.9194%)
___Test Local_ResNet_18 poisoned: False, epoch: 265: Average loss: 23.0621, Accuracy: 1027/10000 (10.2700%)
time spent on training: 79.56327939033508
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 265: Average loss: 3.1914, Accuracy: 2965/10000 (29.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 265: Average loss: 0.5381, Accuracy: 7858/9000 (87.3111%)
Done in 106.36500835418701 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:266 choose agents : [45, 11, 60, 15, 20, 70, 56, 26, 14, 27]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 266, local model 45, internal_epoch   1,  Average loss: 0.0016, Accuracy: 520/529 (98.2987%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 266, local model 45, internal_epoch   2,  Average loss: 0.0019, Accuracy: 517/529 (97.7316%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 266, local model 45, internal_epoch   3,  Average loss: 0.0023, Accuracy: 512/529 (96.7864%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 266, local model 45, internal_epoch   4,  Average loss: 0.0038, Accuracy: 501/529 (94.7070%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 266, local model 45, internal_epoch   5,  Average loss: 0.0025, Accuracy: 503/529 (95.0851%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 266, local model 45, internal_epoch   6,  Average loss: 0.0032, Accuracy: 505/529 (95.4631%), train_poison_data_count: 45
Global model norm: 24.272484492073914.
Norm before scaling: 25.81686105903284. Distance: 8.385400946624111
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.6906, Accuracy: 3402/10000 (34.0200%)
___Test Local_ResNet_18 poisoned: True, epoch: 266: Average loss: 0.0962, Accuracy: 8779/9000 (97.5444%)
Scaling by  100
Scaled Norm after poisoning: 839.3108035763629, distance: 838.540100412616
Total norm for 1 adversaries is: 839.3108035763629. distance: 838.540100412616
___Test Local_ResNet_18 poisoned: True, epoch: 266: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 266, local model 11, internal_epoch   1,  Average loss: 0.0233, Accuracy: 289/546 (52.9304%)
___Train Local_ResNet_18,  epoch 266, local model 11, internal_epoch   2,  Average loss: 0.0151, Accuracy: 376/546 (68.8645%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 17.4724, Accuracy: 1136/10000 (11.3600%)
___Train Local_ResNet_18,  epoch 266, local model 60, internal_epoch   1,  Average loss: 0.0254, Accuracy: 159/284 (55.9859%)
___Train Local_ResNet_18,  epoch 266, local model 60, internal_epoch   2,  Average loss: 0.0120, Accuracy: 231/284 (81.3380%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 7.6966, Accuracy: 2148/10000 (21.4800%)
___Train Local_ResNet_18,  epoch 266, local model 15, internal_epoch   1,  Average loss: 0.0285, Accuracy: 193/341 (56.5982%)
___Train Local_ResNet_18,  epoch 266, local model 15, internal_epoch   2,  Average loss: 0.0129, Accuracy: 266/341 (78.0059%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 31.8583, Accuracy: 1938/10000 (19.3800%)
___Train Local_ResNet_18,  epoch 266, local model 20, internal_epoch   1,  Average loss: 0.0288, Accuracy: 182/362 (50.2762%)
___Train Local_ResNet_18,  epoch 266, local model 20, internal_epoch   2,  Average loss: 0.0135, Accuracy: 271/362 (74.8619%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 42.2462, Accuracy: 1026/10000 (10.2600%)
___Train Local_ResNet_18,  epoch 266, local model 70, internal_epoch   1,  Average loss: 0.0218, Accuracy: 379/610 (62.1311%)
___Train Local_ResNet_18,  epoch 266, local model 70, internal_epoch   2,  Average loss: 0.0160, Accuracy: 422/610 (69.1803%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 27.6938, Accuracy: 1366/10000 (13.6600%)
___Train Local_ResNet_18,  epoch 266, local model 56, internal_epoch   1,  Average loss: 0.0204, Accuracy: 446/743 (60.0269%)
___Train Local_ResNet_18,  epoch 266, local model 56, internal_epoch   2,  Average loss: 0.0161, Accuracy: 508/743 (68.3715%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 8.9749, Accuracy: 1905/10000 (19.0500%)
___Train Local_ResNet_18,  epoch 266, local model 26, internal_epoch   1,  Average loss: 0.0278, Accuracy: 242/468 (51.7094%)
___Train Local_ResNet_18,  epoch 266, local model 26, internal_epoch   2,  Average loss: 0.0195, Accuracy: 306/468 (65.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 20.0901, Accuracy: 2053/10000 (20.5300%)
___Train Local_ResNet_18,  epoch 266, local model 14, internal_epoch   1,  Average loss: 0.0235, Accuracy: 183/318 (57.5472%)
___Train Local_ResNet_18,  epoch 266, local model 14, internal_epoch   2,  Average loss: 0.0096, Accuracy: 261/318 (82.0755%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 16.9712, Accuracy: 1839/10000 (18.3900%)
___Train Local_ResNet_18,  epoch 266, local model 27, internal_epoch   1,  Average loss: 0.0205, Accuracy: 261/397 (65.7431%)
___Train Local_ResNet_18,  epoch 266, local model 27, internal_epoch   2,  Average loss: 0.0098, Accuracy: 321/397 (80.8564%)
___Test Local_ResNet_18 poisoned: False, epoch: 266: Average loss: 32.4680, Accuracy: 1031/10000 (10.3100%)
time spent on training: 82.09119462966919
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 266: Average loss: 2.1726, Accuracy: 3865/10000 (38.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 266: Average loss: 0.1358, Accuracy: 8694/9000 (96.6000%)
Done in 111.87869668006897 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:267 choose agents : [45, 59, 80, 67, 18, 31, 8, 26, 48, 90]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 267, local model 45, internal_epoch   1,  Average loss: 0.0017, Accuracy: 516/529 (97.5425%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 267, local model 45, internal_epoch   2,  Average loss: 0.0010, Accuracy: 522/529 (98.6767%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 267, local model 45, internal_epoch   3,  Average loss: 0.0005, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 267, local model 45, internal_epoch   4,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 267, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 267, local model 45, internal_epoch   6,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 25.818762954638483.
Norm before scaling: 25.827157281099602. Distance: 3.1205649375521705
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 2.7192, Accuracy: 3391/10000 (33.9100%)
___Test Local_ResNet_18 poisoned: True, epoch: 267: Average loss: 0.0856, Accuracy: 8811/9000 (97.9000%)
Scaling by  100
Scaled Norm after poisoning: 311.633498680742, distance: 312.0564977892625
Total norm for 1 adversaries is: 311.633498680742. distance: 312.0564977892625
___Test Local_ResNet_18 poisoned: True, epoch: 267: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 267, local model 59, internal_epoch   1,  Average loss: 0.0210, Accuracy: 398/642 (61.9938%)
___Train Local_ResNet_18,  epoch 267, local model 59, internal_epoch   2,  Average loss: 0.0150, Accuracy: 443/642 (69.0031%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 9.7267, Accuracy: 2153/10000 (21.5300%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   1,  Average loss: 0.0222, Accuracy: 227/363 (62.5344%)
___Train Local_ResNet_18,  epoch 267, local model 80, internal_epoch   2,  Average loss: 0.0116, Accuracy: 301/363 (82.9201%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 15.4021, Accuracy: 1922/10000 (19.2200%)
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   1,  Average loss: 0.0214, Accuracy: 490/842 (58.1948%)
___Train Local_ResNet_18,  epoch 267, local model 67, internal_epoch   2,  Average loss: 0.0153, Accuracy: 544/842 (64.6081%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 5.3591, Accuracy: 2244/10000 (22.4400%)
___Train Local_ResNet_18,  epoch 267, local model 18, internal_epoch   1,  Average loss: 0.0233, Accuracy: 218/386 (56.4767%)
___Train Local_ResNet_18,  epoch 267, local model 18, internal_epoch   2,  Average loss: 0.0196, Accuracy: 269/386 (69.6891%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 44.1253, Accuracy: 1144/10000 (11.4400%)
___Train Local_ResNet_18,  epoch 267, local model 31, internal_epoch   1,  Average loss: 0.0262, Accuracy: 407/706 (57.6487%)
___Train Local_ResNet_18,  epoch 267, local model 31, internal_epoch   2,  Average loss: 0.0206, Accuracy: 422/706 (59.7734%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.6470, Accuracy: 2113/10000 (21.1300%)
___Train Local_ResNet_18,  epoch 267, local model 8, internal_epoch   1,  Average loss: 0.0232, Accuracy: 306/534 (57.3034%)
___Train Local_ResNet_18,  epoch 267, local model 8, internal_epoch   2,  Average loss: 0.0166, Accuracy: 359/534 (67.2285%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 5.9299, Accuracy: 2253/10000 (22.5300%)
___Train Local_ResNet_18,  epoch 267, local model 26, internal_epoch   1,  Average loss: 0.0281, Accuracy: 226/468 (48.2906%)
___Train Local_ResNet_18,  epoch 267, local model 26, internal_epoch   2,  Average loss: 0.0176, Accuracy: 318/468 (67.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.4624, Accuracy: 2773/10000 (27.7300%)
___Train Local_ResNet_18,  epoch 267, local model 48, internal_epoch   1,  Average loss: 0.0221, Accuracy: 210/378 (55.5556%)
___Train Local_ResNet_18,  epoch 267, local model 48, internal_epoch   2,  Average loss: 0.0133, Accuracy: 267/378 (70.6349%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 4.6593, Accuracy: 2414/10000 (24.1400%)
___Train Local_ResNet_18,  epoch 267, local model 90, internal_epoch   1,  Average loss: 0.0267, Accuracy: 368/578 (63.6678%)
___Train Local_ResNet_18,  epoch 267, local model 90, internal_epoch   2,  Average loss: 0.0133, Accuracy: 434/578 (75.0865%)
___Test Local_ResNet_18 poisoned: False, epoch: 267: Average loss: 32.2654, Accuracy: 1074/10000 (10.7400%)
time spent on training: 79.37104272842407
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 267: Average loss: 2.2053, Accuracy: 3566/10000 (35.6600%)
___Test Target_ResNet_18 poisoned: True, epoch: 267: Average loss: 0.1233, Accuracy: 8729/9000 (96.9889%)
Done in 112.69529986381531 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:268 choose agents : [45, 89, 58, 92, 5, 2, 41, 0, 6, 38]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 268, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 268, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 268, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 268, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 268, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 268, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 25.815064235905094.
Norm before scaling: 25.572527497250956. Distance: 0.8080432141805761
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 2.2799, Accuracy: 4010/10000 (40.1000%)
___Test Local_ResNet_18 poisoned: True, epoch: 268: Average loss: 0.1332, Accuracy: 8744/9000 (97.1556%)
Scaling by  100
Scaled Norm after poisoning: 76.70797403953516, distance: 80.80431549331848
Total norm for 1 adversaries is: 76.70797403953516. distance: 80.80431549331848
___Test Local_ResNet_18 poisoned: True, epoch: 268: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 268, local model 89, internal_epoch   1,  Average loss: 0.0224, Accuracy: 255/413 (61.7433%)
___Train Local_ResNet_18,  epoch 268, local model 89, internal_epoch   2,  Average loss: 0.0116, Accuracy: 335/413 (81.1138%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 9.3356, Accuracy: 2620/10000 (26.2000%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   1,  Average loss: 0.0302, Accuracy: 128/234 (54.7009%)
___Train Local_ResNet_18,  epoch 268, local model 58, internal_epoch   2,  Average loss: 0.0050, Accuracy: 211/234 (90.1709%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 25.0765, Accuracy: 1023/10000 (10.2300%)
___Train Local_ResNet_18,  epoch 268, local model 92, internal_epoch   1,  Average loss: 0.0198, Accuracy: 509/796 (63.9447%)
___Train Local_ResNet_18,  epoch 268, local model 92, internal_epoch   2,  Average loss: 0.0136, Accuracy: 569/796 (71.4824%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 3.9308, Accuracy: 2551/10000 (25.5100%)
___Train Local_ResNet_18,  epoch 268, local model 5, internal_epoch   1,  Average loss: 0.0245, Accuracy: 209/365 (57.2603%)
___Train Local_ResNet_18,  epoch 268, local model 5, internal_epoch   2,  Average loss: 0.0128, Accuracy: 282/365 (77.2603%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 7.7554, Accuracy: 2684/10000 (26.8400%)
___Train Local_ResNet_18,  epoch 268, local model 2, internal_epoch   1,  Average loss: 0.0289, Accuracy: 271/461 (58.7852%)
___Train Local_ResNet_18,  epoch 268, local model 2, internal_epoch   2,  Average loss: 0.0203, Accuracy: 292/461 (63.3406%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 63.5777, Accuracy: 1176/10000 (11.7600%)
___Train Local_ResNet_18,  epoch 268, local model 41, internal_epoch   1,  Average loss: 0.0382, Accuracy: 296/513 (57.6998%)
___Train Local_ResNet_18,  epoch 268, local model 41, internal_epoch   2,  Average loss: 0.0207, Accuracy: 311/513 (60.6238%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 18.0294, Accuracy: 1607/10000 (16.0700%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   1,  Average loss: 0.0281, Accuracy: 180/367 (49.0463%)
___Train Local_ResNet_18,  epoch 268, local model 0, internal_epoch   2,  Average loss: 0.0114, Accuracy: 276/367 (75.2044%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 7.5083, Accuracy: 1584/10000 (15.8400%)
___Train Local_ResNet_18,  epoch 268, local model 6, internal_epoch   1,  Average loss: 0.0214, Accuracy: 317/520 (60.9615%)
___Train Local_ResNet_18,  epoch 268, local model 6, internal_epoch   2,  Average loss: 0.0190, Accuracy: 339/520 (65.1923%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 33.8232, Accuracy: 1041/10000 (10.4100%)
___Train Local_ResNet_18,  epoch 268, local model 38, internal_epoch   1,  Average loss: 0.0228, Accuracy: 450/756 (59.5238%)
___Train Local_ResNet_18,  epoch 268, local model 38, internal_epoch   2,  Average loss: 0.0167, Accuracy: 491/756 (64.9471%)
___Test Local_ResNet_18 poisoned: False, epoch: 268: Average loss: 4.1069, Accuracy: 2082/10000 (20.8200%)
time spent on training: 93.68545770645142
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 268: Average loss: 1.5648, Accuracy: 4724/10000 (47.2400%)
___Test Target_ResNet_18 poisoned: True, epoch: 268: Average loss: 0.2463, Accuracy: 8557/9000 (95.0778%)
Done in 127.77444458007812 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:269 choose agents : [45, 17, 51, 98, 48, 19, 13, 76, 16, 69]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 269, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 269, local model 45, internal_epoch   2,  Average loss: 0.0006, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 269, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 269, local model 45, internal_epoch   4,  Average loss: 0.0007, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 269, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 269, local model 45, internal_epoch   6,  Average loss: 0.0006, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 25.551854684778387.
Norm before scaling: 25.38476975756391. Distance: 1.8863938962174367
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.3083, Accuracy: 3861/10000 (38.6100%)
___Test Local_ResNet_18 poisoned: True, epoch: 269: Average loss: 0.0781, Accuracy: 8835/9000 (98.1667%)
Scaling by  100
Scaled Norm after poisoning: 187.16527413959568, distance: 188.63941296823418
Total norm for 1 adversaries is: 187.16527413959568. distance: 188.63941296823418
___Test Local_ResNet_18 poisoned: True, epoch: 269: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 269, local model 17, internal_epoch   1,  Average loss: 0.0192, Accuracy: 336/526 (63.8783%)
___Train Local_ResNet_18,  epoch 269, local model 17, internal_epoch   2,  Average loss: 0.0142, Accuracy: 407/526 (77.3764%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 6.6263, Accuracy: 1931/10000 (19.3100%)
___Train Local_ResNet_18,  epoch 269, local model 51, internal_epoch   1,  Average loss: 0.0203, Accuracy: 313/479 (65.3445%)
___Train Local_ResNet_18,  epoch 269, local model 51, internal_epoch   2,  Average loss: 0.0109, Accuracy: 387/479 (80.7933%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 13.1946, Accuracy: 1448/10000 (14.4800%)
___Train Local_ResNet_18,  epoch 269, local model 98, internal_epoch   1,  Average loss: 0.0203, Accuracy: 470/802 (58.6035%)
___Train Local_ResNet_18,  epoch 269, local model 98, internal_epoch   2,  Average loss: 0.0129, Accuracy: 589/802 (73.4414%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 6.0057, Accuracy: 2773/10000 (27.7300%)
___Train Local_ResNet_18,  epoch 269, local model 48, internal_epoch   1,  Average loss: 0.0167, Accuracy: 241/378 (63.7566%)
___Train Local_ResNet_18,  epoch 269, local model 48, internal_epoch   2,  Average loss: 0.0079, Accuracy: 311/378 (82.2751%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 2.8400, Accuracy: 3273/10000 (32.7300%)
___Train Local_ResNet_18,  epoch 269, local model 19, internal_epoch   1,  Average loss: 0.0321, Accuracy: 84/173 (48.5549%)
___Train Local_ResNet_18,  epoch 269, local model 19, internal_epoch   2,  Average loss: 0.0044, Accuracy: 163/173 (94.2197%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 22.6970, Accuracy: 1252/10000 (12.5200%)
___Train Local_ResNet_18,  epoch 269, local model 13, internal_epoch   1,  Average loss: 0.0212, Accuracy: 399/620 (64.3548%)
___Train Local_ResNet_18,  epoch 269, local model 13, internal_epoch   2,  Average loss: 0.0108, Accuracy: 492/620 (79.3548%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 22.9105, Accuracy: 2205/10000 (22.0500%)
___Train Local_ResNet_18,  epoch 269, local model 76, internal_epoch   1,  Average loss: 0.0723, Accuracy: 34/65 (52.3077%)
___Train Local_ResNet_18,  epoch 269, local model 76, internal_epoch   2,  Average loss: 0.0112, Accuracy: 60/65 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 6.6882, Accuracy: 1976/10000 (19.7600%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   1,  Average loss: 0.0178, Accuracy: 511/773 (66.1061%)
___Train Local_ResNet_18,  epoch 269, local model 16, internal_epoch   2,  Average loss: 0.0156, Accuracy: 524/773 (67.7878%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 3.4568, Accuracy: 2861/10000 (28.6100%)
___Train Local_ResNet_18,  epoch 269, local model 69, internal_epoch   1,  Average loss: 0.0280, Accuracy: 125/216 (57.8704%)
___Train Local_ResNet_18,  epoch 269, local model 69, internal_epoch   2,  Average loss: 0.0077, Accuracy: 191/216 (88.4259%)
___Test Local_ResNet_18 poisoned: False, epoch: 269: Average loss: 4.5381, Accuracy: 3225/10000 (32.2500%)
time spent on training: 83.2513382434845
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 269: Average loss: 1.9441, Accuracy: 4151/10000 (41.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 269: Average loss: 0.0800, Accuracy: 8819/9000 (97.9889%)
Done in 114.7085907459259 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:270 choose agents : [45, 96, 94, 70, 39, 69, 86, 15, 48, 14]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 270, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 270, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 270, local model 45, internal_epoch   3,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 270, local model 45, internal_epoch   4,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 270, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 270, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 25.37834558840839.
Norm before scaling: 25.218895213336566. Distance: 1.7837534261134607
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 2.1900, Accuracy: 4137/10000 (41.3700%)
___Test Local_ResNet_18 poisoned: True, epoch: 270: Average loss: 0.0906, Accuracy: 8804/9000 (97.8222%)
Scaling by  100
Scaled Norm after poisoning: 177.02221678189153, distance: 178.37532848603252
Total norm for 1 adversaries is: 177.02221678189153. distance: 178.37532848603252
___Test Local_ResNet_18 poisoned: True, epoch: 270: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 270, local model 96, internal_epoch   1,  Average loss: 0.0196, Accuracy: 416/708 (58.7571%)
___Train Local_ResNet_18,  epoch 270, local model 96, internal_epoch   2,  Average loss: 0.0170, Accuracy: 487/708 (68.7853%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 13.8973, Accuracy: 1217/10000 (12.1700%)
___Train Local_ResNet_18,  epoch 270, local model 94, internal_epoch   1,  Average loss: 0.0350, Accuracy: 104/203 (51.2315%)
___Train Local_ResNet_18,  epoch 270, local model 94, internal_epoch   2,  Average loss: 0.0127, Accuracy: 163/203 (80.2956%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 13.4217, Accuracy: 1827/10000 (18.2700%)
___Train Local_ResNet_18,  epoch 270, local model 70, internal_epoch   1,  Average loss: 0.0174, Accuracy: 422/610 (69.1803%)
___Train Local_ResNet_18,  epoch 270, local model 70, internal_epoch   2,  Average loss: 0.0112, Accuracy: 456/610 (74.7541%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 6.5374, Accuracy: 2338/10000 (23.3800%)
___Train Local_ResNet_18,  epoch 270, local model 39, internal_epoch   1,  Average loss: 0.0275, Accuracy: 119/217 (54.8387%)
___Train Local_ResNet_18,  epoch 270, local model 39, internal_epoch   2,  Average loss: 0.0130, Accuracy: 179/217 (82.4885%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 43.8168, Accuracy: 1003/10000 (10.0300%)
___Train Local_ResNet_18,  epoch 270, local model 69, internal_epoch   1,  Average loss: 0.0272, Accuracy: 118/216 (54.6296%)
___Train Local_ResNet_18,  epoch 270, local model 69, internal_epoch   2,  Average loss: 0.0072, Accuracy: 187/216 (86.5741%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 5.3898, Accuracy: 2498/10000 (24.9800%)
___Train Local_ResNet_18,  epoch 270, local model 86, internal_epoch   1,  Average loss: 0.0264, Accuracy: 120/212 (56.6038%)
___Train Local_ResNet_18,  epoch 270, local model 86, internal_epoch   2,  Average loss: 0.0081, Accuracy: 184/212 (86.7925%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 21.0790, Accuracy: 1314/10000 (13.1400%)
___Train Local_ResNet_18,  epoch 270, local model 15, internal_epoch   1,  Average loss: 0.0279, Accuracy: 194/341 (56.8915%)
___Train Local_ResNet_18,  epoch 270, local model 15, internal_epoch   2,  Average loss: 0.0110, Accuracy: 258/341 (75.6598%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 7.5094, Accuracy: 3112/10000 (31.1200%)
___Train Local_ResNet_18,  epoch 270, local model 48, internal_epoch   1,  Average loss: 0.0192, Accuracy: 234/378 (61.9048%)
___Train Local_ResNet_18,  epoch 270, local model 48, internal_epoch   2,  Average loss: 0.0098, Accuracy: 309/378 (81.7460%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 11.3345, Accuracy: 1124/10000 (11.2400%)
___Train Local_ResNet_18,  epoch 270, local model 14, internal_epoch   1,  Average loss: 0.0201, Accuracy: 203/318 (63.8365%)
___Train Local_ResNet_18,  epoch 270, local model 14, internal_epoch   2,  Average loss: 0.0067, Accuracy: 277/318 (87.1069%)
___Test Local_ResNet_18 poisoned: False, epoch: 270: Average loss: 13.6210, Accuracy: 1856/10000 (18.5600%)
time spent on training: 83.67281579971313
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 270: Average loss: 1.6921, Accuracy: 4704/10000 (47.0400%)
___Test Target_ResNet_18 poisoned: True, epoch: 270: Average loss: 0.1402, Accuracy: 8706/9000 (96.7333%)
Done in 115.64220023155212 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:271 choose agents : [45, 3, 82, 23, 35, 58, 74, 28, 99, 52]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 271, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 271, local model 45, internal_epoch   2,  Average loss: 0.0007, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 271, local model 45, internal_epoch   3,  Average loss: 0.0010, Accuracy: 523/529 (98.8658%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 271, local model 45, internal_epoch   4,  Average loss: 0.0008, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 271, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 271, local model 45, internal_epoch   6,  Average loss: 0.0006, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 25.210887869876778.
Norm before scaling: 25.263873528500387. Distance: 3.6190159833333246
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 2.0900, Accuracy: 4198/10000 (41.9800%)
___Test Local_ResNet_18 poisoned: True, epoch: 271: Average loss: 0.1489, Accuracy: 8698/9000 (96.6444%)
Scaling by  100
Scaled Norm after poisoning: 361.3392947597867, distance: 361.9015966046572
Total norm for 1 adversaries is: 361.3392947597867. distance: 361.9015966046572
___Test Local_ResNet_18 poisoned: True, epoch: 271: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 271, local model 3, internal_epoch   1,  Average loss: 0.0200, Accuracy: 503/780 (64.4872%)
___Train Local_ResNet_18,  epoch 271, local model 3, internal_epoch   2,  Average loss: 0.0137, Accuracy: 559/780 (71.6667%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 4.2905, Accuracy: 2279/10000 (22.7900%)
___Train Local_ResNet_18,  epoch 271, local model 82, internal_epoch   1,  Average loss: 0.0164, Accuracy: 423/601 (70.3827%)
___Train Local_ResNet_18,  epoch 271, local model 82, internal_epoch   2,  Average loss: 0.0085, Accuracy: 509/601 (84.6922%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 5.9724, Accuracy: 2273/10000 (22.7300%)
___Train Local_ResNet_18,  epoch 271, local model 23, internal_epoch   1,  Average loss: 0.0234, Accuracy: 144/248 (58.0645%)
___Train Local_ResNet_18,  epoch 271, local model 23, internal_epoch   2,  Average loss: 0.0083, Accuracy: 202/248 (81.4516%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 9.9816, Accuracy: 1895/10000 (18.9500%)
___Train Local_ResNet_18,  epoch 271, local model 35, internal_epoch   1,  Average loss: 0.0145, Accuracy: 315/419 (75.1790%)
___Train Local_ResNet_18,  epoch 271, local model 35, internal_epoch   2,  Average loss: 0.0065, Accuracy: 360/419 (85.9189%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 9.0280, Accuracy: 2231/10000 (22.3100%)
___Train Local_ResNet_18,  epoch 271, local model 58, internal_epoch   1,  Average loss: 0.0215, Accuracy: 142/234 (60.6838%)
___Train Local_ResNet_18,  epoch 271, local model 58, internal_epoch   2,  Average loss: 0.0053, Accuracy: 212/234 (90.5983%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 13.8485, Accuracy: 1014/10000 (10.1400%)
___Train Local_ResNet_18,  epoch 271, local model 74, internal_epoch   1,  Average loss: 0.0174, Accuracy: 315/469 (67.1642%)
___Train Local_ResNet_18,  epoch 271, local model 74, internal_epoch   2,  Average loss: 0.0081, Accuracy: 392/469 (83.5821%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 4.0959, Accuracy: 2745/10000 (27.4500%)
___Train Local_ResNet_18,  epoch 271, local model 28, internal_epoch   1,  Average loss: 0.0203, Accuracy: 251/423 (59.3381%)
___Train Local_ResNet_18,  epoch 271, local model 28, internal_epoch   2,  Average loss: 0.0106, Accuracy: 342/423 (80.8511%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 6.0430, Accuracy: 2822/10000 (28.2200%)
___Train Local_ResNet_18,  epoch 271, local model 99, internal_epoch   1,  Average loss: 0.0229, Accuracy: 252/391 (64.4501%)
___Train Local_ResNet_18,  epoch 271, local model 99, internal_epoch   2,  Average loss: 0.0196, Accuracy: 247/391 (63.1714%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 849.4037, Accuracy: 1081/10000 (10.8100%)
___Train Local_ResNet_18,  epoch 271, local model 52, internal_epoch   1,  Average loss: 0.0258, Accuracy: 126/214 (58.8785%)
___Train Local_ResNet_18,  epoch 271, local model 52, internal_epoch   2,  Average loss: 0.0076, Accuracy: 186/214 (86.9159%)
___Test Local_ResNet_18 poisoned: False, epoch: 271: Average loss: 10.6403, Accuracy: 1641/10000 (16.4100%)
time spent on training: 94.21981763839722
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 271: Average loss: 1.7425, Accuracy: 4590/10000 (45.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 271: Average loss: 0.2316, Accuracy: 8604/9000 (95.6000%)
Done in 129.61617302894592 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:272 choose agents : [45, 50, 81, 85, 79, 93, 75, 52, 92, 6]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 272, local model 45, internal_epoch   1,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 272, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 272, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 272, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 272, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 272, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 25.259332424110475.
Norm before scaling: 25.09000765019251. Distance: 1.5123626362870397
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 2.2117, Accuracy: 3998/10000 (39.9800%)
___Test Local_ResNet_18 poisoned: True, epoch: 272: Average loss: 0.1069, Accuracy: 8773/9000 (97.4778%)
Scaling by  100
Scaled Norm after poisoning: 149.76373971818077, distance: 151.2362532492623
Total norm for 1 adversaries is: 149.76373971818077. distance: 151.2362532492623
___Test Local_ResNet_18 poisoned: True, epoch: 272: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 272, local model 50, internal_epoch   1,  Average loss: 0.0237, Accuracy: 242/401 (60.3491%)
___Train Local_ResNet_18,  epoch 272, local model 50, internal_epoch   2,  Average loss: 0.0130, Accuracy: 307/401 (76.5586%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 35.2420, Accuracy: 1828/10000 (18.2800%)
___Train Local_ResNet_18,  epoch 272, local model 81, internal_epoch   1,  Average loss: 0.0194, Accuracy: 661/1034 (63.9265%)
___Train Local_ResNet_18,  epoch 272, local model 81, internal_epoch   2,  Average loss: 0.0134, Accuracy: 708/1034 (68.4720%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 7.3121, Accuracy: 2128/10000 (21.2800%)
___Train Local_ResNet_18,  epoch 272, local model 85, internal_epoch   1,  Average loss: 0.0289, Accuracy: 167/364 (45.8791%)
___Train Local_ResNet_18,  epoch 272, local model 85, internal_epoch   2,  Average loss: 0.0153, Accuracy: 252/364 (69.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 8.8452, Accuracy: 1381/10000 (13.8100%)
___Train Local_ResNet_18,  epoch 272, local model 79, internal_epoch   1,  Average loss: 0.0184, Accuracy: 100/154 (64.9351%)
___Train Local_ResNet_18,  epoch 272, local model 79, internal_epoch   2,  Average loss: 0.0032, Accuracy: 146/154 (94.8052%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 6.7296, Accuracy: 2385/10000 (23.8500%)
___Train Local_ResNet_18,  epoch 272, local model 93, internal_epoch   1,  Average loss: 0.0180, Accuracy: 400/584 (68.4932%)
___Train Local_ResNet_18,  epoch 272, local model 93, internal_epoch   2,  Average loss: 0.0123, Accuracy: 447/584 (76.5411%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 3.8497, Accuracy: 2897/10000 (28.9700%)
___Train Local_ResNet_18,  epoch 272, local model 75, internal_epoch   1,  Average loss: 0.0207, Accuracy: 385/578 (66.6090%)
___Train Local_ResNet_18,  epoch 272, local model 75, internal_epoch   2,  Average loss: 0.0250, Accuracy: 323/578 (55.8824%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 43.5058, Accuracy: 1220/10000 (12.2000%)
___Train Local_ResNet_18,  epoch 272, local model 52, internal_epoch   1,  Average loss: 0.0232, Accuracy: 135/214 (63.0841%)
___Train Local_ResNet_18,  epoch 272, local model 52, internal_epoch   2,  Average loss: 0.0070, Accuracy: 191/214 (89.2523%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 14.1570, Accuracy: 1444/10000 (14.4400%)
___Train Local_ResNet_18,  epoch 272, local model 92, internal_epoch   1,  Average loss: 0.0182, Accuracy: 526/796 (66.0804%)
___Train Local_ResNet_18,  epoch 272, local model 92, internal_epoch   2,  Average loss: 0.0123, Accuracy: 597/796 (75.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 21.8399, Accuracy: 1206/10000 (12.0600%)
___Train Local_ResNet_18,  epoch 272, local model 6, internal_epoch   1,  Average loss: 0.0200, Accuracy: 313/520 (60.1923%)
___Train Local_ResNet_18,  epoch 272, local model 6, internal_epoch   2,  Average loss: 0.0132, Accuracy: 386/520 (74.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 272: Average loss: 7.9811, Accuracy: 1753/10000 (17.5300%)
time spent on training: 89.33729767799377
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 272: Average loss: 1.7501, Accuracy: 4336/10000 (43.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 272: Average loss: 0.1089, Accuracy: 8760/9000 (97.3333%)
Done in 126.47104024887085 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:273 choose agents : [45, 33, 43, 78, 12, 53, 65, 77, 98, 15]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 273, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 273, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 273, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 273, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 273, local model 45, internal_epoch   5,  Average loss: 0.0005, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 273, local model 45, internal_epoch   6,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 25.08582436326092.
Norm before scaling: 24.835657339564847. Distance: 0.5310080762794959
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.8705, Accuracy: 4615/10000 (46.1500%)
___Test Local_ResNet_18 poisoned: True, epoch: 273: Average loss: 0.0773, Accuracy: 8818/9000 (97.9778%)
Scaling by  100
Scaled Norm after poisoning: 46.60401096354932, distance: 53.10081250849652
Total norm for 1 adversaries is: 46.60401096354932. distance: 53.10081250849652
___Test Local_ResNet_18 poisoned: True, epoch: 273: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 273, local model 33, internal_epoch   1,  Average loss: 0.0250, Accuracy: 295/527 (55.9772%)
___Train Local_ResNet_18,  epoch 273, local model 33, internal_epoch   2,  Average loss: 0.0183, Accuracy: 326/527 (61.8596%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 7.6760, Accuracy: 1593/10000 (15.9300%)
___Train Local_ResNet_18,  epoch 273, local model 43, internal_epoch   1,  Average loss: 0.0192, Accuracy: 218/345 (63.1884%)
___Train Local_ResNet_18,  epoch 273, local model 43, internal_epoch   2,  Average loss: 0.0089, Accuracy: 290/345 (84.0580%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 3.6983, Accuracy: 2848/10000 (28.4800%)
___Train Local_ResNet_18,  epoch 273, local model 78, internal_epoch   1,  Average loss: 0.0195, Accuracy: 167/255 (65.4902%)
___Train Local_ResNet_18,  epoch 273, local model 78, internal_epoch   2,  Average loss: 0.0049, Accuracy: 232/255 (90.9804%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 12.7413, Accuracy: 1884/10000 (18.8400%)
___Train Local_ResNet_18,  epoch 273, local model 12, internal_epoch   1,  Average loss: 0.0207, Accuracy: 600/977 (61.4125%)
___Train Local_ResNet_18,  epoch 273, local model 12, internal_epoch   2,  Average loss: 0.0151, Accuracy: 679/977 (69.4985%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 4.0626, Accuracy: 2177/10000 (21.7700%)
___Train Local_ResNet_18,  epoch 273, local model 53, internal_epoch   1,  Average loss: 0.0174, Accuracy: 423/625 (67.6800%)
___Train Local_ResNet_18,  epoch 273, local model 53, internal_epoch   2,  Average loss: 0.0097, Accuracy: 497/625 (79.5200%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 6.6675, Accuracy: 1925/10000 (19.2500%)
___Train Local_ResNet_18,  epoch 273, local model 65, internal_epoch   1,  Average loss: 0.0178, Accuracy: 214/314 (68.1529%)
___Train Local_ResNet_18,  epoch 273, local model 65, internal_epoch   2,  Average loss: 0.0085, Accuracy: 247/314 (78.6624%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 11.0644, Accuracy: 1376/10000 (13.7600%)
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   1,  Average loss: 0.0207, Accuracy: 298/496 (60.0806%)
___Train Local_ResNet_18,  epoch 273, local model 77, internal_epoch   2,  Average loss: 0.0124, Accuracy: 380/496 (76.6129%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 2.6551, Accuracy: 3397/10000 (33.9700%)
___Train Local_ResNet_18,  epoch 273, local model 98, internal_epoch   1,  Average loss: 0.0188, Accuracy: 504/802 (62.8429%)
___Train Local_ResNet_18,  epoch 273, local model 98, internal_epoch   2,  Average loss: 0.0137, Accuracy: 577/802 (71.9451%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 6.5918, Accuracy: 1879/10000 (18.7900%)
___Train Local_ResNet_18,  epoch 273, local model 15, internal_epoch   1,  Average loss: 0.0209, Accuracy: 215/341 (63.0499%)
___Train Local_ResNet_18,  epoch 273, local model 15, internal_epoch   2,  Average loss: 0.0125, Accuracy: 267/341 (78.2991%)
___Test Local_ResNet_18 poisoned: False, epoch: 273: Average loss: 13.7881, Accuracy: 1524/10000 (15.2400%)
time spent on training: 82.23105525970459
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 273: Average loss: 1.4394, Accuracy: 5189/10000 (51.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 273: Average loss: 0.1061, Accuracy: 8760/9000 (97.3333%)
Done in 115.7175235748291 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:274 choose agents : [45, 28, 44, 48, 84, 59, 39, 8, 34, 56]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 274, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 274, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 274, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 274, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 274, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 274, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 24.83123702176857.
Norm before scaling: 24.756788151339673. Distance: 2.6401408276421003
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 2.3490, Accuracy: 4076/10000 (40.7600%)
___Test Local_ResNet_18 poisoned: True, epoch: 274: Average loss: 0.0934, Accuracy: 8822/9000 (98.0222%)
Scaling by  100
Scaled Norm after poisoning: 263.16119109777566, distance: 264.0140562072406
Total norm for 1 adversaries is: 263.16119109777566. distance: 264.0140562072406
___Test Local_ResNet_18 poisoned: True, epoch: 274: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 274, local model 28, internal_epoch   1,  Average loss: 0.0181, Accuracy: 278/423 (65.7210%)
___Train Local_ResNet_18,  epoch 274, local model 28, internal_epoch   2,  Average loss: 0.0074, Accuracy: 355/423 (83.9243%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 3.8557, Accuracy: 2816/10000 (28.1600%)
___Train Local_ResNet_18,  epoch 274, local model 44, internal_epoch   1,  Average loss: 0.0183, Accuracy: 273/436 (62.6147%)
___Train Local_ResNet_18,  epoch 274, local model 44, internal_epoch   2,  Average loss: 0.0093, Accuracy: 360/436 (82.5688%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.3716, Accuracy: 2789/10000 (27.8900%)
___Train Local_ResNet_18,  epoch 274, local model 48, internal_epoch   1,  Average loss: 0.0177, Accuracy: 233/378 (61.6402%)
___Train Local_ResNet_18,  epoch 274, local model 48, internal_epoch   2,  Average loss: 0.0100, Accuracy: 299/378 (79.1005%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 3.4263, Accuracy: 2713/10000 (27.1300%)
___Train Local_ResNet_18,  epoch 274, local model 84, internal_epoch   1,  Average loss: 0.0153, Accuracy: 732/1053 (69.5157%)
___Train Local_ResNet_18,  epoch 274, local model 84, internal_epoch   2,  Average loss: 0.0115, Accuracy: 805/1053 (76.4482%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 3.5417, Accuracy: 2708/10000 (27.0800%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   1,  Average loss: 0.0151, Accuracy: 451/642 (70.2492%)
___Train Local_ResNet_18,  epoch 274, local model 59, internal_epoch   2,  Average loss: 0.0195, Accuracy: 434/642 (67.6012%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 88.8377, Accuracy: 1487/10000 (14.8700%)
___Train Local_ResNet_18,  epoch 274, local model 39, internal_epoch   1,  Average loss: 0.0231, Accuracy: 125/217 (57.6037%)
___Train Local_ResNet_18,  epoch 274, local model 39, internal_epoch   2,  Average loss: 0.0101, Accuracy: 175/217 (80.6452%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 18.1083, Accuracy: 1280/10000 (12.8000%)
___Train Local_ResNet_18,  epoch 274, local model 8, internal_epoch   1,  Average loss: 0.0197, Accuracy: 337/534 (63.1086%)
___Train Local_ResNet_18,  epoch 274, local model 8, internal_epoch   2,  Average loss: 0.0114, Accuracy: 412/534 (77.1536%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 2.7875, Accuracy: 3358/10000 (33.5800%)
___Train Local_ResNet_18,  epoch 274, local model 34, internal_epoch   1,  Average loss: 0.0204, Accuracy: 226/349 (64.7564%)
___Train Local_ResNet_18,  epoch 274, local model 34, internal_epoch   2,  Average loss: 0.0086, Accuracy: 297/349 (85.1003%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.8263, Accuracy: 2719/10000 (27.1900%)
___Train Local_ResNet_18,  epoch 274, local model 56, internal_epoch   1,  Average loss: 0.0165, Accuracy: 492/743 (66.2180%)
___Train Local_ResNet_18,  epoch 274, local model 56, internal_epoch   2,  Average loss: 0.0110, Accuracy: 588/743 (79.1386%)
___Test Local_ResNet_18 poisoned: False, epoch: 274: Average loss: 5.5564, Accuracy: 2983/10000 (29.8300%)
time spent on training: 87.08009219169617
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 274: Average loss: 1.9228, Accuracy: 4434/10000 (44.3400%)
___Test Target_ResNet_18 poisoned: True, epoch: 274: Average loss: 0.1115, Accuracy: 8778/9000 (97.5333%)
Done in 121.99301362037659 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:275 choose agents : [45, 28, 31, 79, 0, 51, 72, 61, 57, 27]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 275, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 275, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 275, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 275, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 275, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 275, local model 45, internal_epoch   6,  Average loss: 0.0005, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 24.759917767069243.
Norm before scaling: 24.524377022859827. Distance: 0.5844278597256427
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 2.0612, Accuracy: 4381/10000 (43.8100%)
___Test Local_ResNet_18 poisoned: True, epoch: 275: Average loss: 0.0659, Accuracy: 8867/9000 (98.5222%)
Scaling by  100
Scaled Norm after poisoning: 53.231520047454026, distance: 58.44278677622992
Total norm for 1 adversaries is: 53.231520047454026. distance: 58.44278677622992
___Test Local_ResNet_18 poisoned: True, epoch: 275: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 275, local model 28, internal_epoch   1,  Average loss: 0.0211, Accuracy: 239/423 (56.5012%)
___Train Local_ResNet_18,  epoch 275, local model 28, internal_epoch   2,  Average loss: 0.0129, Accuracy: 313/423 (73.9953%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 3.6344, Accuracy: 3552/10000 (35.5200%)
___Train Local_ResNet_18,  epoch 275, local model 31, internal_epoch   1,  Average loss: 0.0187, Accuracy: 448/706 (63.4561%)
___Train Local_ResNet_18,  epoch 275, local model 31, internal_epoch   2,  Average loss: 0.0210, Accuracy: 445/706 (63.0312%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 19.6063, Accuracy: 1001/10000 (10.0100%)
___Train Local_ResNet_18,  epoch 275, local model 79, internal_epoch   1,  Average loss: 0.0215, Accuracy: 102/154 (66.2338%)
___Train Local_ResNet_18,  epoch 275, local model 79, internal_epoch   2,  Average loss: 0.0142, Accuracy: 127/154 (82.4675%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 10.7302, Accuracy: 1885/10000 (18.8500%)
___Train Local_ResNet_18,  epoch 275, local model 0, internal_epoch   1,  Average loss: 0.0252, Accuracy: 185/367 (50.4087%)
___Train Local_ResNet_18,  epoch 275, local model 0, internal_epoch   2,  Average loss: 0.0117, Accuracy: 275/367 (74.9319%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 5.3548, Accuracy: 2450/10000 (24.5000%)
___Train Local_ResNet_18,  epoch 275, local model 51, internal_epoch   1,  Average loss: 0.0184, Accuracy: 327/479 (68.2672%)
___Train Local_ResNet_18,  epoch 275, local model 51, internal_epoch   2,  Average loss: 0.0095, Accuracy: 389/479 (81.2109%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 22.9204, Accuracy: 1046/10000 (10.4600%)
___Train Local_ResNet_18,  epoch 275, local model 72, internal_epoch   1,  Average loss: 0.0236, Accuracy: 371/618 (60.0324%)
___Train Local_ResNet_18,  epoch 275, local model 72, internal_epoch   2,  Average loss: 0.0124, Accuracy: 474/618 (76.6990%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 8.1621, Accuracy: 1763/10000 (17.6300%)
___Train Local_ResNet_18,  epoch 275, local model 61, internal_epoch   1,  Average loss: 0.0181, Accuracy: 382/590 (64.7458%)
___Train Local_ResNet_18,  epoch 275, local model 61, internal_epoch   2,  Average loss: 0.0133, Accuracy: 446/590 (75.5932%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 21.2676, Accuracy: 1116/10000 (11.1600%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   1,  Average loss: 0.0210, Accuracy: 176/290 (60.6897%)
___Train Local_ResNet_18,  epoch 275, local model 57, internal_epoch   2,  Average loss: 0.0101, Accuracy: 235/290 (81.0345%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 4.5714, Accuracy: 2951/10000 (29.5100%)
___Train Local_ResNet_18,  epoch 275, local model 27, internal_epoch   1,  Average loss: 0.0203, Accuracy: 266/397 (67.0025%)
___Train Local_ResNet_18,  epoch 275, local model 27, internal_epoch   2,  Average loss: 0.0105, Accuracy: 317/397 (79.8489%)
___Test Local_ResNet_18 poisoned: False, epoch: 275: Average loss: 12.0516, Accuracy: 1895/10000 (18.9500%)
time spent on training: 85.34138464927673
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 275: Average loss: 1.5497, Accuracy: 4967/10000 (49.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 275: Average loss: 0.0832, Accuracy: 8833/9000 (98.1444%)
Done in 121.79708361625671 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:276 choose agents : [45, 15, 48, 94, 31, 63, 4, 83, 11, 42]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 276, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 276, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 276, local model 45, internal_epoch   3,  Average loss: 0.0008, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 276, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 276, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 276, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 24.518331092680686.
Norm before scaling: 24.333878323796718. Distance: 1.7101677682906065
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 1.9240, Accuracy: 4416/10000 (44.1600%)
___Test Local_ResNet_18 poisoned: True, epoch: 276: Average loss: 0.0771, Accuracy: 8842/9000 (98.2444%)
Scaling by  100
Scaled Norm after poisoning: 169.2758819759921, distance: 171.01678348739634
Total norm for 1 adversaries is: 169.2758819759921. distance: 171.01678348739634
___Test Local_ResNet_18 poisoned: True, epoch: 276: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 276, local model 15, internal_epoch   1,  Average loss: 0.0210, Accuracy: 214/341 (62.7566%)
___Train Local_ResNet_18,  epoch 276, local model 15, internal_epoch   2,  Average loss: 0.0105, Accuracy: 283/341 (82.9912%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 48.3676, Accuracy: 1370/10000 (13.7000%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   1,  Average loss: 0.0174, Accuracy: 244/378 (64.5503%)
___Train Local_ResNet_18,  epoch 276, local model 48, internal_epoch   2,  Average loss: 0.0076, Accuracy: 315/378 (83.3333%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 9.2433, Accuracy: 1691/10000 (16.9100%)
___Train Local_ResNet_18,  epoch 276, local model 94, internal_epoch   1,  Average loss: 0.0272, Accuracy: 113/203 (55.6650%)
___Train Local_ResNet_18,  epoch 276, local model 94, internal_epoch   2,  Average loss: 0.0118, Accuracy: 177/203 (87.1921%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 16.1050, Accuracy: 1016/10000 (10.1600%)
___Train Local_ResNet_18,  epoch 276, local model 31, internal_epoch   1,  Average loss: 0.0188, Accuracy: 464/706 (65.7224%)
___Train Local_ResNet_18,  epoch 276, local model 31, internal_epoch   2,  Average loss: 0.0314, Accuracy: 316/706 (44.7592%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 265.7067, Accuracy: 501/10000 (5.0100%)
___Train Local_ResNet_18,  epoch 276, local model 63, internal_epoch   1,  Average loss: 0.0159, Accuracy: 501/752 (66.6223%)
___Train Local_ResNet_18,  epoch 276, local model 63, internal_epoch   2,  Average loss: 0.0112, Accuracy: 566/752 (75.2660%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 2.8040, Accuracy: 3921/10000 (39.2100%)
___Train Local_ResNet_18,  epoch 276, local model 4, internal_epoch   1,  Average loss: 0.0169, Accuracy: 387/557 (69.4794%)
___Train Local_ResNet_18,  epoch 276, local model 4, internal_epoch   2,  Average loss: 0.0115, Accuracy: 417/557 (74.8654%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 21.4682, Accuracy: 1206/10000 (12.0600%)
___Train Local_ResNet_18,  epoch 276, local model 83, internal_epoch   1,  Average loss: 0.0170, Accuracy: 242/366 (66.1202%)
___Train Local_ResNet_18,  epoch 276, local model 83, internal_epoch   2,  Average loss: 0.0065, Accuracy: 332/366 (90.7104%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.8524, Accuracy: 3753/10000 (37.5300%)
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   1,  Average loss: 0.0205, Accuracy: 336/546 (61.5385%)
___Train Local_ResNet_18,  epoch 276, local model 11, internal_epoch   2,  Average loss: 0.0113, Accuracy: 420/546 (76.9231%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 3.5077, Accuracy: 3461/10000 (34.6100%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   1,  Average loss: 0.0276, Accuracy: 119/198 (60.1010%)
___Train Local_ResNet_18,  epoch 276, local model 42, internal_epoch   2,  Average loss: 0.0181, Accuracy: 152/198 (76.7677%)
___Test Local_ResNet_18 poisoned: False, epoch: 276: Average loss: 12.2335, Accuracy: 1461/10000 (14.6100%)
time spent on training: 83.63388919830322
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 276: Average loss: 1.8751, Accuracy: 4302/10000 (43.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 276: Average loss: 0.1327, Accuracy: 8747/9000 (97.1889%)
Done in 115.6550657749176 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:277 choose agents : [45, 84, 92, 24, 39, 43, 85, 89, 35, 51]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 277, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 277, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 277, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 277, local model 45, internal_epoch   4,  Average loss: 0.0010, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 277, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 277, local model 45, internal_epoch   6,  Average loss: 0.0006, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Global model norm: 24.33390089792749.
Norm before scaling: 24.11419720488197. Distance: 1.0529825629287652
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 1.8358, Accuracy: 4800/10000 (48.0000%)
___Test Local_ResNet_18 poisoned: True, epoch: 277: Average loss: 0.0689, Accuracy: 8834/9000 (98.1556%)
Scaling by  100
Scaled Norm after poisoning: 102.49177272621691, distance: 105.29825107610999
Total norm for 1 adversaries is: 102.49177272621691. distance: 105.29825107610999
___Test Local_ResNet_18 poisoned: True, epoch: 277: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   1,  Average loss: 0.0158, Accuracy: 712/1053 (67.6163%)
___Train Local_ResNet_18,  epoch 277, local model 84, internal_epoch   2,  Average loss: 0.0131, Accuracy: 759/1053 (72.0798%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 9.8884, Accuracy: 1401/10000 (14.0100%)
___Train Local_ResNet_18,  epoch 277, local model 92, internal_epoch   1,  Average loss: 0.0150, Accuracy: 571/796 (71.7337%)
___Train Local_ResNet_18,  epoch 277, local model 92, internal_epoch   2,  Average loss: 0.0124, Accuracy: 593/796 (74.4975%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 9.4826, Accuracy: 1763/10000 (17.6300%)
___Train Local_ResNet_18,  epoch 277, local model 24, internal_epoch   1,  Average loss: 0.0187, Accuracy: 209/320 (65.3125%)
___Train Local_ResNet_18,  epoch 277, local model 24, internal_epoch   2,  Average loss: 0.0061, Accuracy: 285/320 (89.0625%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 7.0380, Accuracy: 1489/10000 (14.8900%)
___Train Local_ResNet_18,  epoch 277, local model 39, internal_epoch   1,  Average loss: 0.0250, Accuracy: 116/217 (53.4562%)
___Train Local_ResNet_18,  epoch 277, local model 39, internal_epoch   2,  Average loss: 0.0119, Accuracy: 185/217 (85.2535%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 9.7045, Accuracy: 1874/10000 (18.7400%)
___Train Local_ResNet_18,  epoch 277, local model 43, internal_epoch   1,  Average loss: 0.0176, Accuracy: 236/345 (68.4058%)
___Train Local_ResNet_18,  epoch 277, local model 43, internal_epoch   2,  Average loss: 0.0079, Accuracy: 292/345 (84.6377%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 9.8504, Accuracy: 1950/10000 (19.5000%)
___Train Local_ResNet_18,  epoch 277, local model 85, internal_epoch   1,  Average loss: 0.0267, Accuracy: 177/364 (48.6264%)
___Train Local_ResNet_18,  epoch 277, local model 85, internal_epoch   2,  Average loss: 0.0123, Accuracy: 271/364 (74.4505%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 5.0725, Accuracy: 1880/10000 (18.8000%)
___Train Local_ResNet_18,  epoch 277, local model 89, internal_epoch   1,  Average loss: 0.0180, Accuracy: 287/413 (69.4915%)
___Train Local_ResNet_18,  epoch 277, local model 89, internal_epoch   2,  Average loss: 0.0080, Accuracy: 350/413 (84.7458%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 6.9430, Accuracy: 2699/10000 (26.9900%)
___Train Local_ResNet_18,  epoch 277, local model 35, internal_epoch   1,  Average loss: 0.0141, Accuracy: 306/419 (73.0310%)
___Train Local_ResNet_18,  epoch 277, local model 35, internal_epoch   2,  Average loss: 0.0072, Accuracy: 356/419 (84.9642%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 6.2418, Accuracy: 2204/10000 (22.0400%)
___Train Local_ResNet_18,  epoch 277, local model 51, internal_epoch   1,  Average loss: 0.0169, Accuracy: 332/479 (69.3111%)
___Train Local_ResNet_18,  epoch 277, local model 51, internal_epoch   2,  Average loss: 0.0093, Accuracy: 396/479 (82.6722%)
___Test Local_ResNet_18 poisoned: False, epoch: 277: Average loss: 29.1700, Accuracy: 1202/10000 (12.0200%)
time spent on training: 89.44268226623535
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 277: Average loss: 1.5648, Accuracy: 5115/10000 (51.1500%)
___Test Target_ResNet_18 poisoned: True, epoch: 277: Average loss: 0.0812, Accuracy: 8808/9000 (97.8667%)
Done in 126.61376333236694 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:278 choose agents : [45, 38, 64, 98, 0, 81, 75, 6, 8, 65]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 278, local model 45, internal_epoch   1,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 278, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 278, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 278, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 278, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 278, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 24.114225046834388.
Norm before scaling: 23.888301319713094. Distance: 0.7108202407886351
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.7148, Accuracy: 4919/10000 (49.1900%)
___Test Local_ResNet_18 poisoned: True, epoch: 278: Average loss: 0.0648, Accuracy: 8858/9000 (98.4222%)
Scaling by  100
Scaled Norm after poisoning: 67.07566637411253, distance: 71.08201826279625
Total norm for 1 adversaries is: 67.07566637411253. distance: 71.08201826279625
___Test Local_ResNet_18 poisoned: True, epoch: 278: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 278, local model 38, internal_epoch   1,  Average loss: 0.0166, Accuracy: 515/756 (68.1217%)
___Train Local_ResNet_18,  epoch 278, local model 38, internal_epoch   2,  Average loss: 0.0113, Accuracy: 587/756 (77.6455%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 17.9145, Accuracy: 1433/10000 (14.3300%)
___Train Local_ResNet_18,  epoch 278, local model 64, internal_epoch   1,  Average loss: 0.0162, Accuracy: 459/686 (66.9096%)
___Train Local_ResNet_18,  epoch 278, local model 64, internal_epoch   2,  Average loss: 0.0121, Accuracy: 515/686 (75.0729%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 7.0445, Accuracy: 2071/10000 (20.7100%)
___Train Local_ResNet_18,  epoch 278, local model 98, internal_epoch   1,  Average loss: 0.0173, Accuracy: 513/802 (63.9651%)
___Train Local_ResNet_18,  epoch 278, local model 98, internal_epoch   2,  Average loss: 0.0112, Accuracy: 627/802 (78.1796%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 7.1976, Accuracy: 2322/10000 (23.2200%)
___Train Local_ResNet_18,  epoch 278, local model 0, internal_epoch   1,  Average loss: 0.0220, Accuracy: 205/367 (55.8583%)
___Train Local_ResNet_18,  epoch 278, local model 0, internal_epoch   2,  Average loss: 0.0108, Accuracy: 284/367 (77.3842%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 7.7936, Accuracy: 1517/10000 (15.1700%)
___Train Local_ResNet_18,  epoch 278, local model 81, internal_epoch   1,  Average loss: 0.0192, Accuracy: 660/1034 (63.8298%)
___Train Local_ResNet_18,  epoch 278, local model 81, internal_epoch   2,  Average loss: 0.0151, Accuracy: 694/1034 (67.1180%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 5.9648, Accuracy: 2712/10000 (27.1200%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   1,  Average loss: 0.0172, Accuracy: 394/578 (68.1661%)
___Train Local_ResNet_18,  epoch 278, local model 75, internal_epoch   2,  Average loss: 0.0193, Accuracy: 362/578 (62.6298%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 53.3871, Accuracy: 1873/10000 (18.7300%)
___Train Local_ResNet_18,  epoch 278, local model 6, internal_epoch   1,  Average loss: 0.0189, Accuracy: 336/520 (64.6154%)
___Train Local_ResNet_18,  epoch 278, local model 6, internal_epoch   2,  Average loss: 0.0129, Accuracy: 386/520 (74.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 14.6559, Accuracy: 1076/10000 (10.7600%)
___Train Local_ResNet_18,  epoch 278, local model 8, internal_epoch   1,  Average loss: 0.0169, Accuracy: 356/534 (66.6667%)
___Train Local_ResNet_18,  epoch 278, local model 8, internal_epoch   2,  Average loss: 0.0119, Accuracy: 419/534 (78.4644%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 2.9705, Accuracy: 3500/10000 (35.0000%)
___Train Local_ResNet_18,  epoch 278, local model 65, internal_epoch   1,  Average loss: 0.0155, Accuracy: 222/314 (70.7006%)
___Train Local_ResNet_18,  epoch 278, local model 65, internal_epoch   2,  Average loss: 0.0057, Accuracy: 270/314 (85.9873%)
___Test Local_ResNet_18 poisoned: False, epoch: 278: Average loss: 4.6475, Accuracy: 2274/10000 (22.7400%)
time spent on training: 80.15681219100952
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 278: Average loss: 1.4058, Accuracy: 5325/10000 (53.2500%)
___Test Target_ResNet_18 poisoned: True, epoch: 278: Average loss: 0.1101, Accuracy: 8782/9000 (97.5778%)
Done in 110.52609539031982 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:279 choose agents : [45, 68, 2, 32, 39, 1, 54, 64, 69, 55]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 279, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 279, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 279, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 279, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 279, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 279, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 23.89350661169526.
Norm before scaling: 23.656633139648303. Distance: 0.3950429185656289
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.5838, Accuracy: 5195/10000 (51.9500%)
___Test Local_ResNet_18 poisoned: True, epoch: 279: Average loss: 0.0850, Accuracy: 8829/9000 (98.1000%)
Scaling by  100
Scaled Norm after poisoning: 31.45707854406292, distance: 39.5042907702165
Total norm for 1 adversaries is: 31.45707854406292. distance: 39.5042907702165
___Test Local_ResNet_18 poisoned: True, epoch: 279: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 279, local model 68, internal_epoch   1,  Average loss: 0.0180, Accuracy: 273/416 (65.6250%)
___Train Local_ResNet_18,  epoch 279, local model 68, internal_epoch   2,  Average loss: 0.0081, Accuracy: 361/416 (86.7788%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.8959, Accuracy: 2818/10000 (28.1800%)
___Train Local_ResNet_18,  epoch 279, local model 2, internal_epoch   1,  Average loss: 0.0199, Accuracy: 284/461 (61.6052%)
___Train Local_ResNet_18,  epoch 279, local model 2, internal_epoch   2,  Average loss: 0.0127, Accuracy: 360/461 (78.0911%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 20.1877, Accuracy: 1139/10000 (11.3900%)
___Train Local_ResNet_18,  epoch 279, local model 32, internal_epoch   1,  Average loss: 0.0154, Accuracy: 576/824 (69.9029%)
___Train Local_ResNet_18,  epoch 279, local model 32, internal_epoch   2,  Average loss: 0.0112, Accuracy: 638/824 (77.4272%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 3.0914, Accuracy: 3703/10000 (37.0300%)
___Train Local_ResNet_18,  epoch 279, local model 39, internal_epoch   1,  Average loss: 0.0222, Accuracy: 127/217 (58.5253%)
___Train Local_ResNet_18,  epoch 279, local model 39, internal_epoch   2,  Average loss: 0.0077, Accuracy: 191/217 (88.0184%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 6.0691, Accuracy: 1970/10000 (19.7000%)
___Train Local_ResNet_18,  epoch 279, local model 1, internal_epoch   1,  Average loss: 0.0154, Accuracy: 446/641 (69.5788%)
___Train Local_ResNet_18,  epoch 279, local model 1, internal_epoch   2,  Average loss: 0.0143, Accuracy: 528/641 (82.3713%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 9.2125, Accuracy: 1783/10000 (17.8300%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   1,  Average loss: 0.0167, Accuracy: 303/440 (68.8636%)
___Train Local_ResNet_18,  epoch 279, local model 54, internal_epoch   2,  Average loss: 0.0078, Accuracy: 366/440 (83.1818%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 8.7668, Accuracy: 2547/10000 (25.4700%)
___Train Local_ResNet_18,  epoch 279, local model 64, internal_epoch   1,  Average loss: 0.0148, Accuracy: 484/686 (70.5539%)
___Train Local_ResNet_18,  epoch 279, local model 64, internal_epoch   2,  Average loss: 0.0098, Accuracy: 545/686 (79.4461%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 4.4940, Accuracy: 2406/10000 (24.0600%)
___Train Local_ResNet_18,  epoch 279, local model 69, internal_epoch   1,  Average loss: 0.0213, Accuracy: 137/216 (63.4259%)
___Train Local_ResNet_18,  epoch 279, local model 69, internal_epoch   2,  Average loss: 0.0047, Accuracy: 202/216 (93.5185%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 5.6173, Accuracy: 2082/10000 (20.8200%)
___Train Local_ResNet_18,  epoch 279, local model 55, internal_epoch   1,  Average loss: 0.0152, Accuracy: 213/299 (71.2375%)
___Train Local_ResNet_18,  epoch 279, local model 55, internal_epoch   2,  Average loss: 0.0047, Accuracy: 274/299 (91.6388%)
___Test Local_ResNet_18 poisoned: False, epoch: 279: Average loss: 9.9390, Accuracy: 1975/10000 (19.7500%)
time spent on training: 85.61055183410645
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 279: Average loss: 1.2510, Accuracy: 5856/10000 (58.5600%)
___Test Target_ResNet_18 poisoned: True, epoch: 279: Average loss: 0.1039, Accuracy: 8786/9000 (97.6222%)
Done in 114.7533483505249 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:280 choose agents : [45, 77, 97, 60, 78, 50, 9, 7, 58, 36]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 280, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 280, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 280, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 280, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 280, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 280, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.65733361124516.
Norm before scaling: 23.426922092134458. Distance: 0.6097322785999575
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 1.5317, Accuracy: 5503/10000 (55.0300%)
___Test Local_ResNet_18 poisoned: True, epoch: 280: Average loss: 0.1036, Accuracy: 8808/9000 (97.8667%)
Scaling by  100
Scaled Norm after poisoning: 56.172474788174725, distance: 60.97322670648159
Total norm for 1 adversaries is: 56.172474788174725. distance: 60.97322670648159
___Test Local_ResNet_18 poisoned: True, epoch: 280: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 280, local model 77, internal_epoch   1,  Average loss: 0.0170, Accuracy: 316/496 (63.7097%)
___Train Local_ResNet_18,  epoch 280, local model 77, internal_epoch   2,  Average loss: 0.0091, Accuracy: 406/496 (81.8548%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 3.6324, Accuracy: 2853/10000 (28.5300%)
___Train Local_ResNet_18,  epoch 280, local model 97, internal_epoch   1,  Average loss: 0.0162, Accuracy: 296/418 (70.8134%)
___Train Local_ResNet_18,  epoch 280, local model 97, internal_epoch   2,  Average loss: 0.0085, Accuracy: 353/418 (84.4498%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 5.4198, Accuracy: 2099/10000 (20.9900%)
___Train Local_ResNet_18,  epoch 280, local model 60, internal_epoch   1,  Average loss: 0.0177, Accuracy: 189/284 (66.5493%)
___Train Local_ResNet_18,  epoch 280, local model 60, internal_epoch   2,  Average loss: 0.0049, Accuracy: 262/284 (92.2535%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 14.9934, Accuracy: 1016/10000 (10.1600%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   1,  Average loss: 0.0160, Accuracy: 168/255 (65.8824%)
___Train Local_ResNet_18,  epoch 280, local model 78, internal_epoch   2,  Average loss: 0.0049, Accuracy: 229/255 (89.8039%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 6.5215, Accuracy: 2558/10000 (25.5800%)
___Train Local_ResNet_18,  epoch 280, local model 50, internal_epoch   1,  Average loss: 0.0146, Accuracy: 283/401 (70.5736%)
___Train Local_ResNet_18,  epoch 280, local model 50, internal_epoch   2,  Average loss: 0.0106, Accuracy: 332/401 (82.7930%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 6.8009, Accuracy: 3028/10000 (30.2800%)
___Train Local_ResNet_18,  epoch 280, local model 9, internal_epoch   1,  Average loss: 0.0158, Accuracy: 263/368 (71.4674%)
___Train Local_ResNet_18,  epoch 280, local model 9, internal_epoch   2,  Average loss: 0.0075, Accuracy: 307/368 (83.4239%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 15.9413, Accuracy: 1569/10000 (15.6900%)
___Train Local_ResNet_18,  epoch 280, local model 7, internal_epoch   1,  Average loss: 0.0167, Accuracy: 244/352 (69.3182%)
___Train Local_ResNet_18,  epoch 280, local model 7, internal_epoch   2,  Average loss: 0.0057, Accuracy: 318/352 (90.3409%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 10.6486, Accuracy: 1253/10000 (12.5300%)
___Train Local_ResNet_18,  epoch 280, local model 58, internal_epoch   1,  Average loss: 0.0219, Accuracy: 143/234 (61.1111%)
___Train Local_ResNet_18,  epoch 280, local model 58, internal_epoch   2,  Average loss: 0.0047, Accuracy: 212/234 (90.5983%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 9.9379, Accuracy: 1399/10000 (13.9900%)
___Train Local_ResNet_18,  epoch 280, local model 36, internal_epoch   1,  Average loss: 0.0219, Accuracy: 474/849 (55.8304%)
___Train Local_ResNet_18,  epoch 280, local model 36, internal_epoch   2,  Average loss: 0.0200, Accuracy: 505/849 (59.4817%)
___Test Local_ResNet_18 poisoned: False, epoch: 280: Average loss: 5.5822, Accuracy: 1450/10000 (14.5000%)
time spent on training: 86.98669028282166
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 280: Average loss: 1.2498, Accuracy: 5973/10000 (59.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 280: Average loss: 0.1617, Accuracy: 8713/9000 (96.8111%)
Done in 120.08347654342651 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:281 choose agents : [45, 44, 99, 83, 73, 21, 18, 37, 56, 9]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 281, local model 45, internal_epoch   1,  Average loss: 0.0006, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 281, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 281, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 281, local model 45, internal_epoch   4,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 281, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 281, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.428448773106222.
Norm before scaling: 23.252522649603257. Distance: 1.511922344524613
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 1.4986, Accuracy: 5315/10000 (53.1500%)
___Test Local_ResNet_18 poisoned: True, epoch: 281: Average loss: 0.0874, Accuracy: 8809/9000 (97.8778%)
Scaling by  100
Scaled Norm after poisoning: 149.52645956276433, distance: 151.19222811953662
Total norm for 1 adversaries is: 149.52645956276433. distance: 151.19222811953662
___Test Local_ResNet_18 poisoned: True, epoch: 281: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 281, local model 44, internal_epoch   1,  Average loss: 0.0155, Accuracy: 297/436 (68.1193%)
___Train Local_ResNet_18,  epoch 281, local model 44, internal_epoch   2,  Average loss: 0.0081, Accuracy: 366/436 (83.9450%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.7669, Accuracy: 3237/10000 (32.3700%)
___Train Local_ResNet_18,  epoch 281, local model 99, internal_epoch   1,  Average loss: 0.0180, Accuracy: 262/391 (67.0077%)
___Train Local_ResNet_18,  epoch 281, local model 99, internal_epoch   2,  Average loss: 0.0229, Accuracy: 245/391 (62.6598%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 23.8623, Accuracy: 1154/10000 (11.5400%)
___Train Local_ResNet_18,  epoch 281, local model 83, internal_epoch   1,  Average loss: 0.0134, Accuracy: 262/366 (71.5847%)
___Train Local_ResNet_18,  epoch 281, local model 83, internal_epoch   2,  Average loss: 0.0057, Accuracy: 325/366 (88.7978%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.3957, Accuracy: 2921/10000 (29.2100%)
___Train Local_ResNet_18,  epoch 281, local model 73, internal_epoch   1,  Average loss: 0.0160, Accuracy: 364/500 (72.8000%)
___Train Local_ResNet_18,  epoch 281, local model 73, internal_epoch   2,  Average loss: 0.0089, Accuracy: 411/500 (82.2000%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 6.3742, Accuracy: 2007/10000 (20.0700%)
___Train Local_ResNet_18,  epoch 281, local model 21, internal_epoch   1,  Average loss: 0.0187, Accuracy: 190/262 (72.5191%)
___Train Local_ResNet_18,  epoch 281, local model 21, internal_epoch   2,  Average loss: 0.0109, Accuracy: 211/262 (80.5344%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 26.4538, Accuracy: 1182/10000 (11.8200%)
___Train Local_ResNet_18,  epoch 281, local model 18, internal_epoch   1,  Average loss: 0.0217, Accuracy: 267/386 (69.1710%)
___Train Local_ResNet_18,  epoch 281, local model 18, internal_epoch   2,  Average loss: 0.0224, Accuracy: 208/386 (53.8860%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 28.4194, Accuracy: 1664/10000 (16.6400%)
___Train Local_ResNet_18,  epoch 281, local model 37, internal_epoch   1,  Average loss: 0.0185, Accuracy: 465/725 (64.1379%)
___Train Local_ResNet_18,  epoch 281, local model 37, internal_epoch   2,  Average loss: 0.0136, Accuracy: 535/725 (73.7931%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 3.4810, Accuracy: 2106/10000 (21.0600%)
___Train Local_ResNet_18,  epoch 281, local model 56, internal_epoch   1,  Average loss: 0.0166, Accuracy: 513/743 (69.0444%)
___Train Local_ResNet_18,  epoch 281, local model 56, internal_epoch   2,  Average loss: 0.0101, Accuracy: 596/743 (80.2153%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 4.1531, Accuracy: 2555/10000 (25.5500%)
___Train Local_ResNet_18,  epoch 281, local model 9, internal_epoch   1,  Average loss: 0.0166, Accuracy: 247/368 (67.1196%)
___Train Local_ResNet_18,  epoch 281, local model 9, internal_epoch   2,  Average loss: 0.0060, Accuracy: 329/368 (89.4022%)
___Test Local_ResNet_18 poisoned: False, epoch: 281: Average loss: 12.0221, Accuracy: 1961/10000 (19.6100%)
time spent on training: 82.95253467559814
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 281: Average loss: 1.2334, Accuracy: 5767/10000 (57.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 281: Average loss: 0.0972, Accuracy: 8789/9000 (97.6556%)
Done in 111.61901497840881 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:282 choose agents : [45, 57, 17, 76, 66, 58, 84, 9, 55, 37]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 282, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 282, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 282, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 282, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 282, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 282, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.253138176568637.
Norm before scaling: 23.028668656223378. Distance: 0.36876172596666057
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.4731, Accuracy: 5450/10000 (54.5000%)
___Test Local_ResNet_18 poisoned: True, epoch: 282: Average loss: 0.0847, Accuracy: 8825/9000 (98.0556%)
Scaling by  100
Scaled Norm after poisoning: 29.121641563006346, distance: 36.87617351151774
Total norm for 1 adversaries is: 29.121641563006346. distance: 36.87617351151774
___Test Local_ResNet_18 poisoned: True, epoch: 282: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 282, local model 57, internal_epoch   1,  Average loss: 0.0168, Accuracy: 192/290 (66.2069%)
___Train Local_ResNet_18,  epoch 282, local model 57, internal_epoch   2,  Average loss: 0.0082, Accuracy: 236/290 (81.3793%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 4.2619, Accuracy: 3066/10000 (30.6600%)
___Train Local_ResNet_18,  epoch 282, local model 17, internal_epoch   1,  Average loss: 0.0177, Accuracy: 359/526 (68.2510%)
___Train Local_ResNet_18,  epoch 282, local model 17, internal_epoch   2,  Average loss: 0.0133, Accuracy: 401/526 (76.2357%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 14.3198, Accuracy: 1385/10000 (13.8500%)
___Train Local_ResNet_18,  epoch 282, local model 76, internal_epoch   1,  Average loss: 0.0585, Accuracy: 36/65 (55.3846%)
___Train Local_ResNet_18,  epoch 282, local model 76, internal_epoch   2,  Average loss: 0.0083, Accuracy: 62/65 (95.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 5.3445, Accuracy: 2204/10000 (22.0400%)
___Train Local_ResNet_18,  epoch 282, local model 66, internal_epoch   1,  Average loss: 0.0143, Accuracy: 420/555 (75.6757%)
___Train Local_ResNet_18,  epoch 282, local model 66, internal_epoch   2,  Average loss: 0.0060, Accuracy: 498/555 (89.7297%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 9.4139, Accuracy: 2148/10000 (21.4800%)
___Train Local_ResNet_18,  epoch 282, local model 58, internal_epoch   1,  Average loss: 0.0192, Accuracy: 142/234 (60.6838%)
___Train Local_ResNet_18,  epoch 282, local model 58, internal_epoch   2,  Average loss: 0.0048, Accuracy: 210/234 (89.7436%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 17.5734, Accuracy: 1006/10000 (10.0600%)
___Train Local_ResNet_18,  epoch 282, local model 84, internal_epoch   1,  Average loss: 0.0153, Accuracy: 717/1053 (68.0912%)
___Train Local_ResNet_18,  epoch 282, local model 84, internal_epoch   2,  Average loss: 0.0114, Accuracy: 810/1053 (76.9231%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 5.1346, Accuracy: 2917/10000 (29.1700%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   1,  Average loss: 0.0142, Accuracy: 267/368 (72.5543%)
___Train Local_ResNet_18,  epoch 282, local model 9, internal_epoch   2,  Average loss: 0.0074, Accuracy: 306/368 (83.1522%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 9.0653, Accuracy: 1944/10000 (19.4400%)
___Train Local_ResNet_18,  epoch 282, local model 55, internal_epoch   1,  Average loss: 0.0158, Accuracy: 206/299 (68.8963%)
___Train Local_ResNet_18,  epoch 282, local model 55, internal_epoch   2,  Average loss: 0.0065, Accuracy: 264/299 (88.2943%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 16.5791, Accuracy: 1863/10000 (18.6300%)
___Train Local_ResNet_18,  epoch 282, local model 37, internal_epoch   1,  Average loss: 0.0202, Accuracy: 455/725 (62.7586%)
___Train Local_ResNet_18,  epoch 282, local model 37, internal_epoch   2,  Average loss: 0.0162, Accuracy: 473/725 (65.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 282: Average loss: 8.8340, Accuracy: 1247/10000 (12.4700%)
time spent on training: 83.34418487548828
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 282: Average loss: 1.1995, Accuracy: 5965/10000 (59.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 282: Average loss: 0.1048, Accuracy: 8777/9000 (97.5222%)
Done in 111.714919090271 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:283 choose agents : [45, 18, 36, 71, 46, 39, 74, 84, 72, 82]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 283, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 283, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 283, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 283, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 283, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 283, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 23.03233254112914.
Norm before scaling: 22.807885609939685. Distance: 0.3172167064581008
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.4009, Accuracy: 5660/10000 (56.6000%)
___Test Local_ResNet_18 poisoned: True, epoch: 283: Average loss: 0.0851, Accuracy: 8832/9000 (98.1333%)
Scaling by  100
Scaled Norm after poisoning: 22.311907763061047, distance: 31.721671855878455
Total norm for 1 adversaries is: 22.311907763061047. distance: 31.721671855878455
___Test Local_ResNet_18 poisoned: True, epoch: 283: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 283, local model 18, internal_epoch   1,  Average loss: 0.0139, Accuracy: 284/386 (73.5751%)
___Train Local_ResNet_18,  epoch 283, local model 18, internal_epoch   2,  Average loss: 0.0150, Accuracy: 304/386 (78.7565%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 8.0970, Accuracy: 2276/10000 (22.7600%)
___Train Local_ResNet_18,  epoch 283, local model 36, internal_epoch   1,  Average loss: 0.0213, Accuracy: 488/849 (57.4794%)
___Train Local_ResNet_18,  epoch 283, local model 36, internal_epoch   2,  Average loss: 0.0177, Accuracy: 523/849 (61.6019%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 5.1398, Accuracy: 2391/10000 (23.9100%)
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   1,  Average loss: 0.0140, Accuracy: 835/1166 (71.6123%)
___Train Local_ResNet_18,  epoch 283, local model 71, internal_epoch   2,  Average loss: 0.0125, Accuracy: 864/1166 (74.0995%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.3631, Accuracy: 3022/10000 (30.2200%)
___Train Local_ResNet_18,  epoch 283, local model 46, internal_epoch   1,  Average loss: 0.0149, Accuracy: 422/601 (70.2163%)
___Train Local_ResNet_18,  epoch 283, local model 46, internal_epoch   2,  Average loss: 0.0133, Accuracy: 448/601 (74.5424%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 7.2464, Accuracy: 2234/10000 (22.3400%)
___Train Local_ResNet_18,  epoch 283, local model 39, internal_epoch   1,  Average loss: 0.0198, Accuracy: 140/217 (64.5161%)
___Train Local_ResNet_18,  epoch 283, local model 39, internal_epoch   2,  Average loss: 0.0084, Accuracy: 195/217 (89.8618%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 18.6357, Accuracy: 1069/10000 (10.6900%)
___Train Local_ResNet_18,  epoch 283, local model 74, internal_epoch   1,  Average loss: 0.0153, Accuracy: 328/469 (69.9360%)
___Train Local_ResNet_18,  epoch 283, local model 74, internal_epoch   2,  Average loss: 0.0088, Accuracy: 397/469 (84.6482%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 6.5384, Accuracy: 1977/10000 (19.7700%)
___Train Local_ResNet_18,  epoch 283, local model 84, internal_epoch   1,  Average loss: 0.0146, Accuracy: 743/1053 (70.5603%)
___Train Local_ResNet_18,  epoch 283, local model 84, internal_epoch   2,  Average loss: 0.0135, Accuracy: 757/1053 (71.8898%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 9.6514, Accuracy: 1960/10000 (19.6000%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   1,  Average loss: 0.0190, Accuracy: 411/618 (66.5049%)
___Train Local_ResNet_18,  epoch 283, local model 72, internal_epoch   2,  Average loss: 0.0112, Accuracy: 472/618 (76.3754%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 4.5706, Accuracy: 2391/10000 (23.9100%)
___Train Local_ResNet_18,  epoch 283, local model 82, internal_epoch   1,  Average loss: 0.0138, Accuracy: 444/601 (73.8769%)
___Train Local_ResNet_18,  epoch 283, local model 82, internal_epoch   2,  Average loss: 0.0071, Accuracy: 520/601 (86.5225%)
___Test Local_ResNet_18 poisoned: False, epoch: 283: Average loss: 7.4559, Accuracy: 2783/10000 (27.8300%)
time spent on training: 81.95949172973633
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 283: Average loss: 1.3077, Accuracy: 5721/10000 (57.2100%)
___Test Target_ResNet_18 poisoned: True, epoch: 283: Average loss: 0.1096, Accuracy: 8778/9000 (97.5333%)
Done in 115.91663694381714 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:284 choose agents : [45, 74, 21, 46, 38, 69, 68, 81, 26, 93]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 284, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 284, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 284, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 284, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 284, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 284, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 22.825185096884347.
Norm before scaling: 22.59947357914975. Distance: 0.34262444716906143
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.4015, Accuracy: 5657/10000 (56.5700%)
___Test Local_ResNet_18 poisoned: True, epoch: 284: Average loss: 0.0879, Accuracy: 8826/9000 (98.0667%)
Scaling by  100
Scaled Norm after poisoning: 25.6490573999867, distance: 34.26244356525815
Total norm for 1 adversaries is: 25.6490573999867. distance: 34.26244356525815
___Test Local_ResNet_18 poisoned: True, epoch: 284: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 284, local model 74, internal_epoch   1,  Average loss: 0.0125, Accuracy: 355/469 (75.6930%)
___Train Local_ResNet_18,  epoch 284, local model 74, internal_epoch   2,  Average loss: 0.0078, Accuracy: 407/469 (86.7804%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 5.4544, Accuracy: 2427/10000 (24.2700%)
___Train Local_ResNet_18,  epoch 284, local model 21, internal_epoch   1,  Average loss: 0.0131, Accuracy: 194/262 (74.0458%)
___Train Local_ResNet_18,  epoch 284, local model 21, internal_epoch   2,  Average loss: 0.0047, Accuracy: 235/262 (89.6947%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 8.2275, Accuracy: 1953/10000 (19.5300%)
___Train Local_ResNet_18,  epoch 284, local model 46, internal_epoch   1,  Average loss: 0.0150, Accuracy: 422/601 (70.2163%)
___Train Local_ResNet_18,  epoch 284, local model 46, internal_epoch   2,  Average loss: 0.0107, Accuracy: 470/601 (78.2030%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 9.2724, Accuracy: 1703/10000 (17.0300%)
___Train Local_ResNet_18,  epoch 284, local model 38, internal_epoch   1,  Average loss: 0.0151, Accuracy: 541/756 (71.5608%)
___Train Local_ResNet_18,  epoch 284, local model 38, internal_epoch   2,  Average loss: 0.0122, Accuracy: 570/756 (75.3968%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 10.9273, Accuracy: 1701/10000 (17.0100%)
___Train Local_ResNet_18,  epoch 284, local model 69, internal_epoch   1,  Average loss: 0.0185, Accuracy: 144/216 (66.6667%)
___Train Local_ResNet_18,  epoch 284, local model 69, internal_epoch   2,  Average loss: 0.0053, Accuracy: 203/216 (93.9815%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 4.1980, Accuracy: 2979/10000 (29.7900%)
___Train Local_ResNet_18,  epoch 284, local model 68, internal_epoch   1,  Average loss: 0.0147, Accuracy: 283/416 (68.0288%)
___Train Local_ResNet_18,  epoch 284, local model 68, internal_epoch   2,  Average loss: 0.0074, Accuracy: 357/416 (85.8173%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 4.3907, Accuracy: 2615/10000 (26.1500%)
___Train Local_ResNet_18,  epoch 284, local model 81, internal_epoch   1,  Average loss: 0.0155, Accuracy: 722/1034 (69.8259%)
___Train Local_ResNet_18,  epoch 284, local model 81, internal_epoch   2,  Average loss: 0.0191, Accuracy: 614/1034 (59.3810%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 7.5704, Accuracy: 1752/10000 (17.5200%)
___Train Local_ResNet_18,  epoch 284, local model 26, internal_epoch   1,  Average loss: 0.0180, Accuracy: 309/468 (66.0256%)
___Train Local_ResNet_18,  epoch 284, local model 26, internal_epoch   2,  Average loss: 0.0144, Accuracy: 333/468 (71.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 10.7119, Accuracy: 1454/10000 (14.5400%)
___Train Local_ResNet_18,  epoch 284, local model 93, internal_epoch   1,  Average loss: 0.0121, Accuracy: 455/584 (77.9110%)
___Train Local_ResNet_18,  epoch 284, local model 93, internal_epoch   2,  Average loss: 0.0151, Accuracy: 423/584 (72.4315%)
___Test Local_ResNet_18 poisoned: False, epoch: 284: Average loss: 23.9903, Accuracy: 1567/10000 (15.6700%)
time spent on training: 94.24156665802002
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 284: Average loss: 1.2393, Accuracy: 5896/10000 (58.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 284: Average loss: 0.1024, Accuracy: 8786/9000 (97.6222%)
Done in 123.90536427497864 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:285 choose agents : [45, 99, 97, 84, 68, 44, 37, 17, 24, 10]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 285, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 285, local model 45, internal_epoch   2,  Average loss: 0.0008, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 285, local model 45, internal_epoch   3,  Average loss: 0.0004, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 285, local model 45, internal_epoch   4,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 285, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 285, local model 45, internal_epoch   6,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 22.611096572975445.
Norm before scaling: 22.465521950617394. Distance: 1.6418560677240233
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.4264, Accuracy: 5550/10000 (55.5000%)
___Test Local_ResNet_18 poisoned: True, epoch: 285: Average loss: 0.0937, Accuracy: 8814/9000 (97.9333%)
Scaling by  100
Scaled Norm after poisoning: 162.91836769146073, distance: 164.1856085730415
Total norm for 1 adversaries is: 162.91836769146073. distance: 164.1856085730415
___Test Local_ResNet_18 poisoned: True, epoch: 285: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 285, local model 99, internal_epoch   1,  Average loss: 0.0120, Accuracy: 302/391 (77.2379%)
___Train Local_ResNet_18,  epoch 285, local model 99, internal_epoch   2,  Average loss: 0.0261, Accuracy: 227/391 (58.0563%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 106.3333, Accuracy: 1029/10000 (10.2900%)
___Train Local_ResNet_18,  epoch 285, local model 97, internal_epoch   1,  Average loss: 0.0153, Accuracy: 302/418 (72.2488%)
___Train Local_ResNet_18,  epoch 285, local model 97, internal_epoch   2,  Average loss: 0.0068, Accuracy: 366/418 (87.5598%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 2.6500, Accuracy: 3518/10000 (35.1800%)
___Train Local_ResNet_18,  epoch 285, local model 84, internal_epoch   1,  Average loss: 0.0133, Accuracy: 783/1053 (74.3590%)
___Train Local_ResNet_18,  epoch 285, local model 84, internal_epoch   2,  Average loss: 0.0130, Accuracy: 756/1053 (71.7949%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 4.6016, Accuracy: 2593/10000 (25.9300%)
___Train Local_ResNet_18,  epoch 285, local model 68, internal_epoch   1,  Average loss: 0.0146, Accuracy: 292/416 (70.1923%)
___Train Local_ResNet_18,  epoch 285, local model 68, internal_epoch   2,  Average loss: 0.0092, Accuracy: 338/416 (81.2500%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 8.5951, Accuracy: 1643/10000 (16.4300%)
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   1,  Average loss: 0.0143, Accuracy: 307/436 (70.4128%)
___Train Local_ResNet_18,  epoch 285, local model 44, internal_epoch   2,  Average loss: 0.0091, Accuracy: 367/436 (84.1743%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 3.6716, Accuracy: 3013/10000 (30.1300%)
___Train Local_ResNet_18,  epoch 285, local model 37, internal_epoch   1,  Average loss: 0.0189, Accuracy: 472/725 (65.1034%)
___Train Local_ResNet_18,  epoch 285, local model 37, internal_epoch   2,  Average loss: 0.0145, Accuracy: 501/725 (69.1034%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 10.9880, Accuracy: 1272/10000 (12.7200%)
___Train Local_ResNet_18,  epoch 285, local model 17, internal_epoch   1,  Average loss: 0.0142, Accuracy: 383/526 (72.8137%)
___Train Local_ResNet_18,  epoch 285, local model 17, internal_epoch   2,  Average loss: 0.0097, Accuracy: 440/526 (83.6502%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 12.5817, Accuracy: 1336/10000 (13.3600%)
___Train Local_ResNet_18,  epoch 285, local model 24, internal_epoch   1,  Average loss: 0.0135, Accuracy: 236/320 (73.7500%)
___Train Local_ResNet_18,  epoch 285, local model 24, internal_epoch   2,  Average loss: 0.0043, Accuracy: 295/320 (92.1875%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 4.9628, Accuracy: 2295/10000 (22.9500%)
___Train Local_ResNet_18,  epoch 285, local model 10, internal_epoch   1,  Average loss: 0.0103, Accuracy: 609/752 (80.9840%)
___Train Local_ResNet_18,  epoch 285, local model 10, internal_epoch   2,  Average loss: 0.0084, Accuracy: 627/752 (83.3777%)
___Test Local_ResNet_18 poisoned: False, epoch: 285: Average loss: 26.5139, Accuracy: 1000/10000 (10.0000%)
time spent on training: 77.52236771583557
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 285: Average loss: 1.2455, Accuracy: 5847/10000 (58.4700%)
___Test Target_ResNet_18 poisoned: True, epoch: 285: Average loss: 0.1299, Accuracy: 8748/9000 (97.2000%)
Done in 107.23459458351135 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:286 choose agents : [45, 30, 73, 90, 22, 40, 58, 3, 86, 84]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 286, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 286, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 286, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 286, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 286, local model 45, internal_epoch   5,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 286, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 22.478631617483554.
Norm before scaling: 22.25979021684721. Distance: 0.3949667160883648
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.4054, Accuracy: 5580/10000 (55.8000%)
___Test Local_ResNet_18 poisoned: True, epoch: 286: Average loss: 0.0760, Accuracy: 8843/9000 (98.2556%)
Scaling by  100
Scaled Norm after poisoning: 32.72024045972443, distance: 39.49666687628132
Total norm for 1 adversaries is: 32.72024045972443. distance: 39.49666687628132
___Test Local_ResNet_18 poisoned: True, epoch: 286: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 286, local model 30, internal_epoch   1,  Average loss: 0.0194, Accuracy: 218/337 (64.6884%)
___Train Local_ResNet_18,  epoch 286, local model 30, internal_epoch   2,  Average loss: 0.0120, Accuracy: 256/337 (75.9644%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 6.8600, Accuracy: 2107/10000 (21.0700%)
___Train Local_ResNet_18,  epoch 286, local model 73, internal_epoch   1,  Average loss: 0.0143, Accuracy: 379/500 (75.8000%)
___Train Local_ResNet_18,  epoch 286, local model 73, internal_epoch   2,  Average loss: 0.0075, Accuracy: 418/500 (83.6000%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 5.0280, Accuracy: 2414/10000 (24.1400%)
___Train Local_ResNet_18,  epoch 286, local model 90, internal_epoch   1,  Average loss: 0.0155, Accuracy: 421/578 (72.8374%)
___Train Local_ResNet_18,  epoch 286, local model 90, internal_epoch   2,  Average loss: 0.0179, Accuracy: 368/578 (63.6678%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 31.6466, Accuracy: 1644/10000 (16.4400%)
___Train Local_ResNet_18,  epoch 286, local model 22, internal_epoch   1,  Average loss: 0.0155, Accuracy: 341/494 (69.0283%)
___Train Local_ResNet_18,  epoch 286, local model 22, internal_epoch   2,  Average loss: 0.0120, Accuracy: 376/494 (76.1134%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.6664, Accuracy: 2262/10000 (22.6200%)
___Train Local_ResNet_18,  epoch 286, local model 40, internal_epoch   1,  Average loss: 0.0199, Accuracy: 443/652 (67.9448%)
___Train Local_ResNet_18,  epoch 286, local model 40, internal_epoch   2,  Average loss: 0.0167, Accuracy: 442/652 (67.7914%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 19.5125, Accuracy: 1584/10000 (15.8400%)
___Train Local_ResNet_18,  epoch 286, local model 58, internal_epoch   1,  Average loss: 0.0174, Accuracy: 156/234 (66.6667%)
___Train Local_ResNet_18,  epoch 286, local model 58, internal_epoch   2,  Average loss: 0.0055, Accuracy: 210/234 (89.7436%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 18.0205, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 286, local model 3, internal_epoch   1,  Average loss: 0.0169, Accuracy: 547/780 (70.1282%)
___Train Local_ResNet_18,  epoch 286, local model 3, internal_epoch   2,  Average loss: 0.0154, Accuracy: 525/780 (67.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 13.1243, Accuracy: 1220/10000 (12.2000%)
___Train Local_ResNet_18,  epoch 286, local model 86, internal_epoch   1,  Average loss: 0.0224, Accuracy: 128/212 (60.3774%)
___Train Local_ResNet_18,  epoch 286, local model 86, internal_epoch   2,  Average loss: 0.0071, Accuracy: 192/212 (90.5660%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 6.2931, Accuracy: 2380/10000 (23.8000%)
___Train Local_ResNet_18,  epoch 286, local model 84, internal_epoch   1,  Average loss: 0.0135, Accuracy: 756/1053 (71.7949%)
___Train Local_ResNet_18,  epoch 286, local model 84, internal_epoch   2,  Average loss: 0.0148, Accuracy: 717/1053 (68.0912%)
___Test Local_ResNet_18 poisoned: False, epoch: 286: Average loss: 4.3460, Accuracy: 2877/10000 (28.7700%)
time spent on training: 84.5993025302887
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 286: Average loss: 1.1933, Accuracy: 5942/10000 (59.4200%)
___Test Target_ResNet_18 poisoned: True, epoch: 286: Average loss: 0.0837, Accuracy: 8806/9000 (97.8444%)
Done in 112.23777318000793 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:287 choose agents : [45, 18, 64, 52, 25, 87, 34, 12, 75, 65]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 287, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 287, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 287, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 287, local model 45, internal_epoch   4,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 287, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 287, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 22.26583881476285.
Norm before scaling: 22.053486395738684. Distance: 0.4842735768852653
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.2968, Accuracy: 5792/10000 (57.9200%)
___Test Local_ResNet_18 poisoned: True, epoch: 287: Average loss: 0.0783, Accuracy: 8833/9000 (98.1444%)
Scaling by  100
Scaled Norm after poisoning: 43.31721486332685, distance: 48.427360329834464
Total norm for 1 adversaries is: 43.31721486332685. distance: 48.427360329834464
___Test Local_ResNet_18 poisoned: True, epoch: 287: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 287, local model 18, internal_epoch   1,  Average loss: 0.0147, Accuracy: 293/386 (75.9067%)
___Train Local_ResNet_18,  epoch 287, local model 18, internal_epoch   2,  Average loss: 0.0142, Accuracy: 297/386 (76.9430%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 6.5086, Accuracy: 1313/10000 (13.1300%)
___Train Local_ResNet_18,  epoch 287, local model 64, internal_epoch   1,  Average loss: 0.0150, Accuracy: 475/686 (69.2420%)
___Train Local_ResNet_18,  epoch 287, local model 64, internal_epoch   2,  Average loss: 0.0114, Accuracy: 512/686 (74.6356%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 5.5858, Accuracy: 2847/10000 (28.4700%)
___Train Local_ResNet_18,  epoch 287, local model 52, internal_epoch   1,  Average loss: 0.0172, Accuracy: 150/214 (70.0935%)
___Train Local_ResNet_18,  epoch 287, local model 52, internal_epoch   2,  Average loss: 0.0047, Accuracy: 195/214 (91.1215%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 6.4576, Accuracy: 2327/10000 (23.2700%)
___Train Local_ResNet_18,  epoch 287, local model 25, internal_epoch   1,  Average loss: 0.0136, Accuracy: 418/545 (76.6972%)
___Train Local_ResNet_18,  epoch 287, local model 25, internal_epoch   2,  Average loss: 0.0117, Accuracy: 431/545 (79.0826%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 20.9302, Accuracy: 1363/10000 (13.6300%)
___Train Local_ResNet_18,  epoch 287, local model 87, internal_epoch   1,  Average loss: 0.0208, Accuracy: 247/397 (62.2166%)
___Train Local_ResNet_18,  epoch 287, local model 87, internal_epoch   2,  Average loss: 0.0116, Accuracy: 305/397 (76.8262%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 9.7874, Accuracy: 1447/10000 (14.4700%)
___Train Local_ResNet_18,  epoch 287, local model 34, internal_epoch   1,  Average loss: 0.0172, Accuracy: 229/349 (65.6160%)
___Train Local_ResNet_18,  epoch 287, local model 34, internal_epoch   2,  Average loss: 0.0101, Accuracy: 288/349 (82.5215%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 22.8662, Accuracy: 1004/10000 (10.0400%)
___Train Local_ResNet_18,  epoch 287, local model 12, internal_epoch   1,  Average loss: 0.0166, Accuracy: 669/977 (68.4749%)
___Train Local_ResNet_18,  epoch 287, local model 12, internal_epoch   2,  Average loss: 0.0166, Accuracy: 648/977 (66.3255%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 8.9515, Accuracy: 2134/10000 (21.3400%)
___Train Local_ResNet_18,  epoch 287, local model 75, internal_epoch   1,  Average loss: 0.0116, Accuracy: 451/578 (78.0277%)
___Train Local_ResNet_18,  epoch 287, local model 75, internal_epoch   2,  Average loss: 0.0161, Accuracy: 416/578 (71.9723%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 23.7474, Accuracy: 1677/10000 (16.7700%)
___Train Local_ResNet_18,  epoch 287, local model 65, internal_epoch   1,  Average loss: 0.0141, Accuracy: 232/314 (73.8854%)
___Train Local_ResNet_18,  epoch 287, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 286/314 (91.0828%)
___Test Local_ResNet_18 poisoned: False, epoch: 287: Average loss: 2.8911, Accuracy: 3161/10000 (31.6100%)
time spent on training: 88.26031565666199
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 287: Average loss: 1.1004, Accuracy: 6171/10000 (61.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 287: Average loss: 0.1077, Accuracy: 8759/9000 (97.3222%)
Done in 124.09730553627014 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:288 choose agents : [45, 63, 34, 15, 79, 98, 3, 43, 32, 72]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 288, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 288, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 288, local model 45, internal_epoch   3,  Average loss: 0.0003, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 288, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 288, local model 45, internal_epoch   5,  Average loss: 0.0004, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 288, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 22.062969602606692.
Norm before scaling: 21.8461835867203. Distance: 0.42410626052822026
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 1.2988, Accuracy: 5810/10000 (58.1000%)
___Test Local_ResNet_18 poisoned: True, epoch: 288: Average loss: 0.0691, Accuracy: 8848/9000 (98.3111%)
Scaling by  100
Scaled Norm after poisoning: 36.27069216807921, distance: 42.41062667401665
Total norm for 1 adversaries is: 36.27069216807921. distance: 42.41062667401665
___Test Local_ResNet_18 poisoned: True, epoch: 288: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 288, local model 63, internal_epoch   1,  Average loss: 0.0145, Accuracy: 524/752 (69.6809%)
___Train Local_ResNet_18,  epoch 288, local model 63, internal_epoch   2,  Average loss: 0.0107, Accuracy: 587/752 (78.0585%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 4.0064, Accuracy: 3122/10000 (31.2200%)
___Train Local_ResNet_18,  epoch 288, local model 34, internal_epoch   1,  Average loss: 0.0153, Accuracy: 244/349 (69.9140%)
___Train Local_ResNet_18,  epoch 288, local model 34, internal_epoch   2,  Average loss: 0.0093, Accuracy: 295/349 (84.5272%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 14.8944, Accuracy: 1241/10000 (12.4100%)
___Train Local_ResNet_18,  epoch 288, local model 15, internal_epoch   1,  Average loss: 0.0193, Accuracy: 228/341 (66.8622%)
___Train Local_ResNet_18,  epoch 288, local model 15, internal_epoch   2,  Average loss: 0.0082, Accuracy: 289/341 (84.7507%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 8.7176, Accuracy: 2325/10000 (23.2500%)
___Train Local_ResNet_18,  epoch 288, local model 79, internal_epoch   1,  Average loss: 0.0138, Accuracy: 115/154 (74.6753%)
___Train Local_ResNet_18,  epoch 288, local model 79, internal_epoch   2,  Average loss: 0.0043, Accuracy: 147/154 (95.4545%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 8.0526, Accuracy: 1692/10000 (16.9200%)
___Train Local_ResNet_18,  epoch 288, local model 98, internal_epoch   1,  Average loss: 0.0167, Accuracy: 534/802 (66.5835%)
___Train Local_ResNet_18,  epoch 288, local model 98, internal_epoch   2,  Average loss: 0.0155, Accuracy: 542/802 (67.5810%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 13.8642, Accuracy: 1556/10000 (15.5600%)
___Train Local_ResNet_18,  epoch 288, local model 3, internal_epoch   1,  Average loss: 0.0146, Accuracy: 570/780 (73.0769%)
___Train Local_ResNet_18,  epoch 288, local model 3, internal_epoch   2,  Average loss: 0.0158, Accuracy: 551/780 (70.6410%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 4.5588, Accuracy: 2202/10000 (22.0200%)
___Train Local_ResNet_18,  epoch 288, local model 43, internal_epoch   1,  Average loss: 0.0118, Accuracy: 271/345 (78.5507%)
___Train Local_ResNet_18,  epoch 288, local model 43, internal_epoch   2,  Average loss: 0.0076, Accuracy: 292/345 (84.6377%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 2.7611, Accuracy: 3577/10000 (35.7700%)
___Train Local_ResNet_18,  epoch 288, local model 32, internal_epoch   1,  Average loss: 0.0138, Accuracy: 598/824 (72.5728%)
___Train Local_ResNet_18,  epoch 288, local model 32, internal_epoch   2,  Average loss: 0.0120, Accuracy: 613/824 (74.3932%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 14.3393, Accuracy: 1709/10000 (17.0900%)
___Train Local_ResNet_18,  epoch 288, local model 72, internal_epoch   1,  Average loss: 0.0181, Accuracy: 427/618 (69.0939%)
___Train Local_ResNet_18,  epoch 288, local model 72, internal_epoch   2,  Average loss: 0.0118, Accuracy: 466/618 (75.4045%)
___Test Local_ResNet_18 poisoned: False, epoch: 288: Average loss: 5.7488, Accuracy: 1948/10000 (19.4800%)
time spent on training: 81.29544353485107
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 288: Average loss: 1.1701, Accuracy: 6040/10000 (60.4000%)
___Test Target_ResNet_18 poisoned: True, epoch: 288: Average loss: 0.0799, Accuracy: 8824/9000 (98.0444%)
Done in 108.49276089668274 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:289 choose agents : [45, 95, 35, 79, 32, 6, 14, 69, 63, 55]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 289, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 289, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 289, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 289, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 289, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 289, local model 45, internal_epoch   6,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 21.86006465584703.
Norm before scaling: 21.648724369941597. Distance: 0.36601337444382964
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 1.2948, Accuracy: 5849/10000 (58.4900%)
___Test Local_ResNet_18 poisoned: True, epoch: 289: Average loss: 0.0803, Accuracy: 8839/9000 (98.2111%)
Scaling by  100
Scaled Norm after poisoning: 29.742118753203975, distance: 36.601338213026786
Total norm for 1 adversaries is: 29.742118753203975. distance: 36.601338213026786
___Test Local_ResNet_18 poisoned: True, epoch: 289: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 289, local model 95, internal_epoch   1,  Average loss: 0.0169, Accuracy: 382/569 (67.1353%)
___Train Local_ResNet_18,  epoch 289, local model 95, internal_epoch   2,  Average loss: 0.0104, Accuracy: 439/569 (77.1529%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 7.6268, Accuracy: 1493/10000 (14.9300%)
___Train Local_ResNet_18,  epoch 289, local model 35, internal_epoch   1,  Average loss: 0.0124, Accuracy: 322/419 (76.8496%)
___Train Local_ResNet_18,  epoch 289, local model 35, internal_epoch   2,  Average loss: 0.0117, Accuracy: 322/419 (76.8496%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 35.8781, Accuracy: 1028/10000 (10.2800%)
___Train Local_ResNet_18,  epoch 289, local model 79, internal_epoch   1,  Average loss: 0.0105, Accuracy: 123/154 (79.8701%)
___Train Local_ResNet_18,  epoch 289, local model 79, internal_epoch   2,  Average loss: 0.0035, Accuracy: 149/154 (96.7532%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 2.5818, Accuracy: 3739/10000 (37.3900%)
___Train Local_ResNet_18,  epoch 289, local model 32, internal_epoch   1,  Average loss: 0.0137, Accuracy: 608/824 (73.7864%)
___Train Local_ResNet_18,  epoch 289, local model 32, internal_epoch   2,  Average loss: 0.0126, Accuracy: 608/824 (73.7864%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 5.7552, Accuracy: 2468/10000 (24.6800%)
___Train Local_ResNet_18,  epoch 289, local model 6, internal_epoch   1,  Average loss: 0.0140, Accuracy: 391/520 (75.1923%)
___Train Local_ResNet_18,  epoch 289, local model 6, internal_epoch   2,  Average loss: 0.0216, Accuracy: 343/520 (65.9615%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 95.8648, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   1,  Average loss: 0.0141, Accuracy: 233/318 (73.2704%)
___Train Local_ResNet_18,  epoch 289, local model 14, internal_epoch   2,  Average loss: 0.0041, Accuracy: 294/318 (92.4528%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 5.6158, Accuracy: 2146/10000 (21.4600%)
___Train Local_ResNet_18,  epoch 289, local model 69, internal_epoch   1,  Average loss: 0.0178, Accuracy: 148/216 (68.5185%)
___Train Local_ResNet_18,  epoch 289, local model 69, internal_epoch   2,  Average loss: 0.0069, Accuracy: 206/216 (95.3704%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 4.7009, Accuracy: 2331/10000 (23.3100%)
___Train Local_ResNet_18,  epoch 289, local model 63, internal_epoch   1,  Average loss: 0.0135, Accuracy: 537/752 (71.4096%)
___Train Local_ResNet_18,  epoch 289, local model 63, internal_epoch   2,  Average loss: 0.0129, Accuracy: 558/752 (74.2021%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 6.9029, Accuracy: 2753/10000 (27.5300%)
___Train Local_ResNet_18,  epoch 289, local model 55, internal_epoch   1,  Average loss: 0.0152, Accuracy: 224/299 (74.9164%)
___Train Local_ResNet_18,  epoch 289, local model 55, internal_epoch   2,  Average loss: 0.0052, Accuracy: 271/299 (90.6355%)
___Test Local_ResNet_18 poisoned: False, epoch: 289: Average loss: 11.3584, Accuracy: 1522/10000 (15.2200%)
time spent on training: 91.55852627754211
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 289: Average loss: 1.0925, Accuracy: 6300/10000 (63.0000%)
___Test Target_ResNet_18 poisoned: True, epoch: 289: Average loss: 0.1130, Accuracy: 8767/9000 (97.4111%)
Done in 127.0159764289856 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:290 choose agents : [45, 40, 70, 80, 9, 7, 25, 14, 18, 24]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 290, local model 45, internal_epoch   1,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 290, local model 45, internal_epoch   2,  Average loss: 0.0004, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 290, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 290, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 290, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 290, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 21.65888078131506.
Norm before scaling: 21.447157394459865. Distance: 0.4119999274686638
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.2335, Accuracy: 5952/10000 (59.5200%)
___Test Local_ResNet_18 poisoned: True, epoch: 290: Average loss: 0.0798, Accuracy: 8837/9000 (98.1889%)
Scaling by  100
Scaled Norm after poisoning: 35.1696606366464, distance: 41.199990400294695
Total norm for 1 adversaries is: 35.1696606366464. distance: 41.199990400294695
___Test Local_ResNet_18 poisoned: True, epoch: 290: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 290, local model 40, internal_epoch   1,  Average loss: 0.0191, Accuracy: 451/652 (69.1718%)
___Train Local_ResNet_18,  epoch 290, local model 40, internal_epoch   2,  Average loss: 0.0148, Accuracy: 468/652 (71.7791%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 11.0508, Accuracy: 1788/10000 (17.8800%)
___Train Local_ResNet_18,  epoch 290, local model 70, internal_epoch   1,  Average loss: 0.0135, Accuracy: 444/610 (72.7869%)
___Train Local_ResNet_18,  epoch 290, local model 70, internal_epoch   2,  Average loss: 0.0095, Accuracy: 495/610 (81.1475%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 8.2575, Accuracy: 1966/10000 (19.6600%)
___Train Local_ResNet_18,  epoch 290, local model 80, internal_epoch   1,  Average loss: 0.0136, Accuracy: 275/363 (75.7576%)
___Train Local_ResNet_18,  epoch 290, local model 80, internal_epoch   2,  Average loss: 0.0060, Accuracy: 323/363 (88.9807%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 4.4517, Accuracy: 3207/10000 (32.0700%)
___Train Local_ResNet_18,  epoch 290, local model 9, internal_epoch   1,  Average loss: 0.0126, Accuracy: 284/368 (77.1739%)
___Train Local_ResNet_18,  epoch 290, local model 9, internal_epoch   2,  Average loss: 0.0059, Accuracy: 321/368 (87.2283%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 10.4625, Accuracy: 1409/10000 (14.0900%)
___Train Local_ResNet_18,  epoch 290, local model 7, internal_epoch   1,  Average loss: 0.0144, Accuracy: 251/352 (71.3068%)
___Train Local_ResNet_18,  epoch 290, local model 7, internal_epoch   2,  Average loss: 0.0052, Accuracy: 324/352 (92.0455%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 3.2025, Accuracy: 3423/10000 (34.2300%)
___Train Local_ResNet_18,  epoch 290, local model 25, internal_epoch   1,  Average loss: 0.0129, Accuracy: 424/545 (77.7982%)
___Train Local_ResNet_18,  epoch 290, local model 25, internal_epoch   2,  Average loss: 0.0104, Accuracy: 439/545 (80.5505%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 11.6498, Accuracy: 1642/10000 (16.4200%)
___Train Local_ResNet_18,  epoch 290, local model 14, internal_epoch   1,  Average loss: 0.0131, Accuracy: 232/318 (72.9560%)
___Train Local_ResNet_18,  epoch 290, local model 14, internal_epoch   2,  Average loss: 0.0042, Accuracy: 295/318 (92.7673%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 6.1798, Accuracy: 2467/10000 (24.6700%)
___Train Local_ResNet_18,  epoch 290, local model 18, internal_epoch   1,  Average loss: 0.0160, Accuracy: 284/386 (73.5751%)
___Train Local_ResNet_18,  epoch 290, local model 18, internal_epoch   2,  Average loss: 0.0206, Accuracy: 270/386 (69.9482%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 178.5820, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 290, local model 24, internal_epoch   1,  Average loss: 0.0119, Accuracy: 251/320 (78.4375%)
___Train Local_ResNet_18,  epoch 290, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 303/320 (94.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 290: Average loss: 5.6737, Accuracy: 1857/10000 (18.5700%)
time spent on training: 82.77030324935913
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 290: Average loss: 1.0479, Accuracy: 6376/10000 (63.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 290: Average loss: 0.0938, Accuracy: 8800/9000 (97.7778%)
Done in 114.2511420249939 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:291 choose agents : [45, 69, 96, 70, 0, 19, 90, 60, 8, 3]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 291, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 291, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 291, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 291, local model 45, internal_epoch   4,  Average loss: 0.0003, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 291, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 291, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 21.453857587182164.
Norm before scaling: 21.25694897295169. Distance: 0.6530140157337516
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 1.3089, Accuracy: 5698/10000 (56.9800%)
___Test Local_ResNet_18 poisoned: True, epoch: 291: Average loss: 0.1154, Accuracy: 8758/9000 (97.3111%)
Scaling by  100
Scaled Norm after poisoning: 61.97486023204288, distance: 65.3014120372791
Total norm for 1 adversaries is: 61.97486023204288. distance: 65.3014120372791
___Test Local_ResNet_18 poisoned: True, epoch: 291: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 291, local model 69, internal_epoch   1,  Average loss: 0.0163, Accuracy: 157/216 (72.6852%)
___Train Local_ResNet_18,  epoch 291, local model 69, internal_epoch   2,  Average loss: 0.0050, Accuracy: 201/216 (93.0556%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.5645, Accuracy: 3187/10000 (31.8700%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   1,  Average loss: 0.0180, Accuracy: 494/708 (69.7740%)
___Train Local_ResNet_18,  epoch 291, local model 96, internal_epoch   2,  Average loss: 0.0245, Accuracy: 352/708 (49.7175%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 19.6821, Accuracy: 1117/10000 (11.1700%)
___Train Local_ResNet_18,  epoch 291, local model 70, internal_epoch   1,  Average loss: 0.0125, Accuracy: 475/610 (77.8689%)
___Train Local_ResNet_18,  epoch 291, local model 70, internal_epoch   2,  Average loss: 0.0097, Accuracy: 482/610 (79.0164%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 6.9873, Accuracy: 2445/10000 (24.4500%)
___Train Local_ResNet_18,  epoch 291, local model 0, internal_epoch   1,  Average loss: 0.0169, Accuracy: 231/367 (62.9428%)
___Train Local_ResNet_18,  epoch 291, local model 0, internal_epoch   2,  Average loss: 0.0091, Accuracy: 303/367 (82.5613%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.2877, Accuracy: 2177/10000 (21.7700%)
___Train Local_ResNet_18,  epoch 291, local model 19, internal_epoch   1,  Average loss: 0.0222, Accuracy: 102/173 (58.9595%)
___Train Local_ResNet_18,  epoch 291, local model 19, internal_epoch   2,  Average loss: 0.0037, Accuracy: 162/173 (93.6416%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 8.4694, Accuracy: 1979/10000 (19.7900%)
___Train Local_ResNet_18,  epoch 291, local model 90, internal_epoch   1,  Average loss: 0.0142, Accuracy: 428/578 (74.0484%)
___Train Local_ResNet_18,  epoch 291, local model 90, internal_epoch   2,  Average loss: 0.0153, Accuracy: 462/578 (79.9308%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 34.3984, Accuracy: 1400/10000 (14.0000%)
___Train Local_ResNet_18,  epoch 291, local model 60, internal_epoch   1,  Average loss: 0.0147, Accuracy: 203/284 (71.4789%)
___Train Local_ResNet_18,  epoch 291, local model 60, internal_epoch   2,  Average loss: 0.0059, Accuracy: 254/284 (89.4366%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 5.2924, Accuracy: 1974/10000 (19.7400%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   1,  Average loss: 0.0158, Accuracy: 372/534 (69.6629%)
___Train Local_ResNet_18,  epoch 291, local model 8, internal_epoch   2,  Average loss: 0.0097, Accuracy: 438/534 (82.0225%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 3.8221, Accuracy: 2107/10000 (21.0700%)
___Train Local_ResNet_18,  epoch 291, local model 3, internal_epoch   1,  Average loss: 0.0136, Accuracy: 576/780 (73.8462%)
___Train Local_ResNet_18,  epoch 291, local model 3, internal_epoch   2,  Average loss: 0.0122, Accuracy: 598/780 (76.6667%)
___Test Local_ResNet_18 poisoned: False, epoch: 291: Average loss: 6.8841, Accuracy: 2416/10000 (24.1600%)
time spent on training: 87.86661839485168
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 291: Average loss: 1.1552, Accuracy: 6040/10000 (60.4000%)
___Test Target_ResNet_18 poisoned: True, epoch: 291: Average loss: 0.1309, Accuracy: 8713/9000 (96.8111%)
Done in 114.53373289108276 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:292 choose agents : [45, 3, 47, 93, 92, 76, 39, 83, 33, 41]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 292, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 292, local model 45, internal_epoch   2,  Average loss: 0.0004, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 292, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 292, local model 45, internal_epoch   4,  Average loss: 0.0002, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 292, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 292, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 21.266717774779195.
Norm before scaling: 21.058864381608252. Distance: 0.3944978227712409
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.1923, Accuracy: 6034/10000 (60.3400%)
___Test Local_ResNet_18 poisoned: True, epoch: 292: Average loss: 0.0796, Accuracy: 8825/9000 (98.0556%)
Scaling by  100
Scaled Norm after poisoning: 33.365254897497785, distance: 39.449781727156775
Total norm for 1 adversaries is: 33.365254897497785. distance: 39.449781727156775
___Test Local_ResNet_18 poisoned: True, epoch: 292: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 292, local model 3, internal_epoch   1,  Average loss: 0.0160, Accuracy: 570/780 (73.0769%)
___Train Local_ResNet_18,  epoch 292, local model 3, internal_epoch   2,  Average loss: 0.0207, Accuracy: 465/780 (59.6154%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 34.5743, Accuracy: 1035/10000 (10.3500%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   1,  Average loss: 0.0164, Accuracy: 472/654 (72.1713%)
___Train Local_ResNet_18,  epoch 292, local model 47, internal_epoch   2,  Average loss: 0.0145, Accuracy: 477/654 (72.9358%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 3.6146, Accuracy: 3168/10000 (31.6800%)
___Train Local_ResNet_18,  epoch 292, local model 93, internal_epoch   1,  Average loss: 0.0130, Accuracy: 430/584 (73.6301%)
___Train Local_ResNet_18,  epoch 292, local model 93, internal_epoch   2,  Average loss: 0.0123, Accuracy: 450/584 (77.0548%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 31.5220, Accuracy: 1011/10000 (10.1100%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   1,  Average loss: 0.0137, Accuracy: 587/796 (73.7437%)
___Train Local_ResNet_18,  epoch 292, local model 92, internal_epoch   2,  Average loss: 0.0129, Accuracy: 572/796 (71.8593%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 5.6688, Accuracy: 2154/10000 (21.5400%)
___Train Local_ResNet_18,  epoch 292, local model 76, internal_epoch   1,  Average loss: 0.0504, Accuracy: 44/65 (67.6923%)
___Train Local_ResNet_18,  epoch 292, local model 76, internal_epoch   2,  Average loss: 0.0414, Accuracy: 62/65 (95.3846%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.8674, Accuracy: 3246/10000 (32.4600%)
___Train Local_ResNet_18,  epoch 292, local model 39, internal_epoch   1,  Average loss: 0.0192, Accuracy: 133/217 (61.2903%)
___Train Local_ResNet_18,  epoch 292, local model 39, internal_epoch   2,  Average loss: 0.0053, Accuracy: 201/217 (92.6267%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 5.8421, Accuracy: 1917/10000 (19.1700%)
___Train Local_ResNet_18,  epoch 292, local model 83, internal_epoch   1,  Average loss: 0.0137, Accuracy: 268/366 (73.2240%)
___Train Local_ResNet_18,  epoch 292, local model 83, internal_epoch   2,  Average loss: 0.0051, Accuracy: 341/366 (93.1694%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 2.4445, Accuracy: 3471/10000 (34.7100%)
___Train Local_ResNet_18,  epoch 292, local model 33, internal_epoch   1,  Average loss: 0.0157, Accuracy: 364/527 (69.0702%)
___Train Local_ResNet_18,  epoch 292, local model 33, internal_epoch   2,  Average loss: 0.0127, Accuracy: 379/527 (71.9165%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 7.4244, Accuracy: 2157/10000 (21.5700%)
___Train Local_ResNet_18,  epoch 292, local model 41, internal_epoch   1,  Average loss: 0.0305, Accuracy: 338/513 (65.8869%)
___Train Local_ResNet_18,  epoch 292, local model 41, internal_epoch   2,  Average loss: 0.0253, Accuracy: 328/513 (63.9376%)
___Test Local_ResNet_18 poisoned: False, epoch: 292: Average loss: 30.1488, Accuracy: 1045/10000 (10.4500%)
time spent on training: 80.64184236526489
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 292: Average loss: 1.0965, Accuracy: 6175/10000 (61.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 292: Average loss: 0.1144, Accuracy: 8751/9000 (97.2333%)
Done in 111.45695757865906 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:293 choose agents : [45, 71, 60, 25, 41, 69, 59, 85, 21, 48]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 293, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 293, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 293, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 293, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 293, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 293, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Global model norm: 21.06853020710962.
Norm before scaling: 20.86598897367698. Distance: 0.30783600063946315
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.2439, Accuracy: 5937/10000 (59.3700%)
___Test Local_ResNet_18 poisoned: True, epoch: 293: Average loss: 0.0755, Accuracy: 8850/9000 (98.3333%)
Scaling by  100
Scaled Norm after poisoning: 23.080075397864146, distance: 30.78359861756998
Total norm for 1 adversaries is: 23.080075397864146. distance: 30.78359861756998
___Test Local_ResNet_18 poisoned: True, epoch: 293: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 293, local model 71, internal_epoch   1,  Average loss: 0.0148, Accuracy: 816/1166 (69.9828%)
___Train Local_ResNet_18,  epoch 293, local model 71, internal_epoch   2,  Average loss: 0.0140, Accuracy: 845/1166 (72.4700%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 3.5619, Accuracy: 1678/10000 (16.7800%)
___Train Local_ResNet_18,  epoch 293, local model 60, internal_epoch   1,  Average loss: 0.0119, Accuracy: 212/284 (74.6479%)
___Train Local_ResNet_18,  epoch 293, local model 60, internal_epoch   2,  Average loss: 0.0044, Accuracy: 267/284 (94.0141%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.7478, Accuracy: 3658/10000 (36.5800%)
___Train Local_ResNet_18,  epoch 293, local model 25, internal_epoch   1,  Average loss: 0.0140, Accuracy: 418/545 (76.6972%)
___Train Local_ResNet_18,  epoch 293, local model 25, internal_epoch   2,  Average loss: 0.0097, Accuracy: 451/545 (82.7523%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 16.0370, Accuracy: 1519/10000 (15.1900%)
___Train Local_ResNet_18,  epoch 293, local model 41, internal_epoch   1,  Average loss: 0.0174, Accuracy: 351/513 (68.4211%)
___Train Local_ResNet_18,  epoch 293, local model 41, internal_epoch   2,  Average loss: 0.0129, Accuracy: 406/513 (79.1423%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 34.0932, Accuracy: 1005/10000 (10.0500%)
___Train Local_ResNet_18,  epoch 293, local model 69, internal_epoch   1,  Average loss: 0.0148, Accuracy: 154/216 (71.2963%)
___Train Local_ResNet_18,  epoch 293, local model 69, internal_epoch   2,  Average loss: 0.0055, Accuracy: 200/216 (92.5926%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 5.0928, Accuracy: 2104/10000 (21.0400%)
___Train Local_ResNet_18,  epoch 293, local model 59, internal_epoch   1,  Average loss: 0.0116, Accuracy: 499/642 (77.7259%)
___Train Local_ResNet_18,  epoch 293, local model 59, internal_epoch   2,  Average loss: 0.0139, Accuracy: 514/642 (80.0623%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 119.8051, Accuracy: 1035/10000 (10.3500%)
___Train Local_ResNet_18,  epoch 293, local model 85, internal_epoch   1,  Average loss: 0.0214, Accuracy: 207/364 (56.8681%)
___Train Local_ResNet_18,  epoch 293, local model 85, internal_epoch   2,  Average loss: 0.0097, Accuracy: 284/364 (78.0220%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 8.5569, Accuracy: 1424/10000 (14.2400%)
___Train Local_ResNet_18,  epoch 293, local model 21, internal_epoch   1,  Average loss: 0.0139, Accuracy: 195/262 (74.4275%)
___Train Local_ResNet_18,  epoch 293, local model 21, internal_epoch   2,  Average loss: 0.0070, Accuracy: 229/262 (87.4046%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 24.0060, Accuracy: 1391/10000 (13.9100%)
___Train Local_ResNet_18,  epoch 293, local model 48, internal_epoch   1,  Average loss: 0.0132, Accuracy: 275/378 (72.7513%)
___Train Local_ResNet_18,  epoch 293, local model 48, internal_epoch   2,  Average loss: 0.0061, Accuracy: 333/378 (88.0952%)
___Test Local_ResNet_18 poisoned: False, epoch: 293: Average loss: 2.8675, Accuracy: 3333/10000 (33.3300%)
time spent on training: 79.93467092514038
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 293: Average loss: 1.0969, Accuracy: 6218/10000 (62.1800%)
___Test Target_ResNet_18 poisoned: True, epoch: 293: Average loss: 0.0800, Accuracy: 8836/9000 (98.1778%)
Done in 113.2097065448761 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:294 choose agents : [45, 18, 44, 65, 46, 82, 79, 17, 54, 38]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 294, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 294, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 294, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 294, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 294, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 294, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 20.874944446969494.
Norm before scaling: 20.674457599208846. Distance: 0.3565549081032586
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.1966, Accuracy: 6072/10000 (60.7200%)
___Test Local_ResNet_18 poisoned: True, epoch: 294: Average loss: 0.0765, Accuracy: 8846/9000 (98.2889%)
Scaling by  100
Scaled Norm after poisoning: 29.348693756201698, distance: 35.655488255995564
Total norm for 1 adversaries is: 29.348693756201698. distance: 35.655488255995564
___Test Local_ResNet_18 poisoned: True, epoch: 294: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 294, local model 18, internal_epoch   1,  Average loss: 0.0127, Accuracy: 308/386 (79.7927%)
___Train Local_ResNet_18,  epoch 294, local model 18, internal_epoch   2,  Average loss: 0.0293, Accuracy: 193/386 (50.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 3919.7157, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 294, local model 44, internal_epoch   1,  Average loss: 0.0123, Accuracy: 323/436 (74.0826%)
___Train Local_ResNet_18,  epoch 294, local model 44, internal_epoch   2,  Average loss: 0.0049, Accuracy: 395/436 (90.5963%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.6140, Accuracy: 5192/10000 (51.9200%)
___Train Local_ResNet_18,  epoch 294, local model 65, internal_epoch   1,  Average loss: 0.0120, Accuracy: 247/314 (78.6624%)
___Train Local_ResNet_18,  epoch 294, local model 65, internal_epoch   2,  Average loss: 0.0049, Accuracy: 287/314 (91.4013%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 3.8418, Accuracy: 2348/10000 (23.4800%)
___Train Local_ResNet_18,  epoch 294, local model 46, internal_epoch   1,  Average loss: 0.0140, Accuracy: 431/601 (71.7138%)
___Train Local_ResNet_18,  epoch 294, local model 46, internal_epoch   2,  Average loss: 0.0153, Accuracy: 413/601 (68.7188%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 5.6609, Accuracy: 2128/10000 (21.2800%)
___Train Local_ResNet_18,  epoch 294, local model 82, internal_epoch   1,  Average loss: 0.0128, Accuracy: 461/601 (76.7055%)
___Train Local_ResNet_18,  epoch 294, local model 82, internal_epoch   2,  Average loss: 0.0096, Accuracy: 498/601 (82.8619%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 8.4625, Accuracy: 1487/10000 (14.8700%)
___Train Local_ResNet_18,  epoch 294, local model 79, internal_epoch   1,  Average loss: 0.0095, Accuracy: 126/154 (81.8182%)
___Train Local_ResNet_18,  epoch 294, local model 79, internal_epoch   2,  Average loss: 0.0026, Accuracy: 150/154 (97.4026%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 4.6353, Accuracy: 2420/10000 (24.2000%)
___Train Local_ResNet_18,  epoch 294, local model 17, internal_epoch   1,  Average loss: 0.0147, Accuracy: 402/526 (76.4259%)
___Train Local_ResNet_18,  epoch 294, local model 17, internal_epoch   2,  Average loss: 0.0133, Accuracy: 384/526 (73.0038%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 7.6205, Accuracy: 1467/10000 (14.6700%)
___Train Local_ResNet_18,  epoch 294, local model 54, internal_epoch   1,  Average loss: 0.0141, Accuracy: 324/440 (73.6364%)
___Train Local_ResNet_18,  epoch 294, local model 54, internal_epoch   2,  Average loss: 0.0068, Accuracy: 375/440 (85.2273%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 7.1613, Accuracy: 1521/10000 (15.2100%)
___Train Local_ResNet_18,  epoch 294, local model 38, internal_epoch   1,  Average loss: 0.0146, Accuracy: 535/756 (70.7672%)
___Train Local_ResNet_18,  epoch 294, local model 38, internal_epoch   2,  Average loss: 0.0125, Accuracy: 577/756 (76.3228%)
___Test Local_ResNet_18 poisoned: False, epoch: 294: Average loss: 39.0804, Accuracy: 1003/10000 (10.0300%)
time spent on training: 88.0362594127655
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 294: Average loss: 1.0940, Accuracy: 6307/10000 (63.0700%)
___Test Target_ResNet_18 poisoned: True, epoch: 294: Average loss: 0.1147, Accuracy: 8779/9000 (97.5444%)
Done in 123.68893432617188 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:295 choose agents : [45, 92, 16, 53, 19, 10, 55, 70, 83, 1]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 295, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 295, local model 45, internal_epoch   2,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 295, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 295, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 295, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 295, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 20.69118095910482.
Norm before scaling: 20.49776539602473. Distance: 0.4343162908604101
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 1.0512, Accuracy: 6501/10000 (65.0100%)
___Test Local_ResNet_18 poisoned: True, epoch: 295: Average loss: 0.0962, Accuracy: 8811/9000 (97.9000%)
Scaling by  100
Scaled Norm after poisoning: 38.71570275286808, distance: 43.43162898722974
Total norm for 1 adversaries is: 38.71570275286808. distance: 43.43162898722974
___Test Local_ResNet_18 poisoned: True, epoch: 295: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 295, local model 92, internal_epoch   1,  Average loss: 0.0146, Accuracy: 591/796 (74.2462%)
___Train Local_ResNet_18,  epoch 295, local model 92, internal_epoch   2,  Average loss: 0.0141, Accuracy: 548/796 (68.8442%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 20.3287, Accuracy: 1011/10000 (10.1100%)
___Train Local_ResNet_18,  epoch 295, local model 16, internal_epoch   1,  Average loss: 0.0165, Accuracy: 541/773 (69.9871%)
___Train Local_ResNet_18,  epoch 295, local model 16, internal_epoch   2,  Average loss: 0.0201, Accuracy: 463/773 (59.8965%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 23.8007, Accuracy: 1633/10000 (16.3300%)
___Train Local_ResNet_18,  epoch 295, local model 53, internal_epoch   1,  Average loss: 0.0148, Accuracy: 439/625 (70.2400%)
___Train Local_ResNet_18,  epoch 295, local model 53, internal_epoch   2,  Average loss: 0.0117, Accuracy: 478/625 (76.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 10.9397, Accuracy: 2028/10000 (20.2800%)
___Train Local_ResNet_18,  epoch 295, local model 19, internal_epoch   1,  Average loss: 0.0219, Accuracy: 100/173 (57.8035%)
___Train Local_ResNet_18,  epoch 295, local model 19, internal_epoch   2,  Average loss: 0.0035, Accuracy: 163/173 (94.2197%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 7.1791, Accuracy: 2116/10000 (21.1600%)
___Train Local_ResNet_18,  epoch 295, local model 10, internal_epoch   1,  Average loss: 0.0105, Accuracy: 609/752 (80.9840%)
___Train Local_ResNet_18,  epoch 295, local model 10, internal_epoch   2,  Average loss: 0.0072, Accuracy: 644/752 (85.6383%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 7.5142, Accuracy: 1908/10000 (19.0800%)
___Train Local_ResNet_18,  epoch 295, local model 55, internal_epoch   1,  Average loss: 0.0123, Accuracy: 234/299 (78.2609%)
___Train Local_ResNet_18,  epoch 295, local model 55, internal_epoch   2,  Average loss: 0.0056, Accuracy: 271/299 (90.6355%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 4.8531, Accuracy: 2668/10000 (26.6800%)
___Train Local_ResNet_18,  epoch 295, local model 70, internal_epoch   1,  Average loss: 0.0120, Accuracy: 462/610 (75.7377%)
___Train Local_ResNet_18,  epoch 295, local model 70, internal_epoch   2,  Average loss: 0.0075, Accuracy: 522/610 (85.5738%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 21.5149, Accuracy: 1195/10000 (11.9500%)
___Train Local_ResNet_18,  epoch 295, local model 83, internal_epoch   1,  Average loss: 0.0108, Accuracy: 283/366 (77.3224%)
___Train Local_ResNet_18,  epoch 295, local model 83, internal_epoch   2,  Average loss: 0.0042, Accuracy: 343/366 (93.7158%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 2.5271, Accuracy: 3951/10000 (39.5100%)
___Train Local_ResNet_18,  epoch 295, local model 1, internal_epoch   1,  Average loss: 0.0173, Accuracy: 464/641 (72.3869%)
___Train Local_ResNet_18,  epoch 295, local model 1, internal_epoch   2,  Average loss: 0.0175, Accuracy: 447/641 (69.7348%)
___Test Local_ResNet_18 poisoned: False, epoch: 295: Average loss: 12.0202, Accuracy: 2385/10000 (23.8500%)
time spent on training: 88.45720791816711
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 295: Average loss: 0.9653, Accuracy: 6728/10000 (67.2800%)
___Test Target_ResNet_18 poisoned: True, epoch: 295: Average loss: 0.1583, Accuracy: 8712/9000 (96.8000%)
Done in 122.9825508594513 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:296 choose agents : [45, 96, 5, 77, 39, 24, 97, 29, 19, 55]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 296, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 296, local model 45, internal_epoch   2,  Average loss: 0.0003, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 296, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 296, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 296, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 296, local model 45, internal_epoch   6,  Average loss: 0.0006, Accuracy: 526/529 (99.4329%), train_poison_data_count: 45
Global model norm: 20.51581242774247.
Norm before scaling: 20.332310051522676. Distance: 0.6734410597846524
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.4368, Accuracy: 5307/10000 (53.0700%)
___Test Local_ResNet_18 poisoned: True, epoch: 296: Average loss: 0.0804, Accuracy: 8822/9000 (98.0222%)
Scaling by  100
Scaled Norm after poisoning: 64.50733515703854, distance: 67.34411615329694
Total norm for 1 adversaries is: 64.50733515703854. distance: 67.34411615329694
___Test Local_ResNet_18 poisoned: True, epoch: 296: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   1,  Average loss: 0.0184, Accuracy: 488/708 (68.9266%)
___Train Local_ResNet_18,  epoch 296, local model 96, internal_epoch   2,  Average loss: 0.0192, Accuracy: 443/708 (62.5706%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 185.0419, Accuracy: 1000/10000 (10.0000%)
___Train Local_ResNet_18,  epoch 296, local model 5, internal_epoch   1,  Average loss: 0.0133, Accuracy: 266/365 (72.8767%)
___Train Local_ResNet_18,  epoch 296, local model 5, internal_epoch   2,  Average loss: 0.0062, Accuracy: 322/365 (88.2192%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 3.4757, Accuracy: 2801/10000 (28.0100%)
___Train Local_ResNet_18,  epoch 296, local model 77, internal_epoch   1,  Average loss: 0.0143, Accuracy: 344/496 (69.3548%)
___Train Local_ResNet_18,  epoch 296, local model 77, internal_epoch   2,  Average loss: 0.0100, Accuracy: 390/496 (78.6290%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 3.6855, Accuracy: 2659/10000 (26.5900%)
___Train Local_ResNet_18,  epoch 296, local model 39, internal_epoch   1,  Average loss: 0.0162, Accuracy: 154/217 (70.9677%)
___Train Local_ResNet_18,  epoch 296, local model 39, internal_epoch   2,  Average loss: 0.0041, Accuracy: 202/217 (93.0876%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 5.6911, Accuracy: 2094/10000 (20.9400%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   1,  Average loss: 0.0101, Accuracy: 260/320 (81.2500%)
___Train Local_ResNet_18,  epoch 296, local model 24, internal_epoch   2,  Average loss: 0.0024, Accuracy: 308/320 (96.2500%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 2.7910, Accuracy: 3387/10000 (33.8700%)
___Train Local_ResNet_18,  epoch 296, local model 97, internal_epoch   1,  Average loss: 0.0130, Accuracy: 327/418 (78.2297%)
___Train Local_ResNet_18,  epoch 296, local model 97, internal_epoch   2,  Average loss: 0.0082, Accuracy: 352/418 (84.2105%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 11.2217, Accuracy: 2157/10000 (21.5700%)
___Train Local_ResNet_18,  epoch 296, local model 29, internal_epoch   1,  Average loss: 0.0127, Accuracy: 662/848 (78.0660%)
___Train Local_ResNet_18,  epoch 296, local model 29, internal_epoch   2,  Average loss: 0.0099, Accuracy: 679/848 (80.0708%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 49.5154, Accuracy: 1006/10000 (10.0600%)
___Train Local_ResNet_18,  epoch 296, local model 19, internal_epoch   1,  Average loss: 0.0199, Accuracy: 108/173 (62.4277%)
___Train Local_ResNet_18,  epoch 296, local model 19, internal_epoch   2,  Average loss: 0.0028, Accuracy: 170/173 (98.2659%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 8.6851, Accuracy: 2001/10000 (20.0100%)
___Train Local_ResNet_18,  epoch 296, local model 55, internal_epoch   1,  Average loss: 0.0129, Accuracy: 228/299 (76.2542%)
___Train Local_ResNet_18,  epoch 296, local model 55, internal_epoch   2,  Average loss: 0.0030, Accuracy: 280/299 (93.6455%)
___Test Local_ResNet_18 poisoned: False, epoch: 296: Average loss: 5.8143, Accuracy: 2121/10000 (21.2100%)
time spent on training: 86.07118511199951
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 296: Average loss: 1.2085, Accuracy: 5837/10000 (58.3700%)
___Test Target_ResNet_18 poisoned: True, epoch: 296: Average loss: 0.0904, Accuracy: 8801/9000 (97.7889%)
Done in 114.35381531715393 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:297 choose agents : [45, 8, 84, 62, 11, 39, 63, 13, 12, 89]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 297, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 297, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 297, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 297, local model 45, internal_epoch   4,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 297, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 297, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 20.343692246221785.
Norm before scaling: 20.155732945160803. Distance: 0.3406410401618541
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.2006, Accuracy: 6036/10000 (60.3600%)
___Test Local_ResNet_18 poisoned: True, epoch: 297: Average loss: 0.0894, Accuracy: 8820/9000 (98.0000%)
Scaling by  100
Scaled Norm after poisoning: 28.308931980610158, distance: 34.064103674978554
Total norm for 1 adversaries is: 28.308931980610158. distance: 34.064103674978554
___Test Local_ResNet_18 poisoned: True, epoch: 297: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   1,  Average loss: 0.0135, Accuracy: 387/534 (72.4719%)
___Train Local_ResNet_18,  epoch 297, local model 8, internal_epoch   2,  Average loss: 0.0124, Accuracy: 403/534 (75.4682%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 8.9154, Accuracy: 1428/10000 (14.2800%)
___Train Local_ResNet_18,  epoch 297, local model 84, internal_epoch   1,  Average loss: 0.0142, Accuracy: 758/1053 (71.9848%)
___Train Local_ResNet_18,  epoch 297, local model 84, internal_epoch   2,  Average loss: 0.0162, Accuracy: 697/1053 (66.1918%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 17.6091, Accuracy: 1048/10000 (10.4800%)
___Train Local_ResNet_18,  epoch 297, local model 62, internal_epoch   1,  Average loss: 0.0138, Accuracy: 261/358 (72.9050%)
___Train Local_ResNet_18,  epoch 297, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 317/358 (88.5475%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 2.6839, Accuracy: 3115/10000 (31.1500%)
___Train Local_ResNet_18,  epoch 297, local model 11, internal_epoch   1,  Average loss: 0.0159, Accuracy: 372/546 (68.1319%)
___Train Local_ResNet_18,  epoch 297, local model 11, internal_epoch   2,  Average loss: 0.0170, Accuracy: 363/546 (66.4835%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 24.9635, Accuracy: 1034/10000 (10.3400%)
___Train Local_ResNet_18,  epoch 297, local model 39, internal_epoch   1,  Average loss: 0.0163, Accuracy: 152/217 (70.0461%)
___Train Local_ResNet_18,  epoch 297, local model 39, internal_epoch   2,  Average loss: 0.0061, Accuracy: 199/217 (91.7051%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 5.6795, Accuracy: 1710/10000 (17.1000%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   1,  Average loss: 0.0145, Accuracy: 544/752 (72.3404%)
___Train Local_ResNet_18,  epoch 297, local model 63, internal_epoch   2,  Average loss: 0.0131, Accuracy: 551/752 (73.2713%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 9.9946, Accuracy: 1969/10000 (19.6900%)
___Train Local_ResNet_18,  epoch 297, local model 13, internal_epoch   1,  Average loss: 0.0134, Accuracy: 467/620 (75.3226%)
___Train Local_ResNet_18,  epoch 297, local model 13, internal_epoch   2,  Average loss: 0.0106, Accuracy: 501/620 (80.8065%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 11.8022, Accuracy: 1591/10000 (15.9100%)
___Train Local_ResNet_18,  epoch 297, local model 12, internal_epoch   1,  Average loss: 0.0162, Accuracy: 675/977 (69.0890%)
___Train Local_ResNet_18,  epoch 297, local model 12, internal_epoch   2,  Average loss: 0.0159, Accuracy: 653/977 (66.8373%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 9.3983, Accuracy: 1970/10000 (19.7000%)
___Train Local_ResNet_18,  epoch 297, local model 89, internal_epoch   1,  Average loss: 0.0139, Accuracy: 309/413 (74.8184%)
___Train Local_ResNet_18,  epoch 297, local model 89, internal_epoch   2,  Average loss: 0.0128, Accuracy: 323/413 (78.2082%)
___Test Local_ResNet_18 poisoned: False, epoch: 297: Average loss: 10.8847, Accuracy: 2503/10000 (25.0300%)
time spent on training: 88.07382106781006
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 297: Average loss: 1.0728, Accuracy: 6353/10000 (63.5300%)
___Test Target_ResNet_18 poisoned: True, epoch: 297: Average loss: 0.1272, Accuracy: 8743/9000 (97.1444%)
Done in 125.359135389328 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:298 choose agents : [45, 5, 31, 98, 72, 91, 14, 56, 97, 48]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 298, local model 45, internal_epoch   1,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 298, local model 45, internal_epoch   2,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 298, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 298, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 298, local model 45, internal_epoch   5,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 298, local model 45, internal_epoch   6,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 20.186529460996695.
Norm before scaling: 20.00163491242458. Distance: 0.522651794368985
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.2270, Accuracy: 6004/10000 (60.0400%)
___Test Local_ResNet_18 poisoned: True, epoch: 298: Average loss: 0.0839, Accuracy: 8830/9000 (98.1111%)
Scaling by  100
Scaled Norm after poisoning: 48.67004661493556, distance: 52.26517890317845
Total norm for 1 adversaries is: 48.67004661493556. distance: 52.26517890317845
___Test Local_ResNet_18 poisoned: True, epoch: 298: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 298, local model 5, internal_epoch   1,  Average loss: 0.0122, Accuracy: 273/365 (74.7945%)
___Train Local_ResNet_18,  epoch 298, local model 5, internal_epoch   2,  Average loss: 0.0068, Accuracy: 319/365 (87.3973%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 4.5543, Accuracy: 2424/10000 (24.2400%)
___Train Local_ResNet_18,  epoch 298, local model 31, internal_epoch   1,  Average loss: 0.0142, Accuracy: 504/706 (71.3881%)
___Train Local_ResNet_18,  epoch 298, local model 31, internal_epoch   2,  Average loss: 0.0178, Accuracy: 484/706 (68.5552%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 17.1176, Accuracy: 1785/10000 (17.8500%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   1,  Average loss: 0.0158, Accuracy: 547/802 (68.2045%)
___Train Local_ResNet_18,  epoch 298, local model 98, internal_epoch   2,  Average loss: 0.0173, Accuracy: 502/802 (62.5935%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 16.5297, Accuracy: 1435/10000 (14.3500%)
___Train Local_ResNet_18,  epoch 298, local model 72, internal_epoch   1,  Average loss: 0.0155, Accuracy: 441/618 (71.3592%)
___Train Local_ResNet_18,  epoch 298, local model 72, internal_epoch   2,  Average loss: 0.0114, Accuracy: 468/618 (75.7282%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 12.0009, Accuracy: 1864/10000 (18.6400%)
___Train Local_ResNet_18,  epoch 298, local model 91, internal_epoch   1,  Average loss: 0.0114, Accuracy: 185/234 (79.0598%)
___Train Local_ResNet_18,  epoch 298, local model 91, internal_epoch   2,  Average loss: 0.0028, Accuracy: 226/234 (96.5812%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 6.6967, Accuracy: 1489/10000 (14.8900%)
___Train Local_ResNet_18,  epoch 298, local model 14, internal_epoch   1,  Average loss: 0.0128, Accuracy: 231/318 (72.6415%)
___Train Local_ResNet_18,  epoch 298, local model 14, internal_epoch   2,  Average loss: 0.0046, Accuracy: 288/318 (90.5660%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 5.0171, Accuracy: 1863/10000 (18.6300%)
___Train Local_ResNet_18,  epoch 298, local model 56, internal_epoch   1,  Average loss: 0.0131, Accuracy: 549/743 (73.8896%)
___Train Local_ResNet_18,  epoch 298, local model 56, internal_epoch   2,  Average loss: 0.0115, Accuracy: 560/743 (75.3701%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 7.9264, Accuracy: 2197/10000 (21.9700%)
___Train Local_ResNet_18,  epoch 298, local model 97, internal_epoch   1,  Average loss: 0.0131, Accuracy: 316/418 (75.5981%)
___Train Local_ResNet_18,  epoch 298, local model 97, internal_epoch   2,  Average loss: 0.0057, Accuracy: 373/418 (89.2344%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.5740, Accuracy: 3383/10000 (33.8300%)
___Train Local_ResNet_18,  epoch 298, local model 48, internal_epoch   1,  Average loss: 0.0133, Accuracy: 281/378 (74.3386%)
___Train Local_ResNet_18,  epoch 298, local model 48, internal_epoch   2,  Average loss: 0.0085, Accuracy: 308/378 (81.4815%)
___Test Local_ResNet_18 poisoned: False, epoch: 298: Average loss: 3.3502, Accuracy: 3213/10000 (32.1300%)
time spent on training: 90.20026397705078
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 298: Average loss: 1.1162, Accuracy: 6232/10000 (62.3200%)
___Test Target_ResNet_18 poisoned: True, epoch: 298: Average loss: 0.0965, Accuracy: 8797/9000 (97.7444%)
Done in 123.03177428245544 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:299 choose agents : [45, 49, 25, 6, 8, 18, 36, 35, 31, 53]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 299, local model 45, internal_epoch   1,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 299, local model 45, internal_epoch   2,  Average loss: 0.0004, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 299, local model 45, internal_epoch   3,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 299, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 299, local model 45, internal_epoch   5,  Average loss: 0.0002, Accuracy: 528/529 (99.8110%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 299, local model 45, internal_epoch   6,  Average loss: 0.0000, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Global model norm: 20.021866098601112.
Norm before scaling: 19.833561914660116. Distance: 0.4587770358961913
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 1.1473, Accuracy: 6250/10000 (62.5000%)
___Test Local_ResNet_18 poisoned: True, epoch: 299: Average loss: 0.0711, Accuracy: 8850/9000 (98.3333%)
Scaling by  100
Scaled Norm after poisoning: 41.64246302228652, distance: 45.87770342851743
Total norm for 1 adversaries is: 41.64246302228652. distance: 45.87770342851743
___Test Local_ResNet_18 poisoned: True, epoch: 299: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 299, local model 49, internal_epoch   1,  Average loss: 0.0125, Accuracy: 330/426 (77.4648%)
___Train Local_ResNet_18,  epoch 299, local model 49, internal_epoch   2,  Average loss: 0.0074, Accuracy: 368/426 (86.3850%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.8448, Accuracy: 2836/10000 (28.3600%)
___Train Local_ResNet_18,  epoch 299, local model 25, internal_epoch   1,  Average loss: 0.0109, Accuracy: 427/545 (78.3486%)
___Train Local_ResNet_18,  epoch 299, local model 25, internal_epoch   2,  Average loss: 0.0086, Accuracy: 460/545 (84.4037%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 7.4544, Accuracy: 1636/10000 (16.3600%)
___Train Local_ResNet_18,  epoch 299, local model 6, internal_epoch   1,  Average loss: 0.0127, Accuracy: 395/520 (75.9615%)
___Train Local_ResNet_18,  epoch 299, local model 6, internal_epoch   2,  Average loss: 0.0154, Accuracy: 371/520 (71.3462%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 5.1884, Accuracy: 1641/10000 (16.4100%)
___Train Local_ResNet_18,  epoch 299, local model 8, internal_epoch   1,  Average loss: 0.0151, Accuracy: 387/534 (72.4719%)
___Train Local_ResNet_18,  epoch 299, local model 8, internal_epoch   2,  Average loss: 0.0147, Accuracy: 384/534 (71.9101%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 3.9558, Accuracy: 3321/10000 (33.2100%)
___Train Local_ResNet_18,  epoch 299, local model 18, internal_epoch   1,  Average loss: 0.0138, Accuracy: 301/386 (77.9793%)
___Train Local_ResNet_18,  epoch 299, local model 18, internal_epoch   2,  Average loss: 0.0190, Accuracy: 252/386 (65.2850%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 542.8672, Accuracy: 1004/10000 (10.0400%)
___Train Local_ResNet_18,  epoch 299, local model 36, internal_epoch   1,  Average loss: 0.0225, Accuracy: 466/849 (54.8881%)
___Train Local_ResNet_18,  epoch 299, local model 36, internal_epoch   2,  Average loss: 0.0218, Accuracy: 451/849 (53.1213%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 26.5559, Accuracy: 1044/10000 (10.4400%)
___Train Local_ResNet_18,  epoch 299, local model 35, internal_epoch   1,  Average loss: 0.0109, Accuracy: 332/419 (79.2363%)
___Train Local_ResNet_18,  epoch 299, local model 35, internal_epoch   2,  Average loss: 0.0087, Accuracy: 338/419 (80.6683%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 11.8747, Accuracy: 1768/10000 (17.6800%)
___Train Local_ResNet_18,  epoch 299, local model 31, internal_epoch   1,  Average loss: 0.0175, Accuracy: 501/706 (70.9632%)
___Train Local_ResNet_18,  epoch 299, local model 31, internal_epoch   2,  Average loss: 0.0198, Accuracy: 408/706 (57.7904%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 4.5922, Accuracy: 2550/10000 (25.5000%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   1,  Average loss: 0.0137, Accuracy: 451/625 (72.1600%)
___Train Local_ResNet_18,  epoch 299, local model 53, internal_epoch   2,  Average loss: 0.0104, Accuracy: 493/625 (78.8800%)
___Test Local_ResNet_18 poisoned: False, epoch: 299: Average loss: 9.3982, Accuracy: 2300/10000 (23.0000%)
time spent on training: 84.53856801986694
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 299: Average loss: 1.0345, Accuracy: 6438/10000 (64.3800%)
___Test Target_ResNet_18 poisoned: True, epoch: 299: Average loss: 0.1041, Accuracy: 8790/9000 (97.6667%)
Done in 120.11267685890198 sec.
----------------------------------Start one training epoch------------------------------------------
Server Epoch:300 choose agents : [45, 93, 47, 85, 18, 8, 15, 32, 69, 81]. Adversary List: [45]
poison local model 45 index 0 
--------------------Start poison_now -----------------------------
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 300, local model 45, internal_epoch   1,  Average loss: 0.0005, Accuracy: 525/529 (99.2439%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 300, local model 45, internal_epoch   2,  Average loss: 0.0001, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 300, local model 45, internal_epoch   3,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 300, local model 45, internal_epoch   4,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 300, local model 45, internal_epoch   5,  Average loss: 0.0001, Accuracy: 529/529 (100.0000%), train_poison_data_count: 45
Current lr: [0.05]
___PoisonTrain Local_ResNet_18 ,  epoch 300, local model 45, internal_epoch   6,  Average loss: 0.0004, Accuracy: 527/529 (99.6219%), train_poison_data_count: 45
Global model norm: 19.855676626272633.
Norm before scaling: 19.696249141006756. Distance: 0.9985657479746172
will scale.
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.2330, Accuracy: 5947/10000 (59.4700%)
___Test Local_ResNet_18 poisoned: True, epoch: 300: Average loss: 0.1387, Accuracy: 8708/9000 (96.7556%)
Scaling by  100
Scaled Norm after poisoning: 98.1596127249517, distance: 99.85658172630636
Total norm for 1 adversaries is: 98.1596127249517. distance: 99.85658172630636
___Test Local_ResNet_18 poisoned: True, epoch: 300: Average loss: nan, Accuracy: 0/9000 (0.0000%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   1,  Average loss: 0.0126, Accuracy: 466/584 (79.7945%)
___Train Local_ResNet_18,  epoch 300, local model 93, internal_epoch   2,  Average loss: 0.0190, Accuracy: 405/584 (69.3493%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 51.6677, Accuracy: 987/10000 (9.8700%)
___Train Local_ResNet_18,  epoch 300, local model 47, internal_epoch   1,  Average loss: 0.0151, Accuracy: 500/654 (76.4526%)
___Train Local_ResNet_18,  epoch 300, local model 47, internal_epoch   2,  Average loss: 0.0208, Accuracy: 388/654 (59.3272%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 31.1998, Accuracy: 1418/10000 (14.1800%)
___Train Local_ResNet_18,  epoch 300, local model 85, internal_epoch   1,  Average loss: 0.0206, Accuracy: 211/364 (57.9670%)
___Train Local_ResNet_18,  epoch 300, local model 85, internal_epoch   2,  Average loss: 0.0135, Accuracy: 260/364 (71.4286%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 7.1731, Accuracy: 1606/10000 (16.0600%)
___Train Local_ResNet_18,  epoch 300, local model 18, internal_epoch   1,  Average loss: 0.0156, Accuracy: 336/386 (87.0466%)
___Train Local_ResNet_18,  epoch 300, local model 18, internal_epoch   2,  Average loss: 0.0333, Accuracy: 148/386 (38.3420%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 374.1273, Accuracy: 1390/10000 (13.9000%)
___Train Local_ResNet_18,  epoch 300, local model 8, internal_epoch   1,  Average loss: 0.0126, Accuracy: 405/534 (75.8427%)
___Train Local_ResNet_18,  epoch 300, local model 8, internal_epoch   2,  Average loss: 0.0142, Accuracy: 373/534 (69.8502%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 6.8818, Accuracy: 2060/10000 (20.6000%)
___Train Local_ResNet_18,  epoch 300, local model 15, internal_epoch   1,  Average loss: 0.0178, Accuracy: 243/341 (71.2610%)
___Train Local_ResNet_18,  epoch 300, local model 15, internal_epoch   2,  Average loss: 0.0068, Accuracy: 298/341 (87.3900%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 4.3557, Accuracy: 2355/10000 (23.5500%)
___Train Local_ResNet_18,  epoch 300, local model 32, internal_epoch   1,  Average loss: 0.0143, Accuracy: 601/824 (72.9369%)
___Train Local_ResNet_18,  epoch 300, local model 32, internal_epoch   2,  Average loss: 0.0142, Accuracy: 572/824 (69.4175%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 6.5139, Accuracy: 2479/10000 (24.7900%)
___Train Local_ResNet_18,  epoch 300, local model 69, internal_epoch   1,  Average loss: 0.0153, Accuracy: 158/216 (73.1481%)
___Train Local_ResNet_18,  epoch 300, local model 69, internal_epoch   2,  Average loss: 0.0050, Accuracy: 196/216 (90.7407%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 4.6092, Accuracy: 2494/10000 (24.9400%)
___Train Local_ResNet_18,  epoch 300, local model 81, internal_epoch   1,  Average loss: 0.0171, Accuracy: 737/1034 (71.2766%)
___Train Local_ResNet_18,  epoch 300, local model 81, internal_epoch   2,  Average loss: 0.0184, Accuracy: 617/1034 (59.6712%)
___Test Local_ResNet_18 poisoned: False, epoch: 300: Average loss: 35.0604, Accuracy: 1003/10000 (10.0300%)
time spent on training: 78.61538648605347
----------------------------------End one training epoch------------------------------------------
___Test Target_ResNet_18 poisoned: False, epoch: 300: Average loss: 1.2946, Accuracy: 5590/10000 (55.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 300: Average loss: 0.1947, Accuracy: 8598/9000 (95.5333%)
Done in 105.78157496452332 sec.
Saving all the graphs.
This run has a label: Nov.13_04.17.27. Visdom environment: cifar
